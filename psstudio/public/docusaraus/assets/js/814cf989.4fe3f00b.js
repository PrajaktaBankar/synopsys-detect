"use strict";(self.webpackChunkpsdoc_temp=self.webpackChunkpsdoc_temp||[]).push([[79],{3905:function(e,t,a){a.d(t,{Zo:function(){return p},kt:function(){return u}});var n=a(7294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var c=n.createContext({}),d=function(e){var t=n.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},p=function(e){var t=d(e.components);return n.createElement(c.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,c=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),f=d(a),u=o,m=f["".concat(c,".").concat(u)]||f[u]||s[u]||r;return a?n.createElement(m,l(l({ref:t},p),{},{components:a})):n.createElement(m,l({ref:t},p))}));function u(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,l=new Array(r);l[0]=f;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:o,l[1]=i;for(var d=2;d<r;d++)l[d]=a[d];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}f.displayName="MDXCreateElement"},9311:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return i},contentTitle:function(){return c},metadata:function(){return d},toc:function(){return p},default:function(){return f}});var n=a(7462),o=a(3366),r=(a(7294),a(3905)),l=["components"],i={sidebar_position:3},c="Data flow",d={unversionedId:"Data-management/Dataflow",id:"Data-management/Dataflow",title:"Data flow",description:"What is data flow?",source:"@site/docs/Data-management/Dataflow.md",sourceDirName:"Data-management",slug:"/Data-management/Dataflow",permalink:"/help/docs/Data-management/Dataflow",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Data set",permalink:"/help/docs/Data-management/datasources"},next:{title:"EDA (Exploratory data analysis)",permalink:"/help/docs/EDA/EDA Operation"}},p=[{value:"What is data flow?",id:"what-is-data-flow",children:[{value:"Types of data flow",id:"types-of-data-flow",children:[],level:3},{value:"Data flow nodes",id:"data-flow-nodes",children:[],level:3}],level:2},{value:"Interceptor data flow",id:"interceptor-data-flow",children:[{value:"Steps to create and execute a interceptor data flow",id:"steps-to-create-and-execute-a-interceptor-data-flow",children:[],level:3},{value:"Python3-function code for interceptor flow",id:"python3-function-code-for-interceptor-flow",children:[],level:3}],level:2},{value:"Direct data flow",id:"direct-data-flow",children:[{value:"Steps to create and execute a direct data flow",id:"steps-to-create-and-execute-a-direct-data-flow",children:[],level:3},{value:"Python3-function code for direct flow",id:"python3-function-code-for-direct-flow",children:[],level:3}],level:2}],s={toc:p};function f(e){var t=e.components,i=(0,o.Z)(e,l);return(0,r.kt)("wrapper",(0,n.Z)({},s,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"data-flow"},"Data flow"),(0,r.kt)("h2",{id:"what-is-data-flow"},"What is data flow?"),(0,r.kt)("p",null,"Flow based tool for programming, used for fetching, transforming, and storing data in PredictSense. It can be used for creating the logical flow for any type of data. Data flow helps to process the unstructured file in to structured file."),(0,r.kt)("h3",{id:"types-of-data-flow"},"Types of data flow"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Interceptor data flow"),(0,r.kt)("li",{parentName:"ol"},"Direct data flow")),(0,r.kt)("h3",{id:"data-flow-nodes"},"Data flow nodes"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"ps_inject_node -")," It is mendatory to add to create any flow."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"ps_savedata -")," Savedata node will create a new file whenever the flow get executed."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"ps_appenddata -")," Appenddata node will create one processed file in dataset page and one downloadable file in data connection module. It will append the data in same file\nwhenever the flow get executed."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"python3-function -")," It is used to write the code as per the use case. below is sample code.")),(0,r.kt)("h2",{id:"interceptor-data-flow"},"Interceptor data flow"),(0,r.kt)("p",null,"You can attach a data flow to a data connection, so whenever the data connection is executed it will be passed through the data will generate the output. This type of flow is called as interceptor flow. After creating a connection, you can click on the data flow option to create a interceptor data flow."),(0,r.kt)("h3",{id:"steps-to-create-and-execute-a-interceptor-data-flow"},"Steps to create and execute a interceptor data flow"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Goto data->Data connection."),(0,r.kt)("li",{parentName:"ol"},"Create connection for any data source like URL, MSSQL, MySQL, PostgreSQL, Snowflake, Google Bigquery, SFTP, Amazon S3."),(0,r.kt)("li",{parentName:"ol"},"Click no  ",(0,r.kt)("img",{alt:"upload file.",src:a(719).Z})," button to create the interceptor flow. "),(0,r.kt)("li",{parentName:"ol"},"Drag and drop the necessary node to create the flow like ps_inject_node, ps_savedata, ps_appenddata and use python3-functon to write the code."),(0,r.kt)("li",{parentName:"ol"},"Connect the node like ",(0,r.kt)("strong",{parentName:"li"},"ps_inject_node->python3-function->ps_savedata")," (",(0,r.kt)("strong",{parentName:"li"},"for any flow the inject node is mandatory to add"),")."),(0,r.kt)("li",{parentName:"ol"},"Click on create button."),(0,r.kt)("li",{parentName:"ol"},"Execute the flow from data connection page. Click on source and it will open the popup window were you can start the flow execution by clicking on execute data flow\nbutton and you can see the saved data in dataset module.")),(0,r.kt)("h3",{id:"python3-function-code-for-interceptor-flow"},"Python3-function code for interceptor flow"),(0,r.kt)("p",null,"Refer the below added sample code to create the flow as per the use case. Below code is used for removing temperatureMax column from data and saving new file."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"  import pandas as pd\n  import json\n  df = pd.read_csv(msg['filePath'])\n  df.drop('temperatureMax',inplace = True, axis =1)\n  df = df.head(10)\n  json_data = df.head().to_dict()\n  msg['filePath']=(\"savedata.csv\")\n  msg['payload'] = json.dumps(df.to_dict(orient='records'))\n  print(msg)\n  return msg\n")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"upload file.",src:a(5121).Z})),(0,r.kt)("h2",{id:"direct-data-flow"},"Direct data flow"),(0,r.kt)("p",null,"Whenever we need to transform some data which is not coming from data connections we can use direct data flow."),(0,r.kt)("h3",{id:"steps-to-create-and-execute-a-direct-data-flow"},"Steps to create and execute a direct data flow"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Goto Data->Data Flow"),(0,r.kt)("li",{parentName:"ol"},"click on ",(0,r.kt)("strong",{parentName:"li"},"Create now")," or ",(0,r.kt)("strong",{parentName:"li"},"create")," button"),(0,r.kt)("li",{parentName:"ol"},"Enter the flow name, select folder and select scheduler"),(0,r.kt)("li",{parentName:"ol"},"click on ",(0,r.kt)("strong",{parentName:"li"},"Next")," button"),(0,r.kt)("li",{parentName:"ol"},"Drag and drop the necessary node to create the flow like ps_inject_node, ps_savedata, ps_appenddata and use python3-functon to write the code"),(0,r.kt)("li",{parentName:"ol"},"Connect the node like ",(0,r.kt)("strong",{parentName:"li"},"ps_inject_node->python3-function->ps_savedata")," (",(0,r.kt)("strong",{parentName:"li"},"for any flow the inject node is mandatory to add"),")"),(0,r.kt)("li",{parentName:"ol"},"Click on create button"),(0,r.kt)("li",{parentName:"ol"},"click on ",(0,r.kt)("strong",{parentName:"li"},"start data flow")," button. It will execute the flow and redirect to the dataset module")),(0,r.kt)("h3",{id:"python3-function-code-for-direct-flow"},"Python3-function code for direct flow"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"  import pandas as pd\n  import os\n  import json\n\n  path=os.path.join(msg['basedir'], \"upload-insurance-1660903464411.csv\")\n  df = pd.read_csv(path)\n  df = df.head(10)\n  msg['filePath']=(\"saveddatanode.csv\")\n  msg['payload'] = json.dumps(df.to_dict(orient='records'))\n  return msg\n")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"upload file.",src:a(5451).Z})))}f.isMDXComponent=!0},719:function(e,t){t.Z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAATCAIAAAAF0lpsAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB40lEQVQ4jWP8//8/AzUAE1VMGQiD/jG8Oj971uY7uFX8Jw78/L+lUlFC17Bw5R3sChjhgf1qY0bK9HvfGRmYGMSMkia1hwpBrXq8tLRg/oXvv9/efvThLyOPQEDV+r4IeXQHscBZf55eu3LrCQMDAwPDnftlCb/4FvS6CzF82tqQWLP2HiMDAwMDAyMDA8PXD/t3HnwfESeI02u/Hx/ZuWXHjm0bZ6fpKioqmrstvfTtzNRAVUVFRV3DwonbW6JUZJUUDQJrTr7F5jUsYfTv96XFpd2bX15dk6itqKiopp489ebvX/8Pdxhq+DViNwW7Qf/////7/+GuYiNFRUVV5ZD6E79hbsZhBi6D/v7/cKHVUUtBUVXerWDHveNTOtc9/f/r/+EJZpbRE69/I2zQ3x8/v/z48f3llVmBhioKqtL2sYvuPdwYb6msoGlfueBgd5KSjLK8ecTMe1jNQkT/s1nuru23vzNCooffKHv5omKNn4crojJW3PiOSLcsv+Tcp2+d7MuNFmlIKZvxO5T+x64dMHNmsQYnA4OAbcf8fg9Ftn8IZRyiwmLseFP2zw+vn716/ezVmycf0Rz/693L56/mFcpJqSr4Fu3AHm/EZpE//y8tjQkrX4cr9pHCiEIw+MojAMzsNFKzIwofAAAAAElFTkSuQmCC"},5451:function(e,t,a){t.Z=a.p+"assets/images/directflow-b1e490acabc28dff282b4de2429a69b1.gif"},5121:function(e,t,a){t.Z=a.p+"assets/images/interceptorflow-75e8a932d8ae5c6eece2c8ee08363ac5.gif"}}]);