(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{sdB8:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var a=i("AytR"),s=i("fXoL"),n=i("tk/3");let o=(()=>{class t{constructor(t){this._http=t,this.serverBaseUrl=a.a.serverBaseUrl}getPreviousTrainingDetails(t,e){return this._http.get(`${this.serverBaseUrl}/api/v2/projects/${t}/trainmodel?isEdaRequired=${e}`)}plotTargetGraph(t,e){return this._http.post(`${this.serverBaseUrl}/api/v2/projects/${t}/report/trainmodel/multiunivariate?target=true`,e)}getTargetDetails(t,e){return this._http.post(`${this.serverBaseUrl}/api/v2/projects/${t}/predictive/target_details`,e)}calculateFeatureScore(t,e){return this._http.post(`${this.serverBaseUrl}/api/v2/projects/${t}/predictive/calculate_feature_score`,e)}calculateSamplingPercentage(t,e){return this._http.post(`${this.serverBaseUrl}/api/v2/projects/${t}/training/sampling_percentage`,e)}findOptimalClusters(t,e){return this._http.post(`${this.serverBaseUrl}/api/v2/projects/${t}/clustering/visualize/optimise_clusters`,e)}getUniqueCategories(t){return this._http.post(this.serverBaseUrl+"/api/v2/training/feature/unique_categories",t)}startPredictiveTraining(t,e){return this._http.post(`${this.serverBaseUrl}/api/v2/projects/${t}/trainmodel`,e,{responseType:"text"})}startClusteringTraining(t,e){return this._http.post(`${this.serverBaseUrl}/api/v2/projects/${t}/clustering/trainmodel`,e,{responseType:"text"})}startTimeseriesTraining(t,e){return this._http.post(`${this.serverBaseUrl}/api/v2/projects/${t}/timeseries/trainmodel`,e,{responseType:"text"})}getVisualizeComponentPlot(t,e){return this._http.post(`${this.serverBaseUrl}/api/v2/projects/${t}/timeseries/visualize/component`,e)}startStationarityTest(t,e){return this._http.post(`${this.serverBaseUrl}/api/v2/projects/${t}/timeseries/stationarity_test`,e)}getAutoCorrelationGraph(t,e){return this._http.post(`${this.serverBaseUrl}/api/v2/projects/${t}/timeseries/visualize/autocorrelation`,e)}deleteTraining(t,e,i){return this._http.delete(`${this.serverBaseUrl}/api/v2/training/${t}?lastTraining=${i}&projectId=${e}`)}startReTraining(t,e,i){return this._http.post(`${this.serverBaseUrl}/api/v2/training/${t}/models/${e}/retrain`,i)}startModelTuning(t,e,i){return this._http.post(`${this.serverBaseUrl}/api/v2/training/${t}/model/${e}/tune`,i)}startAdvTraining(t,e,i){return this._http.post(`${this.serverBaseUrl}/api/v2/advtrainmodel/${t}/models/${e}`,i)}}return t.\u0275fac=function(e){return new(e||t)(s.Xb(n.b))},t.\u0275prov=s.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},svIC:function(t,e,i){"use strict";i.r(e),i.d(e,"EdaModule",(function(){return ga}));var a=i("mrSG"),s=i("3Pt+"),n=i("0IaG"),o=i("1G5W"),r=i("XNiG"),l=i("+0xr"),c=i("Dh3D"),u=i("fXoL"),d=i("2QPx"),m=i("mLz/"),p=i("5eHb"),h=i("dNgK"),b=i("/mf7"),g=i("kYjS"),f=i("4xDO"),S=i("ofXK"),T=i("bTqV"),v=i("kmnG"),y=i("d3UM"),C=i("QibW"),D=i("FKr1"),I=i("Qu3c"),w=i("bSwM"),k=i("qFsG"),B=i("cWTo");function O(t,e){1&t&&(u.Tb(0,"small"),u.Kc(1,"(Note: Preview of first 5 records only)"),u.Sb())}function F(t,e){if(1&t&&(u.Tb(0,"mat-option",19),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t.feature)("disabled",t.disabled),u.Bb(1),u.Lc(t.feature)}}function _(t,e){1&t&&(u.Tb(0,"mat-error"),u.Kc(1,"Feature(s) is required."),u.Sb())}function E(t,e){if(1&t&&(u.Tb(0,"mat-radio-button",21),u.Kc(1),u.Sb()),2&t){const t=e.$implicit,i=u.ec(3);u.kc("hidden","timeseries"!==i.project.type&&"Lineplot"===t)("value",t)("matTooltip",i._utils.getTootip(t)),u.Bb(1),u.Lc(t)}}function x(t,e){if(1&t&&(u.Tb(0,"div"),u.Ic(1,E,2,4,"mat-radio-button",20),u.Sb()),2&t){const t=u.ec(2);u.Bb(1),u.kc("ngForOf",t.graphTypesSelected)}}function M(t,e){if(1&t&&(u.Tb(0,"mat-radio-button",23),u.Kc(1),u.Sb()),2&t){const t=e.$implicit,i=u.ec(3);u.kc("value",t)("matTooltip",i._utils.getTootip(t)),u.Bb(1),u.Lc(t)}}function N(t,e){if(1&t&&(u.Tb(0,"div"),u.Ic(1,M,2,3,"mat-radio-button",22),u.Sb()),2&t){const t=u.ec(2);u.Bb(1),u.kc("ngForOf",t.graphTypesSelected)}}function P(t,e){if(1&t&&(u.Tb(0,"mat-radio-button",23),u.Kc(1),u.Sb()),2&t){const t=e.$implicit,i=u.ec(3);u.kc("value",t)("matTooltip",i._utils.getTootip(t)),u.Bb(1),u.Lc(t)}}function K(t,e){if(1&t&&(u.Tb(0,"div"),u.Ic(1,P,2,3,"mat-radio-button",22),u.Sb()),2&t){const t=u.ec(2);u.Bb(1),u.kc("ngForOf",t.graphTypesSelected)}}function j(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-checkbox",27),u.ac("ngModelChange",(function(e){return u.wc(t),u.ec(3).outlier=e})),u.Kc(1," Plot outliers "),u.Sb()}if(2&t){const t=u.ec(3);u.kc("ngModel",t.outlier)}}function U(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-checkbox",28),u.ac("ngModelChange",(function(e){return u.wc(t),u.ec(3).movingAverage=e})),u.Kc(1," Plot moving average "),u.Sb()}if(2&t){const t=u.ec(3);u.kc("ngModel",t.movingAverage)}}function A(t,e){if(1&t&&(u.Tb(0,"mat-option",35),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t.method),u.Bb(1),u.Lc(t.name)}}function L(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",8),u.Tb(1,"div",29),u.Tb(2,"mat-form-field",10),u.Tb(3,"mat-label"),u.Kc(4,"Select feature"),u.Sb(),u.Tb(5,"mat-select",30),u.ac("ngModelChange",(function(e){return u.wc(t),u.ec(3).method=e})),u.Ic(6,A,2,2,"mat-option",31),u.Sb(),u.Sb(),u.Sb(),u.Tb(7,"div",32),u.Tb(8,"mat-form-field",10),u.Tb(9,"mat-label",33),u.Kc(10,"Enter span value"),u.Sb(),u.Tb(11,"input",34),u.ac("ngModelChange",(function(e){return u.wc(t),u.ec(3).span=e})),u.Sb(),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=u.ec(3);u.Bb(5),u.kc("ngModel",t.method),u.Bb(1),u.kc("ngForOf",t.movingAverageMethod),u.Bb(5),u.kc("ngModel",t.span)}}function $(t,e){if(1&t&&(u.Tb(0,"div",8),u.Tb(1,"div",24),u.Tb(2,"div",24),u.Ic(3,j,2,1,"mat-checkbox",25),u.Sb(),u.Tb(4,"div",24),u.Ic(5,U,2,1,"mat-checkbox",26),u.Ic(6,L,12,3,"div",14),u.Sb(),u.Sb(),u.Sb()),2&t){const t=u.ec(2);u.Bb(3),u.kc("ngIf",t.showOutlier&&0==t.movingAverage),u.Bb(2),u.kc("ngIf","Lineplot"==t.graphType&&0==t.outlier),u.Bb(1),u.kc("ngIf",1==t.movingAverage)}}function z(t,e){if(1&t){const t=u.Ub();u.Tb(0,"button",36),u.ac("click",(function(){return u.wc(t),u.ec(2).ondownload()})),u.Kc(1," Download "),u.Sb()}}function R(t,e){1&t&&u.Ob(0,"img",37)}function q(t,e){1&t&&u.Ob(0,"div",38)}function V(t,e){if(1&t&&(u.Tb(0,"mat-hint"),u.Kc(1),u.Sb()),2&t){const t=u.ec(2);u.Bb(1),u.Mc(" ",t.showhint," ")}}function G(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-dialog-content",7),u.Tb(1,"div",8),u.Tb(2,"div",9),u.Tb(3,"mat-form-field",10),u.Tb(4,"mat-label"),u.Kc(5,"Select feature"),u.Sb(),u.Tb(6,"mat-select",11),u.ac("selectionChange",(function(){return u.wc(t),u.ec().featureSelectionChanged()})),u.Ic(7,F,2,3,"mat-option",12),u.Sb(),u.Ic(8,_,2,0,"mat-error",1),u.Sb(),u.Sb(),u.Sb(),u.Tb(9,"mat-radio-group",13),u.ac("change",(function(){return u.wc(t),u.ec().graphSelectionChanged()}))("ngModelChange",(function(e){return u.wc(t),u.ec().graphType=e})),u.Ic(10,x,2,1,"div",1),u.Ic(11,N,2,1,"div",1),u.Ic(12,K,2,1,"div",1),u.Sb(),u.Ic(13,$,7,3,"div",14),u.Ic(14,z,2,0,"button",15),u.Tb(15,"div",16),u.Ic(16,R,1,0,"img",17),u.Ic(17,q,1,0,"div",18),u.Ic(18,V,2,1,"mat-hint",1),u.Sb(),u.Sb()}if(2&t){const t=u.ec();u.Bb(6),u.kc("formControl",t.multiUniFeaturesControl),u.Bb(1),u.kc("ngForOf",t.allFeatures),u.Bb(1),u.kc("ngIf",t.multiUniFeaturesControl.hasError("required")&&(t.multiUniFeaturesControl.dirty||t.multiUniFeaturesControl.touched)),u.Bb(1),u.kc("ngModel",t.graphType),u.Bb(1),u.kc("ngIf",1===t.multiUniFeaturesControl.value.length),u.Bb(1),u.kc("ngIf",2===t.multiUniFeaturesControl.value.length),u.Bb(1),u.kc("ngIf","2D"==t.graphType||"3D"==t.graphType),u.Bb(1),u.kc("ngIf","Lineplot"==t.graphType),u.Bb(1),u.kc("ngIf",t.isWordCloud&&void 0!==t.baseImg),u.Bb(2),u.kc("ngIf",t.isWordCloud),u.Bb(1),u.kc("ngIf",t.isMmultiUnivariateAnalysis),u.Bb(1),u.kc("ngIf",""!==t.showhint)}}function H(t,e){if(1&t){const t=u.Ub();u.Tb(0,"ag-grid-angular",41,42),u.ac("gridReady",(function(e){return u.wc(t),u.ec(2).gridReady(e)})),u.Sb()}if(2&t){const t=u.ec(2);u.kc("rowData",t.previewrowData)("gridOptions",t.gridOptions)}}function W(t,e){if(1&t&&(u.Tb(0,"mat-dialog-content",39),u.Ic(1,H,2,2,"ag-grid-angular",40),u.Sb()),2&t){const t=u.ec();u.Bb(1),u.kc("ngIf",t.previewrowData)}}function Q(t,e){if(1&t){const t=u.Ub();u.Tb(0,"button",43),u.ac("click",(function(){return u.wc(t),u.ec().onSubmitFeatureAnalysis()})),u.Kc(1," Submit "),u.Sb()}if(2&t){const t=u.ec();u.kc("disabled",t.multiUniFeaturesControl.invalid||!t.graphType)}}const Y=i("Ycxt");let J=(()=>{class t{constructor(t,e,i,a,n,o,c,u,d,m){this.dialogData=t,this._fb=e,this._edaDialogRef=i,this._eda=a,this._localStorage=n,this._toaster=o,this._snackBar=c,this._spinner=u,this._data=d,this._utils=m,this.dataSource=new l.p,this.graphTypes={Integer:["Barplot","Boxplot","Scatterplot","Lineplot"],Decimal:["Barplot","Boxplot","Scatterplot","Lineplot"],Categorical:["Barplot","Pieplot"]},this.resizeEvent="resize.ag-grid",this.unsubscribe$=new r.b,this.multiUniFeaturesControl=new s.i(""),this.displayedColumns=[],this.backGround="#ffffff",this.foreGround="#08509d",this.featureDataTypes=[],this.allFeatures=[],this.graphTypesSelected=[],this.showSpinner=!1,this.isMmultiUnivariateAnalysis=!0,this.isWordCloud=!0,this.outlier=!1,this.showOutlier=!1,this.movingAverage=!1,this.movingAverageMethod=[{name:"Exponential moving average",method:"exponential_ma"},{name:"Simple moving average",method:"simple_ma"}]}ngOnInit(){switch(this.feature=[],this.dialogData.type){case"preview":this.dialogHeading="Data Preview",this.previewData();break;case"analysis":this.dialogHeading="Multivariate/Univariate Analysis",this.project=this._localStorage.getItem("project"),this.dialogData.featureDataTypes.forEach(t=>{"Unstructured"!==t.data&&this.allFeatures.push({feature:t.colName,isDisabled:!1})}),this.feature=this.allFeatures}}ngAfterViewInit(){this.dataSource.sort=this.sort}findTheDataType(t){return this.dialogData.featureDataTypes.find(e=>e.colName===t)}filterArray(t,e){return t.filter(t=>t!==e)}previewData(){this._spinner.showSpinner();let t=[];this._data.myFileData(this.dialogData.reqObj.pid,this.dialogData.dataId,this.dialogData.reqObj,!0).subscribe(e=>{if(e){for(let i in e.preview[0])t.push({headerName:i,field:i});this.gridOptions={headerHeight:40,columnDefs:t,defaultColDef:{resizable:!0}},this.previewrowData=e.preview,this._spinner.stopSpinner()}else this._spinner.stopSpinner(),this._toaster.error("Cannot preview the files data","Data Set")},t=>{this.showSpinner=!1,this._toaster.error("Server Error","Data Set")})}graphSelectionChanged(){"Lineplot"!==this.graphType&&(this.movingAverage=!1,this.outlier=!1,this.method="",this.span=""),this.showOutlier=!("timeseries"!==this.project.type||"Lineplot"!==this.graphType||!this.dialogData.edaData.hasOwnProperty("edaSummary"))}featureSelectionChanged(){this.showOutlier=!("timeseries"!==this.project.type||1!==this.multiUniFeaturesControl.value.length||"Lineplot"!==this.graphType||!this.dialogData.edaData.hasOwnProperty("edaSummary")),this.de=this.findTheDataType(this.multiUniFeaturesControl.value[0]),this.allFeatures=[];let t=[];if(0===this.multiUniFeaturesControl.value.length&&(this.isWordCloud=!1,this.isMmultiUnivariateAnalysis=!1),this.multiUniFeaturesControl.value.length<4?this.mySelections=this.multiUniFeaturesControl.value:(this.multiUniFeaturesControl.setValue(this.mySelections),this.multiUniFeaturesControl.updateValueAndValidity()),1===this.multiUniFeaturesControl.value.length){switch(this.ftype=this.findTheDataType(this.multiUniFeaturesControl.value[0]),this.graphTypesSelected=this.graphTypes[this.ftype.multivariateDataType],this.ftype.multivariateDataType){case"Integer":t=["Integer","Decimal","Datetime","Categorical","Boolean"];case"Decimal":t=["Integer","Decimal","Datetime","Categorical","Boolean"];break;case"Categorical":case"Boolean":t=["Integer","Decimal","Categorical","Boolean"];break;case"Datetime":t=["Integer","Decimal"];break;case"Text":case"URL":t=[];break;default:t=[]}let e=this.graphTypes[this.ftype.multivariateDataType];e&&(this.graphTypesSelected=this.filterArray(e,"Scatterplot")),this.graphType="Barplot",1!==this.multiUniFeaturesControl.value.length||"Integer"!==this.ftype.multivariateDataType&&"Decimal"!==this.ftype.multivariateDataType||(this.graphTypesSelected=this.graphTypesSelected.filter(t=>"Barplot"!=t),this.graphTypesSelected.push("Histogram"),this.graphType="Histogram")}else 2===this.multiUniFeaturesControl.value.length?(this.graphTypesSelected=[],this.ftype=this.findTheDataType(this.multiUniFeaturesControl.value[0]),"Integer"===this.ftype.multivariateDataType||"Decimal"===this.ftype.multivariateDataType||"Boolean"===this.ftype.multivariateDataType||"Categorical"===this.ftype.multivariateDataType?(this.sencondftype=this.findTheDataType(this.multiUniFeaturesControl.value[1]),"Integer"===this.ftype.multivariateDataType&&"Integer"===this.sencondftype.multivariateDataType&&(this.graphTypesSelected=["Boxplot","Scatterplot"],this.graphType="Boxplot"),"Decimal"===this.ftype.multivariateDataType&&"Decimal"===this.sencondftype.multivariateDataType&&(this.graphTypesSelected=["Boxplot","Scatterplot"],this.graphType="Boxplot"),"Integer"===this.ftype.multivariateDataType&&"Decimal"===this.sencondftype.multivariateDataType&&(this.graphTypesSelected=["Boxplot","Scatterplot"],this.graphType="Boxplot"),"Decimal"===this.ftype.multivariateDataType&&"Integer"===this.sencondftype.multivariateDataType&&(this.graphTypesSelected=["Boxplot","Scatterplot"],this.graphType="Boxplot"),"Integer"===this.ftype.multivariateDataType&&"Numeric"===this.sencondftype.multivariateDataType&&(this.graphTypesSelected=["Boxplot","Scatterplot"],this.graphType="Boxplot"),"Numeric"===this.ftype.multivariateDataType&&"Integer"===this.sencondftype.multivariateDataType&&(this.graphTypesSelected=["Boxplot","Scatterplot"],this.graphType="Boxplot"),"Numeric"===this.ftype.multivariateDataType&&"Numeric"===this.sencondftype.multivariateDataType&&(this.graphTypesSelected=["Boxplot","Scatterplot"],this.graphType="Boxplot"),("Integer"===this.ftype.multivariateDataType&&"Boolean"===this.sencondftype.multivariateDataType||"Boolean"===this.ftype.multivariateDataType&&"Integer"===this.sencondftype.multivariateDataType||"Boolean"===this.ftype.multivariateDataType&&"Decimal"===this.sencondftype.multivariateDataType||"Decimal"===this.ftype.multivariateDataType&&"Boolean"===this.sencondftype.multivariateDataType||"Boolean"===this.ftype.multivariateDataType&&"Numeric"==this.sencondftype.multivariateDataType||"Numeric"===this.ftype.multivariateDataType&&"Boolean"===this.sencondftype.multivariateDataType||"Categorical"===this.ftype.multivariateDataType&&"Integer"===this.sencondftype.multivariateDataType||"Integer"===this.ftype.multivariateDataType&&"Categorical"===this.sencondftype.multivariateDataType||"Categorical"===this.ftype.multivariateDataType&&"Decimal"===this.sencondftype.multivariateDataType||"Decimal"===this.ftype.multivariateDataType&&"Categorical"===this.sencondftype.multivariateDataType||"Categorical"===this.ftype.multivariateDataType&&"Numeric"===this.sencondftype.multivariateDataType||"Numeric"===this.ftype.multivariateDataType&&"Categorical"===this.sencondftype.multivariateDataType)&&(this.graphTypesSelected=["Barplot","Boxplot","Histogram"],this.graphType="Barplot"),t=["Integer","Decimal","Categorical","Boolean"]):"Datetime"===this.ftype.multivariateDataType?t=[]:"Categorical"===this.ftype.multivariateDataType||"Boolean"===this.ftype.multivariateDataType?t=["Integer","Decimal","Categorical","Boolean"]:("Text"===this.ftype.multivariateDataType||"URL"===this.ftype.multivariateDataType)&&(t=[])):3===this.multiUniFeaturesControl.value.length&&(this.thirdftype=this.findTheDataType(this.multiUniFeaturesControl.value[2]),this.ftype.isNumeric="Integer"===this.ftype.multivariateDataType||"Decimal"===this.ftype.multivariateDataType||"Numeric"===this.ftype.multivariateDataType?"Numeric":"none",this.sencondftype.isNumeric="Integer"===this.sencondftype.multivariateDataType||"Decimal"===this.sencondftype.multivariateDataType||"Numeric"===this.sencondftype.multivariateDataType?"Numeric":"none",this.thirdftype.isNumeric="Integer"===this.thirdftype.multivariateDataType||"Decimal"===this.thirdftype.multivariateDataType||"Numeric"===this.thirdftype.multivariateDataType?"Numeric":"none","Numeric"===this.ftype.isNumeric&&"Numeric"===this.sencondftype.isNumeric&&"Numeric"===this.thirdftype.isNumeric?(this.graphTypesSelected=["2D","3D"],this.graphType="2D"):this.graphType="scatter");if(this.dialogData.featureDataTypes.forEach(e=>{-1!==t.indexOf(e.multivariateDataType)&&this.allFeatures.push({feature:e.colName,isDisabled:!1})}),this.multiUniFeaturesControl.value.length){let t;1==this.multiUniFeaturesControl.value.length?t=this.multiUniFeaturesControl.value[0]:2==this.multiUniFeaturesControl.value.length&&(t=this.multiUniFeaturesControl.value[1]);let e=this.dialogData.featureDataTypes.filter(e=>"Datetime"==e.data&&e.colName==t);e.length&&"Datetime"==e[0].data&&1==e.length&&this.allFeatures.push({feature:e[0].colName,isDisabled:!1})}0==this.allFeatures.length&&this.multiUniFeaturesControl.value.forEach(t=>{this.allFeatures.push({feature:t})}),0==this.multiUniFeaturesControl.value.length&&(this.allFeatures=this.feature)}compareFn(t,e){return t.id===e.id}onSubmitFeatureAnalysis(){if(this.baseImg=void 0,this.showSpinner=!0,!0===this.movingAverage&&(void 0===this.method||void 0===this.span))return void(this.snackBarRef=this._snackBar.open("Please select method and enter span value when moving average plot is selected","OK"));if(!0===this.movingAverage&&void 0!==this.method&&(this.span<0||0===this.span))return void(this.snackBarRef=this._snackBar.open("Span value can not be less than 1","OK"));if(!0===this.movingAverage&&this.span%1!=0)return void(this.snackBarRef=this._snackBar.open("Span value can not be decimal","OK"));let t;this.isWordCloud=!0,this.isMmultiUnivariateAnalysis=!0,t=1!==this.multiUniFeaturesControl.value.length||"Histogram"!=this.graphType||"Integer"!==this.ftype.multivariateDataType&&"Decimal"!==this.ftype.multivariateDataType?this.graphType:"Barplot";let e={backGround:this.backGround,foreGround:this.foreGround,selectedVariables:this.multiUniFeaturesControl.value,chartType:t,outlier:this.outlier,movingAverage:this.movingAverage,method:this.method,span:this.span};this.dialogData.edaData.hasOwnProperty("edaSummary")?(e.edaSummary=this.uniqueBy(this.dialogData.edaData.edaSummary,"colName"),e.filename=this.dialogData.selectedDataSet.name,e.currentEdaId=this.dialogData.edaData._id,e.currentPipelineFilename=this.dialogData.edaData.tasks[0].currentPipelineFilename,e.featureDataTypes=this.uniqueBy(this.dialogData.featureDataTypes,"colName")):(e.featureDataTypes=this.uniqueBy(this.dialogData.featureDataTypes,"colName"),e.filename=this.dialogData.selectedDataSet.name),e.fileEncoding=this.dialogData.selectedDataSet.fileEncoding||"utf_8",this.generatePlot(e)}generatePlot(t){this._spinner.showSpinner(),this._eda.generateMultiUniVariatePlot(this.project._id,t).pipe(Object(o.a)(this.unsubscribe$)).subscribe(t=>{if(this.showSpinner=!1,t){this.showhint=t.sampling_msg;let e=document.getElementById("wordCloud"),i=document.getElementById("multiUnivariateAnalysis");if("Text"===this.ftype.multivariateDataType||"URL"===this.ftype.multivariateDataType)this.baseImg=t.graphContent,this.isWordCloud=!0,this.isMmultiUnivariateAnalysis=!1,e.setAttribute("src","data:application/pdf;base64,"+t.graphContent);else{for(this.isWordCloud=!1,this.isMmultiUnivariateAnalysis=!0;i.data&&i.data.length>0;)Y.deleteTraces(i,[0]);t.graphContent.layout.template.layout.plot_bgcolor="white",t.graphContent.layout.width=1138,t.graphContent.layout.height=450,t.graphContent.layout.template.layout.title.xanchor="center",t.graphContent.layout.template.layout.title.y=.9,t.graphContent.layout.template.layout.title.x=.5,t.graphContent.layout.template.layout.title.yanchor="top",t.graphContent.layout.template.layout.xaxis.linecolor="black",t.graphContent.layout.template.layout.yaxis.linecolor="black",t.graphContent.layout.template.layout.xaxis.zerolinecolor="black",t.graphContent.layout.template.layout.yaxis.zerolinecolor="black",Y.plot(i,t.graphContent.data,t.graphContent.layout,{displayModeBar:!0})}}else this._toaster.error("Cannot plot the graph","EDA");this._spinner.stopSpinner()},t=>{this.showSnackBar(t.error.graphContent,"OK"),this._spinner.stopSpinner()})}ondownload(){this._spinner.showSpinner();var t=document.createElement("a");t.href="data:image/png;base64,"+this.baseImg,t.download="FeatureAnalaysis.png",t.click(),this._spinner.stopSpinner()}uniqueBy(t,e){return t.reduce((t,i)=>(t.includes(i[e])||t.push(i),t),[])}closeModal(t){this._edaDialogRef.close(t)}showSnackBar(t,e){this.snackBarRef=this._snackBar.open(t,e,{horizontalPosition:"right",verticalPosition:"bottom"})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}gridReady(t){t.api.setDomLayout("autoHeight"),this.gridApi=t.api,this.gridApi.setColumnDefs(this.gridOptions.columnDefs),this.gridApi.setRowData(this.previewrowData),this.gridApi.refreshCells({force:!0})}ngOnDestroy(){this.unsubscribe$.next(!1),this.unsubscribe$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(n.a),u.Nb(s.h),u.Nb(n.i),u.Nb(d.a),u.Nb(m.a),u.Nb(p.c),u.Nb(h.c),u.Nb(b.a),u.Nb(g.a),u.Nb(f.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-dialog-handler"]],viewQuery:function(t,e){var i;1&t&&u.Oc(c.a,!0),2&t&&u.sc(i=u.bc())&&(e.sort=i.first)},decls:9,vars:5,consts:[["mat-dialog-title",""],[4,"ngIf"],["class","mat-typography",4,"ngIf"],["class","mat-typography preview-data-section mb-3",4,"ngIf"],[1,"justify-content-end","m-auto"],["mat-stroked-button","",3,"click"],["mat-flat-button","","class","btn-primary","type","submit",3,"disabled","click",4,"ngIf"],[1,"mat-typography"],[1,"row"],[1,"col-md-6","form-group"],["appearance","outline"],["multiple","","required","",3,"formControl","selectionChange"],["Edited","",3,"value","disabled",4,"ngFor","ngForOf"],["aria-label","Select an option",1,"radio-group",3,"ngModel","change","ngModelChange"],["class","row",4,"ngIf"],["mat-flat-button","","class","btn-primary","type","submit","style","margin-left: 88%;",3,"click",4,"ngIf"],[1,"row","justify-content-center"],["id","wordCloud",4,"ngIf"],["id","multiUnivariateAnalysis",4,"ngIf"],["Edited","",3,"value","disabled"],["name","opt1",3,"hidden","value","matTooltip",4,"ngFor","ngForOf"],["name","opt1",3,"hidden","value","matTooltip"],["name","opt2",3,"value","matTooltip",4,"ngFor","ngForOf"],["name","opt2",3,"value","matTooltip"],[1,"col-md-12"],["class","m-0 w-25","id","outlier","name","outlier",3,"ngModel","ngModelChange",4,"ngIf"],["class","m-0 w-25","id","movingAverage","name","movingAverage",3,"ngModel","ngModelChange",4,"ngIf"],["id","outlier","name","outlier",1,"m-0","w-25",3,"ngModel","ngModelChange"],["id","movingAverage","name","movingAverage",1,"m-0","w-25",3,"ngModel","ngModelChange"],[1,"col-md-5"],["required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-4"],["for","folderpath"],["matInput","","type","number","min","1","name","span","id","span","placeholder","Enter span value",3,"ngModel","ngModelChange"],[3,"value"],["mat-flat-button","","type","submit",1,"btn-primary",2,"margin-left","88%",3,"click"],["id","wordCloud"],["id","multiUnivariateAnalysis"],[1,"mat-typography","preview-data-section","mb-3"],["id","myGrid","class","ag-angle my-4",3,"rowData","gridOptions","gridReady",4,"ngIf"],["id","myGrid",1,"ag-angle","my-4",3,"rowData","gridOptions","gridReady"],["agGrid",""],["mat-flat-button","","type","submit",1,"btn-primary",3,"disabled","click"]],template:function(t,e){1&t&&(u.Tb(0,"h2",0),u.Kc(1),u.Ic(2,O,2,0,"small",1),u.Sb(),u.Ic(3,G,19,12,"mat-dialog-content",2),u.Ic(4,W,2,1,"mat-dialog-content",3),u.Tb(5,"mat-dialog-actions",4),u.Tb(6,"button",5),u.ac("click",(function(){return e.closeModal()})),u.Kc(7,"Cancel"),u.Sb(),u.Ic(8,Q,2,1,"button",6),u.Sb()),2&t&&(u.Bb(1),u.Mc(" ",e.dialogHeading," "),u.Bb(1),u.kc("ngIf","preview"===e.dialogData.type),u.Bb(1),u.kc("ngIf","analysis"===e.dialogData.type),u.Bb(1),u.kc("ngIf","preview"===e.dialogData.type),u.Bb(4),u.kc("ngIf","analysis"===e.dialogData.type))},directives:[n.j,S.t,n.d,T.b,n.g,v.c,v.g,y.a,s.F,s.u,s.j,S.s,C.c,s.x,D.o,v.b,C.b,I.b,w.b,k.b,s.A,s.d,v.f,B.a],styles:[""]}),t})();var X=i("WUEe"),Z=i("M9IT"),tt=i("AytR"),et=i("EXm5"),it=i("tyNb"),at=i("THC6"),st=i("sdB8"),nt=i("tagK"),ot=i("Wp6s"),rt=i("NFeN"),lt=i("wZkO"),ct=i("TU8p"),ut=i("3M9v"),dt=i("5RNC"),mt=i("A5z7"),pt=i("MutI"),ht=i("f0Cb"),bt=i("8NN1"),gt=i("g+ir"),ft=i("mdW0"),St=i("j0Ka");const Tt=["edaPaginator"],vt=["edaPreviewPaginator"],yt=["edaOutlierPaginator"],Ct=["edaSort"],Dt=["edaPreviewSort"],It=["edaOutlierSort"],wt=["edaTableInputTemp"],kt=["edaProgressTemp"],Bt=["trainSlider"],Ot=["testSlider"];function Ft(t,e){if(1&t&&(u.Tb(0,"mat-option",47),u.Kc(1),u.fc(2,"dropFileExtension"),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t._id),u.Bb(1),u.Mc(" ",u.hc(2,2,t.name,t.fileSource)," ")}}function _t(t,e){1&t&&(u.Tb(0,"mat-error"),u.Kc(1,"File is requried."),u.Sb())}function Et(t,e){1&t&&(u.Tb(0,"mat-hint"),u.Kc(1," EDA hasn't performed on this dataset. "),u.Sb())}function xt(t,e){if(1&t&&(u.Tb(0,"mat-option",47),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t.colName),u.Bb(1),u.Mc(" ",t.colName," ")}}function Mt(t,e){1&t&&(u.Tb(0,"mat-hint"),u.Kc(1," Date is not unidistant or contains missing values. "),u.Sb())}function Nt(t,e){1&t&&(u.Tb(0,"mat-error"),u.Kc(1,"Index is required."),u.Sb())}function Pt(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div"),u.Tb(1,"mat-form-field",41),u.Tb(2,"mat-label",48),u.Kc(3,"Select index"),u.Sb(),u.Tb(4,"mat-select",49),u.ac("selectionChange",(function(){return u.wc(t),u.ec(2).onIndexColumnChange()})),u.Ic(5,xt,2,2,"mat-option",44),u.fc(6,"indexDataType"),u.Sb(),u.Ic(7,Mt,2,0,"mat-hint",5),u.Ic(8,Nt,2,0,"mat-error",5),u.Sb(),u.Sb()}if(2&t){const t=u.ec(2);u.Db("timeseries"==t.project.type?"col-md-3":"col-md-4"),u.Bb(1),u.kc("matTooltip",t._utils.getTootip("selectIndex")),u.Bb(4),u.kc("ngForOf",u.gc(6,6,t.selectedDataSet.fileSchema)),u.Bb(2),u.kc("ngIf",!1===(null==t.selectedIndex?null:t.selectedIndex.unidistant_date)&&!t.previousEda),u.Bb(1),u.kc("ngIf",t.edaForm.get("datetimeIndex").hasError("required")&&(t.edaForm.get("datetimeIndex").dirty||t.edaForm.get("datetimeIndex").touched))}}function Kt(t,e){if(1&t&&(u.Tb(0,"mat-option",47),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t),u.Bb(1),u.Mc(" ",t.colName," ")}}function jt(t,e){1&t&&(u.Tb(0,"mat-error"),u.Kc(1,"Target is required."),u.Sb())}function Ut(t,e){1&t&&(u.Tb(0,"mat-hint"),u.Kc(1," Please remove the missing values from the feature to use it as a target. "),u.Sb())}function At(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div"),u.Tb(1,"mat-form-field",41),u.Tb(2,"mat-label",48),u.Kc(3,"Select a target"),u.Sb(),u.Tb(4,"mat-select",50),u.ac("selectionChange",(function(e){return u.wc(t),u.ec(2).targetChangeHandler(e.value)})),u.Ic(5,Kt,2,2,"mat-option",44),u.Sb(),u.Ic(6,jt,2,0,"mat-error",5),u.Ic(7,Ut,2,0,"mat-hint",5),u.Sb(),u.Sb()}if(2&t){const t=u.ec(2);u.Db("timeseries"==t.project.type?"col-md-3":"col-md-4"),u.Bb(1),u.kc("matTooltip",t._utils.getTootip("selectTarget")),u.Bb(3),u.kc("formControl",t.targetControl),u.Bb(1),u.kc("ngForOf",t.targetFeature),u.Bb(1),u.kc("ngIf",t.targetControl.hasError("required")&&(t.targetControl.dirty||t.targetControl.touched)),u.Bb(1),u.kc("ngIf",t.selectedDataSet)}}function Lt(t,e){if(1&t&&(u.Tb(0,"mat-option",47),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t.colName),u.Bb(1),u.Mc(" ",t.colName," ")}}function $t(t,e){1&t&&(u.Tb(0,"mat-error"),u.Kc(1,"Timeseries identifiers are required."),u.Sb())}function zt(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div"),u.Tb(1,"mat-form-field",41),u.Tb(2,"mat-label",51),u.Kc(3,"Select timeseries identifier "),u.Sb(),u.Tb(4,"mat-select",52),u.ac("selectionChange",(function(e){return u.wc(t),u.ec(2).timeseriesChangeHandler(e.value)})),u.Ic(5,Lt,2,2,"mat-option",44),u.Sb(),u.Ic(6,$t,2,0,"mat-error",5),u.Sb(),u.Sb()}if(2&t){const t=u.ec(2);u.Db("timeseries"==t.project.type?"col-md-3":"col-md-4"),u.Bb(1),u.kc("matTooltip",t._utils.getTootip("timeSeriesIds")),u.Bb(3),u.kc("formControl",t.timeseriesIds),u.Bb(1),u.kc("ngForOf",t.timeseriesGroupList),u.Bb(1),u.kc("ngIf",t.timeseriesIds.hasError("required")&&(t.timeseriesIds.dirty||t.timeseriesIds.touched))}}function Rt(t,e){if(1&t){const t=u.Ub();u.Tb(0,"button",58),u.ac("click",(function(){u.wc(t);const e=u.ec(3);return e.dataPreviewHandler(e.selectedDataSet._id)})),u.Ob(1,"i",59),u.Sb()}}function qt(t,e){if(1&t&&(u.Tb(0,"div",53),u.Tb(1,"mat-card",54),u.Tb(2,"mat-card-header"),u.Tb(3,"div",2),u.Tb(4,"mat-icon",3),u.Kc(5,"description"),u.Sb(),u.Sb(),u.Tb(6,"mat-card-title"),u.Tb(7,"h3",12),u.Kc(8,"Dataset Info"),u.Sb(),u.Sb(),u.Sb(),u.Tb(9,"mat-card-content"),u.Tb(10,"table",55),u.Tb(11,"thead"),u.Tb(12,"tr"),u.Tb(13,"th",56),u.Kc(14,"No. of Records"),u.Sb(),u.Tb(15,"th",56),u.Kc(16,"No. of Columns"),u.Sb(),u.Tb(17,"th",56),u.Kc(18,"File Size"),u.Sb(),u.Tb(19,"th",56),u.Kc(20,"Action"),u.Sb(),u.Sb(),u.Sb(),u.Tb(21,"tbody"),u.Tb(22,"tr"),u.Tb(23,"td"),u.Kc(24),u.Sb(),u.Tb(25,"td"),u.Kc(26),u.Sb(),u.Tb(27,"td"),u.Kc(28),u.fc(29,"fileSizeConverter"),u.Sb(),u.Tb(30,"td"),u.Ic(31,Rt,2,0,"button",57),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb()),2&t){const t=u.ec(2);u.Bb(24),u.Lc((null==t.selectedDataSet?null:t.selectedDataSet.noOfRows)||"-"),u.Bb(2),u.Lc((null==t.selectedDataSet?null:t.selectedDataSet.noOfCols)||"-"),u.Bb(2),u.Mc(" ",t.selectedDataSet?u.hc(29,4,t.selectedDataSet.fileSize,2):"-"," "),u.Bb(3),u.kc("ngIf",t.selectedDataSet)}}function Vt(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-card-content"),u.Tb(1,"form",39),u.Tb(2,"div",40),u.Tb(3,"div"),u.Tb(4,"mat-form-field",41),u.Tb(5,"mat-label",42),u.Kc(6,"Select a dataset"),u.Sb(),u.Tb(7,"mat-select",43),u.ac("selectionChange",(function(e){return u.wc(t),u.ec().onChangeDataset(e.value)})),u.Ic(8,Ft,3,5,"mat-option",44),u.Sb(),u.Ic(9,_t,2,0,"mat-error",5),u.Ic(10,Et,2,0,"mat-hint",5),u.Sb(),u.Sb(),u.Ic(11,Pt,9,8,"div",45),u.Ic(12,At,8,7,"div",45),u.Ic(13,zt,7,6,"div",45),u.Ic(14,qt,32,7,"div",46),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=u.ec();u.Bb(1),u.kc("formGroup",t.edaForm),u.Bb(2),u.Db("timeseries"==t.project.type?"col-md-3":"col-md-4"),u.Bb(1),u.kc("matTooltip",t._utils.getTootip("selectDataSetEda")),u.Bb(4),u.kc("ngForOf",t.dataSetsList),u.Bb(1),u.kc("ngIf",t.edaForm.get("selectedDataset").hasError("required")&&(t.edaForm.get("selectedDataset").dirty||t.edaForm.get("selectedDataset").touched)),u.Bb(1),u.kc("ngIf",t.selectedDataSet&&!t.previousEda),u.Bb(1),u.kc("ngIf","timeseries"===t.project.type&&t.selectedDataSet),u.Bb(1),u.kc("ngIf",t.selectedDataSet&&"clustering"!=t.project.type),u.Bb(1),u.kc("ngIf",t.selectedDataSet&&"timeseries"==t.project.type&&t.targetControl.value&&"True"===t.multipleTimeseriesId),u.Bb(1),u.kc("ngIf","clustering"==t.project.type&&t.selectedDataSet)}}const Gt=function(){return["/project/data/dataconnection"]};function Ht(t,e){1&t&&(u.Tb(0,"h4",60),u.Kc(1," You don't have any data set or connection yet, "),u.Tb(2,"a",61),u.Kc(3,"upload now."),u.Sb(),u.Sb()),2&t&&(u.Bb(2),u.kc("routerLink",u.mc(1,Gt)))}function Wt(t,e){if(1&t){const t=u.Ub();u.Tb(0,"button",58),u.ac("click",(function(){u.wc(t);const e=u.ec(3);return e.dataPreviewHandler(e.selectedDataSet._id)})),u.Ob(1,"i",59),u.Sb()}}function Qt(t,e){if(1&t&&(u.Tb(0,"div",68),u.Tb(1,"mat-card",54),u.Tb(2,"mat-card-header"),u.Tb(3,"div",2),u.Tb(4,"mat-icon",3),u.Kc(5,"description"),u.Sb(),u.Sb(),u.Tb(6,"mat-card-title"),u.Tb(7,"h3",12),u.Kc(8,"Dataset info"),u.Sb(),u.Sb(),u.Sb(),u.Tb(9,"mat-card-content",69),u.Tb(10,"table",70),u.Tb(11,"tbody"),u.Tb(12,"tr"),u.Tb(13,"th",56),u.Kc(14,"No. of Records"),u.Sb(),u.Tb(15,"td"),u.Kc(16),u.Sb(),u.Sb(),u.Tb(17,"tr"),u.Tb(18,"th",56),u.Kc(19,"No. of Columns"),u.Sb(),u.Tb(20,"td"),u.Kc(21),u.Sb(),u.Sb(),u.Tb(22,"tr"),u.Tb(23,"th",56),u.Kc(24,"File Size"),u.Sb(),u.Tb(25,"td"),u.Kc(26),u.fc(27,"fileSizeConverter"),u.Sb(),u.Sb(),u.Tb(28,"tr"),u.Tb(29,"th",56),u.Kc(30,"Action"),u.Sb(),u.Tb(31,"td"),u.Ic(32,Wt,2,0,"button",57),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb()),2&t){const t=u.ec(2);u.Bb(16),u.Lc((null==t.selectedDataSet?null:t.selectedDataSet.noOfRows)||"-"),u.Bb(5),u.Lc((null==t.selectedDataSet?null:t.selectedDataSet.noOfCols)||"-"),u.Bb(5),u.Mc(" ",t.selectedDataSet?u.hc(27,4,t.selectedDataSet.fileSize,2):"-"," "),u.Bb(6),u.kc("ngIf",t.selectedDataSet)}}function Yt(t,e){if(1&t&&(u.Tb(0,"mat-card",62),u.Tb(1,"div",40),u.Ic(2,Qt,33,7,"div",63),u.Tb(3,"div",64),u.Tb(4,"mat-card",54),u.Tb(5,"mat-card-header"),u.Tb(6,"div",2),u.Tb(7,"mat-icon",3),u.Kc(8,"bar_chart"),u.Sb(),u.Sb(),u.Tb(9,"mat-card-title"),u.Tb(10,"h3",12),u.Kc(11,"Target distribution"),u.Sb(),u.Sb(),u.Sb(),u.Tb(12,"mat-card-content"),u.Tb(13,"div",65),u.Kc(14," Please select a target, to view the graph. "),u.Sb(),u.Tb(15,"div",66),u.Ob(16,"div",67),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb()),2&t){const t=u.ec();u.Bb(2),u.kc("ngIf",t.selectedDataSet),u.Bb(1),u.kc("hidden","clustering"===t.project.type),u.Bb(10),u.kc("hidden",t.targetControl.value),u.Bb(2),u.kc("hidden",!t.targetControl.value)}}function Jt(t,e){1&t&&(u.Tb(0,"mat-icon",80),u.Kc(1,"chevron_right"),u.Sb())}function Xt(t,e){1&t&&(u.Tb(0,"mat-icon",80),u.Kc(1,"expand_more"),u.Sb())}function Zt(t,e){if(1&t){const t=u.Ub();u.Tb(0,"button",81),u.ac("click",(function(){return u.wc(t),u.ec(2).openEDAReportModal()})),u.Tb(1,"span",82),u.Kc(2,"EDA report"),u.Sb(),u.Sb()}if(2&t){const t=u.ec(2);u.kc("disabled",!("saas"!==t.appType||null!=t.user&&null!=t.user.roles&&t.user.roles.includes("super_admin")||null!=t.user&&null!=t.user.roles&&t.user.roles.includes("admin")))("ngClass","enterprise"===t.appType||"saas"===t.appType&&(null!=t.user&&null!=t.user.roles&&t.user.roles.includes("super_admin")||null!=t.user&&null!=t.user.roles&&t.user.roles.includes("admin"))?"":"disable-Btn"),u.Bb(1),u.Db("saas"===t.appType&&(null!=t.user&&null!=t.user.roles&&t.user.roles.includes("super_admin")||null!=t.user&&null!=t.user.roles&&t.user.roles.includes("admin"))?"":"mr-2"),u.kc("matBadgeIcon","saas"===t.appType&&(null!=t.user&&null!=t.user.roles&&t.user.roles.includes("super_admin")||null!=t.user&&null!=t.user.roles&&t.user.roles.includes("admin"))?"":"ENT")}}function te(t,e){if(1&t){const t=u.Ub();u.Tb(0,"button",83),u.ac("click",(function(){u.wc(t);const e=u.ec(2);return e.shareReport(e.selectedDataSet)})),u.Tb(1,"span",82),u.Kc(2,"Share report"),u.Sb(),u.Sb()}if(2&t){const t=u.ec(2);u.kc("disabled",!("saas"!==t.appType||null!=t.user&&null!=t.user.roles&&t.user.roles.includes("super_admin")||null!=t.user&&null!=t.user.roles&&t.user.roles.includes("admin")))("ngClass","enterprise"===t.appType||"saas"===t.appType&&(null!=t.user&&null!=t.user.roles&&t.user.roles.includes("super_admin")||null!=t.user&&null!=t.user.roles&&t.user.roles.includes("admin"))?"":"disable-Btn"),u.Bb(1),u.Db("saas"===t.appType&&(null!=t.user&&null!=t.user.roles&&t.user.roles.includes("super_admin")||null!=t.user&&null!=t.user.roles&&t.user.roles.includes("admin"))?"":"mr-2"),u.kc("matBadgeIcon","saas"===t.appType&&(null!=t.user&&null!=t.user.roles&&t.user.roles.includes("super_admin")||null!=t.user&&null!=t.user.roles&&t.user.roles.includes("admin"))?"":"ENT")}}function ee(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",71),u.Tb(1,"div",72),u.Tb(2,"button",73),u.ac("click",(function(){u.wc(t);const e=u.ec();return e.showAdvanceOptions=!e.showAdvanceOptions})),u.Ic(3,Jt,2,0,"mat-icon",74),u.Ic(4,Xt,2,0,"mat-icon",74),u.Sb(),u.Tb(5,"h5",75),u.Kc(6,"Advanced options"),u.Sb(),u.Sb(),u.Tb(7,"div",76),u.Tb(8,"button",77),u.ac("click",(function(){return u.wc(t),u.ec().openFeatureAnalysisModal()})),u.Kc(9," Feature analysis "),u.Sb(),u.Ic(10,Zt,3,5,"button",78),u.Ic(11,te,3,5,"button",79),u.Sb(),u.Sb()}if(2&t){const t=u.ec();u.Bb(3),u.kc("ngIf",!t.showAdvanceOptions),u.Bb(1),u.kc("ngIf",t.showAdvanceOptions),u.Bb(3),u.Db(t.previousEda?"col-md-4 d-flex justify-content-end":"col-md-2 d-flex justify-content-end"),u.Bb(1),u.kc("matTooltip",t._utils.getTootip("featureAnalysis")),u.Bb(2),u.kc("ngIf",t.previousEda),u.Bb(1),u.kc("ngIf",t.previousEda)}}function ie(t,e){if(1&t&&(u.Tb(0,"mat-label",110),u.Kc(1," Split Dataset "),u.Sb()),2&t){const t=u.ec(3);u.kc("matBadgeIcon",t.allowedEdaAdvanceOptions.includes("splitDataset")?"":"PRO")("matTooltip",t._utils.getTootip("splitDataset"))}}function ae(t,e){if(1&t&&(u.Tb(0,"mat-option",47),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t.colName),u.Bb(1),u.Lc(t.colName)}}function se(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",115),u.Tb(1,"mat-form-field",116),u.Tb(2,"mat-label"),u.Kc(3,"Select split date feature"),u.Sb(),u.Tb(4,"mat-select",117),u.ac("ngModelChange",(function(e){return u.wc(t),u.ec(4).SplitDatasetFeature=e})),u.Ic(5,ae,2,2,"mat-option",44),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=u.ec(4);u.Bb(4),u.kc("ngModel",t.SplitDatasetFeature),u.Bb(1),u.kc("ngForOf",t.splitDateFeaturesList)}}function ne(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",111),u.Tb(1,"div",112),u.Tb(2,"mat-checkbox",113),u.ac("ngModelChange",(function(e){return u.wc(t),u.ec(3).splitDateWise=e})),u.Kc(3," Split dataset date wise "),u.Sb(),u.Sb(),u.Ic(4,se,6,2,"div",114),u.Sb()}if(2&t){const t=u.ec(3);u.Bb(2),u.kc("ngModel",t.splitDateWise)("matTooltip",t._utils.getTootip("splitDataDatewise")),u.Bb(2),u.kc("ngIf",1==t.splitDateWise)}}function oe(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",118),u.Tb(1,"mat-label",119),u.Kc(2,"Select train dataset"),u.Sb(),u.Tb(3,"div"),u.Tb(4,"mat-slider",120,121),u.ac("change",(function(e){return u.wc(t),u.ec(3).trainDatasetChanged(e.value)}))("ngModelChange",(function(e){return u.wc(t),u.ec(3).trainSize=e})),u.Sb(),u.Kc(6),u.Sb(),u.Sb()}if(2&t){const t=u.ec(3);u.Bb(4),u.kc("displayWith",t.formatLabel)("ngModel",t.trainSize),u.Bb(2),u.Mc(" ",t.trainSize,"% ")}}function re(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-checkbox",122),u.ac("ngModelChange",(function(e){return u.wc(t),u.ec(3).testDataset=e})),u.Kc(1,"Test Dataset "),u.Sb()}if(2&t){const t=u.ec(3);u.kc("ngModel",t.testDataset)("matTooltip",t._utils.getTootip("testDataset"))}}function le(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",118),u.Tb(1,"mat-label",123),u.Kc(2,"Select test dataset (hold out)"),u.Sb(),u.Tb(3,"div"),u.Tb(4,"mat-slider",124,125),u.ac("ngModelChange",(function(e){return u.wc(t),u.ec(3).holdoutSize=e}))("change",(function(e){return u.wc(t),u.ec(3).testDatasetChanged(e.value)})),u.Sb(),u.Kc(6),u.Sb(),u.Sb()}if(2&t){const t=u.ec(3);u.Bb(4),u.kc("displayWith",t.formatLabel)("max",100-(t.trainSize+t.devSize))("min",10)("ngModel",t.holdoutSize),u.Bb(2),u.Mc(" ",t.holdoutSize,"% ")}}function ce(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-checkbox",126),u.ac("ngModelChange",(function(e){return u.wc(t),u.ec(3).devDataset=e}))("change",(function(){u.wc(t);const e=u.ec(3);return e.toggleDevDataset(e.devDataset)})),u.Kc(1," Development Dataset "),u.Sb()}if(2&t){const t=u.ec(3);u.kc("ngModel",t.devDataset)("matTooltip",t._utils.getTootip("devlopmentDataset"))}}function ue(t,e){if(1&t&&(u.Tb(0,"div",127),u.Tb(1,"mat-label",128),u.Kc(2),u.Sb(),u.Sb()),2&t){const t=u.ec(3);u.Bb(2),u.Mc("Dev dataset (validation) : ",t.devSize,"% ")}}function de(t,e){1&t&&(u.Tb(0,"li"),u.Kc(1," Dev Set (Validation) - Sample used to perform Kfold and Hyper parameter tuning "),u.Sb())}function me(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-tab",99),u.Ic(1,ie,2,2,"ng-template",15),u.Ic(2,ne,5,3,"div",100),u.Tb(3,"div",101),u.Tb(4,"div",68),u.Tb(5,"mat-checkbox",102),u.ac("ngModelChange",(function(e){return u.wc(t),u.ec(2).trainDataset=e})),u.Kc(6," Train Dataset "),u.Sb(),u.Ic(7,oe,7,3,"div",103),u.Sb(),u.Tb(8,"div",104),u.Ic(9,re,2,2,"mat-checkbox",105),u.Ic(10,le,7,5,"div",103),u.Sb(),u.Tb(11,"div",106),u.Ic(12,ce,2,2,"mat-checkbox",107),u.Ic(13,ue,3,1,"div",108),u.Sb(),u.Tb(14,"div",109),u.Tb(15,"mat-hint"),u.Kc(16," Note : "),u.Tb(17,"ul"),u.Tb(18,"li"),u.Kc(19,"Train Set - Sample used to train the model (min 50% and max 90%)"),u.Sb(),u.Ic(20,de,2,0,"li",5),u.Tb(21,"li"),u.Kc(22,"Test Set (Holdout) - Sample used to evaluate model only"),u.Sb(),u.Tb(23,"li"),u.Kc(24,"Sum of all dataset must be 100%"),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=u.ec(2);u.kc("disabled",!("saas"!==t.appType||null!=t.user&&null!=t.user.roles&&t.user.roles.includes("super_admin")||null!=t.user&&null!=t.user.roles&&t.user.roles.includes("admin")||t.allowedEdaAdvanceOptions.includes("splitDataset"))),u.Bb(2),u.kc("ngIf","timeseries"!==t.project.type&&t.splitDateFeaturesList.length),u.Bb(3),u.kc("ngModel",t.trainDataset)("matTooltip",t._utils.getTootip("trainDataset")),u.Bb(2),u.kc("ngIf",t.trainDataset),u.Bb(2),u.kc("ngIf","clustering"!==t.project.type),u.Bb(1),u.kc("ngIf",t.testDataset&&"clustering"!==t.project.type),u.Bb(2),u.kc("ngIf","predictive_modeling"==t.project.type),u.Bb(1),u.kc("ngIf",t.devDataset&&"predictive_modeling"==t.project.type),u.Bb(7),u.kc("ngIf","timeseries"!=t.project.type)}}function pe(t,e){if(1&t&&(u.Tb(0,"mat-label",129),u.Kc(1," Missing Threshold "),u.Sb()),2&t){const t=u.ec(2);u.kc("matBadgeIcon",t.allowedEdaAdvanceOptions.includes("missingThreshold")?"":"PRO")("matTooltip",t._utils.getTootip("missingThreshold"))("ngClass","enterprise"===t.appType||"saas"===t.appType&&(null!=t.user&&null!=t.user.roles&&t.user.roles.includes("super_admin")||null!=t.user&&null!=t.user.roles&&t.user.roles.includes("admin"))||t.allowedEdaAdvanceOptions.includes("missingThreshold")?"":"disable-Btn")}}function he(t,e){if(1&t&&(u.Tb(0,"mat-label",129),u.Kc(1," Imputation Feature "),u.Sb()),2&t){const t=u.ec(3);u.kc("matBadgeIcon",t.allowedEdaAdvanceOptions.includes("imputationFeature")?"":"PRO")("matTooltip",t._utils.getTootip("imputationFeature"))("ngClass","enterprise"===t.appType||"saas"===t.appType&&(null!=t.user&&null!=t.user.roles&&t.user.roles.includes("super_admin")||null!=t.user&&null!=t.user.roles&&t.user.roles.includes("admin"))||t.allowedEdaAdvanceOptions.includes("imputationFeature")?"":"disable-Btn")}}function be(t,e){1&t&&(u.Tb(0,"div",133),u.Kc(1," Imputation feature is not available for this dataset. "),u.Sb())}function ge(t,e){if(1&t&&(u.Tb(0,"mat-option",47),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t.imputationFeature),u.Bb(1),u.Lc(t.imputationFeature)}}function fe(t,e){if(1&t&&(u.Tb(0,"mat-option",47),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t.numericFeature),u.Bb(1),u.Lc(t.numericFeature)}}function Se(t,e){if(1&t&&(u.Tb(0,"div",134),u.Tb(1,"div",135),u.Tb(2,"mat-form-field",116),u.Tb(3,"mat-label"),u.Kc(4,"Select imputation feature"),u.Sb(),u.Tb(5,"mat-select",136),u.Ic(6,ge,2,2,"mat-option",44),u.Sb(),u.Sb(),u.Sb(),u.Tb(7,"div",135),u.Tb(8,"mat-form-field",116),u.Tb(9,"mat-label"),u.Kc(10,"Select features to impute"),u.Sb(),u.Tb(11,"mat-select",136),u.Ic(12,fe,2,2,"mat-option",44),u.Sb(),u.Sb(),u.Sb(),u.Sb()),2&t){const t=u.ec(3);u.kc("formGroup",t.imputationFeatureForm),u.Bb(6),u.kc("ngForOf",t.imputationFeatures),u.Bb(6),u.kc("ngForOf",t.numericFeatures)}}function Te(t,e){if(1&t&&(u.Tb(0,"mat-tab",130),u.Ic(1,he,2,3,"ng-template",15),u.Tb(2,"div",92),u.Ic(3,be,2,0,"div",131),u.Ic(4,Se,13,3,"div",132),u.Sb(),u.Sb()),2&t){const t=u.ec(2);u.kc("matTooltip",t._utils.getTootip("imputationFeature"))("disabled",!("saas"!==t.appType||null!=t.user&&null!=t.user.roles&&t.user.roles.includes("super_admin")||null!=t.user&&null!=t.user.roles&&t.user.roles.includes("admin")||t.allowedEdaAdvanceOptions.includes("imputationFeature"))),u.Bb(3),u.kc("ngIf",!t.imputationFeatures.length),u.Bb(1),u.kc("ngIf",t.imputationFeatures.length)}}function ve(t,e){if(1&t&&(u.Tb(0,"mat-label",129),u.Kc(1," Conditional Filtering"),u.Sb()),2&t){const t=u.ec(2);u.kc("matBadgeIcon",t.allowedEdaAdvanceOptions.includes("conditionalFiltering")?"":"PRO")("matTooltip",t._utils.getTootip("contiionalFiltering"))("ngClass","enterprise"===t.appType||"saas"===t.appType&&(null!=t.user&&null!=t.user.roles&&t.user.roles.includes("super_admin")||null!=t.user&&null!=t.user.roles&&t.user.roles.includes("admin"))||t.allowedEdaAdvanceOptions.includes("conditionalFiltering")?"":"disable-Btn")}}function ye(t,e){if(1&t&&(u.Tb(0,"mat-option",47),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t.colName),u.Bb(1),u.Lc(t.colName)}}function Ce(t,e){1&t&&(u.Tb(0,"mat-hint"),u.Kc(1,"Note: Please select a target first."),u.Sb())}function De(t,e){if(1&t&&(u.Tb(0,"mat-option",47),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t.value),u.Bb(1),u.Lc(t.name)}}function Ie(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",137),u.Tb(1,"mat-form-field",116),u.Tb(2,"mat-label"),u.Kc(3,"Select method"),u.Sb(),u.Tb(4,"mat-select",117),u.ac("ngModelChange",(function(e){return u.wc(t),u.ec().$implicit.method=e})),u.Ic(5,De,2,2,"mat-option",44),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=u.ec(),e=t.$implicit,i=t.index,a=u.ec(2);u.Bb(4),u.kc("ngModel",e.method),u.Bb(1),u.kc("ngForOf",a.method[i])}}function we(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",137),u.Tb(1,"mat-form-field",116),u.Tb(2,"mat-label"),u.Kc(3,"Select value"),u.Sb(),u.Tb(4,"input",142),u.ac("ngModelChange",(function(e){return u.wc(t),u.ec().$implicit.value=e})),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=u.ec().$implicit;u.Bb(4),u.kc("ngModel",t.value)}}function ke(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",137),u.Tb(1,"mat-form-field",116),u.Tb(2,"mat-label"),u.Kc(3,"Select value"),u.Sb(),u.Tb(4,"input",143),u.ac("ngModelChange",(function(e){return u.wc(t),u.ec().$implicit.value=e})),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=u.ec().$implicit;u.Bb(4),u.kc("ngModel",t.value)}}function Be(t,e){if(1&t&&(u.Tb(0,"mat-option",47),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t),u.Bb(1),u.Lc(t)}}function Oe(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",137),u.Tb(1,"mat-form-field",116),u.Tb(2,"mat-label"),u.Kc(3,"Select value"),u.Sb(),u.Tb(4,"mat-select",117),u.ac("ngModelChange",(function(e){return u.wc(t),u.ec().$implicit.value=e})),u.Ic(5,Be,2,2,"mat-option",44),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=u.ec(),e=t.$implicit,i=t.index,a=u.ec(2);u.Bb(4),u.kc("ngModel",e.value),u.Bb(1),u.kc("ngForOf",a.class[i])}}function Fe(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",144),u.Tb(1,"button",145),u.Tb(2,"mat-icon",146),u.ac("click",(function(){u.wc(t);const e=u.ec().index;return u.ec(2).removeFilter(e)})),u.Kc(3,"close"),u.Sb(),u.Sb(),u.Sb()}}function _e(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",40),u.Tb(1,"div",137),u.Tb(2,"mat-form-field",116),u.Tb(3,"mat-label"),u.Kc(4,"Select feature"),u.Sb(),u.Tb(5,"mat-select",138),u.ac("ngModelChange",(function(i){return u.wc(t),e.$implicit.featureName=i}))("selectionChange",(function(i){u.wc(t);const a=e.index;return u.ec(2).onFeatureChange(i.value,a)})),u.Tb(6,"mat-option",139),u.Kc(7,"None"),u.Sb(),u.Ic(8,ye,2,2,"mat-option",44),u.Sb(),u.Ic(9,Ce,2,0,"mat-hint",5),u.Sb(),u.Sb(),u.Ic(10,Ie,6,2,"div",140),u.Ic(11,we,5,1,"div",140),u.Ic(12,ke,5,1,"div",140),u.Ic(13,Oe,6,2,"div",140),u.Ic(14,Fe,4,0,"div",141),u.Sb()}if(2&t){const t=e.$implicit,i=e.index,a=u.ec(2);u.Bb(5),u.kc("ngModel",t.featureName),u.Bb(3),u.kc("ngForOf",a.cFeatureList),u.Bb(1),u.kc("ngIf","clustering"!==a.project.type),u.Bb(1),u.kc("ngIf",t.featureName),u.Bb(1),u.kc("ngIf",t.featureName&&"Categorical"!=a.featureMethod[i].dataType&&"Datetime"!=a.featureMethod[i].dataType),u.Bb(1),u.kc("ngIf",t.featureName&&"Datetime"==a.featureMethod[i].dataType),u.Bb(1),u.kc("ngIf",t.featureName&&"Categorical"===a.featureMethod[i].dataType),u.Bb(1),u.kc("ngIf",i>0)}}function Ee(t,e){if(1&t){const t=u.Ub();u.Tb(0,"button",147),u.ac("click",(function(){u.wc(t);const e=u.ec(2),i=u.tc(50);return e.preview(i)})),u.Kc(1," Preview "),u.Sb()}}function xe(t,e){if(1&t&&(u.Tb(0,"mat-label",129),u.Kc(1," String Transformation"),u.Sb()),2&t){const t=u.ec(2);u.kc("matBadgeIcon",t.allowedEdaAdvanceOptions.includes("stringTransformation")?"":"PRO")("matTooltip",t._utils.getTootip("stringTransformation"))("ngClass","enterprise"===t.appType||"saas"===t.appType&&(null!=t.user&&null!=t.user.roles&&t.user.roles.includes("super_admin")||null!=t.user&&null!=t.user.roles&&t.user.roles.includes("admin"))||t.allowedEdaAdvanceOptions.includes("stringTransformation")?"":"disable-Btn")}}function Me(t,e){if(1&t&&(u.Tb(0,"mat-option",47),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t),u.Bb(1),u.Lc(t)}}function Ne(t,e){1&t&&(u.Tb(0,"mat-hint"),u.Kc(1,"Note: Please select a target first."),u.Sb())}function Pe(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",144),u.Tb(1,"button",145),u.Tb(2,"mat-icon",146),u.ac("click",(function(){u.wc(t);const e=u.ec().index;return u.ec(2).removeItem(e)})),u.Kc(3,"close"),u.Sb(),u.Sb(),u.Sb()}}function Ke(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",40),u.Tb(1,"div",137),u.Tb(2,"mat-form-field",116),u.Tb(3,"mat-label"),u.Kc(4,"Select feature"),u.Sb(),u.Tb(5,"mat-select",138),u.ac("ngModelChange",(function(i){return u.wc(t),e.$implicit.featureName=i}))("selectionChange",(function(e){return u.wc(t),u.ec(2).onStringFeatureChange(e.value)})),u.Tb(6,"mat-option",139),u.Kc(7,"None"),u.Sb(),u.Ic(8,Me,2,2,"mat-option",44),u.Sb(),u.Ic(9,Ne,2,0,"mat-hint",5),u.Sb(),u.Sb(),u.Tb(10,"div",137),u.Tb(11,"mat-form-field",116),u.Tb(12,"mat-label"),u.Kc(13,"From value"),u.Sb(),u.Tb(14,"input",148),u.ac("ngModelChange",(function(i){return u.wc(t),e.$implicit.fromText=i})),u.Sb(),u.Sb(),u.Sb(),u.Tb(15,"div",137),u.Tb(16,"mat-form-field",116),u.Tb(17,"mat-label"),u.Kc(18,"To value"),u.Sb(),u.Tb(19,"input",149),u.ac("ngModelChange",(function(i){return u.wc(t),e.$implicit.toText=i})),u.Sb(),u.Sb(),u.Sb(),u.Ic(20,Pe,4,0,"div",141),u.Sb()}if(2&t){const t=e.$implicit,i=e.index,a=u.ec(2);u.Bb(5),u.kc("ngModel",t.featureName),u.Bb(3),u.kc("ngForOf",a.feature),u.Bb(1),u.kc("ngIf","clustering"!==a.project.type),u.Bb(5),u.kc("ngModel",t.fromText),u.Bb(5),u.kc("ngModel",t.toText),u.Bb(1),u.kc("ngIf",i>0)}}function je(t,e){if(1&t&&(u.Tb(0,"mat-label",155),u.Kc(1,"Resampling"),u.Sb()),2&t){const t=u.ec(3);u.kc("matBadgeIcon",t.allowedEdaAdvanceOptions.includes("resampling")?"":"PRO")("ngClass","enterprise"===t.appType||"saas"===t.appType&&(null!=t.user&&null!=t.user.roles&&t.user.roles.includes("super_admin")||null!=t.user&&null!=t.user.roles&&t.user.roles.includes("admin"))||t.allowedEdaAdvanceOptions.includes("resampling")?"":"disable-Btn")("matTooltip",t._utils.getTootip("resampling"))}}function Ue(t,e){if(1&t&&(u.Tb(0,"mat-option",47),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t.value),u.Bb(1),u.Mc(" ",t.desc," ")}}function Ae(t,e){if(1&t&&(u.Tb(0,"mat-option",47),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t.value),u.Bb(1),u.Mc(" ",t.desc," ")}}function Le(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-form-field",156),u.Tb(1,"mat-label"),u.Kc(2,"Select method"),u.Sb(),u.Tb(3,"mat-select",117),u.ac("ngModelChange",(function(e){return u.wc(t),u.ec(3).aggregationFunction=e})),u.Ic(4,Ae,2,2,"mat-option",44),u.Sb(),u.Sb()}if(2&t){const t=u.ec(3);u.Bb(3),u.kc("ngModel",t.aggregationFunction),u.Bb(1),u.kc("ngForOf",t.methodConstants)}}function $e(t,e){if(1&t){const t=u.Ub();u.Tb(0,"button",147),u.ac("click",(function(){u.wc(t);const e=u.ec(3),i=u.tc(54);return e.resamplingPreview(i)})),u.Kc(1," Preview "),u.Sb()}}function ze(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-tab",150),u.Ic(1,je,2,3,"ng-template",15),u.Tb(2,"div",151),u.Tb(3,"mat-form-field",152),u.Tb(4,"mat-label"),u.Kc(5,"Select resampling frequency"),u.Sb(),u.Tb(6,"mat-select",153),u.ac("ngModelChange",(function(e){return u.wc(t),u.ec(2).resamplingMethod=e})),u.Ic(7,Ue,2,2,"mat-option",44),u.Sb(),u.Tb(8,"mat-hint"),u.Kc(9,"Note: Please select a date time index first."),u.Sb(),u.Sb(),u.Ic(10,Le,5,2,"mat-form-field",154),u.Ic(11,$e,2,0,"button",96),u.Sb(),u.Sb()}if(2&t){const t=u.ec(2);u.kc("disabled",!("saas"!==t.appType||null!=t.user&&null!=t.user.roles&&t.user.roles.includes("super_admin")||null!=t.user&&null!=t.user.roles&&t.user.roles.includes("admin")||t.allowedEdaAdvanceOptions.includes("resampling"))),u.Bb(6),u.kc("ngModel",t.resamplingMethod)("disabled",!t.resamplingConstants.length),u.Bb(1),u.kc("ngForOf",t.resamplingConstants),u.Bb(3),u.kc("ngIf",t.resamplingMethod),u.Bb(1),u.kc("ngIf",t.resamplingMethod&&t.aggregationFunction)}}const Re=function(){return{standalone:!0}};function qe(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-card",84),u.Tb(1,"mat-card-content"),u.Tb(2,"mat-tab-group",85),u.Ic(3,me,25,10,"mat-tab",86),u.Tb(4,"mat-tab",87),u.Ic(5,pe,2,3,"ng-template",15),u.Tb(6,"label",88),u.Kc(7),u.Sb(),u.Tb(8,"div"),u.Tb(9,"mat-slider",89),u.ac("ngModelChange",(function(e){return u.wc(t),u.ec().missingThreshold=e})),u.Sb(),u.Sb(),u.Sb(),u.Ic(10,Te,5,4,"mat-tab",90),u.Tb(11,"mat-tab",91),u.Ic(12,ve,2,3,"ng-template",15),u.Tb(13,"div",92),u.Ic(14,_e,15,8,"div",93),u.Tb(15,"button",94),u.ac("click",(function(){return u.wc(t),u.ec().addFilter()})),u.Tb(16,"mat-icon",95),u.Kc(17,"add"),u.Sb(),u.Kc(18,"Add "),u.Sb(),u.Ic(19,Ee,2,0,"button",96),u.Sb(),u.Sb(),u.Tb(20,"mat-tab",97),u.Ic(21,xe,2,3,"ng-template",15),u.Tb(22,"div",92),u.Ic(23,Ke,21,6,"div",93),u.Tb(24,"button",94),u.ac("click",(function(){return u.wc(t),u.ec().addItem()})),u.Tb(25,"mat-icon",95),u.Kc(26,"add"),u.Sb(),u.Kc(27,"Add "),u.Sb(),u.Sb(),u.Sb(),u.Ic(28,ze,12,6,"mat-tab",98),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=u.ec();u.Bb(3),u.kc("ngIf","clustering"!==t.project.type),u.Bb(1),u.kc("matTooltip",t._utils.getTootip("missingThreshold"))("disabled",!("saas"!==t.appType||null!=t.user&&null!=t.user.roles&&t.user.roles.includes("super_admin")||null!=t.user&&null!=t.user.roles&&t.user.roles.includes("admin")||t.allowedEdaAdvanceOptions.includes("missingThreshold"))),u.Bb(3),u.Mc("Select missing threshold: ",t.missingThreshold,"%"),u.Bb(2),u.kc("displayWith",t.formatLabel)("ngModel",t.missingThreshold)("ngModelOptions",u.mc(14,Re)),u.Bb(1),u.kc("ngIf","timeseries"!==t.project.type),u.Bb(1),u.kc("disabled",!("saas"!==t.appType||null!=t.user&&null!=t.user.roles&&t.user.roles.includes("super_admin")||null!=t.user&&null!=t.user.roles&&t.user.roles.includes("admin")||t.allowedEdaAdvanceOptions.includes("conditionalFiltering"))),u.Bb(3),u.kc("ngForOf",t.conditionalFilter),u.Bb(5),u.kc("ngIf",t.conditionalFilter[0]&&t.conditionalFilter[0].method||t.conditionalFilter.length>1),u.Bb(1),u.kc("disabled",!("saas"!==t.appType||null!=t.user&&null!=t.user.roles&&t.user.roles.includes("super_admin")||null!=t.user&&null!=t.user.roles&&t.user.roles.includes("admin")||t.allowedEdaAdvanceOptions.includes("stringTransformation"))),u.Bb(3),u.kc("ngForOf",t.stringTransformation),u.Bb(5),u.kc("ngIf","timeseries"===t.project.type)}}function Ve(t,e){if(1&t&&(u.Tb(0,"mat-label",157),u.Kc(1,"Summary"),u.Sb()),2&t){const t=u.ec();u.kc("matTooltip",t._utils.getTootip("edaSummary"))}}function Ge(t,e){if(1&t){const t=u.Ub();u.Tb(0,"p",158),u.ac("click",(function(){return u.wc(t),u.ec().downloadEdaSummary()})),u.Kc(1," Corrected Dataset"),u.Tb(2,"mat-icon",159),u.Kc(3,"file_download"),u.Sb(),u.Sb()}}function He(t,e){if(1&t&&(u.Tb(0,"th",162),u.Kc(1),u.Sb()),2&t){const t=u.ec().$implicit,e=u.ec();u.Bb(1),u.Mc(" ",e.generateProperColNames(t)," ")}}function We(t,e){if(1&t&&(u.Tb(0,"td",164),u.Kc(1),u.fc(2,"edaValueFormatter"),u.Sb()),2&t){const t=e.$implicit,i=u.ec(2).$implicit;u.Bb(1),u.Mc(" ",u.gc(2,1,t[i])," ")}}function Qe(t,e){1&t&&(u.Rb(0),u.Ic(1,We,3,3,"td",163),u.Qb())}function Ye(t,e){if(1&t){const t=u.Ub();u.Tb(0,"a",168),u.ac("click",(function(){u.wc(t);const e=u.ec().$implicit,i=u.ec(3),a=u.tc(52);return i.openDateFormatModal(a,e)})),u.Tb(1,"small",157),u.Kc(2,"Change date format"),u.Sb(),u.Sb()}if(2&t){const t=u.ec(4);u.Bb(1),u.kc("matTooltip",t._utils.getTootip("changeDateFormat"))}}function Je(t,e){if(1&t&&(u.Tb(0,"td",166),u.Kc(1),u.Ob(2,"br"),u.Ic(3,Ye,3,1,"a",167),u.Sb()),2&t){const t=e.$implicit,i=u.ec(2).$implicit,a=u.ec();u.kc("ngClass",a.getCustomStyle(t))("matTooltip",a.getTooltip(t)),u.Bb(1),u.Mc(" ",t[i]," "),u.Bb(2),u.kc("ngIf","Datetime"==t.dataType)}}function Xe(t,e){1&t&&(u.Rb(0),u.Ic(1,Je,4,4,"td",165),u.Qb())}function Ze(t,e){if(1&t&&(u.Tb(0,"mat-option",47),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t),u.Bb(1),u.Mc(" ",t," ")}}function ti(t,e){if(1&t){const t=u.Ub();u.Tb(0,"td",164),u.Tb(1,"mat-form-field",169),u.Tb(2,"mat-label"),u.Kc(3,"Select var type"),u.Sb(),u.Tb(4,"mat-select",170),u.ac("ngModelChange",(function(i){return u.wc(t),e.$implicit.customVarType=i}))("selectionChange",(function(){u.wc(t);const i=e.$implicit;return u.ec(3).varTypeChanged(i)})),u.Ic(5,Ze,2,2,"mat-option",44),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=e.$implicit,i=u.ec(3);u.Bb(4),u.kc("ngModel",t.customVarType)("matTooltip","Unstructured"===t.dataType?i._utils.getTootip("unstructuredFeature"):null)("disabled",i.disableDataType(t)),u.Bb(1),u.kc("ngForOf",i.getCustomVarTypes(t))}}function ei(t,e){1&t&&(u.Rb(0),u.Ic(1,ti,6,4,"td",163),u.Qb())}function ii(t,e){if(1&t&&(u.Tb(0,"mat-option",47),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t),u.Bb(1),u.Mc(" ",t," ")}}function ai(t,e){if(1&t&&(u.Tb(0,"p",173),u.Tb(1,"mat-hint"),u.Kc(2),u.Sb(),u.Sb()),2&t){const t=u.ec().$implicit,e=u.ec(3);u.Bb(2),u.Lc(e.getCustomStrategyError(t))}}function si(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-chip-list",174),u.Tb(1,"mat-chip",175),u.ac("click",(function(){u.wc(t);const e=u.ec().$implicit;return u.ec(3).imputationStrategyChanged(e)})),u.Kc(2),u.Sb(),u.Sb()}if(2&t){const t=u.ec().$implicit;u.Bb(2),u.Mc("Custom value : ",t.imputationCustomValue,"")}}function ni(t,e){if(1&t){const t=u.Ub();u.Tb(0,"td",164),u.Tb(1,"mat-form-field",169),u.Tb(2,"mat-label"),u.Kc(3,"Select strategy"),u.Sb(),u.Tb(4,"mat-select",170),u.ac("ngModelChange",(function(i){return u.wc(t),e.$implicit.imputationStrategy=i}))("selectionChange",(function(){u.wc(t);const i=e.$implicit;return u.ec(3).imputationStrategyChanged(i)})),u.Ic(5,ii,2,2,"mat-option",44),u.Sb(),u.Sb(),u.Ic(6,ai,3,1,"p",171),u.Ic(7,si,3,1,"mat-chip-list",172),u.Sb()}if(2&t){const t=e.$implicit,i=u.ec(3);u.Bb(4),u.kc("ngModel",t.imputationStrategy)("matTooltip","Unstructured"===t.dataType?i._utils.getTootip("unstructuredFeature"):null)("disabled","Unstructured"===t.dataType),u.Bb(1),u.kc("ngForOf",i.generateStrategyOptions(t)),u.Bb(1),u.kc("ngIf","Custom"===t.imputationStrategy||"Spline"===t.imputationStrategy||"Polynomial"===t.imputationStrategy),u.Bb(1),u.kc("ngIf",t.imputationCustomValue&&("Custom"===t.imputationStrategy||"Spline"===t.imputationStrategy||"Polynomial"===t.imputationStrategy))}}function oi(t,e){1&t&&(u.Rb(0),u.Ic(1,ni,8,6,"td",163),u.Qb())}function ri(t,e){if(1&t&&(u.Tb(0,"mat-option",47),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t),u.Bb(1),u.Mc(" ",t," ")}}function li(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-form-field",177),u.Tb(1,"mat-label"),u.Kc(2,"Select strategy"),u.Sb(),u.Tb(3,"mat-select",178),u.ac("ngModelChange",(function(e){return u.wc(t),u.ec().$implicit.outlierDetectionStrategy=e}))("selectionChange",(function(){u.wc(t);const e=u.ec().$implicit;return u.ec(3).outlierDetectionStrategyChanged(e)})),u.Ic(4,ri,2,2,"mat-option",44),u.Sb(),u.Sb()}if(2&t){const t=u.ec().$implicit,e=u.ec(3);u.Bb(3),u.kc("matTooltip","Unstructured"===t.dataType?e._utils.getTootip("unstructuredFeature"):null)("ngModel",t.outlierDetectionStrategy)("disabled","Unstructured"===t.dataType),u.Bb(1),u.kc("ngForOf",e.outlierDetectionStrategies)}}function ci(t,e){1&t&&(u.Tb(0,"p"),u.Kc(1," Supported for numeric feature only. "),u.Sb())}function ui(t,e){if(1&t&&(u.Tb(0,"td",164),u.Ic(1,li,5,4,"mat-form-field",176),u.Ic(2,ci,2,0,"p",5),u.Sb()),2&t){const t=e.$implicit;u.Bb(1),u.kc("ngIf","Integer"===t.dataType||"Decimal"===t.dataType),u.Bb(1),u.kc("ngIf","Integer"!==t.dataType&&"Decimal"!==t.dataType)}}function di(t,e){1&t&&(u.Rb(0),u.Ic(1,ui,3,2,"td",163),u.Qb())}function mi(t,e){if(1&t&&(u.Tb(0,"mat-option",47),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t),u.Bb(1),u.Mc(" ",t," ")}}function pi(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-form-field",177),u.Tb(1,"mat-label"),u.Kc(2,"Select strategy"),u.Sb(),u.Tb(3,"mat-select",178),u.ac("ngModelChange",(function(e){return u.wc(t),u.ec().$implicit.outlierCorrectionStrategy=e}))("selectionChange",(function(){u.wc(t);const e=u.ec().$implicit;return u.ec(3).outlierCorrectionStrategyChanged(e)})),u.Ic(4,mi,2,2,"mat-option",44),u.Sb(),u.Sb()}if(2&t){const t=u.ec().$implicit,e=u.ec(3);u.Bb(3),u.kc("matTooltip","Unstructured"===t.dataType?e._utils.getTootip("unstructuredFeature"):null)("ngModel",t.outlierCorrectionStrategy)("disabled","Unstructured"===t.dataType),u.Bb(1),u.kc("ngForOf",e.getOutlierCorrectionStrategies(t))}}function hi(t,e){if(1&t&&(u.Tb(0,"p",173),u.Tb(1,"mat-hint"),u.Kc(2),u.Sb(),u.Sb()),2&t){const t=u.ec().$implicit,e=u.ec(3);u.Bb(2),u.Lc(e.getCustomOutlierError(t))}}function bi(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-chip-list",174),u.Tb(1,"mat-chip",175),u.ac("click",(function(){u.wc(t);const e=u.ec().$implicit;return u.ec(3).outlierCorrectionStrategyChanged(e)})),u.Kc(2),u.Sb(),u.Sb()}if(2&t){const t=u.ec().$implicit;u.Bb(2),u.Mc("Custom value : ",t.ocsCustomValue,"")}}function gi(t,e){1&t&&(u.Tb(0,"p"),u.Kc(1," Supported for numeric feature only. "),u.Sb())}function fi(t,e){if(1&t&&(u.Tb(0,"td",164),u.Ic(1,pi,5,4,"mat-form-field",176),u.Ic(2,hi,3,1,"p",171),u.Ic(3,bi,3,1,"mat-chip-list",172),u.Ic(4,gi,2,0,"p",5),u.Sb()),2&t){const t=e.$implicit;u.Bb(1),u.kc("ngIf","Integer"===t.dataType||"Decimal"===t.dataType),u.Bb(1),u.kc("ngIf","Custom"===t.outlierCorrectionStrategy),u.Bb(1),u.kc("ngIf",t.ocsCustomValue&&"Custom"===t.outlierCorrectionStrategy),u.Bb(1),u.kc("ngIf","Integer"!==t.dataType&&"Decimal"!==t.dataType)}}function Si(t,e){1&t&&(u.Rb(0),u.Ic(1,fi,5,4,"td",163),u.Qb())}function Ti(t,e){if(1&t&&(u.Rb(0,160),u.Ic(1,He,2,1,"th",161),u.Ic(2,Qe,2,0,"ng-container",5),u.Ic(3,Xe,2,0,"ng-container",5),u.Ic(4,ei,2,0,"ng-container",5),u.Ic(5,oi,2,0,"ng-container",5),u.Ic(6,di,2,0,"ng-container",5),u.Ic(7,Si,2,0,"ng-container",5),u.Qb()),2&t){const t=e.$implicit;u.kc("matColumnDef",t)("sticky","colName"===t),u.Bb(2),u.kc("ngIf","dataType"!==t&&"colName"!==t&&"imputationStrategy"!==t&&"outlierDetectionStrategy"!==t&&"outlierCorrectionStrategy"!==t),u.Bb(1),u.kc("ngIf","colName"==t),u.Bb(1),u.kc("ngIf","dataType"==t),u.Bb(1),u.kc("ngIf","imputationStrategy"==t),u.Bb(1),u.kc("ngIf","outlierDetectionStrategy"==t),u.Bb(1),u.kc("ngIf","outlierCorrectionStrategy"==t)}}function vi(t,e){1&t&&u.Ob(0,"tr",179)}function yi(t,e){1&t&&u.Ob(0,"tr",180)}function Ci(t,e){if(1&t&&(u.Tb(0,"tr",181),u.Tb(1,"td",182),u.Kc(2),u.Sb(),u.Sb()),2&t){u.ec();const t=u.tc(31);u.Bb(2),u.Mc(' No data matching the filter "',t.value,'" ')}}function Di(t,e){if(1&t&&(u.Tb(0,"mat-label",157),u.Kc(1,"Imputation preview"),u.Sb()),2&t){const t=u.ec(2);u.kc("matTooltip",t._utils.getTootip("imputationPreview"))}}function Ii(t,e){if(1&t){const t=u.Ub();u.Tb(0,"p",158),u.ac("click",(function(){return u.wc(t),u.ec(2).downloadImputedDataset()})),u.Kc(1," Imputed Dataset"),u.Tb(2,"mat-icon",159),u.Kc(3,"file_download"),u.Sb(),u.Sb()}}function wi(t,e){if(1&t&&(u.Tb(0,"th",162),u.Kc(1),u.Sb()),2&t){const t=u.ec().$implicit;u.Bb(1),u.Mc(" ",t," ")}}function ki(t,e){if(1&t&&(u.Tb(0,"td",164),u.Kc(1),u.Sb()),2&t){const t=e.$implicit,i=u.ec().$implicit;u.Bb(1),u.Lc(t[i])}}function Bi(t,e){1&t&&(u.Rb(0,187),u.Ic(1,wi,2,1,"th",161),u.Ic(2,ki,2,1,"td",163),u.Qb()),2&t&&u.kc("matColumnDef",e.$implicit)}function Oi(t,e){1&t&&u.Ob(0,"tr",179)}function Fi(t,e){1&t&&u.Ob(0,"tr",180)}function _i(t,e){if(1&t&&(u.Tb(0,"td",182),u.Kc(1),u.Sb()),2&t){u.ec(2);const t=u.tc(7);u.Bb(1),u.Mc(' No data matching the filter "',t.value,'" ')}}function Ei(t,e){1&t&&(u.Tb(0,"td",182),u.Kc(1," No data available in table "),u.Sb())}function xi(t,e){if(1&t&&(u.Tb(0,"tr",181),u.Ic(1,_i,2,1,"td",188),u.Ic(2,Ei,2,0,"td",188),u.Sb()),2&t){u.ec();const t=u.tc(7);u.Bb(1),u.kc("ngIf",""!=t.value),u.Bb(1),u.kc("ngIf",""==t.value)}}function Mi(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-tab",183),u.Ic(1,Di,2,1,"ng-template",15),u.Tb(2,"div",16),u.Tb(3,"mat-form-field",17),u.Tb(4,"mat-label"),u.Kc(5,"Search"),u.Sb(),u.Tb(6,"input",18,19),u.ac("keyup",(function(e){return u.wc(t),u.ec().applyFilter(e,"imputation")})),u.Sb(),u.Sb(),u.Tb(8,"p"),u.Kc(9,"Note: Preview of first 5 records only"),u.Sb(),u.Ic(10,Ii,4,0,"p",20),u.Sb(),u.Tb(11,"div",21),u.Tb(12,"table",184,185),u.Ic(14,Bi,3,1,"ng-container",186),u.Ic(15,Oi,1,0,"tr",25),u.Ic(16,Fi,1,0,"tr",26),u.Ic(17,xi,3,2,"tr",27),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=u.ec();u.kc("matTooltip",t._utils.getTootip("imputationPreview")),u.Bb(10),u.kc("ngIf",t.previousEda),u.Bb(2),u.kc("dataSource",t.edaPreviewDataSource),u.Bb(2),u.kc("ngForOf",t.edaPreviewColumns),u.Bb(1),u.kc("matHeaderRowDef",t.edaPreviewColumns),u.Bb(1),u.kc("matRowDefColumns",t.edaPreviewColumns)}}function Ni(t,e){if(1&t&&(u.Tb(0,"mat-label",157),u.Kc(1,"Outlier preview"),u.Sb()),2&t){const t=u.ec(2);u.kc("matTooltip",t._utils.getTootip("outlierPreview"))}}function Pi(t,e){if(1&t&&(u.Tb(0,"th",162),u.Kc(1),u.Sb()),2&t){const t=u.ec().$implicit;u.Bb(1),u.Mc(" ",t," ")}}function Ki(t,e){if(1&t&&(u.Tb(0,"td",164),u.Kc(1),u.Sb()),2&t){const t=e.$implicit,i=u.ec().$implicit;u.Bb(1),u.Lc(t[i])}}function ji(t,e){1&t&&(u.Rb(0,187),u.Ic(1,Pi,2,1,"th",161),u.Ic(2,Ki,2,1,"td",163),u.Qb()),2&t&&u.kc("matColumnDef",e.$implicit)}function Ui(t,e){1&t&&u.Ob(0,"tr",179)}function Ai(t,e){1&t&&u.Ob(0,"tr",180)}function Li(t,e){if(1&t&&(u.Tb(0,"td",182),u.Kc(1),u.Sb()),2&t){u.ec(2);const t=u.tc(7);u.Bb(1),u.Mc(' No data matching the filter "',t.value,'" ')}}function $i(t,e){1&t&&(u.Tb(0,"td",182),u.Kc(1," No data available in table "),u.Sb())}function zi(t,e){if(1&t&&(u.Tb(0,"tr",181),u.Ic(1,Li,2,1,"td",188),u.Ic(2,$i,2,0,"td",188),u.Sb()),2&t){u.ec();const t=u.tc(7);u.Bb(1),u.kc("ngIf",""!=t.value),u.Bb(1),u.kc("ngIf",""==t.value)}}function Ri(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-tab",189),u.Ic(1,Ni,2,1,"ng-template",15),u.Tb(2,"div",16),u.Tb(3,"mat-form-field",17),u.Tb(4,"mat-label"),u.Kc(5,"Search"),u.Sb(),u.Tb(6,"input",18,19),u.ac("keyup",(function(e){return u.wc(t),u.ec().applyFilter(e,"outlier")})),u.Sb(),u.Sb(),u.Tb(8,"p"),u.Kc(9,"Note: Preview of first 5 records only"),u.Sb(),u.Tb(10,"p",158),u.ac("click",(function(){return u.wc(t),u.ec().downloadOutlierPreview()})),u.Kc(11," Outlier Preview"),u.Tb(12,"mat-icon",159),u.Kc(13,"file_download"),u.Sb(),u.Sb(),u.Sb(),u.Tb(14,"div",21),u.Tb(15,"table",184,190),u.Ic(17,ji,3,1,"ng-container",186),u.Ic(18,Ui,1,0,"tr",25),u.Ic(19,Ai,1,0,"tr",26),u.Ic(20,zi,3,2,"tr",27),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=u.ec();u.kc("matTooltip",t._utils.getTootip("outlierPreview")),u.Bb(15),u.kc("dataSource",t.edaOutlierDataSource),u.Bb(2),u.kc("ngForOf",t.edaOutlierColumns),u.Bb(1),u.kc("matHeaderRowDef",t.edaOutlierColumns),u.Bb(1),u.kc("matRowDefColumns",t.edaOutlierColumns)}}function qi(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",191),u.Tb(1,"button",192),u.ac("click",(function(){return u.wc(t),u.ec().startEda()})),u.Tb(2,"mat-icon"),u.Kc(3,"insights"),u.Sb(),u.Kc(4," Start EDA "),u.Sb(),u.Sb()}if(2&t){const t=u.ec();u.Bb(1),u.kc("disabled",t.edaForm.invalid||t.hideEdaButton)}}function Vi(t,e){if(1&t&&(u.Tb(0,"mat-list-item"),u.Tb(1,"mat-icon",200),u.Kc(2,"task_alt"),u.Sb(),u.Tb(3,"div",201),u.Kc(4),u.Sb(),u.Sb()),2&t){const t=e.$implicit;u.Bb(4),u.Lc(t.stageTitle)}}function Gi(t,e){if(1&t&&(u.Tb(0,"p",202),u.Kc(1),u.fc(2,"number"),u.Sb()),2&t){const t=u.ec(2);u.Bb(1),u.Mc(" EDA duration: ",u.hc(2,1,t.previousEda.edaDuration,"1.0-2")," sec ")}}function Hi(t,e){1&t&&(u.Tb(0,"button",203),u.Kc(1," Close "),u.Sb())}function Wi(t,e){1&t&&(u.Tb(0,"button",204),u.Kc(1," Continue "),u.Sb())}function Qi(t,e){if(1&t&&(u.Tb(0,"h2",193),u.Kc(1,"EDA Stages"),u.Sb(),u.Ob(2,"hr"),u.Tb(3,"mat-dialog-content",194),u.Tb(4,"mat-list"),u.Ic(5,Vi,5,1,"mat-list-item",195),u.Sb(),u.Sb(),u.Ob(6,"hr"),u.Ic(7,Gi,3,4,"p",196),u.Tb(8,"mat-dialog-actions",197),u.Ic(9,Hi,2,0,"button",198),u.Ic(10,Wi,2,0,"button",199),u.Sb()),2&t){const t=u.ec();u.Bb(5),u.kc("ngForOf",t.edaStages),u.Bb(2),u.kc("ngIf",t.edaCompleted),u.Bb(2),u.kc("ngIf",0==t.edaCompleted),u.Bb(1),u.kc("ngIf",1==t.edaCompleted)}}function Yi(t,e){if(1&t&&u.Ob(0,"input",210),2&t){const t=u.ec(3);u.kc("formControl",t.customStrategyControl)}}function Ji(t,e){if(1&t&&u.Ob(0,"input",210),2&t){const t=u.ec(3);u.kc("formControl",t.polynomialOrderControl)}}function Xi(t,e){if(1&t&&u.Ob(0,"input",210),2&t){const t=u.ec(3);u.kc("formControl",t.splineOrderControl)}}function Zi(t,e){if(1&t&&(u.Tb(0,"div"),u.Ic(1,Yi,1,1,"input",209),u.Ic(2,Ji,1,1,"input",209),u.Ic(3,Xi,1,1,"input",209),u.Sb()),2&t){const t=u.ec(2);u.Bb(1),u.kc("ngIf","Custom"===t.selectedOption.imputationStrategy),u.Bb(1),u.kc("ngIf","Polynomial"===t.selectedOption.imputationStrategy),u.Bb(1),u.kc("ngIf","Spline"===t.selectedOption.imputationStrategy)}}function ta(t,e){if(1&t&&u.Ob(0,"input",212),2&t){const t=u.ec(3);u.kc("formControl",t.customStrategyControl)}}function ea(t,e){if(1&t&&u.Ob(0,"input",212),2&t){const t=u.ec(3);u.kc("formControl",t.customCorrectionControl)}}function ia(t,e){if(1&t&&(u.Tb(0,"div"),u.Ic(1,ta,1,1,"input",211),u.Ic(2,ea,1,1,"input",211),u.Sb()),2&t){const t=u.ec(2);u.Bb(1),u.kc("ngIf",!t.isOutlierCustom),u.Bb(1),u.kc("ngIf",t.isOutlierCustom)}}function aa(t,e){if(1&t){const t=u.Ub();u.Tb(0,"h1",193),u.Kc(1),u.Sb(),u.Tb(2,"mat-dialog-content"),u.Tb(3,"mat-form-field"),u.Tb(4,"mat-label"),u.Kc(5),u.Sb(),u.Ic(6,Zi,4,3,"div",5),u.Ic(7,ia,3,2,"div",5),u.Ob(8,"input",205),u.Sb(),u.Sb(),u.Tb(9,"mat-dialog-actions",206),u.Tb(10,"button",207),u.ac("click",(function(){u.wc(t);const i=e.$implicit,a=u.ec();return a.closeCustomDialog(a.selectedOption,i)})),u.Kc(11,"Cancel"),u.Sb(),u.Tb(12,"button",208),u.ac("click",(function(){u.wc(t);const e=u.ec();return e.submitCustomStrategies(e.selectedOption)})),u.Kc(13," Submit "),u.Sb(),u.Sb()}if(2&t){const t=e.$implicit,i=u.ec();u.Bb(1),u.Nc(" ",i.getDialogHeading(i.selectedOption)," ",t," "),u.Bb(4),u.Lc("Custom"===i.selectedOption.imputationStrategy||"Custom"===i.selectedOption.outlierCorrectionStrategy?"Enter custom value":"Enter order value"),u.Bb(1),u.kc("ngIf",i.showNumberInput),u.Bb(1),u.kc("ngIf",i.showTextInput&&("Custom"===i.selectedOption.imputationStrategy||"Custom"===i.selectedOption.outlierCorrectionStrategy)),u.Bb(1),u.kc("hidden",!0)}}function sa(t,e){1&t&&(u.Tb(0,"div",217),u.Kc(1," Note : It is recommended to have more number of data points for model creation "),u.Sb())}function na(t,e){if(1&t){const t=u.Ub();u.Tb(0,"ag-grid-angular",218,219),u.ac("gridReady",(function(e){return u.wc(t),u.ec(2).gridReady(e,"conditional")})),u.Sb()}if(2&t){const t=u.ec(2);u.kc("rowData",t.previewrowData)("gridOptions",t.gridOptions)}}function oa(t,e){if(1&t&&(u.Tb(0,"h2",193),u.Kc(1,"Preview"),u.Sb(),u.Tb(2,"mat-dialog-content",213),u.Ic(3,sa,2,0,"div",214),u.Tb(4,"table",215),u.Tb(5,"thead"),u.Tb(6,"tr"),u.Tb(7,"th"),u.Kc(8,"Rows"),u.Sb(),u.Tb(9,"th"),u.Kc(10,"Columns"),u.Sb(),u.Sb(),u.Sb(),u.Tb(11,"tbody"),u.Tb(12,"tr"),u.Tb(13,"td"),u.Kc(14),u.Sb(),u.Tb(15,"td"),u.Kc(16),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Ob(17,"mat-divider"),u.Ic(18,na,2,2,"ag-grid-angular",216),u.Sb(),u.Tb(19,"mat-dialog-actions",206),u.Tb(20,"button",203),u.Kc(21,"Close"),u.Sb(),u.Sb()),2&t){const t=u.ec();u.Bb(3),u.kc("ngIf",t.conditionalrow<200),u.Bb(11),u.Lc(t.conditionalrow),u.Bb(2),u.Lc(t.conditionalColumn),u.Bb(2),u.kc("ngIf",t.previewrowData)}}function ra(t,e){if(1&t&&(u.Tb(0,"mat-option",47),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t.value),u.Bb(1),u.Mc(" ",t.date," ")}}function la(t,e){if(1&t){const t=u.Ub();u.Tb(0,"h2",193),u.Kc(1,"Change Date format"),u.Sb(),u.Tb(2,"mat-dialog-content",213),u.Tb(3,"mat-form-field",116),u.Tb(4,"mat-label"),u.Kc(5,"Select a Date format"),u.Sb(),u.Tb(6,"mat-select",220),u.ac("ngModelChange",(function(e){return u.wc(t),u.ec().selectedOption.dateFormat=e})),u.Ic(7,ra,2,2,"mat-option",44),u.Sb(),u.Sb(),u.Sb(),u.Tb(8,"mat-dialog-actions",206),u.Tb(9,"button",203),u.Kc(10,"Close"),u.Sb(),u.Tb(11,"button",208),u.ac("click",(function(){u.wc(t);const e=u.ec();return e.verifyDateFormat(e.selectedOption)})),u.Kc(12," Submit "),u.Sb(),u.Sb()}if(2&t){const t=u.ec();u.Bb(6),u.kc("ngModel",t.selectedOption.dateFormat),u.Bb(1),u.kc("ngForOf",t.dateFormat)}}function ca(t,e){if(1&t){const t=u.Ub();u.Tb(0,"ag-grid-angular",218,219),u.ac("gridReady",(function(e){return u.wc(t),u.ec(2).gridReady(e,"resampling")})),u.Sb()}if(2&t){const t=u.ec(2);u.kc("rowData",t.resamplepreviewrowData)("gridOptions",t.gridOptions)}}function ua(t,e){if(1&t&&(u.Tb(0,"h2",193),u.Kc(1,"Preview"),u.Sb(),u.Tb(2,"mat-dialog-content",213),u.Tb(3,"table",215),u.Tb(4,"thead"),u.Tb(5,"tr"),u.Tb(6,"th"),u.Kc(7,"Rows"),u.Sb(),u.Tb(8,"th"),u.Kc(9,"Columns"),u.Sb(),u.Sb(),u.Sb(),u.Tb(10,"tbody"),u.Tb(11,"tr"),u.Tb(12,"td"),u.Kc(13),u.Sb(),u.Tb(14,"td"),u.Kc(15),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Ob(16,"mat-divider"),u.Ic(17,ca,2,2,"ag-grid-angular",216),u.Sb(),u.Tb(18,"mat-dialog-actions",206),u.Tb(19,"button",203),u.Kc(20,"Close"),u.Sb(),u.Sb()),2&t){const t=u.ec();u.Bb(13),u.Lc(t.resampledRow),u.Bb(2),u.Lc(t.resampledColumn),u.Bb(2),u.kc("ngIf",t.resamplepreviewrowData)}}const da=i("Ycxt"),ma=["colName","dataType","imputationStrategy","frequency","missing","unique","max","median","min","std","mean","outlierDetectionStrategy","outlierCorrectionStrategy","outlierCount"];let pa=(()=>{class t{constructor(t,e,i,a,n,o,c,u,d,m,p,h,b,g,f){var S,T;this._fb=t,this._spinner=e,this._localStorage=i,this._toaster=a,this._data=n,this._dialog=o,this._eda=c,this._router=u,this._socket=d,this._snackBar=m,this._window=p,this._utils=h,this._training=b,this._textAnalysis=g,this._cd=f,this.dataSource=new l.p,this.displayedColumns=[],this.edaDisplayedColumns=[],this.edaPreviewColumns=[],this.edaOutlierColumns=[],this.pageSizeOptions=[10,15,20],this.color="primary",this.mode="indeterminate",this.diameter=100,this.exportProjectDiameter=50,this.unsubscribe$=new r.b,this.method=[],this.class=[],this.featureMethod=[],this.customStrategyControl=new s.i("",s.I.required),this.polynomialOrderControl=new s.i("",s.I.required),this.splineOrderControl=new s.i("",s.I.required),this.customCorrectionControl=new s.i("",s.I.required),this.targetControl=new s.i("",s.I.required),this.timeseriesIds=new s.i("",s.I.required),this.holdoutFilename=new s.i("",s.I.required),this.trainDataset=!0,this.devDataset=!1,this.testDataset=!0,this.taFeatureConfig=[],this.showEdaButton=!0,this.timeseriesGroupList=[],this.dateFormat=[{date:"%d-%m-%Y (Eg. 01-02-2022)",value:"%d-%m-%Y"},{date:"%Y-%d-%m (Eg. 2022-01-02)",value:"%Y-%d-%m"},{date:"%Y-%m-%d (Eg. 2022-02-01)",value:"%Y-%m-%d"},{date:"%m-%d-%Y (Eg. 02-01-2022)",value:"%m-%d-%Y"},{date:"%d-%m-%y (Eg. 01-02-2022)",value:"%d-%m-%y"},{date:"%y-%d-%m (Eg. 2022-01-02)",value:"%y-%d-%m"},{date:"%y-%m-%d (Eg. 2022-02-01)",value:"%y-%m-%d"},{date:"%m-%d-%y (Eg. 02-01-2022)",value:"%m-%d-%y"}],this.eda_stages=[{stageTitle:"Calculating missing values",status:!1,stage:0},{stageTitle:"Calculating statistical details",status:!1,stage:0},{stageTitle:"Implementing strategies for missing values",status:!1,stage:0},{stageTitle:"Handling outliers",status:!1,stage:0},{stageTitle:"Generating EDA summary",status:!1,stage:0},{stageTitle:"Finalizing EDA...",status:!1,stage:0}],this.Numeric=[{name:"Equal To",value:"equalTo"},{name:"Greater Than",value:"greaterThan"},{name:"Less Than",value:"lessThan"},{name:"Greater Than Equal",value:"greaterThanEqual"},{name:"Less Than Equal",value:"lessThanEqual"},{name:"Remove Number",value:"removeNumber"}],this.DateTime=[{name:"Date Equal To",value:"dateEqualTo"},{name:"Date Greater Than Equal",value:"dateGreaterThanEqual"},{name:"Date Less Than Equal",value:"dateLessThanEqual"},{name:"Date Greater Than",value:"dateGreaterThan"},{name:"Date Less Than",value:"dateLessThan"}],this.Text=[{name:"Remove Text",value:"removeText"}],this.Categorical=[{name:"Equal Class",value:"equalClass"},{name:"Remove Class",value:"removeClass"}],this.outlierDetectionStrategies=["Z-score","Inter-Quartile Range","Factor Method"],this.outlierCorrectionStrategies=["Ignore outlier","Lower bound","Upper bound","Mean","Median","Custom","Delete data"],this.showAdvanceOptions=!1,this.showTargetOptions=!1,this.trainSize=0,this.devSize=0,this.holdoutSize=0,this.dataSetsList=[],this.imputationFeatures=[],this.numericFeatures=[],this.finalFeatureList=[],this.feature=[],this.stringTransformation=[{featureName:"",fromText:"",toText:""}],this.conditionalFilter=[{featureName:"",method:"",value:[]}],this.edaMode=null,this.featureDataTypes=[],this.multiUniFeatures=[],this.allFeatures=[],this.missingThreshold=50,this.showSpinner=!1,this.edaStages=[],this.isEdaStarted=!1,this.edaCompleted=!1,this.showNumberInput=!1,this.showTextInput=!1,this.customEdaStrategyObject={},this.customCorrectionStrategyObject={},this.isOutlierCustom=!1,this.showError=!1,this.hideEdaButton=!1,this.polynomialOrderObject={},this.splineOrderObject={},this.backGround="#ffffff",this.foreGround="#08509d",this.allowedEdaAdvanceOptions=null,this.appType=tt.a.appType,this.resizeEvent="resize.ag-grid",this.splitDateWise=!1,this.methodConstants=et.b,this.resamplingConstants=[],this.resampleError=!1,this.dataSource=new l.p,this.edaDataSource=new l.p,this.edaPreviewDataSource=new l.p,this.edaOutlierDataSource=new l.p,this.project=this._localStorage.getItem("project"),this.user=this._localStorage.getItem("user"),this.allowedEdaAdvanceOptions=(null===(T=null===(S=this.user)||void 0===S?void 0:S.psFeatures)||void 0===T?void 0:T.allowedFeaturesList)||[],this.edaForm=this._fb.group({selectedDataset:["",s.I.required],datetimeIndex:["","timeseries"===this.project.type?s.I.required:""]}),this.imputationFeatureForm=this._fb.group({imputationFeatureControl:["",s.I.nullValidator],featuresToImputeControl:["",s.I.nullValidator]}),"predictive_modeling"==this.project.type?(this.trainSize=70,this.devSize=0,this.holdoutSize=30):"timeseries"==this.project.type&&(this.trainSize=80,this.holdoutSize=20)}ngOnInit(){this._spinner.showSpinner(),this.initSocket(),this.getAllFiles(),this.splitDateWise=!1,this.edaDisplayedColumns=this.generateEdaColums()}getAllFiles(){this._data.getAllProjectDatas(this.project._id).pipe(Object(o.a)(this.unsubscribe$)).subscribe(t=>{t?t[0].filesList.length&&(this.dataSetsList=t[0].filesList.filter(t=>"upload_retrained"!=t.fileSource),console.log("\u{1f680} ~ this.dataSetsList ----\x3e",this.dataSetsList),this.previousEdaDetails("fromNgInit")):this._toaster.error("Cannot fetch files list","EDA"),this._spinner.stopSpinner()},t=>{this._spinner.stopSpinner(),this._toaster.error("Server Error","EDA")})}startEda(t){var e;let i;if(this.edaCompleted=!1,"snackbarcall"==t&&(this.showEdaButton=!0),this.snackBarRef&&this.snackBarRef.dismiss(),i=this.validateEdaForm(),!i){let t;this._spinner.showSpinner(),this.initEdaStages(),this.isEdaStarted=!0,this.showEdaProgress();let i={edaMode:this.edaMode,strategies:this.finalFeatureList,missingThreshold:this.missingThreshold,pId:this.project._id,isMultilabel:this.isMultilabel,fileId:this.selectedDataSet._id,dataSetInfo:{trainSize:this.trainSize,devSize:this.devSize||null,holdoutSize:this.holdoutSize||null,holdoutFilename:this.holdoutFilename.value||"none"},customEdaStrategy:this.customEdaStrategyObject,customCorrectionStrategy:this.customCorrectionStrategyObject,imputationFeature:this.imputationFeatureForm.get("imputationFeatureControl").value.length?this.imputationFeatureForm.get("imputationFeatureControl").value[0]:null,featuresToImpute:this.imputationFeatureForm.get("featuresToImputeControl").value||null,afterEdaDataFilePath:(null===(e=this.edaData)||void 0===e?void 0:e.afterEdaDataFilePath)||null,filePath:this.selectedDataSet.name,fileEncoding:this.selectedDataSet.fileEncoding||"utf_8",parentPipelineFilename:this.selectedDataSet.tasks[0].currentPipelineFilename||null,parentFileId:this.selectedDataSet._id,usingGPU:this.project.useGPU||!1,edaConditionalFiltering:this.conditionalFilter,stringTransformation:this.stringTransformation};if("predictive_modeling"==this.project.type?(i.classNames=this.classNames,i.algoType=this.algoType):"clustering"==this.project.type&&(i.algoType="clustering"),"clustering"!==this.project.type&&(i.depVariable=this.targetControl.value.colName||null),i.dataSetInfo.trainSize=!0===this.trainDataset?this.trainSize:null,i.dataSetInfo.devSize=!0===this.devDataset?this.devSize:null,i.dataSetInfo.holdoutSize=!0===this.testDataset?this.holdoutSize:null,i.dataSetInfo.splitDateWise=this.splitDateWise,i.dataSetInfo.SplitDatasetFeature=this.SplitDatasetFeature,i.isMultipleTimeseries=this.multipleTimeseriesId,i.timeseriesIds="True"===this.multipleTimeseriesId?this.timeseriesIds.value:"none",t=i,""==this.stringTransformation[0].featureName||""==this.stringTransformation[0].fromText||""==this.stringTransformation[0].toText)delete t.stringTransformation;else{let e=this.stringTransformation.filter(t=>{if(""!=t.featureName&&""!==t.fromText&&""!==t.toText)return t});t.stringTransformation=e}if(""==this.conditionalFilter[0].featureName||""==this.conditionalFilter[0].method||""===this.conditionalFilter[0].value)delete t.edaConditionalFiltering,this.featureMethod=[],this.conditionalFilter=[{featureName:"",method:"",value:[]}];else{this.conditionalFilter=this.conditionalFilter.filter((function(t){if(""!=t.featureName&&""!=t.method&&""!==t.value)return t}));let e=[];this.conditionalFilter.map(t=>{let i=this.featureMethod.find(e=>e.colName==t.featureName);i&&e.push(i)}),this.featureMethod=[],this.featureMethod=e,t.edaConditionalFiltering=this.conditionalFilter}t.imputationFeature||(t.featuresToImpute=null),"timeseries"===this.project.type&&(t.timeseriesInfo={datetimeIndex:this.edaForm.get("datetimeIndex").value},t.polynomialOrder=this.polynomialOrderObject,t.splineOrder=this.splineOrderObject,t.resampling={resamplingMethod:this.resamplingMethod,aggregationFunction:this.aggregationFunction},t.resampling.resamplingMethod||(t.resampling="None"),t.resampling.resamplingMethod&&!t.resampling.aggregationFunction&&(t.resampling="None")),this._eda.startEda(this.project._id,t).pipe(Object(o.a)(this.unsubscribe$)).subscribe(t=>{t?this._toaster.info("EDA execution started","EDA"):this._toaster.error("Cannot start EDA","EDA"),this._spinner.stopSpinner()},t=>{var e;this.isEdaStarted=!1,this._dialog.closeAll(),this._spinner.stopSpinner(),this._toaster.error(null===(e=null==t?void 0:t.error)||void 0===e?void 0:e.message,"EDA")})}}validateEdaForm(){let t=!1;return"timeseries"===this.project.type?(this.edaForm.get("datetimeIndex").value||(this.snackBarRef=this._snackBar.open("Please select the index.","OK",{verticalPosition:"bottom",horizontalPosition:"end"}),t=!0),this.targetControl.value||(this.snackBarRef=this._snackBar.open("Please select the target.","OK",{verticalPosition:"bottom",horizontalPosition:"end"}),t=!0),"True"!==this.multipleTimeseriesId||this.timeseriesIds.value||(this.snackBarRef=this._snackBar.open("Please select the timeseries identifiers.","OK",{verticalPosition:"bottom",horizontalPosition:"end"}),t=!0),"True"!==this.multipleTimeseriesId||this.timeseriesIds.value.length||(this._snackBar.open("Please select timeseries identifiers.","OK",{horizontalPosition:"right",verticalPosition:"bottom"}),t=!0),this.trainSize+this.holdoutSize!==100&&(this.snackBarRef=this._snackBar.open("Sum of split dataset slider values must be 100%","OK",{verticalPosition:"bottom",horizontalPosition:"end"}),t=!0)):"predictive_modeling"===this.project.type&&(this.targetControl.value||(this.snackBarRef=this._snackBar.open("Please select the target.","OK",{verticalPosition:"bottom",horizontalPosition:"end"}),t=!0)),"clustering"!==this.project.type&&(this.trainSize+this.holdoutSize+this.devSize!==100&&(this.snackBarRef=this._snackBar.open("Sum of split dataset slider values must be 100%","OK",{verticalPosition:"bottom",horizontalPosition:"end"}),t=!0),this.devDataset&&this.devSize<=0&&(this.snackBarRef=this._snackBar.open("Development dataset value cannot be zero or negative, if selected","OK"),t=!0),0===this.holdoutSize&&(this.snackBarRef=this._snackBar.open("Test dataset (hold out) value cannot be zero","OK"),t=!0),!0===this.splitDateWise&&void 0===this.SplitDatasetFeature&&(this.snackBarRef=this._snackBar.open("Please select date feature to split dataset","OK"),t=!0)),t}initEdaStages(){this.edaStages=[{stageTitle:"Calculating missing values",status:!1}]}showEdaProgress(){this._dialog.open(this.edaProgressTemp,{width:"450px",minWidth:"0px"})}dataPreviewHandler(t){this.showSpinner=!0,this.openDialog("preview",t,{dataId:t,pid:this.project._id})}openEDAReportModal(){this._dialog.open(X.a,{width:"80%",data:{moduleName:"eda",edaReportData:{projectId:this.project._id,edaId:this.edaData._id,currentPipelineFilename:this.edaData.tasks[0].currentPipelineFilename,currentEdaId:this.edaData._id}}})}onChangeDataset(t,e){var i,s,n;return Object(a.a)(this,void 0,void 0,(function*(){this._spinner.showSpinner();for(let t in this.customEdaStrategyObject)delete this.customEdaStrategyObject[t];if(this.snackBarRef&&this.snackBarRef.dismiss(),this.edaPreviewColumns=[],this.edaDataSource.data=[],this.edaDataSource._updateChangeSubscription(),this.edaOutlierColumns=[],this.imputationFeatures=[],this.numericFeatures=[],this.feature=[],this.customStrategyControl.reset(this.customStrategyControl.value),this.customCorrectionControl.reset(this.customCorrectionControl.value),"predictive_modeling"==this.project.type?(this.devDataset=!1,this.trainSize=70,this.devSize=0,this.holdoutSize=30):"timeseries"==this.project.type&&(this.trainSize=80,this.holdoutSize=20),this.resamplingMethod="",this.aggregationFunction="",this.conditionalFilter=[{featureName:"",method:"",value:""}],this.stringTransformation=[{featureName:"",fromText:"",toText:""}],this.timeseriesIds.reset(),console.log("\u{1f680} ~ dataSetsList ----\x3e",this.dataSetsList),console.log("\u{1f680} ~ dataSetId ----\x3e",t),this.selectedDataSet=this.dataSetsList.find(e=>e._id===t),"timeseries"===this.project.type&&this.selectedDataSet.fileSchema.map(t=>{let e=this.selectedDataSet.descriptiveStatistics.filter(e=>t.colName===e.colName);e&&(t.unidistant_date=e[0].unidistant_date)}),this.splitDateFeaturesList=this.selectedDataSet.fileSchema.filter(t=>"Datetime"===t.dataType),"fc"!==e&&this.previousEdaDetails(),this.edaForm.get("selectedDataset").setValue(t),this.finalFeatureList=this.selectedDataSet.fileSchema,this.finalFeatureList.filter(t=>{if("Categorical"===t.dataType||"Text"===t.dataType)return t}).forEach(t=>"Unstructured"!==t.dataType&&this.feature.push(t.colName)),this.finalFeatureList.map(t=>(t.outlierDetectionStrategy="Inter-Quartile Range",t.outlierCorrectionStrategy="Ignore outlier",t.isVarTypeChanged=!1,t.customVarType=t.dataType,"Decimal"===t.dataType?(t.imputationStrategy="timeseries"===this.project.type?"Linear":"Mean",this.numericFeatures.push({numericFeature:t.colName})):"Integer"===t.dataType?(t.imputationStrategy="timeseries"===this.project.type?"Linear":"Median",this.numericFeatures.push({numericFeature:t.colName})):t.imputationStrategy="Datetime"===t.dataType||"Text"===t.dataType?"Delete":"Mode","Categorical"!==t.dataType&&"Boolean"!==t.dataType||this.imputationFeatures.push({imputationFeature:t.colName}),t)),this.finalFeatureList.map(t=>("Datetime"===t.dataType&&(t.dateFormat=""),t)),this.edaData=yield this.getChildDataset(this.selectedDataSet.ProjectId,t).catch(t=>{this._toaster.error(`Error - ${t.message}.`,"Eda")}),this.edaData[0].hasOwnProperty("currentEdaId"))this.edaData=this.edaData[0].currentEdaId,"timeseries"===this.project.type&&(this.edaData.timeseriesInfo?this.edaForm.get("datetimeIndex").setValue(this.edaData.timeseriesInfo.datetimeIndex):this.edaForm.get("datetimeIndex").setValue(null)),this.edaData.edaSummary[0].hasOwnProperty("isVarTypeChanged")||this.edaData.edaSummary.map(t=>(t.isVarTypeChanged=!1,t.missing=t.hasOwnProperty("missingCount")?t.missingCount:t.missing,t)),this.edaData.edaSummary.forEach(t=>{"Spline"===t.imputationStrategy&&(this.splineOrderControl.setValue(t.splineOrder),t.imputationCustomValue=t.splineOrder),"Polynomial"===t.imputationStrategy&&(this.polynomialOrderControl.setValue(t.polynomialOrder),t.imputationCustomValue=t.polynomialOrder)}),this.finalFeatureList=this.edaData.edaSummary,this.buildEdaStrategyTable(this.edaData.edaSummary,"after_eda"),this.buildEdaPreviewTable(this.edaData),this.edaData.outlierPreviewFilepath&&this.buildOutlierPreviewTable(this.edaData);else{this.edaData=[],this.edaMode="auto","timeseries"===this.project.type&&this.edaForm.get("datetimeIndex").setValue(null),this.selectedDataSet.fileSchema=this.finalFeatureList;let t=yield this.mergeArrays(this.selectedDataSet);this.buildEdaStrategyTable(t.fileSchema,"before_eda")}this.targetFeature=[],this.targetFeature=yield this.getTargetList(this.selectedDataSet).catch(t=>{this._toaster.error("Error - "+t.message,"Eda")}),this.targetFeature=this.targetFeature.filter(t=>"Unstructured"!==t.dataType);let o=[];if(this.taFeatureConfig.length&&(this.taFeatureConfig.map(t=>{o.push(...t.newFeature)}),this.targetFeature=this.targetFeature.filter(t=>!o.includes(t.colName))),"timeseries"==this.project.type&&(this.targetFeature=this.targetFeature.filter(t=>{if("Integer"==t.dataType||"Decimal"==t.dataType)return t})),this.previousEda&&this.previousEda.hasOwnProperty("depVariable")){let t=this.targetFeature.filter(t=>{if(t.colName==this.previousEda.depVariable)return t});if(this.splitDateWise=this.previousEda.dataSetInfo.splitDateWise,this.SplitDatasetFeature=this.previousEda.dataSetInfo.SplitDatasetFeature,this.trainSize=this.previousEda.dataSetInfo.trainSize||70,this.holdoutSize=this.previousEda.dataSetInfo.holdoutSize||30,this.previousEda.dataSetInfo.devSize>0&&(this.devDataset=!0,this.devSize=this.previousEda.dataSetInfo.devSize),this.targetControl.setValue(t[0]),"timeseries"===this.project.type){this.multipleTimeseriesId=yield this.isMultiTimeseries(this.selectedDataSet);const t=this.selectedDataSet.descriptiveStatistics.find(t=>t.colName===this.edaForm.get("datetimeIndex").value);let e=String(t.frequency.split("(")[0]).replace(" ","");const a=null===(i=et.e.find(t=>t.value===e))||void 0===i?void 0:i.index;e?this.resamplingConstants=et.e.filter(t=>t.index>a):this.resamplingConstants.length=0,null!==this.previousEda.timeseriesIds&&this.timeseriesIds.setValue(this.previousEda.timeseriesIds),"None"!==this.previousEda.resampling&&(this.resamplingMethod=null===(s=this.previousEda.resampling)||void 0===s?void 0:s.resamplingMethod,this.aggregationFunction=null===(n=this.previousEda.resampling)||void 0===n?void 0:n.aggregationFunction)}this.targetChangeHandler(t[0]).then(t=>Object(a.a)(this,void 0,void 0,(function*(){let e=t;if(this.previousEda.hasOwnProperty("edaConditionalFiltering")){let t;this.previousEda.edaConditionalFiltering.forEach(i=>{t=e.filter(t=>{if(t.colName==i.featureName)return t}),this.featureMethod.push(t[0])});for(let e=0;e<this.previousEda.edaConditionalFiltering.length;e++)if("Integer"==this.previousEda.edaConditionalFiltering[e].dataType||"Decimal"==this.previousEda.edaConditionalFiltering[e].dataType)this.method[e]=this.Numeric;else if("Datetime"==this.previousEda.edaConditionalFiltering[e].dataType)this.method[e]=this.DateTime;else if("Text"==this.previousEda.edaConditionalFiltering[e].dataType)this.method[e]=this.Text;else if("Categorical"==this.previousEda.edaConditionalFiltering[e].dataType){this.method[e]=this.Categorical;let t=yield this.getUniqueClass(this.previousEda.edaConditionalFiltering[e].featureName).catch(t=>{this._toaster.error("Error - "+t.message,"Eda")});this.class[e]=t.body}this.conditionalFilter=this.previousEda.edaConditionalFiltering}this.previousEda.hasOwnProperty("stringTransformation")&&this.previousEda.stringTransformation.length&&(this.stringTransformation=this.previousEda.stringTransformation),"timeseries"==this.project.type&&this.previousEda.isMultipleTimeseries&&this.timeseriesChangeHandler(this.timeseriesIds.value)})))}this._spinner.stopSpinner()}))}onThresholdChange(t){return Object(a.a)(this,void 0,void 0,(function*(){yield this.getTargetList()}))}targetChangeHandler(t){return Object(a.a)(this,void 0,void 0,(function*(){yield this.getTargetDeatils(),this._spinner.showSpinner(),"True"===this.multipleTimeseriesId&&(this.timeseriesGroupList=[],this.timeseriesGroupList=this.finalFeatureList.filter(t=>("Integer"===t.dataType||"Boolean"===t.dataType||"Categorical"===t.dataType)&&t.colName!==this.targetControl.value.colName&&"Unstructured"!==t.dataType&&t.unique>1)),this.featureDataTypes=[],this.finalFeatureList.forEach(t=>{let e={colName:t.colName,data:t.dataType,multivariateDataType:t.dataType};-1===this.featureDataTypes.indexOf(e)&&this.featureDataTypes.push(e)}),this.conditionalFeatureList=this.finalFeatureList.filter(t=>{var e,i;if(("Categorical"===t.dataType||"Text"===t.dataType||"Datetime"===t.dataType||"Decimal"===t.dataType||"Integer"===t.dataType)&&t.colName!==(null===(e=this.targetControl.value)||void 0===e?void 0:e.colName)&&t.colName!==(null===(i=this.edaForm.get("datetimeIndex"))||void 0===i?void 0:i.value)&&"Unstructured"!==t.dataType)return t}),this.cFeatureList=this.conditionalFeatureList;let e={filename:this.selectedDataSet.name,backGround:this.backGround,foreGround:this.foreGround,selectedVariables:[t.colName],edaSummary:this.selectedDataSet.fileSchema,chartType:"barplot",featureDataTypes:this.uniqueBy(this.featureDataTypes,"colName"),datetimeIndex:this.edaForm.value.datetimeIndex||null};return"timeseries"!==this.project.type&&delete e.datetimeIndex,this._training.plotTargetGraph(this.project._id,e).pipe(Object(o.a)(this.unsubscribe$)).subscribe(t=>{if(t){let e=document.getElementById("targetPlot");if(null!=(null==e?void 0:e.data))for(;e.data&&e.data.length>0;)da.deleteTraces(e,[0]);t.graphContent.layout.template.layout.plot_bgcolor="white",t.graphContent.layout.template.layout.title.xanchor="center",t.graphContent.layout.template.layout.title.y=.9,t.graphContent.layout.template.layout.title.x=.5,t.graphContent.layout.template.layout.title.yanchor="top",t.graphContent.layout.xaxis.linecolor="black",t.graphContent.layout.width=600,t.graphContent.layout.height=400,"timeseries"!==this.project.type&&(t.graphContent.layout.yaxis.linecolor="black"),da.plot(e,t.graphContent.data,t.graphContent.layout),this._spinner.stopSpinner()}},t=>{this._spinner.stopSpinner(),this._toaster.error(t.message,"EDA")}),this.conditionalFeatureList}))}getTargetDeatils(){return Object(a.a)(this,void 0,void 0,(function*(){let t={afterEdaDataFilePath:this.selectedDataSet.name};if(this.previousEda){let e=this.previousEda.edaSummary.filter(t=>t.colName==this.targetControl.value.colName);t.depVariable=this.targetControl.value.colName,t.dependentFeaturetype=e[0].dataType}else t.depVariable=this.targetControl.value.colName,t.dependentFeaturetype=this.targetControl.value.dataType;this._training.getTargetDetails(this.selectedDataSet.ProjectId,t).pipe(Object(o.a)(this.unsubscribe$)).subscribe(t=>{this.classNames=t.targetResponse.classNames,this.isMultilabel=t.targetResponse.isMultilabel,this.algoType=t.targetResponse.algoType.toLowerCase()},t=>{this._toaster.error("Something went wrong while fetching target details!.","EDA")})}))}getTargetList(t){return Object(a.a)(this,void 0,void 0,(function*(){let e;this.taFeatureConfig=[],this.targetControl.reset(),"predictive_modeling"==this.project.type?(this.trainSize=70,this.holdoutSize=30):"timeseries"==this.project.type&&(this.trainSize=80,this.holdoutSize=20),this.holdoutFilename.reset();let i={projectId:this.project._id,filename:this.selectedDataSet.name,fileSchema:this.selectedDataSet.fileSchema,missingThreshold:this.missingThreshold};return(null==t?void 0:t.taExperimentId)&&(e=yield this.getTextAnalysisDetails(t.taExperimentId).catch(t=>{this._toaster.error(t.error.message||"Cannot fetch text-analysis details","EDA")}),this.taFeatureConfig=e.taFeatureConfig||[]),this._eda.getTargetList(i).pipe(Object(o.a)(this.unsubscribe$)).toPromise()}))}getChildDataset(t,e){return Object(a.a)(this,void 0,void 0,(function*(){return this._data.getAllChildDatasets(this.selectedDataSet.ProjectId,e).pipe(Object(o.a)(this.unsubscribe$)).toPromise()}))}previousEdaDetails(t){this._eda.getEdaByFileId(this.project._id,this.selectedDataSet?this.selectedDataSet._id:null).pipe(Object(o.a)(this.unsubscribe$)).subscribe(e=>Object(a.a)(this,void 0,void 0,(function*(){e&&(this.previousEda=[],this.previousEda=e[0],e.length&&"fromNgInit"===t&&(console.log("\u{1f680} ~ this.previousEda.fileId._id ---\x3e",this.previousEda.fileId._id),yield this.onChangeDataset(this.previousEda.fileId._id,"fc")))})),t=>{this._spinner.stopSpinner()})}mergeArrays(t){return t.fileSchema.forEach(t.descriptiveStatistics&&t.descriptiveStatistics.length?e=>{t.descriptiveStatistics.forEach(t=>{t.colName===e.colName&&(e.unique=t.unique,e.max=t.max,e.median=t.median,e.min=t.min,e.std=t.std,e.mean=t.mean,e.missing=t.missing,"timeseries"===this.project.type&&(e.frequency=t.frequency||"NA"))})}:t=>{t.unique="",t.max="",t.median="",t.min="",t.std="",t.mean="",t.missing="",t.frequency=""}),t}buildEdaStrategyTable(t,e){if(this.finalFeatureList=t,this.edaDisplayedColumns=this.generateEdaColums(),"before_eda"===e){let t=this.edaDisplayedColumns.indexOf("outlierCount");t>-1&&this.edaDisplayedColumns.splice(t,1)}if("timeseries"===this.project.type){let t=this.edaDisplayedColumns.indexOf("outlierCount");t>-1&&this.edaDisplayedColumns.splice(t,1)}"timeseries"!=this.project.type&&this.edaDisplayedColumns.splice(this.edaDisplayedColumns.indexOf("frequency"),1),this.edaDataSource=new l.p(this.finalFeatureList),this.edaDataSource.paginator=this.edaPaginator,this.edaDataSource.sort=this.edaSort,this.edaDataSource._updateChangeSubscription(),this._spinner.stopSpinner()}buildEdaPreviewTable(t){const e=[];let i={filepath:null!==t.correctedData?t.correctedData:t.imputedDatasetFilepath,pid:this.project._id};t.edaSummary.forEach(t=>{t.isSharedFeature=!1,"Datetime"!==t.data_type&&e.push(t.colName)}),this.edaPreviewColumns=[...e],this._eda.readUploadedData(this.project._id,i).subscribe(t=>{t&&(this.edaPreviewDataSource=new l.p(t.preview),this.edaPreviewDataSource.paginator=this.edaPreviewPaginator,this.edaPreviewDataSource.sort=this.edaPreviewSort,this._spinner.stopSpinner())},e=>{this.edaPreviewDataSource=new l.p(t.edaSummary),this.edaPreviewDataSource.paginator=this.edaPreviewPaginator,this.edaPreviewDataSource.sort=this.edaPreviewSort,this._spinner.stopSpinner()})}buildOutlierPreviewTable(t){const e=[];let i={filepath:t.outlierPreviewFilepath,pid:this.project._id};t.edaSummary.forEach(t=>{t.isSharedFeature=!1,"Datetime"!==t.data_type&&e.push(t.colName)}),this.edaOutlierColumns=[...e],this._eda.readUploadedData(this.project._id,i).pipe(Object(o.a)(this.unsubscribe$)).subscribe(t=>{t&&(this.edaOutlierDataSource=new l.p(t.preview),this.edaOutlierDataSource.paginator=this.edaOutlierPaginator,this.edaOutlierDataSource.sort=this.edaOutlierSort,this._spinner.stopSpinner())},t=>{this._spinner.stopSpinner()})}getCustomVarTypes(t){let e;switch(e=t.isVarTypeChanged?t.dataType:t.customVarType,e){case"Integer":case"Decimal":return["Categorical","Integer","Decimal"];case"Categorical":return["Text","Categorical"];case"Text":return["Text"];case"Datetime":return["Datetime"];case"URL":return["URL"];case"Boolean":return["Integer","Decimal","Categorical","Boolean"];case"Unstructured":return["Unstructured"]}}getTextAnalysisDetails(t){return Object(a.a)(this,void 0,void 0,(function*(){return this._textAnalysis.taExperiment(t).pipe(Object(o.a)(this.unsubscribe$)).toPromise()}))}getCustomStyle(t){return t.constantFeature||t.highCardinalityFeature||t.mostlyMissing?"feature-name-style":""}getTooltip(t){return t.constantFeature?"Rejected, constant feature.This feature contains only one value for all the outputs in the dataset.":t.highCardinalityFeature?"Rejected, high cardinality feature.This feature contains values that are very uncommon or unique,are typically identification numbers, email addresses, or user names.":t.mostlyMissing?`Rejected, feature contains ${100*t.missingProportion}% of missing data.`:""}varTypeChanged(t){this.previousEda&&this.showSnackBar();let e={};e="timeseries"===this.project.type?{Integer:"Linear",Decimal:"Linear",Categorical:"Mode",Datetime:"Delete",Boolean:"Mode",Text:"Mode",URL:"Mode"}:{Integer:"Median",Decimal:"Mean",Categorical:"Mode",Datetime:"Delete",Boolean:"Mode",Text:"Mode",URL:"Mode"},this.finalFeatureList.forEach(i=>{i.colName===t.colName&&(i.customVarType=t.customVarType,i.isVarTypeChanged=!0,i.imputationStrategy=e[t.customVarType])}),"True"===this.multipleTimeseriesId&&(this.timeseriesGroupList=[],this.timeseriesGroupList=this.finalFeatureList.filter(t=>("Integer"===t.customVarType||"Boolean"===t.customVarType||"Categorical"===t.customVarType)&&t.colName!==this.targetControl.value.colName&&"Unstructured"!==t.dataType&&t.unique>1)),this.edaDataSource=new l.p(this.finalFeatureList),this.edaDataSource.paginator=this.edaPaginator,this.edaDataSource.sort=this.edaSort}generateStrategyOptions(t){t.imputationCustomValue&&"Custom"===t.imputationStrategy&&(this.customEdaStrategyObject[t.colName]=t.imputationCustomValue),"Spline"===t.imputationStrategy&&(this.splineOrderObject[t.colName]=t.imputationCustomValue),"Polynomial"===t.imputationStrategy&&(this.polynomialOrderObject[t.colName]=t.imputationCustomValue);let e=[];return e="timeseries"===this.project.type?["Linear","Time","Index","Values","Nearest","Zero","Slinear","Quadratic","Cubic","Barycentric","Krogh","Polynomial","Spline","Piecewise_polynomial","Pchip","Mode","Custom","Delete"]:["Min","Median","Max","Mean","Mode","St.Dev","Custom","Delete"],"Integer"===t.customVarType||"Decimal"===t.customVarType?e:e=["Mode","Custom","Delete"]}getOutlierCorrectionStrategies(t){return t.ocsCustomValue&&"Custom"===t.outlierCorrectionStrategy&&(this.customCorrectionStrategyObject[t.colName]=t.ocsCustomValue),this.outlierCorrectionStrategies}imputationStrategyChanged(t){this.customStrategyControl.setValue(t.imputationCustomValue||""),this.polynomialOrderControl.setValue(t.polynomialOrder||2),this.splineOrderControl.setValue(t.splineOrder||2),this.selectedOption=t,"Custom"===this.selectedOption.imputationStrategy||"Spline"===this.selectedOption.imputationStrategy||"Polynomial"===this.selectedOption.imputationStrategy?(this.previousEda&&this.snackBarRef&&this.snackBarRef.dismiss(),"Integer"===t.dataType||"Decimal"===t.dataType?(this.showNumberInput=!0,this.showTextInput=!1,this.inputDialogRef=this._dialog.open(this.edaTableInputTemp,{data:"imputation",width:"20%"})):(this.showTextInput=!0,this.showNumberInput=!1,this.inputDialogRef=this._dialog.open(this.edaTableInputTemp,{width:"20%",data:"imputation"}))):(this.hideEdaButton=!1,this.previousEda&&!this.hideEdaButton&&this.showSnackBar(),this.strategyHandler(t))}strategyHandler(t){this.finalFeatureList.map(e=>(t.colName===e.colName&&(e.imputationStrategy=t.imputationStrategy),e)),"Custom"!==t.imputationStrategy&&Object.keys(this.customEdaStrategyObject).length?(this.finalFeatureList.map(e=>(t.colName===e.colName&&(e.imputationCustomValue=""),e)),this.customEdaStrategyObject.hasOwnProperty(t.colName)&&delete this.customEdaStrategyObject[t.colName]):t.hasOwnProperty("ocsCustomValue")||(this.finalFeatureList.map(e=>(t.colName===e.colName&&(e.outlierCorrectionStrategy="Ignore outlier"),e)),this.hideEdaButton=!1),"timeseries"===this.project.type&&("Polynomial"!==t.imputationStrategy&&Object.keys(this.polynomialOrderObject).length&&(this.finalFeatureList.map(e=>(t.colName===e.colName&&(e.imputationCustomValue=""),e)),this.polynomialOrderObject.hasOwnProperty(t.colName)&&delete this.polynomialOrderObject[t.colName]),"Spline"!==t.imputationStrategy&&Object.keys(this.splineOrderObject).length&&(this.finalFeatureList.map(e=>(t.colName===e.colName&&(e.imputationCustomValue=""),e)),this.splineOrderObject.hasOwnProperty(t.colName)&&delete this.splineOrderObject[t.colName])),this.edaDataSource=new l.p(this.finalFeatureList),this.edaDataSource.paginator=this.edaPaginator,this.edaDataSource.sort=this.edaSort}outlierDetectionStrategyChanged(t){this.finalFeatureList.map(e=>(t.colName===e.colName&&(e.outlierDetectionStrategy=t.outlierDetectionStrategy),e)),this.edaDataSource=new l.p(this.finalFeatureList),this.edaDataSource.paginator=this.edaPaginator,this.edaDataSource.sort=this.edaSort,!this.hideEdaButton&&this.showSnackBar()}outlierCorrectionStrategyChanged(t){this.customCorrectionControl.setValue(t.ocsCustomValue||""),this.selectedOption=t,this.finalFeatureList.map(e=>(t.colName===e.colName&&(e.outlierCorrectionStrategy=t.outlierCorrectionStrategy),e)),"Custom"!==t.outlierCorrectionStrategy||"Integer"!==t.dataType&&"Decimal"!==t.dataType?(this.hideEdaButton=!1,this.previousEda&&!this.hideEdaButton&&this.showSnackBar()):(this.previousEda&&this.snackBarRef&&this.snackBarRef.dismiss(),this.showTextInput=!0,this.showNumberInput=!1,this.isOutlierCustom=!0,this.inputDialogRef=this._dialog.open(this.edaTableInputTemp,{width:"20%",data:"outliercorrection"})),"Custom"!==t.outlierCorrectionStrategy&&Object.keys(this.customCorrectionStrategyObject).length&&(this.finalFeatureList.map(e=>(t.colName===e.colName&&(e.ocsCustomValue=""),e)),this.customCorrectionStrategyObject.hasOwnProperty(t.colName)&&delete this.customCorrectionStrategyObject[t.colName]),this.edaDataSource=new l.p(this.finalFeatureList),this.edaDataSource.paginator=this.edaPaginator,this.edaDataSource.sort=this.edaSort}submitCustomStrategies(t){this.customCorrectionControl.value&&(this.customCorrectionStrategyObject[t.colName]=this.customCorrectionControl.value),this.finalFeatureList.map(e=>{if(e.colName===t.colName){switch(t.imputationStrategy){case"Spline":this.splineOrderControl.value&&(this.splineOrderObject[t.colName]=this.splineOrderControl.value),e.imputationCustomValue=this.splineOrderControl.value?this.splineOrderControl.value:t.imputationCustomValue;break;case"Polynomial":this.polynomialOrderControl.value&&(this.polynomialOrderObject[t.colName]=this.polynomialOrderControl.value),e.imputationCustomValue=this.polynomialOrderControl.value?this.polynomialOrderControl.value:t.imputationCustomValue;break;case"Custom":this.customStrategyControl.value&&(this.customEdaStrategyObject[t.colName]=this.customStrategyControl.value),e.imputationCustomValue=this.customStrategyControl.value?this.customStrategyControl.value:t.imputationCustomValue}e.ocsCustomValue=this.customCorrectionControl.value?this.customCorrectionControl.value:t.ocsCustomValue,"timeseries"===this.project.type&&(e.splineOrder=this.splineOrderControl.value,e.polynomialOrder=this.polynomialOrderControl.value)}return e}),this.edaDataSource=new l.p(this.finalFeatureList),this.edaDataSource.paginator=this.edaPaginator,this.edaDataSource.sort=this.edaSort,this.edaDataSource._updateChangeSubscription(),this.inputDialogRef.close(),(this.customCorrectionControl.value||this.customStrategyControl.value||this.splineOrderControl.value||this.polynomialOrderControl.value)&&(this.hideEdaButton=!1,this.previousEda&&!this.hideEdaButton&&this.showSnackBar()),this.strategyHandler(t)}getDialogHeading(t){return"Custom"===t.imputationStrategy||"Custom"===t.outlierCorrectionStrategy?"Custom Strategy":"timeseries"===this.project.type?"Polynomial"===t.imputationStrategy?"Polynomial Strategy":"Spline Strategy":void 0}closeCustomDialog(t,e){this.inputDialogRef.close(),this.customCorrectionControl.reset(),"outliercorrection"==e?(t.customCorrectionStrategy="Ignore outlier",this.selectedOption=t):"imputation"===e&&("Decimal"===t.dataType?(t.imputationStrategy="timeseries"===this.project.type?"Linear":"Mean",this.numericFeatures.push({numericFeature:t.colName})):"Integer"===t.dataType?(t.imputationStrategy="timeseries"===this.project.type?"Linear":"Median",this.numericFeatures.push({numericFeature:t.colName})):t.imputationStrategy="Datetime"===t.dataType||"Text"===t.dataType?"Delete":"Mode","Categorical"!==t.dataType&&"Boolean"!==t.dataType||this.imputationFeatures.push({imputationFeature:t.colName})),this.strategyHandler(t),this.hideEdaButton=!1,this.previousEda&&!this.hideEdaButton&&this.showSnackBar()}buildHeaderColumns(t){t.forEach(t=>{t.isSharedFeature=!1,"Datetime"!==t.data_type&&this.edaPreviewColumns.push(t.colName)})}openFeatureAnalysisModal(){this.featureDataTypes=[],this.multiUniFeatures=[],this.allFeatures=[],this.finalFeatureList.forEach(t=>{let e={colName:t.colName,data:t.dataType,multivariateDataType:t.dataType};-1===this.featureDataTypes.indexOf(e)&&this.featureDataTypes.push(e),this.allFeatures.push(t.colName)}),this.featureDataTypes=this.featureDataTypes.filter(t=>{var e;if(t.colName!==(null===(e=this.edaForm.get("datetimeIndex"))||void 0===e?void 0:e.value))return t}),this.previousEda&&this.previousEda.isMultipleTimeseries&&(this.featureDataTypes=this.featureDataTypes.filter(t=>this.previousEda.timeseriesIds.includes(t.colName)?null:t)),this.openDialog("analysis")}onIndexColumnChange(){var t;return Object(a.a)(this,void 0,void 0,(function*(){if(this.multipleTimeseriesId=yield this.isMultiTimeseries(this.selectedDataSet),this.selectedIndex=this.selectedDataSet.fileSchema.filter(t=>t.colName===this.edaForm.get("datetimeIndex").value)[0],"timeseries"===this.project.type){const e=this.selectedDataSet.descriptiveStatistics.find(t=>t.colName===this.edaForm.get("datetimeIndex").value);let i=String(e.frequency.split("(")[0]).replace(" ","");const a=null===(t=et.e.find(t=>t.value===i))||void 0===t?void 0:t.index;i?this.resamplingConstants=et.e.filter(t=>t.index>a):this.resamplingConstants.length=0,this.conditionalFeatureList=this.finalFeatureList.filter(t=>{var e,i;if(("Categorical"===t.dataType||"Text"===t.dataType||"Datetime"===t.dataType||"Decimal"===t.dataType||"Integer"===t.dataType)&&t.colName!==(null===(e=this.targetControl.value)||void 0===e?void 0:e.colName)&&t.colName!==(null===(i=this.edaForm.get("datetimeIndex"))||void 0===i?void 0:i.value)&&"Unstructured"!==t.dataType)return t}),this.cFeatureList=this.conditionalFeatureList}if(this.edaData){this._spinner.showSpinner();let t=yield this.mergeArrays(this.selectedDataSet);this.buildEdaStrategyTable(t.fileSchema,"before_eda")}}))}isMultiTimeseries(t){return Object(a.a)(this,void 0,void 0,(function*(){let t={projectId:this.project._id,filename:this.selectedDataSet.name,datetimeIndex:this.edaForm.get("datetimeIndex").value};return this._eda.multiTimeseriesCheck(t).pipe(Object(o.a)(this.unsubscribe$)).toPromise()}))}timeseriesChangeHandler(t){if(this.cFeatureList=this.conditionalFeatureList.filter(e=>t.includes(e.colName)?null:e),!t.length)return void this._snackBar.open("Select timeseries identifiers.","OK",{horizontalPosition:"right",verticalPosition:"bottom"});let e={projectId:this.project._id,fileName:this.selectedDataSet.name,datetimeIndex:this.edaForm.get("datetimeIndex").value,timeseriesIds:this.timeseriesIds.value,selectedDatasetId:this.selectedDataSet._id,fileSchema:this.selectedDataSet.fileSchema};this._eda.calculateTimeseriesFrequency(e).pipe(Object(o.a)(this.unsubscribe$)).subscribe(t=>{var e;if(t){let i=this.finalFeatureList.findIndex(t=>t.colName==this.edaForm.get("datetimeIndex").value);if(-1!==i){this.finalFeatureList[i].frequency=null!==t.frequency?t.frequency:"NA";const a=this.finalFeatureList.find(t=>t.colName===this.edaForm.get("datetimeIndex").value);let s=String(a.frequency.split("(")[0]).replace(" ","");const n=null===(e=et.e.find(t=>t.value===s))||void 0===e?void 0:e.index;s?this.resamplingConstants=et.e.filter(t=>t.index>n):this.resamplingConstants.length=0,this.edaDataSource=new l.p(this.finalFeatureList),this.edaDataSource.paginator=this.edaPaginator,this.edaDataSource.sort=this.edaSort}this._spinner.stopSpinner()}else this._toaster.error("Cannot share the report","EDA");this._spinner.stopSpinner()},t=>{this._spinner.stopSpinner(),this._toaster.error("Server Error","EDA")})}shareReport(t){this._spinner.showSpinner(),t.outputName=t.fileSource,t.outputType="EDA",t.filename=t.name,t.projectId=t.ProjectId,t.edaId=this.previousEda._id,this._eda.shareReport(this.project._id,t).pipe(Object(o.a)(this.unsubscribe$)).subscribe(t=>{t?(this._spinner.stopSpinner(),this._router.navigate(["/project/output"])):this._toaster.error("Cannot share the report","EDA"),this._spinner.stopSpinner()},t=>{this._spinner.stopSpinner(),this._toaster.error("Server Error","EDA")})}onFeatureChange(t,e,i){return Object(a.a)(this,void 0,void 0,(function*(){if(this._spinner.showSpinner(),"none"!==t){let a=this.conditionalFeatureList.filter(e=>e.colName==t);if("previousEda"!==i){let i=this.featureMethod[e];i&&i.colName!=t&&this.featureMethod.splice(e,1),this.featureMethod.push(a[0]),this.conditionalFilter[e].value="",this.conditionalFilter[e].method=""}if("Integer"==a[0].dataType||"Decimal"==a[0].dataType)this.method[e]=this.Numeric;else if("Datetime"==a[0].dataType)this.method[e]=this.DateTime;else if("Text"==a[0].dataType)this.method[e]=this.Text;else if("Categorical"==a[0].dataType){this.method[e]=this.Categorical;let i=yield this.getUniqueClass(t).catch(t=>{this._toaster.error("Error - "+t.message,"Eda")});this.class[e]=i.body}}else this.conditionalFilter=[{featureName:"",method:"",value:[]}];this._spinner.stopSpinner()}))}getUniqueClass(t){return Object(a.a)(this,void 0,void 0,(function*(){return this._eda.getUniqueClass({filename:this.selectedDataSet.name,colName:t,projectId:this.project._id}).pipe(Object(o.a)(this.unsubscribe$)).toPromise()}))}preview(t,e){this._spinner.showSpinner();let i=[],a=this.conditionalFilter[0].value;if(""==a&&0!==a)return this._spinner.stopSpinner(),void this._snackBar.open("Enter all the required values.","OK",{horizontalPosition:"right",verticalPosition:"bottom"});""==this.conditionalFilter[0].featureName||""==this.conditionalFilter[0].method||0!==a&&""==this.conditionalFilter[0].value?this.featureMethod=[]:(this.conditionalFilter=this.conditionalFilter.filter((function(t){if(""!=t.featureName&&""!=t.method&&""!==t.value)return t})),this._eda.getConditionalFilter({projectId:this.project._id,fileName:this.selectedDataSet.name,edaConditionalFiltering:this.conditionalFilter}).pipe(Object(o.a)(this.unsubscribe$)).subscribe(t=>{if(t){this.conditionalColumn=t.column,this.conditionalrow=t.row;for(let e in t.descriptiveStatistics[0])i.push({headerName:e,field:e});this.gridOptions={headerHeight:40,columnDefs:i,defaultColDef:{resizable:!0}},this.previewrowData=t.descriptiveStatistics}else this._toaster.error("Can not get preview","EDA")},t=>{this._spinner.stopSpinner(),this._toaster.error(t.error.message,"EDA")}),this.dialogRef=this._dialog.open(t,{width:"80%"}),this._spinner.stopSpinner())}resamplingPreview(t,e){this._spinner.showSpinner();let i=[],a={projectId:this.project._id,fileName:this.selectedDataSet.name,datetimeIndex:this.edaForm.get("datetimeIndex").value,timeseriesIds:this.timeseriesIds.value,resampling:{resamplingMethod:this.resamplingMethod,aggregationFunction:this.aggregationFunction}};this._eda.getresamplingPreview(a).pipe(Object(o.a)(this.unsubscribe$)).subscribe(e=>{if(e.hasOwnProperty("error"))this.resampleError=!!e.error,this._toaster.error(e.error,"EDA");else{this.resampledColumn=e.column,this.resampledRow=e.row;for(let t in e.resampled_data[0])i.push({headerName:t,field:t});this.resamplegridOptions={headerHeight:40,columnDefs:i,defaultColDef:{resizable:!0}},this.resamplepreviewrowData=e.resampled_data,this.dialogRef=this._dialog.open(t,{width:"80%"})}},t=>{this._spinner.stopSpinner(),this._toaster.error(t.message,"EDA")}),this._spinner.stopSpinner()}openDialog(t,e,i,a){this._dialog.open(J,{maxWidth:"90vw",data:"preview"===t?{type:t,dataId:e,reqObj:i}:{type:t,edaData:this.edaData,selectedDataSet:this.selectedDataSet,featureDataTypes:this.featureDataTypes,tableData:e,tableColumns:a}})}onStringFeatureChange(t){"none"==t&&(this.stringTransformation=[{featureName:"",fromText:"",toText:""}])}formatLabel(t){return t+"%"}getCustomStrategyError(t){var e,i,a;return(null===(e=this.customEdaStrategyObject)||void 0===e?void 0:e.hasOwnProperty(t.colName))||"Custom"!==t.imputationStrategy?(null===(i=this.splineOrderObject)||void 0===i?void 0:i.hasOwnProperty(t.colName))||"Spline"!==t.imputationStrategy?(null===(a=this.polynomialOrderObject)||void 0===a?void 0:a.hasOwnProperty(t.colName))||"Polynomial"!==t.imputationStrategy?void 0:(this.hideEdaButton=!0,"Polunomial vaule is required."):(this.hideEdaButton=!0,"Spline vaule is required."):(this.hideEdaButton=!0,"Custom vaule is required.")}getCustomOutlierError(t){var e;if(!(null===(e=this.customCorrectionStrategyObject)||void 0===e?void 0:e.hasOwnProperty(t.colName))&&"Custom"===t.outlierCorrectionStrategy)return this.hideEdaButton=!0,"Custom vaule is required.";this.hideEdaButton=!1}addItem(){this.stringTransformation.push({featureName:"",fromText:"",toText:""})}removeItem(t){this.stringTransformation.splice(this.stringTransformation.indexOf(t),1)}addFilter(){this.conditionalFilter.push({featureName:"",method:"",value:""})}removeFilter(t){this.conditionalFilter.splice(this.conditionalFilter.indexOf(t),1)}downloadEdaSummary(){this._window.open(`${tt.a.serverBaseUrl}/api/v2/eda/${this.previousEda._id}/edaSummary/download`,"_blank")}downloadOutlierPreview(){this._window.open(`${tt.a.serverBaseUrl}/api/v2/eda/${this.previousEda._id}/outlierPreview/download`,"_blank")}downloadImputedDataset(){this._window.open(`${tt.a.serverBaseUrl}/api/v2/eda/${this.previousEda._id}/imputedDataset/download`,"_blank")}trainDatasetChanged(t){this.trainSize=t,this.trainSize<50&&(this.trainSlider.value=50,this.trainSlider.writeValue(50),this.trainSize=50),this.trainSize>90&&(this.trainSlider.value=90,this.trainSlider.writeValue(90),this.trainSize=90),"timeseries"===this.project.type?this.holdoutSize=100-this.trainSize:this.devDataset?(this.devSize=10,this.holdoutSize=100-(this.trainSize+this.devSize),this.devSize=100-(this.trainSize+this.holdoutSize)):(this.devSize=0,this.holdoutSize=100-(this.trainSize+this.devSize))}devDatasetChanged(){this.holdoutSize=100-(this.trainSize+this.devSize)}toggleDevDataset(t){t?(this.devSize=10,this.holdoutSize=100-(this.trainSize+this.devSize)):(this.devSize=0,100===this.trainSize&&this.trainSize+this.holdoutSize===100||(this.holdoutSize=100-(this.trainSize+this.devSize)))}testDatasetChanged(t){this.holdoutSize=t,!this.devDataset&&this.holdoutSize<10&&(this.testSlider.value=10,this.testSlider.writeValue(10),this.holdoutSize=10),!this.devDataset&&this.holdoutSize>50&&(this.testSlider.value=50,this.testSlider.writeValue(50),this.holdoutSize=50),"timeseries"===this.project.type?this.trainSize=100-this.holdoutSize:this.devDataset?this.devSize=100-(this.trainSize+this.holdoutSize):this.trainSize=100-this.holdoutSize}findEda(t){this._eda.getEdaData(t).pipe(Object(o.a)(this.unsubscribe$)).subscribe(t=>{t?(this.previousEda=t,this.edaData=t,t.edaSummary.forEach(t=>{"Spline"===t.imputationStrategy&&(t.imputationCustomValue=t.splineOrder),"Polynomial"===t.imputationStrategy&&(t.imputationCustomValue=t.polynomialOrder)}),this.buildEdaStrategyTable(t.edaSummary,"after_eda"),this.buildEdaPreviewTable(t),this.previousEda.outlierPreviewFilepath&&this.buildOutlierPreviewTable(t),this.edaCompleted=!0,this._toaster.success("Eda completed,You can start training","EDA")):this._toaster.error("Cannot fetch EDA details","EDA"),this._spinner.stopSpinner()},t=>{this._spinner.stopSpinner(),this._toaster.error("Server Error","EDA"),this.edaCompleted=!0})}generateProperColNames(t){switch(t){case"colName":return"Feature Name";case"dataType":return"Var Type";case"imputationStrategy":return"Imputation Strategy";case"missing":return"Missing";case"unique":return"Unique";case"max":return"Max";case"median":return"Median";case"min":return"Min";case"mean":return"Mean";case"std":return"SD";case"outlierDetectionStrategy":return"Outlier Detection Strategy";case"outlierCorrectionStrategy":return"Outlier Correction Strategy";case"outlierCount":return"Outlier";case"frequency":return"Frequency"}}showSnackBar(){this.showEdaButton=!1,this.snackBarRef=this._snackBar.open("We have detected some changes","please do eda again.",{verticalPosition:"bottom",horizontalPosition:"end"}),this.snackBarRef.onAction().subscribe(t=>this.startEda("snackbarcall"))}openDateFormatModal(t,e){this.selectedOption=e,this.selectedOption.hasOwnProperty("dateFormat")&&(this.selectedOption.dateFormat=this.selectedOption.dateFormat),this.dateDialogRef=this._dialog.open(t,{width:"40%",maxWidth:"40vw",data:e})}verifyDateFormat(t){""!==t.dateFormat?(this._spinner.showSpinner(),this._eda.dateFormatValidator({projectId:this.project._id,filePath:this.selectedDataSet.name,colName:t.colName,format:t.dateFormat}).pipe(Object(o.a)(this.unsubscribe$)).subscribe(e=>{e?("True"===e?(this.finalFeatureList.forEach(e=>{e.colName===t.colName&&(e.dateFormat=t.dateFormat)}),this.closeModal(),this._toaster.success("Selected date format is valid","EDA")):(this.finalFeatureList.forEach(e=>{e.colName===t.colName&&(e.dateFormat="")}),this._toaster.error("Selected date format is invalid","EDA")),this._spinner.stopSpinner()):(this._spinner.stopSpinner(),this._toaster.error("Selected date format is invalid","EDA"))},t=>{this._spinner.stopSpinner(),this._toaster.error("Server Error","EDA"),this.edaCompleted=!0})):this.showSnackBarGeneric("Select date format","OK")}disableDataType(t){var e;let i;return(null===(e=this.timeseriesIds.value)||void 0===e?void 0:e.length)&&(i=this.timeseriesIds.value.filter(e=>e===t.colName)),!(!this.targetControl.value||t.colName!==this.targetControl.value.colName&&"Unstructured"!==t.dataType)||!(void 0===i||!i.length)}closeModal(t){this.dateDialogRef.close(t)}generateEdaColums(){return JSON.parse(JSON.stringify(ma))}initSocket(){this._socket.listen("eda").subscribe(t=>{"pull_success"===t.status?this._toaster.success("Eda data saved successfully","EDA"):this._toaster.error("Error while saving data","EDA"),this._spinner.stopSpinner()},t=>{this._spinner.stopSpinner(),this._toaster.error("Socket Error","Data Connection")}),this._socket.listen("edaProgressInfo").subscribe(t=>{if(t){if(this._spinner.stopSpinner(),this.edaStages.pop(),this.edaStages.length<6){this.edaStages.push(t);let e=this.edaStages.length;this.eda_stages[e]&&this.edaStages.push(this.eda_stages[e])}}else this._spinner.stopSpinner(),this._toaster.error("Cannot fetch eda progress info","EDA")},t=>{this._spinner.stopSpinner(),this._toaster.error("Socket Error","Data Connection")}),this._socket.listen("edaCompleted").subscribe(t=>{t?("EDA Completed"===t.status?this.findEda(t.edaData._id):"EDA Failed"===t.status&&this._toaster.error(t.edaData.message,"EDA"),this._spinner.stopSpinner()):(this.edaCompleted=!0,this._spinner.stopSpinner(),this._toaster.error("Cannot complete the EDA","EDA"))},t=>{this.edaCompleted=!0,this._spinner.stopSpinner(),this._toaster.error("Socket Error","Data Connection")})}applyFilter(t,e){const i=t.target.value;"edaSummary"===e?(this.edaDataSource.filter=i.trim().toLowerCase(),this.edaDataSource.paginator&&this.edaDataSource.paginator.firstPage()):"imputation"===e?(this.edaPreviewDataSource.filter=i.trim().toLowerCase(),this.edaPreviewDataSource.paginator&&this.edaPreviewDataSource.paginator.firstPage()):"outlier"===e?(this.edaOutlierDataSource.filter=i.trim().toLowerCase(),this.edaOutlierDataSource.paginator&&this.edaOutlierDataSource.paginator.firstPage()):"conditionalPreview"===e&&(this.dataSource.filter=i.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage())}showSnackBarGeneric(t,e){this.snackBarRef=this._snackBar.open(t,e,{horizontalPosition:"right",verticalPosition:"bottom"})}uniqueBy(t,e){return t.reduce((t,i)=>(t.includes(i[e])||t.push(i),t),[])}gridReady(t,e){t.api.setDomLayout("autoHeight"),this.gridApi=t.api,"conditional"===e&&(this.gridApi.setColumnDefs(this.gridOptions.columnDefs),this.gridApi.setRowData(this.previewrowData),this.gridApi.refreshCells({force:!0})),"resampling"===e&&(this.gridApi.setColumnDefs(this.resamplegridOptions.columnDefs),this.gridApi.setRowData(this.resamplepreviewrowData),this.gridApi.refreshCells({force:!0}))}ngOnDestroy(){this._socket.removeListener("pullData"),this._socket.removeListener("nodeRedFlowExecution"),this._socket.removeListener("edaCompleted"),this.unsubscribe$.next(!1),this.unsubscribe$.unsubscribe(),this.snackBarRef&&this.snackBarRef.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(s.h),u.Nb(b.a),u.Nb(m.a),u.Nb(p.c),u.Nb(g.a),u.Nb(n.c),u.Nb(d.a),u.Nb(it.e),u.Nb(at.a),u.Nb(h.c),u.Nb(Window),u.Nb(f.a),u.Nb(st.a),u.Nb(nt.a),u.Nb(u.h))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-eda"]],viewQuery:function(t,e){var i;1&t&&(u.Oc(Z.a,!0),u.Oc(Tt,!0),u.Oc(vt,!0),u.Oc(yt,!0),u.Oc(c.a,!0),u.Oc(Ct,!0),u.Oc(Dt,!0),u.Oc(It,!0),u.Oc(wt,!0),u.Oc(kt,!0),u.Oc(Bt,!0),u.Oc(Ot,!0)),2&t&&(u.sc(i=u.bc())&&(e.paginator=i.first),u.sc(i=u.bc())&&(e.edaPaginator=i.first),u.sc(i=u.bc())&&(e.edaPreviewPaginator=i.first),u.sc(i=u.bc())&&(e.edaOutlierPaginator=i.first),u.sc(i=u.bc())&&(e.sort=i.first),u.sc(i=u.bc())&&(e.edaSort=i.first),u.sc(i=u.bc())&&(e.edaPreviewSort=i.first),u.sc(i=u.bc())&&(e.edaOutlierSort=i.first),u.sc(i=u.bc())&&(e.edaTableInputTemp=i.first),u.sc(i=u.bc())&&(e.edaProgressTemp=i.first),u.sc(i=u.bc())&&(e.trainSlider=i.first),u.sc(i=u.bc())&&(e.testSlider=i.first))},decls:55,vars:17,consts:[[1,"fluid-container"],[1,"heading"],["mat-card-avatar",""],[1,"folder-icon"],[1,"heading-title",3,"matTooltip"],[4,"ngIf"],["class","text-center mt-5 font-weight-normal",4,"ngIf"],["class","heading mt-5",4,"ngIf"],["class","row mt-5 mb-2 d-flex align-items-center justify-content-between",4,"ngIf"],["class","mt-4 p-4",4,"ngIf"],[1,"heading","mt-5","p-4",3,"hidden"],["alt","EDA",1,"folder-icon"],[1,"heading-title"],["dynamicHeight","","mat-align-tabs","start",1,"mt-4"],["label","Summary",3,"matTooltip"],["mat-tab-label",""],[1,"d-flex","align-items-baseline","justify-content-between"],[1,"search-input","mt-3"],["matInput","",3,"keyup"],["input",""],["class","advance-options clickable",3,"click",4,"ngIf"],[1,"mt-2","mx-2",2,"overflow","auto !important"],["mat-table","","matSort","","matSortActive","colName","matSortDirection","asc","matSortDisableClear","",3,"dataSource"],["edaSort","matSort"],[3,"matColumnDef","sticky",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[1,"mt-2","mx-2",3,"pageSizeOptions"],["edaPaginator",""],["label","Imputation preview",3,"matTooltip",4,"ngIf"],["label","Outlier preview",3,"matTooltip",4,"ngIf"],["class","sticky-button",4,"ngIf"],["class","dialogHeight"],["edaProgressTemp",""],["edaTableInputTemp",""],["conditionalPreviewTemplate",""],["openDateFormatTemplate",""],["resamplingPreviewTemplate",""],["role","form","name","edaForm",1,"form-validate","mt-4",3,"formGroup"],[1,"row"],["appearance","outline",3,"matTooltip"],["for","eda file"],["formControlName","selectedDataset","required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"class",4,"ngIf"],["class","col-md-7 border-left ml-4",4,"ngIf"],[3,"value"],["for","Index Column"],["formControlName","datetimeIndex","required","",3,"selectionChange"],["required","",3,"formControl","selectionChange"],["for","timeseries"],["multiple","","required","",3,"formControl","selectionChange"],[1,"col-md-7","border-left","ml-4"],[1,"heading","mat-elevation-z0"],[1,"table","table-borderless","mt-4","text-left"],["scope","col",1,"font-weight-normal"],["mat-icon-button","","class","text-value","matTooltip","Preview the data",3,"click",4,"ngIf"],["mat-icon-button","","matTooltip","Preview the data",1,"text-value",3,"click"],[1,"fa","fa-eye"],[1,"text-center","mt-5","font-weight-normal"],["href","#",1,"text-decoration-none",3,"routerLink"],[1,"heading","mt-5"],["class","col-md-4 border-right",4,"ngIf"],[1,"col-md-8",3,"hidden"],[1,"mt-5","text-muted",3,"hidden"],[1,"mt-4",3,"hidden"],["id","targetPlot",1,"d-flex","justify-content-center"],[1,"col-md-4","border-right"],[2,"min-height","400px"],[1,"table","table-borderless","mt-4"],[1,"row","mt-5","mb-2","d-flex","align-items-center","justify-content-between"],[1,"col-md-6","d-flex","align-items-center"],["mat-icon-button","",1,"bg-grey-300","mr-3",3,"click"],["class","chevron-icon",4,"ngIf"],[1,"mb-0",2,"color","#07509d"],[2,"max-width","none !important"],["mat-stroked-button","","type","button",1,"mr-3","text-center",3,"matTooltip","click"],["class","mr-3 text-center","mat-stroked-button","","type","button",3,"disabled","ngClass","click",4,"ngIf"],["class","text-center","mat-stroked-button","",3,"disabled","ngClass","click",4,"ngIf"],[1,"chevron-icon"],["mat-stroked-button","","type","button",1,"mr-3","text-center",3,"disabled","ngClass","click"],["matBadge","","matBadgeOverlap","false",3,"matBadgeIcon"],["mat-stroked-button","",1,"text-center",3,"disabled","ngClass","click"],[1,"mt-4","p-4"],["mat-align-tabs","start"],["label","Split Dataset",3,"disabled",4,"ngIf"],["label","Missing Threshold",3,"matTooltip","disabled"],[1,"h5","mt-4"],["thumbLabel","","color","primary","min","5","max","100","step","5",1,"custom-mat-slider",3,"displayWith","ngModel","ngModelOptions","ngModelChange"],["label","Imputation Feature",3,"matTooltip","disabled",4,"ngIf"],["label","Conditional Filtering",3,"disabled"],[1,"my-3","ml-2",2,"overflow","hidden"],["class","row",4,"ngFor","ngForOf"],["mat-stroked-button","","type","button",1,"add-button",3,"click"],[1,"mr-1"],["class","add-button ml-3","mat-stroked-button","","type","button",3,"click",4,"ngIf"],["label","String Transformation",3,"disabled"],[3,"disabled",4,"ngIf"],["label","Split Dataset",3,"disabled"],["class","row mx-2 my-4 border-bottom",4,"ngIf"],[1,"row","mx-2","my-4"],["disabled","","id","trainDataset","name","trainDataset",1,"m-0","w-25",3,"ngModel","matTooltip","ngModelChange"],["class","mt-3 ml-4",4,"ngIf"],[1,"col-md-4","border-right","ml-3"],["class","m-0 w-25","disabled","","id","testDataset","name","testDataset",3,"ngModel","matTooltip","ngModelChange",4,"ngIf"],[1,"col-md-3","ml-3"],["class","m-0 w-25","id","devDataset","name","devDataset",3,"ngModel","matTooltip","ngModelChange","change",4,"ngIf"],["class","ml-4 mt-3",4,"ngIf"],[1,"mt-4"],["matBadge","","matBadgeOverlap","false",3,"matBadgeIcon","matTooltip"],[1,"row","mx-2","my-4","border-bottom"],[1,"col-md-12"],["id","splitdataset","name","splitdataset",1,"m-0","w-25",3,"ngModel","matTooltip","ngModelChange"],["class","col-md-4 mt-2",4,"ngIf"],[1,"col-md-4","mt-2"],["appearance","outline"],[3,"ngModel","ngModelChange"],[1,"mt-3","ml-4"],["for","targetDataset"],["thumbLabel","","color","primary",1,"custom-mat-slider",3,"displayWith","ngModel","change","ngModelChange"],["trainSlider",""],["disabled","","id","testDataset","name","testDataset",1,"m-0","w-25",3,"ngModel","matTooltip","ngModelChange"],["for","testDataset"],["thumbLabel","","color","primary",1,"custom-mat-slider",3,"displayWith","max","min","ngModel","ngModelChange","change"],["testSlider",""],["id","devDataset","name","devDataset",1,"m-0","w-25",3,"ngModel","matTooltip","ngModelChange","change"],[1,"ml-4","mt-3"],["for","devDataset"],["matBadge","","matBadgeOverlap","false",3,"matBadgeIcon","matTooltip","ngClass"],["label","Imputation Feature",3,"matTooltip","disabled"],["class","mt-4 h5",4,"ngIf"],["class","row mt-4",3,"formGroup",4,"ngIf"],[1,"mt-4","h5"],[1,"row","mt-4",3,"formGroup"],[1,"col-md-4"],["formControlName","imputationFeatureControl"],[1,"col-md-3"],[3,"ngModel","ngModelChange","selectionChange"],["value","none"],["class","col-md-3",4,"ngIf"],["class","col-md-1",4,"ngIf"],["matInput","","type","number","placeholder","Enter value","autocomplete","",3,"ngModel","ngModelChange"],["matInput","","type","date","placeholder","Enter value","autocomplete","",3,"ngModel","ngModelChange"],[1,"col-md-1"],["mat-icon-button","",1,"mt-2"],[3,"click"],["mat-stroked-button","","type","button",1,"add-button","ml-3",3,"click"],["matInput","","type","text","placeholder","Enter feature value to transform","autocomplete","",3,"ngModel","ngModelChange"],["matInput","","type","text","placeholder","Enter the value to transform","autocomplete","",3,"ngModel","ngModelChange"],[3,"disabled"],[1,"mx-2","my-3"],["appearance","outline",1,"w-25","mr-4"],[3,"ngModel","disabled","ngModelChange"],["class","w-25","appearance","outline",4,"ngIf"],["matBadge","","matBadgeOverlap","false",3,"matBadgeIcon","ngClass","matTooltip"],["appearance","outline",1,"w-25"],[3,"matTooltip"],[1,"advance-options","clickable",3,"click"],[1,"align-middle","ml-2"],[3,"matColumnDef","sticky"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",4,"matCellDef"],["mat-cell",""],["mat-cell","",3,"ngClass","matTooltip",4,"matCellDef"],["mat-cell","",3,"ngClass","matTooltip"],["role","button",3,"click",4,"ngIf"],["role","button",3,"click"],["appearance","outline",1,"custom-dropdown"],[3,"ngModel","matTooltip","disabled","ngModelChange","selectionChange"],["class","custom-hint",4,"ngIf"],["class","d-inline-block",4,"ngIf"],[1,"custom-hint"],[1,"d-inline-block"],[1,"custom-chip",3,"click"],["class","outlier-custom-dropdown","appearance","outline",4,"ngIf"],["appearance","outline",1,"outlier-custom-dropdown"],[3,"matTooltip","ngModel","disabled","ngModelChange","selectionChange"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"],["label","Imputation preview",3,"matTooltip"],["mat-table","","matSort","","matSortDisableClear","",3,"dataSource"],["edaPreviewSort","matSort"],[3,"matColumnDef",4,"ngFor","ngForOf"],[3,"matColumnDef"],["class","mat-cell","colspan","4",4,"ngIf"],["label","Outlier preview",3,"matTooltip"],["edaOutlierSort","matSort"],[1,"sticky-button"],["mat-raised-button","","type","submit",1,"btn-primary","start-eda-btn",3,"disabled","click"],["mat-dialog-title",""],[1,"mat-typography"],[4,"ngFor","ngForOf"],["class","h4 mt-4 text-center",4,"ngIf"],[1,"justify-content-center","m-auto"],["mat-stroked-button","","mat-dialog-close","","color","basic",4,"ngIf"],["mat-flat-button","","mat-dialog-close","","class","btn-primary",4,"ngIf"],["mat-list-icon","",2,"color","green"],["mat-line",""],[1,"h4","mt-4","text-center"],["mat-stroked-button","","mat-dialog-close","","color","basic"],["mat-flat-button","","mat-dialog-close","",1,"btn-primary"],["matInput","",3,"hidden"],[1,"justify-content-end","m-auto"],["mat-stroked-button","",3,"click"],["mat-flat-button","","type","submit","cdkFocusInitial","",1,"btn-primary",3,"click"],["matInput","","type","number",3,"formControl",4,"ngIf"],["matInput","","type","number",3,"formControl"],["matInput","","type","text",3,"formControl",4,"ngIf"],["matInput","","type","text",3,"formControl"],[1,"mat-typography","preview-data-section","mb-3"],["class","col-md-12 text-danger",4,"ngIf"],[1,"table","mt-2"],["id","myGrid","class","ag-angle my-4",3,"rowData","gridOptions","gridReady",4,"ngIf"],[1,"col-md-12","text-danger"],["id","myGrid",1,"ag-angle","my-4",3,"rowData","gridOptions","gridReady"],["agGrid",""],["required","",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(u.Tb(0,"div",0),u.Tb(1,"mat-card",1),u.Tb(2,"mat-card-header"),u.Tb(3,"div",2),u.Tb(4,"mat-icon",3),u.Kc(5,"signal_cellular_alt"),u.Sb(),u.Sb(),u.Tb(6,"mat-card-title"),u.Tb(7,"h3",4),u.Kc(8,"EDA"),u.Sb(),u.Sb(),u.Sb(),u.Ic(9,Vt,15,11,"mat-card-content",5),u.Sb(),u.Ic(10,Ht,4,2,"h4",6),u.Ic(11,Yt,17,4,"mat-card",7),u.Ic(12,ee,12,7,"div",8),u.Ic(13,qe,29,15,"mat-card",9),u.Tb(14,"mat-card",10),u.Tb(15,"mat-card-header"),u.Tb(16,"div",2),u.Tb(17,"mat-icon",11),u.Kc(18,"table_chart"),u.Sb(),u.Sb(),u.Tb(19,"mat-card-title"),u.Tb(20,"h3",12),u.Kc(21,"Details"),u.Sb(),u.Sb(),u.Sb(),u.Tb(22,"mat-card-content"),u.Tb(23,"mat-tab-group",13),u.Tb(24,"mat-tab",14),u.Ic(25,Ve,2,1,"ng-template",15),u.Tb(26,"div",16),u.Tb(27,"mat-form-field",17),u.Tb(28,"mat-label"),u.Kc(29,"Search"),u.Sb(),u.Tb(30,"input",18,19),u.ac("keyup",(function(t){return e.applyFilter(t,"edaSummary")})),u.Sb(),u.Sb(),u.Ic(32,Ge,4,0,"p",20),u.Sb(),u.Tb(33,"div",21),u.Tb(34,"table",22,23),u.Ic(36,Ti,8,8,"ng-container",24),u.Ic(37,vi,1,0,"tr",25),u.Ic(38,yi,1,0,"tr",26),u.Ic(39,Ci,3,1,"tr",27),u.Sb(),u.Sb(),u.Ob(40,"mat-paginator",28,29),u.Sb(),u.Ic(42,Mi,18,6,"mat-tab",30),u.Ic(43,Ri,21,5,"mat-tab",31),u.Sb(),u.Sb(),u.Sb(),u.Ic(44,qi,5,1,"div",32),u.Sb(),u.Ic(45,Qi,11,4,"ng-template",33,34,u.Jc),u.Ic(47,aa,14,6,"ng-template",null,35,u.Jc),u.Ic(49,oa,22,4,"ng-template",null,36,u.Jc),u.Ic(51,la,13,2,"ng-template",null,37,u.Jc),u.Ic(53,ua,21,3,"ng-template",null,38,u.Jc)),2&t&&(u.Bb(7),u.kc("matTooltip",e._utils.getTootip("eda")),u.Bb(2),u.kc("ngIf",e.dataSetsList.length),u.Bb(1),u.kc("ngIf",!e.dataSetsList.length),u.Bb(1),u.kc("ngIf",e.selectedDataSet&&"clustering"!=e.project.type),u.Bb(1),u.kc("ngIf",!e.project.useGPU&&e.selectedDataSet),u.Bb(1),u.kc("ngIf",e.showAdvanceOptions&&e.selectedDataSet),u.Bb(1),u.kc("hidden",!e.selectedDataSet),u.Bb(10),u.kc("matTooltip",e._utils.getTootip("edaSummary")),u.Bb(8),u.kc("ngIf",e.previousEda),u.Bb(2),u.kc("dataSource",e.edaDataSource),u.Bb(2),u.kc("ngForOf",e.edaDisplayedColumns),u.Bb(1),u.kc("matHeaderRowDef",e.edaDisplayedColumns),u.Bb(1),u.kc("matRowDefColumns",e.edaDisplayedColumns),u.Bb(2),u.kc("pageSizeOptions",e.pageSizeOptions),u.Bb(2),u.kc("ngIf",e.previousEda&&null!==e.previousEda.correctedData),u.Bb(1),u.kc("ngIf",null==e.previousEda?null:e.previousEda.outlierPreviewFilepath),u.Bb(1),u.kc("ngIf",e.selectedDataSet&&0!=e.showEdaButton))},directives:[ot.a,ot.f,ot.c,rt.a,ot.m,I.b,S.t,ot.d,lt.c,lt.a,lt.d,v.c,v.g,k.b,l.o,c.a,S.s,l.k,l.n,l.l,Z.a,s.K,s.v,s.m,y.a,s.u,s.k,s.F,D.o,v.b,v.f,s.j,T.b,it.h,S.q,ct.a,ut.a,dt.a,s.x,w.b,s.A,s.d,l.c,l.i,l.h,c.b,l.b,l.a,mt.d,mt.a,l.j,l.m,n.j,n.g,pt.a,n.d,pt.d,pt.c,D.k,n.e,ht.a,B.a],pipes:[bt.a,gt.a,ft.a,St.a,S.g],styles:[".eda-button[_ngcontent-%COMP%]{min-height:50px;font-size:17px;min-width:40%}.advance-options[_ngcontent-%COMP%]{display:flex;align-items:center}.advance-options[_ngcontent-%COMP%]   .chevron-icon[_ngcontent-%COMP%]{margin-right:16px;font-size:28px;margin-bottom:5px;color:#000}.custom-mat-slider[_ngcontent-%COMP%]{width:70%}.add-button[_ngcontent-%COMP%]{margin-top:20px;font-size:16px;margin-left:5px}.clickable[_ngcontent-%COMP%]{cursor:pointer;color:#07509d!important}.custom-dropdown[_ngcontent-%COMP%]{width:77%;margin-top:16px}.outlier-custom-dropdown[_ngcontent-%COMP%]{width:70%;margin-top:14px}.feature-name-style[_ngcontent-%COMP%]{text-decoration:line-through;color:#f44336}.custom-chip[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:16px!important;margin-top:-8px!important;padding:0 16px!important}.custom-hint[_ngcontent-%COMP%]{margin:-16px 0 10px 5px}.custom-hint[_ngcontent-%COMP%]   .mat-hint[_ngcontent-%COMP%]{color:#f44336;font-size:12px}.dialogHeight[_ngcontent-%COMP%]{min-width:none!important}.mat-column-dataType[_ngcontent-%COMP%], .mat-column-frequency[_ngcontent-%COMP%], .mat-column-imputationStrategy[_ngcontent-%COMP%], .mat-column-max[_ngcontent-%COMP%], .mat-column-mean[_ngcontent-%COMP%], .mat-column-median[_ngcontent-%COMP%], .mat-column-min[_ngcontent-%COMP%], .mat-column-missing[_ngcontent-%COMP%], .mat-column-outlierCorrectionStrategy[_ngcontent-%COMP%], .mat-column-outlierCount[_ngcontent-%COMP%], .mat-column-outlierDetectionStrategy[_ngcontent-%COMP%], .mat-column-std[_ngcontent-%COMP%], .mat-column-unique[_ngcontent-%COMP%]{min-width:90px!important}.mat-column-colName[_ngcontent-%COMP%]{min-width:270px!important}.sticky-button[_ngcontent-%COMP%]{position:fixed;bottom:45px;right:55px;z-index:1}.sticky-button[_ngcontent-%COMP%]   .start-eda-btn[_ngcontent-%COMP%]{font-size:22px;height:52px;width:110%!important}.sticky-button[_ngcontent-%COMP%]   .start-eda-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:30px;font-size:30px;width:30px;margin-right:10px}.fontSize[_ngcontent-%COMP%]{font-size:smaller}"]}),t})();var ha=i("PCNd"),ba=i("WeB1");let ga=(()=>{class t{}return t.\u0275mod=u.Lb({type:t}),t.\u0275inj=u.Kb({factory:function(e){return new(e||t)},imports:[[S.c,ha.a,n.h,B.c.withComponents([ba.a]),it.i.forChild([{path:"",component:pa}]),ct.b]]}),t})()},tagK:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var a=i("AytR"),s=i("fXoL"),n=i("tk/3");let o=(()=>{class t{constructor(t){this._http=t,this.serverBaseUrl=a.a.serverBaseUrl}experimentList(t){return this._http.get(`${this.serverBaseUrl}/api/v2/projects/${t}/textAnalysis/experiments`)}listFeatureDetails(t,e,i){return this._http.get(`${this.serverBaseUrl}/api/v2/projects/${t}/textAnalysis/feature`,{params:{featureName:e,fileName:i}})}deleteExperiment(t,e){return this._http.delete(`${this.serverBaseUrl}/api/v2/projects/${t}/textAnalysis/experiments`,{params:{experimentId:e}})}taExperiment(t){return this._http.get(`${this.serverBaseUrl}/api/v2/textAnalysis/${t}`)}textCleaning(t,e){return this._http.post(this.serverBaseUrl+"/api/v2/textAnalysis/textCleaning",{data:t,taskConfig:e})}pos(t,e,i){return this._http.post(this.serverBaseUrl+"/api/v2/textAnalysis/pos",{data:t,taskConfig:e,renderType:i})}ner(t,e,i){return this._http.post(this.serverBaseUrl+"/api/v2/textAnalysis/ner",{data:t,taskConfig:e,renderType:i})}sentimentAnalysis(t){return this._http.post(this.serverBaseUrl+"/api/v2/textAnalysis/sentimentAnalysis",{data:t.data,taskConfig:t.taskConfig})}textSummarization(t){return this._http.post(this.serverBaseUrl+"/api/v2/textAnalysis/textSummarization",{data:t.data,taskConfig:t.taskConfig})}wordFrequency(t){return this._http.post(this.serverBaseUrl+"/api/v2/textAnalysis/wordFrequency",{data:t})}wordEmbedding(t){return this._http.post(this.serverBaseUrl+"/api/v2/textAnalysis/wordEmbedding",{data:t.data,taskConfig:t.taskConfig})}ruleBasedMatch(t,e,i){return this._http.post(this.serverBaseUrl+"/api/v2/textAnalysis/ruleBasedMatch",{data:t,taskConfig:e,renderType:i})}saveTextAnalysis(t){return this._http.post(this.serverBaseUrl+"/api/v2/textAnalysis/saveAnalysis",Object.assign({},t))}saveApplyTextAnalysis(t){return this._http.post(this.serverBaseUrl+"/api/v2/textAnalysis/apply/saveAnalysis",Object.assign({},t))}}return t.\u0275fac=function(e){return new(e||t)(s.Xb(n.b))},t.\u0275prov=s.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);
//# sourceMappingURL=13-es2015.2d9def11846fb75ce762.js.map