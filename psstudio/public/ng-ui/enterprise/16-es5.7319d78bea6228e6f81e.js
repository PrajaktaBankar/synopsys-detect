!function(){function e(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==i)return;var a,n,o=[],r=!0,l=!1;try{for(i=i.call(e);!(r=(a=i.next()).done)&&(o.push(a.value),!t||o.length!==t);r=!0);}catch(s){l=!0,n=s}finally{try{r||null==i.return||i.return()}finally{if(l)throw n}}return o}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{QAmw:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){}return e.EOL="\r\n",e.BOM="\ufeff",e.DEFAULT_FIELD_SEPARATOR=",",e.DEFAULT_DECIMAL_SEPARATOR=".",e.DEFAULT_QUOTE='"',e.DEFAULT_SHOW_TITLE=!1,e.DEFAULT_TITLE="My Report",e.DEFAULT_FILENAME="mycsv.csv",e.DEFAULT_SHOW_LABELS=!1,e.DEFAULT_USE_BOM=!0,e.DEFAULT_HEADER=[],e.DEFAULT_NO_DOWNLOAD=!1,e.DEFAULT_REMOVE_EMPTY_VALUES=!1,e}();t.CsvConfigConsts=a,t.ConfigDefaults={filename:a.DEFAULT_FILENAME,fieldSeparator:a.DEFAULT_FIELD_SEPARATOR,quoteStrings:a.DEFAULT_QUOTE,decimalseparator:a.DEFAULT_DECIMAL_SEPARATOR,showLabels:a.DEFAULT_SHOW_LABELS,showTitle:a.DEFAULT_SHOW_TITLE,title:a.DEFAULT_TITLE,useBom:a.DEFAULT_USE_BOM,headers:a.DEFAULT_HEADER,noDownload:a.DEFAULT_NO_DOWNLOAD,removeEmptyValues:a.DEFAULT_REMOVE_EMPTY_VALUES},t.ngxCsv=function(){function e(e,i,a){this.csv="";var l=a||{};this.data="object"!=typeof e?JSON.parse(e):e,this._options=function(e){for(var t,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];for(var l,s=r(e),c=1;c<arguments.length;c++){for(var d in t=Object(arguments[c]))n.call(t,d)&&(s[d]=t[d]);if(Object.getOwnPropertySymbols){l=Object.getOwnPropertySymbols(t);for(var u=0;u<l.length;u++)o.call(t,l[u])&&(s[l[u]]=t[l[u]])}}return s}({},t.ConfigDefaults,l),this._options.filename&&(this._options.filename=i),this.generateCsv()}return e.prototype.generateCsv=function(){if(this._options.useBom&&(this.csv+=a.BOM),this._options.showTitle&&(this.csv+=this._options.title+"\r\n\n"),this.getHeaders(),this.getBody(),""!=this.csv){if(this._options.noDownload)return this.csv;var e=new Blob([this.csv],{type:"text/csv;charset=utf8;"});if(navigator.msSaveBlob){var t=this._options.filename.replace(/ /g,"_")+".csv";navigator.msSaveBlob(e,t)}else{encodeURI(this.csv);var i=document.createElement("a");i.href=URL.createObjectURL(e),i.setAttribute("visibility","hidden"),i.download=this._options.filename.replace(/ /g,"_")+".csv",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}else console.log("Invalid data")},e.prototype.getHeaders=function(){var e=this;if(this._options.headers.length>0){var t=this._options.headers.reduce((function(t,i){return t+i+e._options.fieldSeparator}),"");t=t.slice(0,-1),this.csv+=t+a.EOL}},e.prototype.getBody=function(){for(var e=0;e<this.data.length;e++){var t="";for(var i in this.data[e])t+=this.formartData(this.data[e][i])+this._options.fieldSeparator;t=t.slice(0,-1),this.csv+=t+a.EOL}},e.prototype.formartData=function(t){return this._options.removeEmptyValues&&!t?"":"locale"===this._options.decimalseparator&&e.isFloat(t)?t.toLocaleString():"."!==this._options.decimalseparator&&e.isFloat(t)?t.toString().replace(".",this._options.decimalseparator):"string"==typeof t?(t=t.replace(/"/g,'""'),(this._options.quoteStrings||t.indexOf(",")>-1||t.indexOf("\n")>-1||t.indexOf("\r")>-1)&&(t=this._options.quoteStrings+t+this._options.quoteStrings),t):"boolean"==typeof t?t?"TRUE":"FALSE":t},e.prototype.getCsv=function(){return this.csv},e.isFloat=function(e){return+e===e&&(!isFinite(e)||Boolean(e%1))},e}();var n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}},krBg:function(a,o,l){"use strict";l.r(o),l.d(o,"ModelsModule",(function(){return Dl}));var s=l("mrSG"),c=l("AytR"),d=l("WeB1"),u=[{algoName:"Boosting-Regression",fields:[{type:"number",name:"n_estimators",label:"n_estimators",required:!1,data:50,gs_data:"50,100,500",bo_data:"50,500",validators:{required:!0}},{type:"number",name:"learning_rate",label:"learning_rate",required:!1,data:1,gs_data:"0.01, 0.1,1.0",bo_data:"0.01,1.0",validators:{required:!0}},{type:"select",name:"loss",label:"loss",required:!0,data:"linear",gs_data:["linear","square","exponential"],select_options:[{option_label:"linear",value:"linear"},{option_label:"square",value:"square"},{option_label:"exponential",value:"exponential"}],placeholder_text:"Select loss",validators:{required:!0}}],isBOSupported:!0},{algoName:"Boosting-Classification",fields:[{type:"number",name:"n_estimators",label:"n_estimators",required:!1,data:50,gs_data:"50,100,500",bo_data:"50,500",validators:{required:!0}},{type:"number",name:"learning_rate",label:"learning_rate",required:!1,data:1,gs_data:"0.01, 0.1,1.0",bo_data:"0.01,1.0",validators:{required:!0}},{type:"select",name:"algorithm",label:"algorithm",required:!0,data:"SAMME.R",gs_data:["SAMME.R"],select_options:[{option_label:"SAMME.R",value:"SAMME.R"},{option_label:"SAMME",value:"SAMME"}],placeholder_text:"Select loss",validators:{required:!0}}],isBOSupported:!0},{algoName:"Bagging-Regression",fields:[{type:"number",name:"n_estimators",label:"n_estimators",required:!1,data:10,gs_data:"10,50,100",bo_data:"10,100",validators:{required:!0}},{type:"number",name:"max_samples",label:"max_samples",required:!1,data:1,gs_data:"0.5,0.7,1.0",bo_data:"0.5,1.0",validators:{required:!0}},{type:"number",name:"max_features",label:"max_features",required:!1,data:1,gs_data:"0.5,0.7,1.0",bo_data:"0.5,1.0",validators:{required:!0}},{type:"radio",name:"bootstrap",label:"bootstrap",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}],validators:{required:!0}},{type:"radio",name:"bootstrap_features",label:"bootstrap_features",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}],validators:{required:!0}},{type:"radio",name:"oob_score",label:"oob_score",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}],validators:{required:!0}}],isBOSupported:!0},{algoName:"Bagging-Classification",fields:[{type:"number",name:"n_estimators",label:"n_estimators",required:!1,data:10,gs_data:"10,50,100",bo_data:"10,100",validators:{required:!0}},{type:"number",name:"max_samples",label:"max_samples",required:!1,data:1,gs_data:"0.5,0.7,1.0",bo_data:"0.5,1.0",validators:{required:!0}},{type:"number",name:"max_features",label:"max_features",required:!1,data:1,gs_data:"0.5,0.7,1.0",bo_data:"0.5,1.0",validators:{required:!0}},{type:"radio",name:"bootstrap",label:"bootstrap",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}],validators:{required:!0}},{type:"radio",name:"bootstrap_features",label:"bootstrap_features",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}],validators:{required:!0}},{type:"radio",name:"oob_score",label:"oob_score",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}],validators:{required:!0}}],isBOSupported:!0},{algoName:"GridSearchCV-Regression",fields:[{type:"select",name:"scoring",label:"scoring",required:!0,data:"None",gs_data:["explained_variance","neg_mean_absolute_error","neg_mean_squared_error","neg_mean_squared_log_error","neg_median_absolute_error"],select_options:[{option_label:"explained_variance",value:"explained_variance"},{option_label:"None",value:"None"},{option_label:"neg_mean_absolute_error",value:"neg_mean_absolute_error"},{option_label:"neg_mean_squared_error",value:"neg_mean_squared_error"},{option_label:"neg_mean_squared_log_error",value:"neg_mean_squared_log_error"},{option_label:"neg_median_absolute_error",value:"neg_median_absolute_error"},{option_label:"r2",value:"r2"}],placeholder_text:"Select loss",validators:{required:!0}},{type:"text",name:"fit_params",label:"fit_params",required:!1,data:"None",validators:{required:!0}},{type:"radio",name:"iid",label:"iid",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}],validators:{required:!0}},{type:"radio",name:"refit",label:"refit",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}],validators:{required:!0}},{type:"text",name:"error_score",label:"error_score",required:!1,data:"raise-deprecating",validators:{required:!0}},{type:"number",name:"verbose",label:"verbose",required:!1,data:0,validators:{required:!0}},{type:"radio",name:"return_train_score",label:"return_train_score",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}],validators:{required:!0}}],isBOSupported:!0},{algoName:"GridSearchCV-Classification",fields:[{type:"select",name:"scoring",label:"scoring",required:!0,data:"None",gs_data:["None","accuracy","f1","precision","recall"],select_options:[{option_label:"None",value:"None"},{option_label:"accuracy",value:"accuracy"},{option_label:"f1",value:"f1"},{option_label:"precision",value:"precision"},{option_label:"recall",value:"recall"}],placeholder_text:"Select loss",validators:{required:!0}},{type:"text",name:"fit_params",label:"fit_params",required:!1,data:"None"},{type:"radio",name:"iid",label:"iid",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}],validators:{required:!0}},{type:"radio",name:"refit",label:"refit",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}],validators:{required:!0}},{type:"text",name:"error_score",label:"error_score",required:!1,data:"raise-deprecating",validators:{required:!0}},{type:"number",name:"verbose",label:"verbose",required:!1,data:0,validators:{required:!0}},{type:"radio",name:"return_train_score",label:"return_train_score",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}],validators:{required:!0}}],isBOSupported:!0}],b=l("cJky"),p=l("0IaG"),m=l("3Pt+"),g=l("1G5W"),f=l("XNiG"),h=l("fXoL"),v=l("mLz/"),T=l("5eHb"),S=l("kYjS"),k=l("e6Ph"),y=l("/mf7"),I=l("dNgK"),_=l("sdB8"),M=l("4xDO"),B=l("ofXK"),D=l("bTqV"),F=l("bSwM"),w=l("kmnG"),O=l("QibW"),C=l("d3UM"),x=l("FKr1"),K=l("qFsG"),N=l("A5z7"),P=l("TU8p"),A=l("3M9v"),L=l("Qu3c"),R=l("8NN1");function E(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div",12),h.Tb(1,"div",13),h.Tb(2,"mat-label",14),h.Kc(3,"Select retrain type"),h.Sb(),h.Tb(4,"mat-radio-group",15),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec(2).retrainType=e}))("change",(function(){h.wc(i);var e=h.ec(2);return e.changeRetrainType(e.retrainType)})),h.Tb(5,"mat-radio-button",16),h.Kc(6,"Fitting data using pipeline"),h.Sb(),h.Tb(7,"mat-radio-button",17),h.Kc(8,"Transforming data using pipeline"),h.Sb(),h.Sb(),h.Sb(),h.Sb()}if(2&e){var a=h.ec(2);h.Bb(4),h.kc("ngModel",a.retrainType)}}function q(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div",12),h.Tb(1,"div",13),h.Tb(2,"mat-label",14),h.Kc(3,"Select data source"),h.Sb(),h.Tb(4,"mat-radio-group",15),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec(2).sourceType=e}))("change",(function(){h.wc(i);var e=h.ec(2);return e.changeSourceType(e.sourceType)})),h.Tb(5,"mat-radio-button",18),h.Kc(6,"File"),h.Sb(),h.Tb(7,"span",19),h.Tb(8,"mat-radio-button",20),h.Kc(9,"MS SQL"),h.Sb(),h.Tb(10,"mat-radio-button",21),h.Kc(11,"MySQL"),h.Sb(),h.Tb(12,"mat-radio-button",22),h.Kc(13,"PostgreSQL"),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb()}if(2&e){var a=h.ec(2);h.Bb(4),h.kc("ngModel",a.sourceType),h.Bb(3),h.kc("hidden","transform"===a.retrainType&&"mssql"!==(null==a.baseTrainingFile?null:a.baseTrainingFile.fileSource)&&"postgresql"!==(null==a.baseTrainingFile?null:a.baseTrainingFile.fileSource)&&"mysql"!==(null==a.baseTrainingFile?null:a.baseTrainingFile.fileSource)),h.Bb(1),h.kc("hidden",a.hideMssqlSourceType),h.Bb(2),h.kc("hidden",a.hideMysqlSourceType),h.Bb(2),h.kc("hidden",a.hidePgsqlSourceType)}}function j(e,t){if(1&e&&(h.Tb(0,"mat-option",28),h.Kc(1),h.fc(2,"dropFileExtension"),h.Sb()),2&e){var i=t.$implicit;h.kc("value",i._id),h.Bb(1),h.Lc(h.hc(2,2,i.name,i.name))}}function U(e,t){1&e&&(h.Tb(0,"mat-error"),h.Kc(1,"Dataset is required."),h.Sb())}function G(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div",12),h.Tb(1,"div",13),h.Tb(2,"mat-form-field",23),h.Tb(3,"mat-label"),h.Kc(4,"Select dataset"),h.Sb(),h.Tb(5,"mat-select",24,25),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec(2).selectedDataset=e}))("selectionChange",(function(){return h.wc(i),h.ec(2).hideSubmitBtn=!1})),h.Ic(7,j,3,5,"mat-option",26),h.Sb(),h.Ic(8,U,2,0,"mat-error",27),h.Sb(),h.Sb(),h.Sb()}if(2&e){var a=h.tc(6),n=h.ec(2);h.Bb(5),h.kc("ngModel",n.selectedDataset),h.Bb(2),h.kc("ngForOf",n.dataSetsList),h.Bb(1),h.kc("ngIf",a.invalid||a.touched)}}function V(e,t){if(1&e&&(h.Tb(0,"mat-option",28),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.kc("value",i),h.Bb(1),h.Lc(i.connectionName)}}function H(e,t){1&e&&(h.Tb(0,"mat-error"),h.Kc(1,"Data connection is required."),h.Sb())}function z(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div",29),h.Tb(1,"div",13),h.Tb(2,"mat-form-field",23),h.Tb(3,"mat-label"),h.Kc(4,"Select data connection"),h.Sb(),h.Tb(5,"mat-select",24,30),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec(2).selectedConnection=e}))("selectionChange",(function(){return h.wc(i),h.ec(2).hideSubmitBtn=!1})),h.Ic(7,V,2,2,"mat-option",26),h.Sb(),h.Ic(8,H,2,0,"mat-error",27),h.Sb(),h.Sb(),h.Sb()}if(2&e){var a=h.tc(6),n=h.ec(2);h.kc("hidden",n.hideSelectConnection),h.Bb(5),h.kc("ngModel",n.selectedConnection),h.Bb(2),h.kc("ngForOf",n.dataConnectionsArray),h.Bb(1),h.kc("ngIf",a.invalid||a.touched)}}function W(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div",29),h.Tb(1,"div",31),h.Tb(2,"mat-form-field",23),h.Tb(3,"mat-label"),h.Kc(4,"Write SQL query"),h.Sb(),h.Tb(5,"textarea",32),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec(2).query=e})),h.Sb(),h.Sb(),h.Sb(),h.Sb()}if(2&e){var a=h.ec(2);h.kc("hidden",!("transform"!==a.retrainType||"mssql"!==(null==a.baseTrainingFile?null:a.baseTrainingFile.fileSource)&&"postgresql"!==(null==a.baseTrainingFile?null:a.baseTrainingFile.fileSource)&&"mysql"!==(null==a.baseTrainingFile?null:a.baseTrainingFile.fileSource)||"mssql"!==a.sourceType&&"mysql"!==a.sourceType&&"postgresql"!==a.sourceType)),h.Bb(5),h.kc("ngModel",a.query)}}function Q(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div",12),h.Tb(1,"div",31),h.Tb(2,"mat-form-field",23),h.Tb(3,"mat-label"),h.Kc(4,"Drift report name"),h.Sb(),h.Tb(5,"input",33),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec(2).reportName=e})),h.Sb(),h.Sb(),h.Sb(),h.Sb()}if(2&e){var a=h.ec(2);h.Bb(5),h.kc("ngModel",a.reportName)}}function Y(e,t){if(1&e&&(h.Tb(0,"mat-option",28),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.kc("value",i),h.Bb(1),h.Lc(i.configName)}}function X(e,t){1&e&&(h.Tb(0,"mat-error"),h.Kc(1,"Drift configuration is required."),h.Sb())}function J(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div",12),h.Tb(1,"div",13),h.Tb(2,"mat-form-field",23),h.Tb(3,"mat-label"),h.Kc(4,"Select drift configuration"),h.Sb(),h.Tb(5,"mat-select",34,35),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec(2).driftConfig=e})),h.Ic(7,Y,2,2,"mat-option",26),h.Sb(),h.Ic(8,X,2,0,"mat-error",27),h.Sb(),h.Sb(),h.Sb()}if(2&e){var a=h.tc(6),n=h.ec(2);h.Bb(5),h.kc("ngModel",n.driftConfig),h.Bb(2),h.kc("ngForOf",n.driftConfigList),h.Bb(1),h.kc("ngIf",a.invalid||a.touched)}}function Z(e,t){if(1&e){var i=h.Ub();h.Tb(0,"mat-dialog-content",6),h.Ic(1,E,9,1,"div",7),h.Ic(2,q,14,5,"div",7),h.Ic(3,G,9,3,"div",7),h.Ic(4,z,9,4,"div",8),h.Ic(5,W,6,2,"div",8),h.Tb(6,"mat-checkbox",9),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec().mergeDataset=e})),h.Kc(7,"Merge dataset"),h.Sb(),h.Tb(8,"p",10),h.Tb(9,"a",11),h.ac("click",(function(){h.wc(i);var e=h.ec();return e.showDriftAnalysis=!e.showDriftAnalysis})),h.Kc(10,"Drift Analysis?"),h.Sb(),h.Sb(),h.Ic(11,Q,6,1,"div",7),h.Ic(12,J,9,3,"div",7),h.Sb()}if(2&e){var a=h.ec();h.Bb(1),h.kc("ngIf",!(null!=a.project&&a.project.useGPU)),h.Bb(1),h.kc("ngIf",!(null!=a.project&&a.project.useGPU)),h.Bb(1),h.kc("ngIf","file"===a.sourceType),h.Bb(1),h.kc("ngIf","refit"===a.retrainType&&("mssql"===a.sourceType||"mysql"===a.sourceType||"postgresql"===a.sourceType)),h.Bb(1),h.kc("ngIf",!("transform"===a.retrainType||"mssql"===(null==a.baseTrainingFile?null:a.baseTrainingFile.fileSource)&&"postgresql"===(null==a.baseTrainingFile?null:a.baseTrainingFile.fileSource)&&"mysql"===(null==a.baseTrainingFile?null:a.baseTrainingFile.fileSource)||"mssql"!==a.sourceType&&"mysql"!==a.sourceType&&"postgresql"!==a.sourceType)),h.Bb(1),h.kc("ngModel",a.mergeDataset),h.Bb(5),h.kc("ngIf",a.showDriftAnalysis),h.Bb(1),h.kc("ngIf",a.showDriftAnalysis)}}function ee(e,t){1&e&&(h.Tb(0,"mat-radio-button",44),h.Kc(1," Random Search"),h.Sb())}function te(e,t){if(1&e&&(h.Tb(0,"mat-radio-button",45),h.Tb(1,"span",46),h.Kc(2,"Bayesian Optimization"),h.Sb(),h.Sb()),2&e){var i=h.ec(2);h.kc("hidden",i.disableBO&&i.isImported)("disabled",!("saas"!==i.appType||null!=i.user&&null!=i.user.roles&&i.user.roles.includes("super_admin")||null!=i.user&&null!=i.user.roles&&i.user.roles.includes("admin"))),h.Bb(1),h.kc("matBadgeIcon","ENT")}}function ie(e,t){1&e&&(h.Tb(0,"h4",47),h.Kc(1," Random Search is not supported for this model. "),h.Sb())}function ae(e,t){1&e&&(h.Tb(0,"h4",47),h.Kc(1," Bayesian Optimization is not supported for this model. "),h.Sb())}function ne(e,t){if(1&e&&(h.Tb(0,"tr"),h.Tb(1,"td"),h.Kc(2),h.Sb(),h.Tb(3,"td"),h.Kc(4),h.Sb(),h.Sb()),2&e){var i=t.$implicit;h.Bb(2),h.Lc(i.name),h.Bb(2),h.Lc(null==i.data?"None":i.data)}}function oe(e,t){if(1&e&&(h.Tb(0,"table",48),h.Tb(1,"caption"),h.Kc(2),h.Sb(),h.Tb(3,"thead",49),h.Tb(4,"tr"),h.Tb(5,"td"),h.Kc(6,"Parameter"),h.Sb(),h.Tb(7,"td"),h.Kc(8,"Value"),h.Sb(),h.Sb(),h.Sb(),h.Tb(9,"tbody"),h.Ic(10,ne,5,2,"tr",50),h.Sb(),h.Sb()),2&e){var i=h.ec(2);h.Bb(2),h.Mc(" ","hpt"===i.modelTuningOption?"Params":"Best params"," used in last model tuning "),h.Bb(8),h.kc("ngForOf",null==i.modelInfo||null==i.modelInfo.modelMetaData?null:i.modelInfo.modelMetaData.bestParams[i.modelTuningOption])}}function re(e,t){if(1&e){var i=h.Ub();h.Tb(0,"mat-form-field",23),h.Tb(1,"mat-label"),h.Kc(2),h.Sb(),h.Tb(3,"input",54),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec(2).$implicit.data=e})),h.Sb(),h.Sb()}if(2&e){var a=h.ec(2).$implicit;h.Bb(2),h.Lc(null==a?null:a.label),h.Bb(1),h.kc("type",null==a?null:a.type)("placeholder",null==a?null:a.placeholder_text)("name",a.name)("ngModel",a.data)("formControlName",null==a?null:a.name)}}function le(e,t){if(1&e&&(h.Tb(0,"mat-option",28),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.kc("value",i.value),h.Bb(1),h.Mc("",i.option_label," ")}}function se(e,t){if(1&e){var i=h.Ub();h.Tb(0,"mat-form-field",23),h.Tb(1,"mat-label"),h.Kc(2),h.Sb(),h.Tb(3,"mat-select",55),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec(2).$implicit.data=e})),h.Ic(4,le,2,2,"mat-option",26),h.Sb(),h.Sb()}if(2&e){var a=h.ec(2).$implicit;h.Bb(2),h.Lc(a.placeholder_text?a.placeholder_text:a.name),h.Bb(1),h.kc("ngModel",a.data)("formControlName",null==a?null:a.name),h.Bb(1),h.kc("ngForOf",a.select_options)}}function ce(e,t){1&e&&(h.Tb(0,"mat-error"),h.Kc(1," This field is required. "),h.Sb())}function de(e,t){1&e&&(h.Tb(0,"mat-error"),h.Kc(1," No of characters are less than minimum length. "),h.Sb())}function ue(e,t){1&e&&(h.Tb(0,"mat-error"),h.Kc(1," Value is less than minimum. "),h.Sb())}function be(e,t){1&e&&(h.Tb(0,"mat-error"),h.Kc(1," Value is greater than maximum. "),h.Sb())}function pe(e,t){1&e&&(h.Tb(0,"mat-error"),h.Kc(1," No of characters are more than maximum length. "),h.Sb())}function me(e,t){1&e&&(h.Tb(0,"mat-error"),h.Kc(1," Value type is not proper. "),h.Sb())}function ge(e,t){if(1&e&&(h.Tb(0,"div"),h.Ic(1,re,4,6,"mat-form-field",53),h.Ic(2,se,5,4,"mat-form-field",53),h.Ic(3,ce,2,0,"mat-error",27),h.Ic(4,de,2,0,"mat-error",27),h.Ic(5,ue,2,0,"mat-error",27),h.Ic(6,be,2,0,"mat-error",27),h.Ic(7,pe,2,0,"mat-error",27),h.Ic(8,me,2,0,"mat-error",27),h.Sb()),2&e){var i=h.ec().$implicit,a=h.ec(2);h.Bb(1),h.kc("ngIf","number"===(null==i?null:i.type)||"text"===(null==i?null:i.type)),h.Bb(1),h.kc("ngIf","select"===(null==i?null:i.type)),h.Bb(1),h.kc("ngIf",null==a.hptForm.get(null==i?null:i.name).errors?null:a.hptForm.get(null==i?null:i.name).errors.required),h.Bb(1),h.kc("ngIf",null==a.hptForm.get(null==i?null:i.name).errors?null:a.hptForm.get(null==i?null:i.name).errors.minLength),h.Bb(1),h.kc("ngIf",null==a.hptForm.get(null==i?null:i.name).errors?null:a.hptForm.get(null==i?null:i.name).errors.min),h.Bb(1),h.kc("ngIf",null==a.hptForm.get(null==i?null:i.name).errors?null:a.hptForm.get(null==i?null:i.name).errors.max),h.Bb(1),h.kc("ngIf",null==a.hptForm.get(null==i?null:i.name).errors?null:a.hptForm.get(null==i?null:i.name).errors.maxLength),h.Bb(1),h.kc("ngIf",null==a.hptForm.get(null==i?null:i.name).errors?null:a.hptForm.get(null==i?null:i.name).errors.pattern)}}function fe(e,t){if(1&e){var i=h.Ub();h.Tb(0,"mat-form-field",57),h.Tb(1,"mat-label"),h.Kc(2),h.Sb(),h.Tb(3,"input",58),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec(2).$implicit.data=e})),h.Sb(),h.Sb()}if(2&e){var a=h.ec(2).$implicit,n=h.ec(2);h.kc("hidden",a.disable&&("Artificial Neural Network Classification"===n.formFields.algoName||"Artificial Neural Network Regression"===n.formFields.algoName)),h.Bb(2),h.Lc(a.label),h.Bb(1),h.kc("placeholder",a.placeholder_text)("name",a.name)("ngModel",a.data)("formControlName",null==a?null:a.name)}}function he(e,t){if(1&e&&(h.Tb(0,"mat-option",28),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.kc("value",i.value),h.Bb(1),h.Mc("",i.option_label," ")}}function ve(e,t){if(1&e){var i=h.Ub();h.Tb(0,"mat-form-field",23),h.Tb(1,"mat-label"),h.Kc(2),h.Sb(),h.Tb(3,"mat-select",59),h.ac("change",(function(e){h.wc(i);var t=h.ec(2).$implicit;return h.ec(2).bindGridSearch(e.value,t)}))("ngModelChange",(function(e){return h.wc(i),h.ec(2).$implicit.data=e})),h.Ic(4,he,2,2,"mat-option",26),h.Sb(),h.Sb()}if(2&e){var a=h.ec(2).$implicit;h.Bb(2),h.Lc(a.placeholder_text?a.placeholder_text:a.name),h.Bb(1),h.kc("ngModel",a.data)("formControlName",null==a?null:a.name),h.Bb(1),h.kc("ngForOf",a.select_options)}}function Te(e,t){1&e&&(h.Tb(0,"mat-error"),h.Kc(1," This field is required. "),h.Sb())}function Se(e,t){1&e&&(h.Tb(0,"mat-error"),h.Kc(1," No of characters are less than minimum length. "),h.Sb())}function ke(e,t){1&e&&(h.Tb(0,"mat-error"),h.Kc(1," Value is less than minimum. "),h.Sb())}function ye(e,t){1&e&&(h.Tb(0,"mat-error"),h.Kc(1," Value is greater than maximum. "),h.Sb())}function Ie(e,t){1&e&&(h.Tb(0,"mat-error"),h.Kc(1," No of characters are more than maximum length. "),h.Sb())}function _e(e,t){1&e&&(h.Tb(0,"mat-error"),h.Kc(1," Value type is not proper. "),h.Sb())}function Me(e,t){if(1&e&&(h.Tb(0,"div"),h.Ic(1,fe,4,6,"mat-form-field",56),h.Ic(2,ve,5,4,"mat-form-field",53),h.Ic(3,Te,2,0,"mat-error",27),h.Ic(4,Se,2,0,"mat-error",27),h.Ic(5,ke,2,0,"mat-error",27),h.Ic(6,ye,2,0,"mat-error",27),h.Ic(7,Ie,2,0,"mat-error",27),h.Ic(8,_e,2,0,"mat-error",27),h.Sb()),2&e){var i=h.ec().$implicit,a=h.ec(2);h.Bb(1),h.kc("ngIf","number"===(null==i?null:i.type)||"text"===(null==i?null:i.type)),h.Bb(1),h.kc("ngIf","select"===(null==i?null:i.type)),h.Bb(1),h.kc("ngIf",null==a.hptForm.get(null==i?null:i.name).errors?null:a.hptForm.get(null==i?null:i.name).errors.required),h.Bb(1),h.kc("ngIf",null==a.hptForm.get(null==i?null:i.name).errors?null:a.hptForm.get(null==i?null:i.name).errors.minLength),h.Bb(1),h.kc("ngIf",null==a.hptForm.get(null==i?null:i.name).errors?null:a.hptForm.get(null==i?null:i.name).errors.min),h.Bb(1),h.kc("ngIf",null==a.hptForm.get(null==i?null:i.name).errors?null:a.hptForm.get(null==i?null:i.name).errors.max),h.Bb(1),h.kc("ngIf",null==a.hptForm.get(null==i?null:i.name).errors?null:a.hptForm.get(null==i?null:i.name).errors.maxLength),h.Bb(1),h.kc("ngIf",null==a.hptForm.get(null==i?null:i.name).errors?null:a.hptForm.get(null==i?null:i.name).errors.pattern)}}function Be(e,t){1&e&&(h.Tb(0,"mat-error"),h.Kc(1," This field is required. "),h.Sb())}function De(e,t){1&e&&(h.Tb(0,"mat-error"),h.Kc(1," No of characters are less than minimum length. "),h.Sb())}function Fe(e,t){1&e&&(h.Tb(0,"mat-error"),h.Kc(1," Value is less than minimum. "),h.Sb())}function we(e,t){1&e&&(h.Tb(0,"mat-error"),h.Kc(1," Value is greater than maximum. "),h.Sb())}function Oe(e,t){1&e&&(h.Tb(0,"mat-error"),h.Kc(1," No of characters are more than maximum length. "),h.Sb())}function Ce(e,t){1&e&&(h.Tb(0,"mat-error"),h.Kc(1," Value type is not proper. "),h.Sb())}function xe(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div"),h.Tb(1,"mat-form-field",57),h.Tb(2,"mat-label"),h.Kc(3),h.Sb(),h.Tb(4,"input",58),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec().$implicit.data=e})),h.Sb(),h.Sb(),h.Ic(5,Be,2,0,"mat-error",27),h.Ic(6,De,2,0,"mat-error",27),h.Ic(7,Fe,2,0,"mat-error",27),h.Ic(8,we,2,0,"mat-error",27),h.Ic(9,Oe,2,0,"mat-error",27),h.Ic(10,Ce,2,0,"mat-error",27),h.Sb()}if(2&e){var a=h.ec().$implicit,n=h.ec(2);h.Bb(1),h.kc("hidden",a.disable&&("Artificial Neural Network Classification"===n.formFields.algoName||"Artificial Neural Network Regression"===n.formFields.algoName)),h.Bb(2),h.Lc(a.label),h.Bb(1),h.kc("placeholder",a.placeholder_text)("name",a.name)("ngModel",a.data)("formControlName",null==a?null:a.name),h.Bb(1),h.kc("ngIf",null==n.hptForm.get(null==a?null:a.name).errors?null:n.hptForm.get(null==a?null:a.name).errors.required),h.Bb(1),h.kc("ngIf",null==n.hptForm.get(null==a?null:a.name).errors?null:n.hptForm.get(null==a?null:a.name).errors.minLength),h.Bb(1),h.kc("ngIf",null==n.hptForm.get(null==a?null:a.name).errors?null:n.hptForm.get(null==a?null:a.name).errors.min),h.Bb(1),h.kc("ngIf",null==n.hptForm.get(null==a?null:a.name).errors?null:n.hptForm.get(null==a?null:a.name).errors.max),h.Bb(1),h.kc("ngIf",null==n.hptForm.get(null==a?null:a.name).errors?null:n.hptForm.get(null==a?null:a.name).errors.maxLength),h.Bb(1),h.kc("ngIf",null==n.hptForm.get(null==a?null:a.name).errors?null:n.hptForm.get(null==a?null:a.name).errors.pattern)}}function Ke(e,t){if(1&e&&(h.Tb(0,"mat-radio-button",63),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.kc("value",i.value),h.Bb(1),h.Lc(i.radio_label)}}function Ne(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div",19),h.Tb(1,"label",60),h.Kc(2),h.Sb(),h.Tb(3,"mat-radio-group",61),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec().$implicit.data=e})),h.Ic(4,Ke,2,2,"mat-radio-button",62),h.Sb(),h.Sb()}if(2&e){var a=h.ec().$implicit,n=h.ec(2);h.kc("hidden",a.disable&&("Artificial Neural Network Classification"===n.formFields.algoName||"Artificial Neural Network Regression"===n.formFields.algoName)),h.Bb(2),h.Lc(a.label),h.Bb(1),h.kc("ngModel",a.data)("formControlName",null==a?null:a.name),h.Bb(1),h.kc("ngForOf",a.radio_btns)}}function Pe(e,t){if(1&e&&(h.Tb(0,"div",51),h.Ic(1,ge,9,8,"div",27),h.Ic(2,Me,9,8,"div",27),h.Ic(3,xe,11,12,"div",27),h.Ic(4,Ne,5,5,"div",52),h.Sb()),2&e){var i=t.$implicit,a=h.ec(2);h.Bb(1),h.kc("ngIf","hpt"===a.modelTuningOption),h.Bb(1),h.kc("ngIf","gridSearch"===a.modelTuningOption),h.Bb(1),h.kc("ngIf","bayesianOptimization"===a.modelTuningOption&&i.bo_data),h.Bb(1),h.kc("ngIf","radio"===(null==i?null:i.type)&&"bayesianOptimization"!==a.modelTuningOption)}}function Ae(e,t){if(1&e){var i=h.Ub();h.Tb(0,"mat-dialog-content",6),h.Tb(1,"mat-chip-list"),h.Tb(2,"mat-chip"),h.Kc(3),h.Sb(),h.Sb(),h.Tb(4,"div",36),h.Tb(5,"div",13),h.Tb(6,"mat-label",14),h.Kc(7,"Select model tuning method"),h.Sb(),h.Tb(8,"mat-radio-group",15),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec().modelTuningOption=e}))("change",(function(){return h.wc(i),h.ec().onTuningOptionChanged("secondTime")})),h.Tb(9,"mat-radio-button",37),h.Kc(10,"Parameter Tuning"),h.Sb(),h.Ic(11,ee,2,0,"mat-radio-button",38),h.Ic(12,te,3,3,"mat-radio-button",39),h.Sb(),h.Sb(),h.Sb(),h.Ic(13,ie,2,0,"h4",40),h.Ic(14,ae,2,0,"h4",40),h.Tb(15,"div",19),h.Ic(16,oe,11,2,"table",41),h.Tb(17,"div",42),h.Ob(18,"br"),h.Ic(19,Pe,5,4,"div",43),h.Sb(),h.Sb(),h.Sb()}if(2&e){var a=h.ec();h.Bb(3),h.Lc(null==a.modelInfo||null==a.modelInfo.modelMetaData?null:a.modelInfo.modelMetaData.algoName),h.Bb(5),h.kc("ngModel",a.modelTuningOption),h.Bb(3),h.kc("ngIf",!a.disableRandomSearch),h.Bb(1),h.kc("ngIf",0==a.isMultilabel),h.Bb(1),h.kc("ngIf",!("Gaussian NB Classification"!==(null==a.modelInfo||null==a.modelInfo.modelMetaData?null:a.modelInfo.modelMetaData.algoName)&&"Linear Regression"!==(null==a.modelInfo||null==a.modelInfo.modelMetaData?null:a.modelInfo.modelMetaData.algoName)||"gridSearch"!==a.modelTuningOption||null!=a.formFields&&a.formFields.isGridSearchSupported)),h.Bb(1),h.kc("ngIf","bayesianOptimization"===a.modelTuningOption&&!(null!=a.formFields&&a.formFields.isBOSupported)),h.Bb(1),h.kc("hidden","bayesianOptimization"===a.modelTuningOption&&!(null!=a.formFields&&a.formFields.isBOSupported)),h.Bb(1),h.kc("ngIf",(null==a.modelInfo||null==a.modelInfo.modelMetaData?null:a.modelInfo.modelMetaData.bestParams[a.modelTuningOption])&&(null==a.modelInfo||null==a.modelInfo.modelMetaData?null:a.modelInfo.modelMetaData.bestParams[a.modelTuningOption].length)),h.Bb(1),h.kc("hidden",("Gaussian NB Classification"===(null==a.modelInfo||null==a.modelInfo.modelMetaData?null:a.modelInfo.modelMetaData.algoName)||"Linear Regression"===(null==a.modelInfo||null==a.modelInfo.modelMetaData?null:a.modelInfo.modelMetaData.algoName))&&"gridSearch"===a.modelTuningOption&&!a.formFields.isGridSearchSupported||"bayesianOptimization"===a.modelTuningOption&&!a.formFields.isBOSupported)("formGroup",a.hptForm),h.Bb(2),h.kc("ngForOf",null==a.formFields?null:a.formFields.fields)}}function Le(e,t){if(1&e&&(h.Tb(0,"mat-radio-button",67),h.Kc(1,"Boosting "),h.Sb()),2&e){var i=h.ec(2);h.kc("matTooltip",i._utils.getTootip("boosting"))("disabled",!0===i.disableBoosting)}}function Re(e,t){1&e&&(h.Tb(0,"mat-hint"),h.Kc(1," Note: Base algorithm default hyper parameters will be taken, you can change if you need. "),h.Sb())}function Ee(e,t){1&e&&(h.Tb(0,"h4"),h.Kc(1,"Hyper Parameters"),h.Sb())}function qe(e,t){if(1&e){var i=h.Ub();h.Tb(0,"mat-form-field",23),h.Tb(1,"mat-label"),h.Kc(2),h.Sb(),h.Tb(3,"input",68),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec().$implicit.data=e})),h.Sb(),h.Sb()}if(2&e){var a=h.ec().$implicit;h.Bb(2),h.Lc(a.label),h.Bb(1),h.kc("type",a.type)("placeholder",a.placeholder_text)("name",a.name)("ngModel",a.data)}}function je(e,t){if(1&e&&(h.Tb(0,"mat-option",28),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.kc("value",i.value),h.Bb(1),h.Lc(i.option_label)}}function $e(e,t){if(1&e){var i=h.Ub();h.Tb(0,"mat-form-field",23),h.Tb(1,"mat-label"),h.Kc(2),h.Sb(),h.Tb(3,"mat-select",69),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec().$implicit.data=e})),h.Ic(4,je,2,2,"mat-option",26),h.Sb(),h.Sb()}if(2&e){var a=h.ec().$implicit;h.Bb(2),h.Lc(a.placeholder_text?a.placeholder_text:a.name),h.Bb(1),h.kc("ngModel",a.data),h.Bb(1),h.kc("ngForOf",null==a?null:a.select_options)}}function Ue(e,t){if(1&e&&(h.Tb(0,"mat-radio-button",63),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.kc("value",i.value),h.Bb(1),h.Lc(i.radio_label)}}function Ge(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div"),h.Tb(1,"label",60),h.Kc(2),h.Sb(),h.Tb(3,"mat-radio-group",70),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec().$implicit.data=e})),h.Ic(4,Ue,2,2,"mat-radio-button",62),h.Sb(),h.Sb()}if(2&e){var a=h.ec().$implicit;h.Bb(2),h.Lc(a.label),h.Bb(1),h.kc("ngModel",a.data),h.Bb(1),h.kc("ngForOf",a.radio_btns)}}function Ve(e,t){if(1&e&&(h.Tb(0,"div",51),h.Ic(1,qe,4,5,"mat-form-field",53),h.Ic(2,$e,5,3,"mat-form-field",53),h.Ic(3,Ge,5,3,"div",27),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.kc("ngIf","number"===i.type||"text"===i.type),h.Bb(1),h.kc("ngIf","select"===(null==i?null:i.type)),h.Bb(1),h.kc("ngIf","radio"===(null==i?null:i.type))}}function He(e,t){if(1&e&&(h.Tb(0,"div",12),h.Ic(1,Ve,4,3,"div",43),h.Sb()),2&e){var i=h.ec(2);h.Bb(1),h.kc("ngForOf",null==i.formAdvAlgoFeilds?null:i.formAdvAlgoFeilds.fields)}}function ze(e,t){if(1&e){var i=h.Ub();h.Tb(0,"mat-dialog-content",6),h.Tb(1,"div",64),h.Tb(2,"div",13),h.Tb(3,"mat-label",14),h.Kc(4,"Select method"),h.Sb(),h.Tb(5,"mat-radio-group",15),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec().advAlgoSelected=e}))("change",(function(){h.wc(i);var e=h.ec();return e.onAdvAlgoSelectionChange(e.advAlgoSelected)})),h.Tb(6,"mat-radio-button",65),h.Kc(7,"Bagging "),h.Sb(),h.Ic(8,Le,2,2,"mat-radio-button",66),h.Sb(),h.Ic(9,Re,2,0,"mat-hint",27),h.Sb(),h.Sb(),h.Ic(10,Ee,2,0,"h4",27),h.Ic(11,He,2,1,"div",7),h.Sb()}if(2&e){var a=h.ec();h.Bb(5),h.kc("ngModel",a.advAlgoSelected),h.Bb(1),h.kc("matTooltip",a._utils.getTootip("bagging"))("disabled",!0===a.disableBagging),h.Bb(2),h.kc("ngIf","KNN Classification"!==(null==a.modelInfo||null==a.modelInfo.modelMetaData?null:a.modelInfo.modelMetaData.algoName)),h.Bb(1),h.kc("ngIf","gridSearchCV"===a.advAlgoSelected),h.Bb(1),h.kc("ngIf",a.advAlgoSelected&&(null==a.formAdvAlgoFeilds?null:a.formAdvAlgoFeilds.fields)),h.Bb(1),h.kc("ngIf",a.advAlgoSelected&&(null==a.formAdvAlgoFeilds?null:a.formAdvAlgoFeilds.fields))}}function We(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",71),h.ac("click",(function(){return h.wc(i),h.ec().doDataDriftAnalysis()})),h.Kc(1," Do Drift Analysis "),h.Sb()}}function Qe(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",72),h.ac("click",(function(){return h.wc(i),h.ec().startRetraining()})),h.Kc(1," Submit "),h.Sb()}if(2&e){var a=h.ec();h.kc("disabled",a.hideSubmitBtn||a.showDriftAnalysis&&!a.reportName&&!a.driftConfig)}}function Ye(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",71),h.ac("click",(function(){h.wc(i);var e=h.ec();return e.resetHptValues(null==e.formFields?null:e.formFields.algoName)})),h.Kc(1," Reset "),h.Sb()}}function Xe(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",72),h.ac("click",(function(){h.wc(i);var e=h.ec();return e.saveHPTPreference(e.formFields)})),h.Kc(1," Submit "),h.Sb()}if(2&e){var a=h.ec();h.kc("disabled",("Gaussian NB Classification"===(null==a.modelInfo||null==a.modelInfo.modelMetaData?null:a.modelInfo.modelMetaData.algoName)||"Linear Regression"===(null==a.modelInfo||null==a.modelInfo.modelMetaData?null:a.modelInfo.modelMetaData.algoName))&&"gridSearch"===a.modelTuningOption&&!(null!=a.formFields&&a.formFields.isGridSearchSupported)||"bayesianOptimization"===a.modelTuningOption&&!(null!=a.formFields&&a.formFields.isBOSupported)||a.hptForm.invalid)}}function Je(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",71),h.ac("click",(function(){h.wc(i);var e=h.ec();return e.saveHyperParam(e.advAlgoSelected)})),h.Kc(1," Save HP "),h.Sb()}}function Ze(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",72),h.ac("click",(function(){return h.wc(i),h.ec().startAdvTraining()})),h.Kc(1," Submit "),h.Sb()}if(2&e){var a=h.ec();h.kc("disabled",!(null!=a.formAdvAlgoFeilds&&a.formAdvAlgoFeilds.fields))}}var et,tt=l("GUC0"),it=((et=function(){function e(t,i,a,o,r,l,s,d,u,b,p){n(this,e),this.dialogData=t,this._modelsDialogRef=i,this._localStorage=a,this._toaster=o,this._data=r,this._dataDrift=l,this._spinner=s,this._snackBar=d,this._training=u,this._utils=b,this.fb=p,this.unsubscribe$=new f.b,this.hideMssqlSourceType=!1,this.hidePgsqlSourceType=!1,this.hideMysqlSourceType=!1,this.hideSelectConnection=!1,this.showDriftAnalysis=!1,this.isImported=!1,this.disableBO=!1,this.appType=c.a.appType,this.allowedSettingsOption=null,this.retrainType="refit",this.sourceType="file",this.backGround="#ffffff",this.foreGround="#08509d",this.mergeDataset=!1,this.dataSetsList=[],this.driftConfigList=[],this.dataConnectionsArray=[],this.hideSubmitBtn=!0,this.isMultilabel=!1,this.disableBagging=!1,this.disableBoosting=!1,this.disableRandomSearch=!1,this.hptForm=this.fb.group({})}return r(e,[{key:"ngOnInit",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._spinner.showSpinner(),e.next=3,this._utils.getAlgorithms();case 3:this.ALGORITHMS_ARRAY=e.sent,this.ALGORITHMS_ARRAY.filter((function(e){return"Bagging Classifier"!=e.name&&"Bagging Regressor"!=e.name||!1!==e.status?"Boosting Classifier"!=e.name&&"Boosting Regressor"!=e.name||!1!==e.status||(t.disableBoosting=!0):t.disableBagging=!0,e})),this.user=this._localStorage.getItem("user"),this.project=this._localStorage.getItem("project"),this.modelInfo=this.dialogData.modelInfo,this.training=this.dialogData.trainingInfo,this.edaInfo=this.dialogData.originalFileWithEdaDetails,this.isMultilabel=this.training.isMultilabel,this.setRestrictions(),e.t0=this.dialogData.type,e.next="retrain"===e.t0?15:"tuning"===e.t0?19:"advAlgo"===e.t0?21:22;break;case 15:return this.dialogHeading="Retrain Model",e.next=18,this.initializeRetrainData();case 18:return e.abrupt("break",22);case 19:return this.dialogHeading="Model Tuning (HPT)",this.initializeTuningData(),e.abrupt("break",22);case 21:this.dialogHeading="Advance Algorithms",this._spinner.stopSpinner();case 22:case"end":return e.stop()}}),e,this)})))}},{key:"initializeRetrainData",value:function(){var e;return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.iteration="Retraining- "+this.genModelName(this.training.models,this.modelInfo.modelMetaData.algoName),t.next=3,this._data.getAllProjectDatas(this.project._id).pipe(Object(g.a)(this.unsubscribe$)).toPromise().catch((function(e){a._toaster.error("Error - "+e.message,"Models"),a._spinner.stopSpinner()}));case 3:return i=t.sent,this.dataSetsList=i[0].filesList.filter((function(e){return"upload_retrained"!==e.fileSource&&!e.hasOwnProperty("taExperimentId")})),this.dataSetsList=this.dataSetsList.filter((function(e){return"notebook"!==e.fileSource})),this.baseTrainingFile=this.dataSetsList.find((function(e){return e._id===a.training.originalFileId})),this.retrainSourceType=this.modelInfo.retrainSourceType,this.modelInfo.retrainSourceType&&(this.baseTrainingFile.fileSource=this.modelInfo.retrainSourceType),this.selectedModelName="".concat(this.training.name," - ").concat(this.modelInfo.modelMetaData.algoName),this.algoType=null===(e=this.ALGORITHMS_ARRAY.filter((function(e){return e.name===a.modelInfo.modelMetaData.algoName.split("-")[0]}))[0])||void 0===e?void 0:e.type,this.retrainObj={algoType:this.algoType,algorithms:[this.modelInfo.modelMetaData.algoName],trainingId:this.training._id,modelId:this.modelInfo._id,projectId:this.training.projectId,modelTuning:this.modelInfo.modelMetaData.modelTuning,modelFile:this.modelInfo.modelMetaData.modelPath,sampling:this.training.sampling,useGPU:this.project.useGPU,iteration:this.iteration,dataSetInfo:this.dialogData.trainings[0].edaId.dataSetInfo,logTransformationColumns:this.dialogData.trainings[0].logTransformationColumns,scalarValue:this.dialogData.trainings[0].scalarValue,dataGroupId:this.edaInfo.dataGroupId},t.next=14,this._dataDrift.getAllSettings(this.project._id).pipe(Object(g.a)(this.unsubscribe$)).toPromise().catch((function(e){a._toaster.error("Error - "+e.message,"Models"),a._spinner.stopSpinner()}));case 14:t.sent.filter((function(e){"regression"===a.algoType?"regression"===e.algoType&&a.driftConfigList.push(e):"classification"===e.algoType&&a.driftConfigList.push(e)})),this._spinner.stopSpinner();case 16:case"end":return t.stop()}}),t,this)})))}},{key:"initializeTuningData",value:function(){var e,t,i=this;this.isImported=!!(this.project.isImported&&this.modelInfo.modelMetaData.isMultilabel||this.modelInfo.modelMetaData.isMultilabel);var a=this.modelInfo.modelMetaData.algoName.split("-"),n=a.find((function(e){return"Prophet"===e}));this.disableRandomSearch="Prophet"===n,this.iteration="Tuning-"+this.genModelName(this.training.models,this.modelInfo.modelMetaData.algoName),this.disableBO=!(("XGBoost Classification"!==a&&"LightGBM Classification"!==a||!this.training.isMultilabel)&&"timeseries"!==this.project.type),this.modelTuningOption=this.modelInfo.modelMetaData.modelTuning||"hpt";var o=this.modelInfo.modelMetaData.algoName.split("-");if(this.algorithmName=o[0],this.algorithm=this.ALGORITHMS_ARRAY.filter((function(e){return e.name===i.modelInfo.modelMetaData.algoName.split("-")[0]}))[0],this.algoType=this.algorithm.type,this.modelInfo.modelMetaData.algoName.includes("Boosting")||this.modelInfo.modelMetaData.algoName.includes("Bagging")){var r=this.getAdvAlgoFormFields();if(this.modelInfo.hptPreference)if(this.modelTuningOption=this.modelInfo.modelMetaData.modelTuning||"hpt",this.modelInfo.hptPreference.algoName=this.modelInfo.modelMetaData.algoName,this.modelInfo.modelMetaData.algoName.includes("Tuning")){var l="".concat(o[1].charAt(0).toUpperCase()).concat(o[1].slice(1),"-").concat(this.algorithm.type.charAt(0).toUpperCase()).concat(this.algorithm.type.slice(1));this.formFields=r.filter((function(e){return e.algoName===l}))[0],null===(e=this.formFields)||void 0===e||e.fields.forEach((function(e){var t,a;null===(a=null===(t=i.modelInfo)||void 0===t?void 0:t.hptPreference)||void 0===a||a.fields.forEach((function(t){e.name===t.name&&(e.data=t.data)}))}))}else this.formFields=this.modelInfo.hptPreference;else{var s="".concat(o[1].charAt(0).toUpperCase()).concat(o[1].slice(1),"-").concat(this.algorithm.type.charAt(0).toUpperCase()).concat(this.algorithm.type.slice(1));this.formFields=r.filter((function(e){return e.algoName===s}))[0]}}else{var c=this.getHptFormFields(),d=this.modelInfo.modelMetaData.algoName.split("-")[0];this.modelInfo.hptPreference?(this.modelTuningOption=this.modelInfo.modelMetaData.modelTuning||"hpt",this.modelInfo.hptPreference.algoName=this.modelInfo.modelMetaData.algoName,this.formFields=c.filter((function(e){return e.algoName===d}))[0],null===(t=this.formFields)||void 0===t||t.fields.map((function(e){var t,a;null===(a=null===(t=i.modelInfo)||void 0===t?void 0:t.hptPreference)||void 0===a||a.fields.map((function(t){e.name===t.name&&(e.data=t.data)}))}))):this.formFields=c.filter((function(e){return e.algoName===d}))[0]}this.filterFormFields(this.formFields.fields),this._spinner.stopSpinner()}},{key:"onTuningOptionChanged",value:function(e){var t,i,a,n=this;this._spinner.showSpinner();var o=this.modelInfo.modelMetaData.modelTuning||"hpt",r=null;if(this.modelInfo.modelMetaData.algoName.includes("Boosting")?r="Boosting":this.modelInfo.modelMetaData.algoName.includes("Bagging")&&(r="Bagging"),r){var l=this.getAdvAlgoFormFields();if(this.modelInfo.hptPreference&&this.modelTuningOption===o)if(this.modelTuningOption=this.modelInfo.modelMetaData.modelTuning||"hpt",this.modelInfo.hptPreference.algoName=this.modelInfo.modelMetaData.algoName,this.modelInfo.modelMetaData.algoName.includes("Tuning")){var s="".concat(r,"-").concat(this.algorithm.type.charAt(0).toUpperCase()).concat(this.algorithm.type.slice(1));this.formFields=l.filter((function(e){return e.algoName===s}))[0],null===(t=this.formFields)||void 0===t||t.fields.forEach((function(e){var t,i;null===(i=null===(t=n.modelInfo)||void 0===t?void 0:t.hptPreference)||void 0===i||i.fields.forEach((function(t){e.name===t.name&&(e.data=t.data)}))}))}else this.formFields=this.modelInfo.hptPreference;else{var c="".concat(r,"-").concat(this.algorithm.type.charAt(0).toUpperCase()).concat(this.algorithm.type.slice(1));this.formFields=l.filter((function(e){return e.algoName===c}))[0]}}else{var d=this.getHptFormFields();this.modelInfo.hptPreference&&this.modelTuningOption===o?(this.modelInfo.hptPreference.algoName=this.algorithmName,this.formFields=d.filter((function(e){return e.algoName===n.algorithmName}))[0],null===(a=null===(i=this.modelInfo)||void 0===i?void 0:i.hptPreference)||void 0===a||a.fields.map((function(e){var t;null===(t=n.formFields)||void 0===t||t.fields.map((function(t){t.name===e.name&&(t.data=e.data,e.gs_data&&(t.gs_data=e.gs_data))}))}))):this.formFields=d.filter((function(e){return e.algoName===n.algorithmName}))[0]}this.filterFormFields(this.formFields.fields,e)}},{key:"saveHPTPreference",value:function(e){var t=this;this._spinner.showSpinner();var i=!1;"bayesianOptimization"!==this.modelTuningOption||this.formFields.isBOSupported||(this._snackBar.open("Bayesian Optimization is not supported for this model","OK",{horizontalPosition:"right",verticalPosition:"bottom"}),i=!0),"Gaussian NB Classification"!==this.modelInfo.modelMetaData.algoName&&"Linear Regression"!==this.modelInfo.modelMetaData.algoName||"gridSearch"!==this.modelTuningOption||this.formFields.isGridSearchSupported||(this._snackBar.open("Random Search is not supported for this model","OK",{horizontalPosition:"right",verticalPosition:"bottom"}),i=!0),e.algoName="".concat(this.modelInfo.modelMetaData.algoName,"-").concat(this.iteration),e.modelTuningOption=this.modelTuningOption;var a=this.modelInfo.modelMetaData.algoName.split("-");if("GridSearchCV"===a[1]){var n=this.getHptFormFields().filter((function(e){return e.algoName===a[0]}))[0];e.fields.forEach((function(t,i){"param_grid"===t.name?e.fields[i]=n:e.fields.push({name:"param_grid",label:"param_grid",data:n})}))}"hpt"===this.modelTuningOption&&(e.fields=e.fields.map((function(e){return"number"===e.type&&"string"==typeof e.data&&(e.data=parseFloat(e.data)),e})));var o={trainingId:this.training._id,modelId:this.modelInfo._id,pId:this.training.projectId,hptPreference:e,algoType:this.algorithm.type,indepVariable:this.training.indepVariable,foreGround:this.foreGround,backGround:this.backGround,modelTuning:this.modelTuningOption,projectType:this.project.type,trainPipeFilePath:this.modelInfo.trainPipeFilePath,transformedDatasetPath:this.modelInfo.transformedDatasetPath,logTransformationColumns:this.dialogData.trainings[0].logTransformationColumns,scalarValue:this.dialogData.trainings[0].scalarValue};o.edaId=this.modelInfo.hasOwnProperty("edaId")&&null!==this.modelInfo.edaId?this.modelInfo.edaId:this.training.edaId,i||this._training.startModelTuning(this.training._id,this.modelInfo._id,o).pipe(Object(g.a)(this.unsubscribe$)).subscribe((function(e){e?(t._spinner.stopSpinner(),t._toaster.info("Model tuning started, please wait","Models"),t.closeModal({type:"tuning",algorithms:e.algorithms})):(t._toaster.error("Cannot start the model tuning","Models"),t._spinner.stopSpinner())}),(function(e){t._toaster.error("Server Error - ".concat(e.message,"."),"Models"),t._spinner.stopSpinner()}))}},{key:"resetHptValues",value:function(e){if(e.includes("Boosting")||e.includes("Bagging")){var t=this.getHptFormFields(),i="".concat(e.includes("Boosting")?"Boosting":"Bagging","-").concat(this.algoType.charAt(0).toUpperCase()).concat(this.algoType.slice(1));this.formFields=t.filter((function(e){return e.algoName===i}))[0]}else{var a=this.getHptFormFields();this.formFields=a.filter((function(t){return t.algoName===e.split("-")[0]}))[0]}this.filterFormFields(this.formFields.fields)}},{key:"filterFormFields",value:function(e,t){var i,a;"bayesianOptimization"===this.modelTuningOption?this.formFields.fields=e.filter((function(e){return e.bo_data?e:null})).map((function(e){return e.bo_data&&(e.data=e.bo_data),e})):"gridSearch"===this.modelTuningOption&&(this.formFields.fields=e.filter((function(e){return e.gs_data?e:null})).map((function(e){return e.gs_data&&(e.data=e.gs_data),e}))),this.createFormAndAddValidation(null===(i=this.formFields)||void 0===i?void 0:i.fields,t,null===(a=this.formFields)||void 0===a?void 0:a.algoName)}},{key:"changeRetrainType",value:function(e){"transform"===e?("mssql"===this.baseTrainingFile.fileSource&&(this.hideMysqlSourceType=!0,this.hidePgsqlSourceType=!0),"mysql"===this.baseTrainingFile.fileSource&&(this.hideMssqlSourceType=!0,this.hidePgsqlSourceType=!0),"postgresql"===this.baseTrainingFile.fileSource&&(this.hideMysqlSourceType=!0,this.hideMssqlSourceType=!0)):(this.hideMysqlSourceType=!1,this.hideMssqlSourceType=!1,this.hidePgsqlSourceType=!1)}},{key:"changeSourceType",value:function(e){var t=this;this.hideSelectConnection=this.baseTrainingFile.fileSource===e,this.hideSubmitBtn=!("file"!==e&&"file"!==this.sourceType||this.selectedDataset),this.hideSubmitBtn=!("file"===e&&"file"===this.sourceType||this.selectedConnection),this._data.getAllConnections(this.project._id,e).pipe(Object(g.a)(this.unsubscribe$)).subscribe((function(e){t.dataConnectionsArray=e}),(function(e){t._toaster.error("Error - ".concat(e.message,"."),"Models"),t._spinner.stopSpinner()}))}},{key:"startRetraining",value:function(){var e,t,i,a=this;this._spinner.showSpinner();var n=!1;if(this.driftConfigList=[],this.retrainObj.sourceType=this.sourceType,this.retrainObj.mergeDataset=this.mergeDataset,this.retrainObj.edaSummary=this.dialogData.originalFileWithEdaDetails?this.dialogData.trainings[0].edaId.edaSummary:null,this.project.useGPU||(this.retrainObj.retrainType=this.retrainType),"mssql"===this.sourceType||"mysql"===this.sourceType||"postgresql"===this.sourceType)"transform"!==this.retrainType&&(((null===(e=this.query)||void 0===e?void 0:e.includes("delete"))||(null===(t=this.query)||void 0===t?void 0:t.includes("insert"))||(null===(i=this.query)||void 0===i?void 0:i.includes("update")))&&(this._snackBar.open("Only SELECT query is allowed","OK",{horizontalPosition:"right",verticalPosition:"bottom"}),n=!0),this.retrainObj.retrainingFileId=this.training.originalFileId,this.retrainObj.connectionSettings={},this.retrainObj.connectionSettings.query=this.query,this.selectedConnection&&(this.retrainObj.connectionSettings.connection={},this.retrainObj.connectionSettings.connectionName=this.selectedConnection.connectionName,this.retrainObj.connectionSettings.dataGroupId=this.selectedConnection.dataGroupId,this.retrainObj.connectionSettings.database=this.selectedConnection.databaseName,this.retrainObj.connectionSettings.source=this.selectedConnection.source,this.retrainObj.connectionSettings.connection=this.selectedConnection.databaseConnectionId,this.retrainObj.connectionSettings.dataConnId=this.selectedConnection._id));else{var o=this.dataSetsList.find((function(e){return e._id===a.selectedDataset}));o&&(this.retrainObj.retrainingDataFilename=o.name,this.retrainObj.fileSchema=o.fileSchema,this.retrainObj.retrainingFileId=o._id?o._id:null)}this.retrainObj.filename=this.dialogData.originalFileWithEdaDetails.filename,this.retrainObj.dataSetInfo=this.dialogData.trainings[0].edaId.dataSetInfo,n||this._training.startReTraining(this.training._id,this.modelInfo._id,this.retrainObj).pipe(Object(g.a)(this.unsubscribe$)).subscribe((function(e){e?(a.modelErrorCount=0,a._toaster.info("Retraining started, please wait","Models"),a.closeModal({type:"retrain",algorithms:e.algorithms})):(a._toaster.error("Cannot start the retraining","Models"),a._spinner.stopSpinner())}),(function(e){a._toaster.error("Server Error - ".concat(e.message,"."),"Models"),a._spinner.stopSpinner()}))}},{key:"doDataDriftAnalysis",value:function(){var e=this;this._spinner.showSpinner();var t={algoType:this.algoType,type:"summary",stdThreshold:this.project.stdThreshold||3,reportName:this.reportName,inputFeature:null,incomingFileId:this.selectedDataset,driftConfig:this.driftConfig?this.driftConfig:null};t.edaId=null!==this.modelInfo.edaId?this.modelInfo.edaId:this.training.edaId._id;var i=this.dataSetsList.find((function(t){return t._id===e.selectedDataset}));t.incomingFilepath=i.name,t.incomingSchema=i.fileSchema.map((function(e){return{colName:e.colName,dataType:e.dataType}})),this._dataDrift.startDriftAnalysis(this.training._id,this.modelInfo._id,t).pipe(Object(g.a)(this.unsubscribe$)).subscribe((function(t){t?(e._toaster.info("Drift analysis started, please wait","Models"),e.closeModal()):(e._toaster.error("Cannot perform drift analysis","Models"),e._spinner.stopSpinner())}),(function(t){e._toaster.error("Server Error - ".concat(t.message,"."),"Models"),e._spinner.stopSpinner()}))}},{key:"onAdvAlgoSelectionChange",value:function(e){var t,i=this;if(!this.checkAdvTrainingAlreadyDone(e,this.modelInfo.modelMetaData.algoName,this.training)){this.algoType=null===(t=this.ALGORITHMS_ARRAY.filter((function(e){return e.name===i.modelInfo.modelMetaData.algoName.split("-")[0]}))[0])||void 0===t?void 0:t.type;var a=this.getAdvAlgoFormFields(),n="".concat(e.charAt(0).toUpperCase()).concat(e.slice(1),"-").concat(this.algoType.charAt(0).toUpperCase()).concat(this.algoType.slice(1));"Ridge Classification"===this.modelInfo.modelMetaData.algoName||"Ridge Classification with Cross Validation"===this.modelInfo.modelMetaData.algoName?(this.formAdvAlgoFeilds=a.filter((function(e){return e.algoName===n}))[0],this.formAdvAlgoFeilds.fields=this.formAdvAlgoFeilds.fields.map((function(e){return"select"===e.type&&(e.select_options=[{option_label:"SAMME",value:"SAMME"}],e.data="SAMME"),e}))):this.formAdvAlgoFeilds=a.filter((function(e){return e.algoName===n}))[0];var o="".concat(this.modelInfo.modelMetaData.algoName,"-").concat(e.charAt(0).toUpperCase()).concat(e.slice(1));if("gridSearchCV"===e){var r=this.getHptFormFields().filter((function(e){return e.algoName===i.modelInfo.modelMetaData.algoName}))[0];this.advAlgoReqObject={algoname:o,modelFilePath:this.modelInfo.modelMetaData.modelPath,hyperParams:r}}else this.advAlgoReqObject={algoname:o,modelFilePath:this.modelInfo.modelMetaData.modelPath,hyperParams:null}}}},{key:"saveHyperParam",value:function(e){var t=this;this.hyperParam=this.formAdvAlgoFeilds;var i="".concat(this.modelInfo.modelMetaData.algoName,"-").concat(this.advAlgoSelected.charAt(0).toUpperCase()).concat(this.advAlgoSelected.slice(1));if("gridSearchCV"===e){var a={name:"param_grid",label:"param_grid",required:!0,data:this.formFields&&this.formFields.algoName===this.modelInfo.modelMetaData.algoName?this.formFields:this.getHptFormFields().filter((function(e){return e.algoName===t.modelInfo.modelMetaData.algoName}))[0]},n=!1;this.hyperParam.fields.forEach((function(e,i){"param_grid"===e.name&&(t.hyperParam.fields[i]=a,n=!0)})),!n&&this.hyperParam.fields.push(a),this.advAlgoReqObject={algoname:i,modelFilePath:this.modelInfo.modelMetaData.modelPath,hyperParams:this.hyperParam}}else this.advAlgoReqObject={algoname:i,modelFilePath:this.modelInfo.modelMetaData.modelPath,hyperParams:this.hyperParam};this.hyperParam.fields=this.hyperParam.fields.map((function(e){return"number"===e.type&&"string"==typeof e.data&&(e.data=parseFloat(e.data)),e})),tt({title:"HPT Preference",text:"Preference saved successfully!",icon:"success",className:"custom-alert"})}},{key:"startAdvTraining",value:function(){var e,t=this;if(this._spinner.showSpinner(),!(null===(e=this.hyperParam)||void 0===e?void 0:e.length)){var i="".concat(this.modelInfo.modelMetaData.algoName,"-").concat(this.advAlgoSelected.charAt(0).toUpperCase()).concat(this.advAlgoSelected.slice(1));this.advAlgoReqObject={algoname:i,modelFilePath:this.modelInfo.modelMetaData.modelPath,hyperParams:this.formAdvAlgoFeilds}}this.advAlgoReqObject.hyperParams.fields=this.advAlgoReqObject.hyperParams.fields.map((function(e){return"number"===e.type&&"string"==typeof e.data&&(e.data=parseFloat(e.data)),e}));var a={advAlgoOptions:this.advAlgoReqObject,transformedDatasetPath:this.modelInfo.transformedDatasetPath,algoType:this.algoType,backGround:this.backGround,foreGround:this.foreGround,degree:this.modelInfo.modelMetaData.degree?this.modelInfo.modelMetaData.degree:2,logTransformationColumns:this.dialogData.trainings[0].logTransformationColumns,scalarValue:this.dialogData.trainings[0].scalarValue};a.edaId=null!==this.modelInfo.edaId?this.modelInfo.edaId:this.training.edaId,this._training.startAdvTraining(this.training._id,this.modelInfo._id,a).pipe(Object(g.a)(this.unsubscribe$)).subscribe((function(e){e?(t.modelErrorCount=0,t._toaster.info("Advance algorithm training started, please wait","Models"),t.closeModal({type:"advAlgo",algorithms:e.algorithms})):(t._toaster.error("Cannot start the advance algorithm training","Models"),t._spinner.stopSpinner())}),(function(e){t._toaster.error("Server Error - ".concat(e.message,"."),"Models"),t._spinner.stopSpinner()}))}},{key:"checkAdvTrainingAlreadyDone",value:function(e,t,i){var a=this,n=!1;return i.models.forEach((function(i){i.modelMetaData.algoName.toLowerCase()==="".concat(t,"-").concat(e).toLowerCase()&&(n=!0,a._snackBar.open("Already performed ".concat(e," for this model"),"OK",{horizontalPosition:"right",verticalPosition:"bottom"}),a.formAdvAlgoFeilds=[])})),n}},{key:"disableForAlgos",value:function(){var e=this.modelInfo.modelMetaData.algoName.split("-")[0];return-1===["KNN Classification","Nearest Centroid Classification"].indexOf(e)}},{key:"genModelName",value:function(e,t){return e.filter((function(e){return e.modelMetaData.algoName.includes(t)})).length}},{key:"bindGridSearch",value:function(e,t){return t.data=e||t.gs_data,t.data}},{key:"bindBayesianOpt",value:function(e,t){return t.data=e||t.bo_data,t.data}},{key:"getHptFormFields",value:function(){return JSON.parse(JSON.stringify(b.a))}},{key:"getAdvAlgoFormFields",value:function(){return JSON.parse(JSON.stringify(u))}},{key:"closeModal",value:function(e){this._modelsDialogRef.close(e)}},{key:"setRestrictions",value:function(){var e,t;this.allowedSettingsOption=(null===(t=null===(e=this.user)||void 0===e?void 0:e.psFeatures)||void 0===t?void 0:t.allowedFeaturesList)||[]}},{key:"createFormAndAddValidation",value:function(e,a,n){var o,r=function(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=i(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,s=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){s=!0,r=e},f:function(){try{l||null==a.return||a.return()}finally{if(s)throw r}}}}(e);try{for(r.s();!(o=r.n()).done;){for(var l=o.value,s=[],c=0,d=Object.entries(l.validators);c<d.length;c++){var u=t(d[c],2),b=u[0],p=u[1];switch(b){case"min":s.push(m.I.min(Number(p)));break;case"required":p&&s.push(m.I.required);break;case"requiredTrue":p&&s.push(m.I.requiredTrue);break;case"email":p&&s.push(m.I.email);break;case"minLength":s.push(m.I.minLength(Number(p)));break;case"maxLength":s.push(m.I.maxLength(Number(p)));break;case"pattern":if("bayesianOptimization"===this.modelTuningOption&&l.bo_data)if("Random Forest Regression"===n&&("max_depth"===l.name||"max_leaf_nodes"===l.name)||"Polynomial Regression"===n&&"degree"===l.name||"Ridge Regression"===n&&"max_iter"===l.name||"Lasso Regression"===n&&"max_iter"===l.name||"Passive Regression"===n&&"tol"===l.name||"LassoLARS Regression"===n&&"eps"===l.name||"MLP Classification"===n&&("hidden_layer_sizes"===l.name||"epsilon"===l.name||"max_iter"===l.name)||"Logistic Regression"===n&&"C"===l.name||"nuSV Regression"===n&&("C"===l.name||"degree"===l.name)||"SGD Regression"===n&&("epsilon"===l.name||"l1_ratio"===l.name||"alpha"===l.name)||"XGBoost Regression"===n&&("max_depth"===l.name||"n_estimators"===l.name||"scale_pos_weight"===l.name)||"LightGBM Regression"===n&&("max_depth"===l.name||"num_leaves"===l.name||"n_estimators"===l.name)||"Decision Tree Classification"===n&&"max_leaf_nodes"===l.name||"Random Forest Classification"===n&&"max_depth"===l.name||"Ridge Classification"===n&&"max_iter"===l.name||"Ridge Classification with Cross Validation"===n&&"cv"===l.name||"Logistic Regression with Cross Validation"===n&&("cv"===l.name||"Cs"===l.name)||"Passive Aggressive Classification"===n&&("max_iter"===l.name||"tol"===l.name)||"XGBoost Classification"===n&&("max_depth"===l.name||"n_estimators"===l.name||"subsample"===l.name)||"SVM Classification"===n&&("C"===l.name||"gamma"===l.name)||"LightGBM Classification"===n&&("max_depth"===l.name||"num_leaves"===l.name||"n_estimators"===l.name)||"Extra Tree Classification"===n&&("max_depth"===l.name||"min_samples_split"===l.name||"min_samples_leaf"===l.name||"max_leaf_nodes"===l.name||"min_impurity_decrease"===l.name)||"Ensemble Extra Trees Classification"===n&&("max_depth"===l.name||"n_estimators"===l.name||"max_features"===l.name||"min_samples_split"===l.name||"min_samples_leaf"===l.name||"max_leaf_nodes"===l.name||"min_impurity_decrease"===l.name))void 0!==this.hptForm.get(l.name)&&null!==this.hptForm.get(l.name)?(this.hptForm.get(l.name).setValidators([m.I.required,m.I.pattern(/^([0-9]+(\.[0-9]+)*(,[0-9]+(\.[0-9]+)*){1})$/)]),this.hptForm.updateValueAndValidity()):s.push(m.I.pattern(/^([0-9]+(\.[0-9]+)*(,[0-9]+(\.[0-9]+)*){1})$/));else if(void 0!==this.hptForm.get(l.name)&&null!==this.hptForm.get(l.name)){var g=String(p).replace(/[\*]/g,"?");this.hptForm.get(l.name).setValidators([m.I.required,m.I.pattern(String(g))]),this.hptForm.updateValueAndValidity()}else s.push(m.I.pattern(String(p).replace(/[\*]/g,"?")));else"gridSearch"===this.modelTuningOption&&l.gs_data&&void 0!==this.hptForm.get(l.name)&&null!==this.hptForm.get(l.name)?(this.hptForm.get(l.name).setValidators([m.I.required,m.I.pattern(String(p))]),this.hptForm.updateValueAndValidity()):s.push(m.I.pattern(String(p)));break;case"nullValidator":p&&s.push(m.I.nullValidator);break;default:("saas"===this.appType&&"saasMax"===b&&p||"enterprise"===this.appType&&"entMax"===b&&p)&&s.push(m.I.max(Number(p)))}}"hpt"==this.modelTuningOption&&"secondTime"===a&&void 0!==this.hptForm.get(l.name)&&null!==this.hptForm.get(l.name)?(this.hptForm.get(l.name).setValidators(s),this.hptForm.updateValueAndValidity()):this.hptForm.addControl(l.name,this.fb.control(l.data,s))}}catch(f){r.e(f)}finally{r.f()}this._spinner.stopSpinner()}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(!1),this.unsubscribe$.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||et)(h.Nb(p.a),h.Nb(p.i),h.Nb(v.a),h.Nb(T.c),h.Nb(S.a),h.Nb(k.a),h.Nb(y.a),h.Nb(I.c),h.Nb(_.a),h.Nb(M.a),h.Nb(m.h))},et.\u0275cmp=h.Hb({type:et,selectors:[["app-forms-dialog-handler"]],decls:14,vars:13,consts:[["mat-dialog-title",""],["class","mat-typography",4,"ngIf"],[1,"justify-content-end","mt-3","mb-auto"],["mat-stroked-button","",3,"click"],["mat-stroked-button","","type","submit",3,"click",4,"ngIf"],["mat-flat-button","","class","btn-primary","type","submit",3,"disabled","click",4,"ngIf"],[1,"mat-typography"],["class","row",4,"ngIf"],["class","row",3,"hidden",4,"ngIf"],[1,"",3,"ngModel","ngModelChange"],[1,"my-3"],["href","#",3,"click"],[1,"row"],[1,"col-md-12","form-group"],["id","retrain-type"],["aria-labelledby","retrain-type","id","retrain-type",1,"radio-group","flex-row",3,"ngModel","ngModelChange","change"],["value","refit",1,"ml-3"],["value","transform",1,"ml-3"],["value","file",1,"ml-3"],[3,"hidden"],["value","mssql",1,"ml-3",3,"hidden"],["value","mysql",1,"ml-3",3,"hidden"],["value","postgresql",1,"ml-3",3,"hidden"],["appearance","outline"],["required","",3,"ngModel","ngModelChange","selectionChange"],["dataset","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[1,"row",3,"hidden"],["dataconnection","ngModel"],[1,"col-md-12"],["matInput","","placeholder","Enter SELECT query",3,"ngModel","ngModelChange"],["matInput","","placeholder","Enter the name",3,"ngModel","ngModelChange"],["required","",3,"ngModel","ngModelChange"],["driftconfig","ngModel"],[1,"row","mt-4"],["value","hpt",1,"ml-3"],["class","ml-3","value","gridSearch",4,"ngIf"],["class","ml-3","value","bayesianOptimization",3,"hidden","disabled",4,"ngIf"],["class","text-center text-muted",4,"ngIf"],["class","table table-bordered mx-auto w-75 mt-2",4,"ngIf"],[1,"row","mt-4",3,"hidden","formGroup"],["class","col-md-6",4,"ngFor","ngForOf"],["value","gridSearch",1,"ml-3"],["value","bayesianOptimization",1,"ml-3",3,"hidden","disabled"],["matBadge","","matBadgeOverlap","false",3,"matBadgeIcon"],[1,"text-center","text-muted"],[1,"table","table-bordered","mx-auto","w-75","mt-2"],[1,"thead-dark","bg-primary"],[4,"ngFor","ngForOf"],[1,"col-md-6"],[3,"hidden",4,"ngIf"],["appearance","outline",4,"ngIf"],["matInput","",3,"type","placeholder","name","ngModel","formControlName","ngModelChange"],[3,"ngModel","formControlName","ngModelChange"],["appearance","outline",3,"hidden",4,"ngIf"],["appearance","outline",3,"hidden"],["matInput","","type","text",3,"placeholder","name","ngModel","formControlName","ngModelChange"],["multiple","",3,"ngModel","formControlName","change","ngModelChange"],["id","dynamic-radio",1,"ml-2"],[1,"d-flex","mt-2",3,"ngModel","formControlName","ngModelChange"],["aria-labelledby","dynamic-radio","class","ml-4",3,"value",4,"ngFor","ngForOf"],["aria-labelledby","dynamic-radio",1,"ml-4",3,"value"],[1,"row","mt-2"],["value","bagging",1,"ml-3",3,"matTooltip","disabled"],["class","ml-3","value","boosting",3,"matTooltip","disabled",4,"ngIf"],["value","boosting",1,"ml-3",3,"matTooltip","disabled"],["matInput","",3,"type","placeholder","name","ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[1,"d-flex","mt-2",3,"ngModel","ngModelChange"],["mat-stroked-button","","type","submit",3,"click"],["mat-flat-button","","type","submit",1,"btn-primary",3,"disabled","click"]],template:function(e,t){1&e&&(h.Tb(0,"h2",0),h.Kc(1),h.Sb(),h.Ic(2,Z,13,8,"mat-dialog-content",1),h.Ic(3,Ae,20,11,"mat-dialog-content",1),h.Ic(4,ze,12,7,"mat-dialog-content",1),h.Tb(5,"mat-dialog-actions",2),h.Tb(6,"button",3),h.ac("click",(function(){return t.closeModal()})),h.Kc(7," Cancel "),h.Sb(),h.Ic(8,We,2,0,"button",4),h.Ic(9,Qe,2,1,"button",5),h.Ic(10,Ye,2,0,"button",4),h.Ic(11,Xe,2,1,"button",5),h.Ic(12,Je,2,0,"button",4),h.Ic(13,Ze,2,1,"button",5),h.Sb()),2&e&&(h.Bb(1),h.Mc(" ",t.dialogHeading,"\n"),h.Bb(1),h.kc("ngIf","retrain"===t.dialogData.type),h.Bb(1),h.kc("ngIf","tuning"===t.dialogData.type),h.Bb(1),h.kc("ngIf","advAlgo"===t.dialogData.type),h.Bb(2),h.Db("retrain"!==t.dialogData.type||t.driftConfig?"mr-auto":""),h.Bb(2),h.kc("ngIf","retrain"===t.dialogData.type&&t.driftConfig&&t.selectedDataset&&t.showDriftAnalysis),h.Bb(1),h.kc("ngIf","retrain"===t.dialogData.type),h.Bb(1),h.kc("ngIf","tuning"===(null==t.dialogData?null:t.dialogData.type)),h.Bb(1),h.kc("ngIf","tuning"===(null==t.dialogData?null:t.dialogData.type)),h.Bb(1),h.kc("ngIf","advAlgo"===(null==t.dialogData?null:t.dialogData.type)&&(null==t.formAdvAlgoFeilds?null:t.formAdvAlgoFeilds.fields)),h.Bb(1),h.kc("ngIf","advAlgo"===(null==t.dialogData?null:t.dialogData.type)))},directives:[p.j,B.t,p.d,D.b,p.g,F.b,m.u,m.x,w.g,O.c,O.b,w.c,C.a,m.F,B.s,x.o,w.b,K.b,m.d,N.d,N.a,m.v,m.m,P.a,A.a,m.k,L.b,w.f],pipes:[R.a],styles:[""]}),et),at=l("tagK"),nt=l("Fqcz"),ot=l("THC6"),rt=l("jaxi"),lt=l("NFeN"),st=l("f0Cb"),ct=l("cWTo");function dt(e,t){if(1&e&&(h.Tb(0,"mat-option",21),h.Kc(1),h.Sb()),2&e){var i=t.$implicit,a=h.ec();h.kc("value",i),h.Bb(1),h.Nc(" ",a.dialogData.trainings[0].name," - ",i.modelMetaData.algoName,"")}}function ut(e,t){1&e&&(h.Tb(0,"mat-error"),h.Kc(1,"Model is required."),h.Sb())}function bt(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",22),h.ac("click",(function(){return h.wc(i),h.ec().selectPredMode("input_form")})),h.Kc(1," Refresh Form "),h.Tb(2,"mat-icon",23),h.Kc(3,"autorenew"),h.Sb(),h.Sb()}}function pt(e,t){if(1&e){var i=h.Ub();h.Tb(0,"mat-form-field",24),h.Tb(1,"mat-label"),h.Kc(2,"Select encoding"),h.Sb(),h.Tb(3,"mat-select",25),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec().fileEncoding=e})),h.Tb(4,"mat-option",26),h.Kc(5,"utf_8"),h.Sb(),h.Tb(6,"mat-option",27),h.Kc(7,"latin_1"),h.Sb(),h.Sb(),h.Sb()}if(2&e){var a=h.ec();h.Bb(3),h.kc("ngModel",a.fileEncoding)}}function mt(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div",28),h.Tb(1,"input",29),h.ac("change",(function(e){h.wc(i);var t=h.ec();return t.handleFileInput(e.target.files,t.fileEncoding)})),h.Sb(),h.Ob(2,"br"),h.Tb(3,"mat-hint",30),h.Kc(4,"Only .csv file is allowed."),h.Sb(),h.Sb()}}function gt(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div",32),h.Tb(1,"mat-form-field",33),h.Tb(2,"mat-label"),h.Kc(3),h.Sb(),h.Tb(4,"input",34),h.ac("ngModelChange",(function(e){h.wc(i);var a=t.$implicit;return h.ec(2).quickPredformData[a.colName]=e})),h.Sb(),h.Sb(),h.Sb()}if(2&e){var a=t.$implicit,n=h.ec(2);h.Bb(3),h.Lc(a.colName),h.Bb(1),h.lc("type","Integer"===a.dataType||"Decimal"===a.dataType?"number":"text"),h.kc("placeholder",a.colName)("name",a.name)("ngModel",n.quickPredformData[a.colName])}}function ft(e,t){if(1&e&&(h.Tb(0,"div",1),h.Ic(1,gt,5,5,"div",31),h.Sb()),2&e){var i=h.ec();h.Bb(1),h.kc("ngForOf",i.quickPredUIMetaData)}}function ht(e,t){if(1&e){var i=h.Ub();h.Tb(0,"mat-form-field",42),h.Tb(1,"mat-label"),h.Kc(2,"Record No."),h.Sb(),h.Tb(3,"input",43),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec(2).rowId=e})),h.Sb(),h.Sb()}if(2&e){var a=h.ec(2);h.Bb(3),h.kc("ngModel",a.rowId)}}function vt(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",44),h.ac("click",(function(){h.wc(i);var e=h.ec(2);return e.openGraphDialog("limeReport",e.modelToPredict,e.predMode)})),h.Tb(1,"span",45),h.Tb(2,"mat-icon",46),h.Kc(3,"show_chart"),h.Sb(),h.Kc(4,"Lime Report "),h.Sb(),h.Sb()}if(2&e){var a=h.ec(2);h.kc("disabled",!("saas"!==a.appType||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("super_admin")||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("admin")||"basic"!==(null==a.user?null:a.user.planType)||a.allowedModelOptions.includes("limeReport"))),h.Bb(1),h.kc("matBadgeIcon",a.allowedModelOptions.includes("limeReport")?"":"PRO")("ngClass","enterprise"===a.appType||"saas"===a.appType&&(null!=a.user&&null!=a.user.roles&&a.user.roles.includes("super_admin")||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("admin"))||a.allowedModelOptions.includes("limeReport")?"":"text-muted disable-Btn")}}function Tt(e,t){if(1&e){var i=h.Ub();h.Tb(0,"ag-grid-angular",47,48),h.ac("gridReady",(function(e){return h.wc(i),h.ec(2).gridReady(e)})),h.Sb()}if(2&e){var a=h.ec(2);h.kc("gridOptions",a.gridOptions)}}function St(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div",35),h.Ob(1,"mat-divider"),h.Tb(2,"div",36),h.Tb(3,"h6",37),h.Tb(4,"a",38),h.ac("click",(function(){return h.wc(i),h.ec().downloadPredictedFile()})),h.Kc(5,"Download"),h.Sb(),h.Kc(6," the prediction result. "),h.Sb(),h.Ic(7,ht,4,1,"mat-form-field",39),h.Ic(8,vt,5,3,"button",40),h.Sb(),h.Ic(9,Tt,2,1,"ag-grid-angular",41),h.Sb()}if(2&e){var a=h.ec();h.Bb(7),h.kc("ngIf","file_upload"===a.predMode&&"clustering"!==a.project.type),h.Bb(1),h.kc("ngIf","clustering"!==a.project.type&&!0===a.modelToPredict.graphSupported.limeReport),h.Bb(1),h.kc("ngIf",a.predictionPreviewData.length)}}function kt(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",49),h.ac("click",(function(){return h.wc(i),h.ec().quickPredformData={}})),h.Kc(1," Clear "),h.Sb()}}var yt,It=((yt=function(){function t(e,i,a,o,r,l,s,d,u,b,p,g,h){n(this,t),this.dialogData=e,this._data=i,this._textAnalysis=a,this._localStorage=o,this._toaster=r,this._spinner=l,this._modelsDialogRef=s,this._models=d,this._socket=u,this._snackbar=b,this._window=p,this._dialog=g,this._utils=h,this.unsubscribe$=new f.b,this.$win=$(window),this.predMode="file_upload",this.toggleView=!1,this.fileUploadControl=new m.i(""),this.quickPredformData={},this.taFeatureConfig=[],this.quickPredUIMetaData=[],this.predictionPreviewData=[],this.appType=c.a.appType,this.allowedModelOptions=null}return r(t,[{key:"ngOnInit",value:function(){var e,t,i,a;return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this._spinner.showSpinner(),n.next=3,this._utils.getAlgorithms();case 3:return this.ALGORITHMS_ARRAY=n.sent,this.fileEncoding="utf_8",this.initQuickPredictionSocket(),this.project=this._localStorage.getItem("project"),this.user=this._localStorage.getItem("user"),this.allowedPSFileUploadSize=(null===(t=null===(e=this.user)||void 0===e?void 0:e.psFeatures)||void 0===t?void 0:t.allowedPSFileUploadSize)||50,this.models=this.dialogData.trainings[0].models,this.models=this.models.filter((function(e){var t,i;return console.log("m item",e),!0===(null===(t=null==e?void 0:e.graphSupported)||void 0===t?void 0:t.status)&&!1===(null===(i=null==e?void 0:e.graphSupported)||void 0===i?void 0:i.isDeleted)})),console.log(this.models),this.allowedModelOptions=(null===(a=null===(i=this.user)||void 0===i?void 0:i.psFeatures)||void 0===a?void 0:a.allowedFeaturesList)||[],n.next=15,this.initializeQuickPrediction();case 15:case"end":return n.stop()}}),n,this)})))}},{key:"ngOnChanges",value:function(){}},{key:"initializeQuickPrediction",value:function(){var e;return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getMyFileData(this.project._id,this.dialogData.currentModelMeta.originalFileId).catch((function(e){a._toaster.error("Could not fetch required information for Quick Prediction.","Models"),a._spinner.stopSpinner(),a.closeModal()}));case 2:if(this.originalFileDetails=t.sent,!(null===(e=this.originalFileDetails)||void 0===e?void 0:e.taExperimentId)){t.next=8;break}return t.next=6,this.getTaExperiment(this.originalFileDetails.taExperimentId).catch((function(e){a._toaster.error("Error : "+e.error.message,"Models"),a._spinner.stopSpinner()}));case 6:i=t.sent,this.taFeatureConfig=i.taFeatureConfig||[];case 8:this._spinner.stopSpinner();case 9:case"end":return t.stop()}}),t,this)})))}},{key:"onChangeDataset",value:function(e){this.selectedModel=e.modelMetaData.algoName,this.predMode="file_upload",this.predictionResult=null,this.quickPredUIMetaData=[]}},{key:"selectPredMode",value:function(e){var t=this;if(this.predictionPreviewData=[],this.predictionResult=null,this.quickPredUIMetaData=[],"input_form"===e){this._spinner.showSpinner();var i={indepVariable:this.dialogData.trainings[0].indepVariable,notebookInputFileName:this.dialogData.notebookInputFileDetails?this.dialogData.notebookInputFileDetails.filename:""};this.taFeatureConfig.length&&(i.taFeatureConfig=this.taFeatureConfig,i.textAnalysisOutFilePath=this.originalFileDetails.filename),this._models.getQuickPredictionFormData(this.dialogData.trainings[0]._id,this.modelToPredict._id,this.project.type,i).pipe(Object(g.a)(this.unsubscribe$)).subscribe((function(e){e?(e.qpFormData.forEach((function(e){t.originalFileDetails.notebookInputFileId||t.taFeatureConfig.length?t.dialogData.trainings[0].depVariable!==e.colName&&t.quickPredUIMetaData.push({colName:e.colName,dataType:e.dataType,value:e.value}):t.itemExist(t.dialogData.trainings[0].indepVariable,e.colName)&&t.quickPredUIMetaData.push({colName:e.colName,dataType:e.dataType,value:e.value}),t.quickPredUIMetaData.forEach((function(e){t.quickPredformData[e.colName]=e.value}))})),t._spinner.stopSpinner()):(t._toaster.error("Sorry! Cannot fetch the QP form data.","Models"),t._spinner.stopSpinner())}),(function(e){t._spinner.stopSpinner(),t._toaster.error("Server Error - "+e.error.message,"Models")}))}else this.fileToUpload=""}},{key:"doPrediction",value:function(){var e;return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,a,n,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.predictionResult=null,a=this.modelToPredict.modelMetaData.algoName.split("-")[0],n=null===(e=this.ALGORITHMS_ARRAY.filter((function(e){return e.name===a}))[0])||void 0===e?void 0:e.type,(i={modelFilePath:this.modelToPredict.modelMetaData.modelPath,algoName:a,algoType:n,modelName:"".concat(this.dialogData.trainings[0].name," - ").concat(a),modelId:this.modelToPredict._id,trainingId:this.dialogData.trainings[0]._id,isMultilabel:this.modelToPredict.modelMetaData.isMultilabel,scalerObj:this.dialogData.trainings[0].scalerObj,reTrainFileId:this.modelToPredict.modelMetaData.reTrainFileId}).edaId=this.modelToPredict.hasOwnProperty("edaId")&&null!==this.modelToPredict.edaId?this.modelToPredict.edaId:this.dialogData.trainings[0].edaId._id,this.dialogData.trainings[0].logTransformationColumns&&(i.logTransformationColumns=this.dialogData.trainings[0].logTransformationColumns,i.scalarValue=this.dialogData.trainings[0].scalarValue),"file_upload"!=this.predMode){t.next=17;break}if(!this.fileToUpload){t.next=14;break}return this._spinner.showSpinner(),t.next=10,this._models.fileUploadPrediction(this.fileToUpload,this.project._id,this.fileEncoding).pipe(Object(g.a)(this.unsubscribe$)).toPromise().catch((function(e){o._toaster.error("Server Error - ".concat(e.error.message,"."),"Models"),o._spinner.stopSpinner()}));case 10:this.predictionUploadResult=t.sent,this.predictionUploadResult.projectDetails?(i.predictionFile=this.predictionUploadResult.projectDetails,this.performPrediction(i)):(this._toaster.show("Sorry! Cannot proceed with the uploaded file.","Models"),this._spinner.stopSpinner()),t.next=15;break;case 14:this._snackbar.open("Please select a .csv file for prediction","OK",{horizontalPosition:"right",verticalPosition:"bottom"}),this._spinner.stopSpinner();case 15:t.next=18;break;case 17:Object.keys(this.quickPredformData).length?(this._spinner.showSpinner(),this.quickPredUIMetaData.forEach((function(e){o.quickPredformData[e.colName]=o.quickPredformData.hasOwnProperty(e.colName)?o.quickPredformData[e.colName]:null})),this.quickPredformData[void 0]&&delete this.quickPredformData[void 0],i.predictionData=this.quickPredformData,this.performPrediction(i)):(this._snackbar.open("Please input data for prediction.","OK",{horizontalPosition:"right",verticalPosition:"bottom"}),this._spinner.stopSpinner());case 18:case"end":return t.stop()}}),t,this)})))}},{key:"performPrediction",value:function(e){var t=this;this._models.doPrediction(this.dialogData.trainings[0]._id,this.modelToPredict._id,e).pipe(Object(g.a)(this.unsubscribe$)).subscribe((function(e){e?t._toaster.info("Quick prediction started...","Models"):(t._toaster.info("Sorry! Cannot execute the quick prediction.","Models"),t._spinner.stopSpinner())}),(function(e){t._toaster.info("Server Error - "+e.error.message,"Models"),t._spinner.stopSpinner()}))}},{key:"getMyFileData",value:function(e,t){return this._data.getMyFileData(e,t).pipe(Object(g.a)(this.unsubscribe$)).toPromise()}},{key:"getTaExperiment",value:function(e){return this._textAnalysis.taExperiment(e).pipe(Object(g.a)(this.unsubscribe$)).toPromise()}},{key:"openGraphDialog",value:function(e,t,i){var a;this._dialog.open(d.a,{minWidth:"50vw",maxWidth:"50vw",data:{type:e,modelInfo:t,predMode:i,trainings:this.dialogData.trainings,rowId:this.rowId,predictionFile:null===(a=this.predictionUploadResult)||void 0===a?void 0:a.projectDetails,quickPredformData:this.quickPredformData,originalFileWithEdaDetails:this.dialogData.originalFileWithEdaDetails}}).afterClosed().subscribe((function(e){}))}},{key:"itemExist",value:function(e,t){return e.some((function(e){return e.colName===t}))}},{key:"handleFileInput",value:function(e,t){var i=e[0].name.split(".").pop();e&&["csv"].includes(i)?e[0].size<1024*this.allowedPSFileUploadSize*1024?this.fileToUpload=e[0]:this._snackbar.open("File size should be less than "+this.allowedPSFileUploadSize+"Mb.","OK",{horizontalPosition:"right",verticalPosition:"bottom"}):(this.fileToUpload="",this._snackbar.open(".".concat(i," file type is not supported"),"OK"))}},{key:"downloadPredictedFile",value:function(){this._window.open("".concat(c.a.serverBaseUrl,"/api/prediction/").concat(this.predictionResult._id,"/download"),"_blank")}},{key:"gridReady",value:function(e){e.api.setDomLayout("autoHeight"),this.gridApi=e.api,this.gridApi.refreshCells({force:!0}),this.gridApi.setColumnDefs(this.gridOptions.columnDefs),this.gridApi.setRowData(this.gridOptions.rowData)}},{key:"closeModal",value:function(e){this._modelsDialogRef.close(e)}},{key:"initQuickPredictionSocket",value:function(){var t=this;this._socket.listen("predictionCompleted").subscribe((function(i){"failed"==i.status&&(t._toaster.error(i.data.message,"Models"),t.predictionUploadResult=null,t._spinner.stopSpinner()),i.predictionFileMetaData&&(t.predictionResult=i,t._models.generatePreviewTable(t.predictionResult._id).pipe(Object(g.a)(t.unsubscribe$)).subscribe((function(i){if(i){t.predictionPreviewData=[];var a=[],n=i[0];for(var o in n)n.hasOwnProperty(o)&&a.push({headerName:o,field:o,minWidth:120});t.predictionPreviewData=e(i),t.gridOptions={headerHeight:40,columnDefs:a,rowData:i,defaultColDef:{resizable:!0}},t._toaster.success("Quick prediction completed successfully","Models"),t._spinner.stopSpinner()}else t._spinner.stopSpinner(),t._toaster.error("Cannot preview the prediction result","Models")}),(function(e){t._spinner.stopSpinner(),t._toaster.error("Server Error - "+e.error.message,"Models")})))}),(function(e){t._spinner.stopSpinner(),t._toaster.error("Socket Error - "+e.error.message,"Models")}))}},{key:"ngOnDestroy",value:function(){this._socket.removeListener("predictionCompleted"),this.unsubscribe$.next(!1),this.unsubscribe$.unsubscribe()}}]),t}()).\u0275fac=function(e){return new(e||yt)(h.Nb(p.a),h.Nb(S.a),h.Nb(at.a),h.Nb(v.a),h.Nb(T.c),h.Nb(y.a),h.Nb(p.i),h.Nb(nt.a),h.Nb(ot.a),h.Nb(I.c),h.Nb(Window),h.Nb(p.c),h.Nb(M.a))},yt.\u0275cmp=h.Hb({type:yt,selectors:[["app-quick-prediction"]],features:[h.zb],decls:31,vars:16,consts:[["mat-dialog-title",""],[1,"row","mt-3"],[1,"col-md-12","form-group"],["appearance","outline",1,"w-50"],["required","",3,"ngModel","ngModelChange","selectionChange"],["model","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"d-flex","align-items-center","justify-content-between"],[1,"mt-2",3,"disabled","ngModel","ngModelChange","change"],["value","file_upload"],["value","input_form",3,"hidden"],["class","text-primary","mat-button","",3,"click",4,"ngIf"],["appearance","outline","class","mt-3",4,"ngIf"],["class","mt-1",4,"ngIf"],["class","row mt-3",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"justify-content-end","mt-4","mb-auto"],["mat-stroked-button","","mat-dialog-close",""],["mat-stroked-button","",3,"click",4,"ngIf"],["mat-flat-button","","type","submit",1,"btn-primary",3,"disabled","click"],[3,"value"],["mat-button","",1,"text-primary",3,"click"],[1,"ml-2"],["appearance","outline",1,"mt-3"],["required","",3,"ngModel","ngModelChange"],["value","utf_8"],["value","latin_1"],[1,"mt-1"],["type","file","name","file","accept",".csv",1,"mb-2",3,"change"],[1,"mt-2"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"col-md-3"],["appearance","outline"],["matInput","",3,"type","placeholder","name","ngModel","ngModelChange"],[1,"mt-4"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],[1,"m-0"],["href","#",3,"click"],["appearance","standard","class","ml-auto mr-4","style","width: 20% !important",4,"ngIf"],["mat-stroked-button","",3,"disabled","click",4,"ngIf"],["id","myGrid","class","ag-angle my-4",3,"gridOptions","gridReady",4,"ngIf"],["appearance","standard",1,"ml-auto","mr-4",2,"width","20% !important"],["matInput","","type","number","placeholder","Enter number",3,"ngModel","ngModelChange"],["mat-stroked-button","",3,"disabled","click"],["matBadge","","matBadgeOverlap","false",3,"matBadgeIcon","ngClass"],[1,"mr-2"],["id","myGrid",1,"ag-angle","my-4",3,"gridOptions","gridReady"],["agGrid",""],["mat-stroked-button","",3,"click"]],template:function(e,t){if(1&e&&(h.Tb(0,"h2",0),h.Kc(1,"Quick Prediction"),h.Sb(),h.Tb(2,"mat-dialog-content"),h.Tb(3,"div",1),h.Tb(4,"div",2),h.Tb(5,"mat-form-field",3),h.Tb(6,"mat-label"),h.Kc(7,"Select a model"),h.Sb(),h.Tb(8,"mat-select",4,5),h.ac("ngModelChange",(function(e){return t.modelToPredict=e}))("selectionChange",(function(e){return t.onChangeDataset(e.value)})),h.Ic(10,dt,2,3,"mat-option",6),h.Sb(),h.Ic(11,ut,2,0,"mat-error",7),h.Sb(),h.Sb(),h.Sb(),h.Tb(12,"div",8),h.Tb(13,"mat-button-toggle-group",9),h.ac("ngModelChange",(function(e){return t.predMode=e}))("change",(function(){return t.selectPredMode(t.predMode)})),h.Tb(14,"mat-button-toggle",10),h.Tb(15,"mat-icon"),h.Kc(16,"file_upload"),h.Sb(),h.Sb(),h.Tb(17,"mat-button-toggle",11),h.Tb(18,"mat-icon"),h.Kc(19,"keyboard"),h.Sb(),h.Sb(),h.Sb(),h.Ic(20,bt,4,0,"button",12),h.Sb(),h.Ic(21,pt,8,1,"mat-form-field",13),h.Ic(22,mt,5,0,"div",14),h.Ic(23,ft,2,1,"div",15),h.Ic(24,St,10,3,"div",16),h.Sb(),h.Tb(25,"mat-dialog-actions",17),h.Tb(26,"button",18),h.Kc(27," Cancel "),h.Sb(),h.Ic(28,kt,2,0,"button",19),h.Tb(29,"button",20),h.ac("click",(function(){return t.doPrediction()})),h.Kc(30," Predict "),h.Sb(),h.Sb()),2&e){var i=h.tc(9);h.Bb(8),h.kc("ngModel",t.modelToPredict),h.Bb(2),h.kc("ngForOf",t.models),h.Bb(1),h.kc("ngIf",i.invalid||i.touched),h.Bb(2),h.kc("disabled",!t.modelToPredict)("ngModel",t.predMode),h.Bb(4),h.kc("hidden","Agglomerative"==t.selectedModel),h.Bb(3),h.kc("ngIf","input_form"===t.predMode),h.Bb(1),h.kc("ngIf","file_upload"===t.predMode),h.Bb(1),h.kc("ngIf","file_upload"===t.predMode),h.Bb(1),h.kc("ngIf","input_form"===t.predMode),h.Bb(1),h.kc("ngIf",(null==t.predictionResult?null:t.predictionResult.predictionFileMetaData)&&t.predictionPreviewData.length),h.Bb(2),h.Db("input_form"===t.predMode?"mr-auto":""),h.Bb(2),h.kc("ngIf","input_form"===t.predMode),h.Bb(1),h.kc("disabled",!t.modelToPredict)}},directives:[p.j,p.g,w.c,w.g,C.a,m.F,m.u,m.x,B.s,B.t,rt.b,rt.a,lt.a,p.d,D.b,p.e,x.o,w.b,w.f,K.b,m.d,st.a,m.A,P.a,A.a,B.q,ct.a],styles:[""]}),yt),_t=l("7EHt");function Mt(e,t){1&e&&(h.Tb(0,"td",4),h.Kc(1,"Imputed Value"),h.Sb())}function Bt(e,t){if(1&e&&(h.Tb(0,"tr"),h.Tb(1,"td"),h.Kc(2),h.Sb(),h.Tb(3,"td"),h.Kc(4),h.Sb(),h.Sb()),2&e){var i=t.$implicit;h.Bb(2),h.Lc(i.name),h.Bb(2),h.Mc(" ",i.value.name+":"+i.value.value," ")}}function Dt(e,t){if(1&e&&(h.Tb(0,"table",8),h.Tb(1,"tbody"),h.Ic(2,Bt,5,2,"tr",6),h.Sb(),h.Sb()),2&e){var i=h.ec(2).$implicit;h.Bb(2),h.kc("ngForOf",i.fillValue)}}function Ft(e,t){if(1&e&&(h.Tb(0,"span"),h.Kc(1),h.Sb()),2&e){var i=h.ec(2).$implicit;h.Bb(1),h.Lc(i.fillValue)}}function wt(e,t){if(1&e&&(h.Tb(0,"td"),h.Tb(1,"span"),h.Ic(2,Dt,3,1,"table",7),h.Ic(3,Ft,2,1,"span",0),h.Sb(),h.Sb()),2&e){var i=h.ec().$implicit,a=h.ec(3);h.Bb(2),h.kc("ngIf",a.isArrayData(i.fillValue)),h.Bb(1),h.kc("ngIf",!a.isArrayData(i.fillValue))}}function Ot(e,t){if(1&e&&(h.Tb(0,"tr"),h.Tb(1,"td"),h.Kc(2),h.Sb(),h.Tb(3,"td"),h.Kc(4),h.Sb(),h.Tb(5,"td"),h.Kc(6),h.Sb(),h.Tb(7,"td"),h.Kc(8),h.Sb(),h.Ic(9,wt,4,2,"td",0),h.Sb()),2&e){var i=t.$implicit,a=h.ec(3);h.Bb(2),h.Lc(i.colName),h.Bb(2),h.Lc(i.missing),h.Bb(2),h.Lc(i.dataType),h.Bb(2),h.Lc(i.imputationStrategy),h.Bb(1),h.kc("ngIf","timeseries"!==a.project.type)}}function Ct(e,t){if(1&e&&(h.Tb(0,"div"),h.Tb(1,"div",1),h.Tb(2,"table",2),h.Tb(3,"thead",3),h.Tb(4,"tr"),h.Tb(5,"td",4),h.Kc(6,"Feature"),h.Sb(),h.Tb(7,"td",4),h.Kc(8,"Missing"),h.Sb(),h.Tb(9,"td",4),h.Kc(10,"Data Type"),h.Sb(),h.Tb(11,"td",4),h.Kc(12,"Imputation Strategy"),h.Sb(),h.Ic(13,Mt,2,0,"td",5),h.Sb(),h.Sb(),h.Tb(14,"tbody"),h.Ic(15,Ot,10,5,"tr",6),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(2);h.Bb(13),h.kc("ngIf","timeseries"!=i.project.type),h.Bb(2),h.kc("ngForOf",i.taskData.eda_imputation)}}function xt(e,t){if(1&e&&(h.Tb(0,"tr"),h.Tb(1,"td"),h.Kc(2),h.Sb(),h.Tb(3,"td"),h.Kc(4),h.Sb(),h.Tb(5,"td"),h.Kc(6),h.Sb(),h.Tb(7,"td"),h.Kc(8),h.Sb(),h.Sb()),2&e){var i=t.$implicit;h.Bb(2),h.Lc(i.colName),h.Bb(2),h.Lc(i.outlierDetectionStrategy),h.Bb(2),h.Lc(i.outlierCorrectionStrategy),h.Bb(2),h.Lc(i.outlierCount)}}function Kt(e,t){if(1&e&&(h.Tb(0,"div"),h.Tb(1,"div",1),h.Tb(2,"table",2),h.Tb(3,"thead",3),h.Tb(4,"tr"),h.Tb(5,"td",4),h.Kc(6,"Feature"),h.Sb(),h.Tb(7,"td",4),h.Kc(8,"Outlier Detection Strategy"),h.Sb(),h.Tb(9,"td",4),h.Kc(10,"Outlier Correction Strategy"),h.Sb(),h.Tb(11,"td",4),h.Kc(12,"Outlier Count"),h.Sb(),h.Sb(),h.Sb(),h.Tb(13,"tbody"),h.Ic(14,xt,9,4,"tr",6),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(2);h.Bb(14),h.kc("ngForOf",i.taskData.eda_outlier)}}function Nt(e,t){if(1&e&&(h.Tb(0,"td",4),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Mc(" ",i.key," ")}}function Pt(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Lc(i.value)}}function At(e,t){if(1&e&&(h.Tb(0,"tr"),h.Ic(1,Pt,2,1,"td",6),h.fc(2,"keyvalue"),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.kc("ngForOf",h.gc(2,1,i))}}function Lt(e,t){if(1&e&&(h.Tb(0,"div"),h.Tb(1,"label",10),h.Kc(2,"Preview data"),h.Sb(),h.Tb(3,"table",11),h.Tb(4,"thead",3),h.Tb(5,"tr"),h.Ic(6,Nt,2,1,"td",12),h.fc(7,"keyvalue"),h.Sb(),h.Sb(),h.Tb(8,"tbody"),h.Ic(9,At,3,3,"tr",6),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(6),h.kc("ngForOf",h.gc(7,2,i.taskData.auto_feature_generate[0])),h.Bb(3),h.kc("ngForOf",i.taskData.auto_feature_generate)}}function Rt(e,t){if(1&e&&(h.Tb(0,"td",4),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Mc(" ",i," ")}}function Et(e,t){if(1&e&&(h.Tb(0,"div"),h.Tb(1,"label",13),h.Kc(2),h.Sb(),h.Tb(3,"table",2),h.Tb(4,"thead",3),h.Tb(5,"tr"),h.Ic(6,Rt,2,1,"td",12),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(2),h.Mc("Column list (",i.columnList.auto_feature_generate.length," columns)"),h.Bb(4),h.kc("ngForOf",i.columnList.auto_feature_generate)}}function qt(e,t){if(1&e&&(h.Tb(0,"div",14),h.Tb(1,"table",8),h.Tb(2,"thead",3),h.Tb(3,"tr"),h.Tb(4,"td"),h.Kc(5,"Columns"),h.Sb(),h.Tb(6,"td"),h.Kc(7,"Rows"),h.Sb(),h.Sb(),h.Sb(),h.Tb(8,"tbody"),h.Tb(9,"tr"),h.Tb(10,"td"),h.Kc(11),h.Sb(),h.Tb(12,"td"),h.Kc(13),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(11),h.Lc(i.shape.auto_feature_generate.column),h.Bb(2),h.Lc(i.shape.auto_feature_generate.row)}}function jt(e,t){if(1&e&&(h.Tb(0,"td",4),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Mc(" ",i," ")}}function $t(e,t){if(1&e&&(h.Tb(0,"div"),h.Tb(1,"label"),h.Kc(2,"Input Features"),h.Sb(),h.Tb(3,"table",2),h.Tb(4,"thead",3),h.Tb(5,"tr"),h.Ic(6,jt,2,1,"td",12),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(6),h.kc("ngForOf",i.method.auto_feature_generate["Input feature"])}}function Ut(e,t){if(1&e&&(h.Tb(0,"td",4),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Mc(" ",i," ")}}function Gt(e,t){if(1&e&&(h.Tb(0,"div"),h.Tb(1,"label"),h.Kc(2,"Output Features"),h.Sb(),h.Tb(3,"table",2),h.Tb(4,"thead",3),h.Tb(5,"tr"),h.Ic(6,Ut,2,1,"td",12),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(6),h.kc("ngForOf",i.method.auto_feature_generate["Output features"])}}function Vt(e,t){if(1&e&&(h.Tb(0,"div"),h.Ic(1,Lt,10,4,"div",0),h.Ob(2,"br"),h.Ic(3,Et,7,2,"div",0),h.Ic(4,qt,14,2,"div",9),h.Ic(5,$t,7,1,"div",0),h.Ob(6,"br"),h.Ic(7,Gt,7,1,"div",0),h.Sb()),2&e){var i=h.ec(2);h.Bb(1),h.kc("ngIf",null==i.taskData.auto_feature_generate?null:i.taskData.auto_feature_generate.length),h.Bb(2),h.kc("ngIf",i.columnList.auto_feature_generate.length),h.Bb(1),h.kc("ngIf",i.shape.auto_feature_generate),h.Bb(1),h.kc("ngIf",i.method.auto_feature_generate),h.Bb(2),h.kc("ngIf",i.method.auto_feature_generate)}}function Ht(e,t){if(1&e&&(h.Tb(0,"td",4),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Mc(" ",i.key," ")}}function zt(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Lc(i.value)}}function Wt(e,t){if(1&e&&(h.Tb(0,"tr"),h.Ic(1,zt,2,1,"td",6),h.fc(2,"keyvalue"),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.kc("ngForOf",h.gc(2,1,i))}}function Qt(e,t){if(1&e&&(h.Tb(0,"div",1),h.Tb(1,"label",10),h.Kc(2,"Preview data"),h.Sb(),h.Tb(3,"table",2),h.Tb(4,"thead",3),h.Tb(5,"tr"),h.Ic(6,Ht,2,1,"td",12),h.fc(7,"keyvalue"),h.Sb(),h.Sb(),h.Tb(8,"tbody"),h.Ic(9,Wt,3,3,"tr",6),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(6),h.kc("ngForOf",h.gc(7,2,i.taskData.date_component_generate[0])),h.Bb(3),h.kc("ngForOf",i.taskData.date_component_generate)}}function Yt(e,t){if(1&e&&(h.Tb(0,"td",4),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Mc(" ",i," ")}}function Xt(e,t){if(1&e&&(h.Tb(0,"div",1),h.Tb(1,"label",13),h.Kc(2),h.Sb(),h.Tb(3,"div"),h.Tb(4,"table",2),h.Tb(5,"thead",3),h.Tb(6,"tr"),h.Ic(7,Yt,2,1,"td",12),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(2),h.Mc("Column list( ",i.columnList.date_component_generate.length," columns)"),h.Bb(5),h.kc("ngForOf",i.columnList.date_component_generate)}}function Jt(e,t){if(1&e&&(h.Tb(0,"div"),h.Tb(1,"table",8),h.Tb(2,"thead",3),h.Tb(3,"tr"),h.Tb(4,"td",4),h.Kc(5,"Columns"),h.Sb(),h.Tb(6,"td",4),h.Kc(7,"Rows"),h.Sb(),h.Sb(),h.Sb(),h.Tb(8,"tbody"),h.Tb(9,"tr"),h.Tb(10,"td"),h.Kc(11),h.Sb(),h.Tb(12,"td"),h.Kc(13),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(11),h.Lc(i.shape.date_component_generate.column),h.Bb(2),h.Lc(i.shape.date_component_generate.row)}}function Zt(e,t){if(1&e&&(h.Tb(0,"div"),h.Ic(1,Qt,10,4,"div",15),h.Ic(2,Xt,8,2,"div",15),h.Ic(3,Jt,14,2,"div",0),h.Sb()),2&e){var i=h.ec(2);h.Bb(1),h.kc("ngIf",i.taskData.date_component_generate.length),h.Bb(1),h.kc("ngIf",i.columnList.date_component_generate.length),h.Bb(1),h.kc("ngIf",i.shape.date_component_generate)}}function ei(e,t){if(1&e&&(h.Tb(0,"td",4),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Mc(" ",i.key," ")}}function ti(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Lc(i.value)}}function ii(e,t){if(1&e&&(h.Tb(0,"tr"),h.Ic(1,ti,2,1,"td",6),h.fc(2,"keyvalue"),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.kc("ngForOf",h.gc(2,1,i))}}function ai(e,t){if(1&e&&(h.Tb(0,"div",1),h.Tb(1,"label",10),h.Kc(2,"Preview data"),h.Sb(),h.Tb(3,"table",2),h.Tb(4,"thead",3),h.Tb(5,"tr"),h.Ic(6,ei,2,1,"td",12),h.fc(7,"keyvalue"),h.Sb(),h.Sb(),h.Tb(8,"tbody"),h.Ic(9,ii,3,3,"tr",6),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(6),h.kc("ngForOf",h.gc(7,2,i.taskData.feature_normalization[0])),h.Bb(3),h.kc("ngForOf",i.taskData.feature_normalization)}}function ni(e,t){if(1&e&&(h.Tb(0,"td",4),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Mc(" ",i," ")}}function oi(e,t){if(1&e&&(h.Tb(0,"div",1),h.Tb(1,"label",13),h.Kc(2),h.Sb(),h.Tb(3,"div"),h.Tb(4,"table",2),h.Tb(5,"thead",3),h.Tb(6,"tr"),h.Ic(7,ni,2,1,"td",12),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(2),h.Mc("Column list( ",i.columnList.feature_normalization.length," columns)"),h.Bb(5),h.kc("ngForOf",i.columnList.feature_normalization)}}function ri(e,t){if(1&e&&(h.Tb(0,"div"),h.Tb(1,"table",8),h.Tb(2,"thead",3),h.Tb(3,"tr"),h.Tb(4,"td",4),h.Kc(5,"Columns"),h.Sb(),h.Tb(6,"td",4),h.Kc(7,"Rows"),h.Sb(),h.Sb(),h.Sb(),h.Tb(8,"tbody"),h.Tb(9,"tr"),h.Tb(10,"td"),h.Kc(11),h.Sb(),h.Tb(12,"td"),h.Kc(13),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(11),h.Lc(i.shape.feature_normalization.column),h.Bb(2),h.Lc(i.shape.feature_normalization.row)}}function li(e,t){if(1&e&&(h.Tb(0,"div"),h.Tb(1,"label"),h.Kc(2,"Normalization Method"),h.Sb(),h.Tb(3,"table",8),h.Tb(4,"thead",3),h.Tb(5,"tr"),h.Tb(6,"td"),h.Kc(7),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(7),h.Lc(i.method.feature_normalization.Method)}}function si(e,t){if(1&e&&(h.Tb(0,"div"),h.Ic(1,ai,10,4,"div",15),h.Ic(2,oi,8,2,"div",15),h.Ic(3,ri,14,2,"div",0),h.Ic(4,li,8,1,"div",0),h.Sb()),2&e){var i=h.ec(2);h.Bb(1),h.kc("ngIf",i.taskData.feature_normalization.length),h.Bb(1),h.kc("ngIf",i.columnList.feature_normalization.length),h.Bb(1),h.kc("ngIf",i.shape.feature_normalization),h.Bb(1),h.kc("ngIf",i.method.feature_normalization)}}function ci(e,t){if(1&e&&(h.Tb(0,"td",4),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Mc(" ",i.key," ")}}function di(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Lc(i.value)}}function ui(e,t){if(1&e&&(h.Tb(0,"tr"),h.Ic(1,di,2,1,"td",6),h.fc(2,"keyvalue"),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.kc("ngForOf",h.gc(2,1,i))}}function bi(e,t){if(1&e&&(h.Tb(0,"div",1),h.Tb(1,"label",10),h.Kc(2,"Preview data"),h.Sb(),h.Tb(3,"table",2),h.Tb(4,"thead",3),h.Tb(5,"tr"),h.Ic(6,ci,2,1,"td",12),h.fc(7,"keyvalue"),h.Sb(),h.Sb(),h.Tb(8,"tbody"),h.Ic(9,ui,3,3,"tr",6),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(6),h.kc("ngForOf",h.gc(7,2,i.taskData.categorical_encoding[0])),h.Bb(3),h.kc("ngForOf",i.taskData.categorical_encoding)}}function pi(e,t){if(1&e&&(h.Tb(0,"tr"),h.Tb(1,"td"),h.Kc(2),h.Sb(),h.Tb(3,"td"),h.Kc(4),h.Sb(),h.Tb(5,"td"),h.Kc(6),h.Sb(),h.Sb()),2&e){var i=t.$implicit;h.Bb(2),h.Lc(i.Feature),h.Bb(2),h.Lc(i.Encoding_method),h.Bb(2),h.Lc(i.Encoded_Features)}}function mi(e,t){if(1&e&&(h.Tb(0,"div",1),h.Tb(1,"label"),h.Kc(2,"Method"),h.Sb(),h.Tb(3,"table",2),h.Tb(4,"thead",3),h.Tb(5,"tr"),h.Tb(6,"td"),h.Kc(7,"Feature"),h.Sb(),h.Tb(8,"td"),h.Kc(9,"Encoding method"),h.Sb(),h.Tb(10,"td"),h.Kc(11,"Encoded features"),h.Sb(),h.Sb(),h.Sb(),h.Tb(12,"tbody"),h.Ic(13,pi,7,3,"tr",6),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(13),h.kc("ngForOf",i.method.categorical_encoding)}}function gi(e,t){if(1&e&&(h.Tb(0,"td",4),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Mc(" ",i," ")}}function fi(e,t){if(1&e&&(h.Tb(0,"div",1),h.Tb(1,"label",13),h.Kc(2),h.Sb(),h.Tb(3,"div"),h.Tb(4,"table",2),h.Tb(5,"thead",3),h.Tb(6,"tr"),h.Ic(7,gi,2,1,"td",12),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(2),h.Mc("Column list( ",i.columnList.categorical_encoding.length," columns)"),h.Bb(5),h.kc("ngForOf",i.columnList.categorical_encoding)}}function hi(e,t){if(1&e&&(h.Tb(0,"div"),h.Tb(1,"table",8),h.Tb(2,"thead",3),h.Tb(3,"tr"),h.Tb(4,"td",4),h.Kc(5,"Columns"),h.Sb(),h.Tb(6,"td",4),h.Kc(7,"Rows"),h.Sb(),h.Sb(),h.Sb(),h.Tb(8,"tbody"),h.Tb(9,"tr"),h.Tb(10,"td"),h.Kc(11),h.Sb(),h.Tb(12,"td"),h.Kc(13),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(11),h.Lc(i.shape.categorical_encoding.column),h.Bb(2),h.Lc(i.shape.categorical_encoding.row)}}function vi(e,t){if(1&e&&(h.Tb(0,"div"),h.Ic(1,bi,10,4,"div",15),h.Ob(2,"br"),h.Ic(3,mi,14,1,"div",15),h.Ob(4,"br"),h.Ic(5,fi,8,2,"div",15),h.Ob(6,"br"),h.Ic(7,hi,14,2,"div",0),h.Sb()),2&e){var i=h.ec(2);h.Bb(1),h.kc("ngIf",i.taskData.categorical_encoding.length),h.Bb(2),h.kc("ngIf",i.method.categorical_encoding),h.Bb(2),h.kc("ngIf",i.columnList.categorical_encoding.length),h.Bb(2),h.kc("ngIf",i.shape.categorical_encoding)}}function Ti(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Lc(i.value)}}function Si(e,t){if(1&e&&(h.Tb(0,"tr"),h.Ic(1,Ti,2,1,"td",6),h.fc(2,"keyvalue"),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.kc("ngForOf",h.gc(2,1,i))}}function ki(e,t){if(1&e&&(h.Tb(0,"div",1),h.Tb(1,"label",10),h.Kc(2,"Preview data"),h.Sb(),h.Tb(3,"table",2),h.Tb(4,"thead",3),h.Tb(5,"tr"),h.Tb(6,"td",4),h.Kc(7,"Feature Name"),h.Sb(),h.Tb(8,"td",4),h.Kc(9,"From Text"),h.Sb(),h.Tb(10,"td",4),h.Kc(11,"To Text"),h.Sb(),h.Sb(),h.Sb(),h.Tb(12,"tbody"),h.Ic(13,Si,3,3,"tr",6),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(13),h.kc("ngForOf",i.taskData.string_replacement)}}function yi(e,t){if(1&e&&(h.Tb(0,"div"),h.Ic(1,ki,14,1,"div",15),h.Sb()),2&e){var i=h.ec(2);h.Bb(1),h.kc("ngIf",i.taskData.string_replacement.length)}}function Ii(e,t){if(1&e&&(h.Tb(0,"td",4),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Mc(" ",i.key," ")}}function _i(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Lc(i.value)}}function Mi(e,t){if(1&e&&(h.Tb(0,"tr"),h.Ic(1,_i,2,1,"td",6),h.fc(2,"keyvalue"),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.kc("ngForOf",h.gc(2,1,i))}}function Bi(e,t){if(1&e&&(h.Tb(0,"div",1),h.Tb(1,"label",10),h.Kc(2,"Preview data"),h.Sb(),h.Tb(3,"table",2),h.Tb(4,"thead",3),h.Tb(5,"tr"),h.Ic(6,Ii,2,1,"td",12),h.fc(7,"keyvalue"),h.Sb(),h.Sb(),h.Tb(8,"tbody"),h.Ic(9,Mi,3,3,"tr",6),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(6),h.kc("ngForOf",h.gc(7,2,i.taskData.resampling[0])),h.Bb(3),h.kc("ngForOf",i.taskData.resampling)}}function Di(e,t){if(1&e&&(h.Tb(0,"td",4),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Mc(" ",i," ")}}function Fi(e,t){if(1&e&&(h.Tb(0,"div",1),h.Tb(1,"label",13),h.Kc(2),h.Sb(),h.Tb(3,"div"),h.Tb(4,"table",2),h.Tb(5,"thead",3),h.Tb(6,"tr"),h.Ic(7,Di,2,1,"td",12),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(2),h.Mc("Column list( ",i.columnList.resampling.length," columns)"),h.Bb(5),h.kc("ngForOf",i.columnList.resampling)}}function wi(e,t){if(1&e&&(h.Tb(0,"tr"),h.Tb(1,"td"),h.Kc(2),h.Sb(),h.Tb(3,"td"),h.Kc(4),h.Sb(),h.Sb()),2&e){var i=t.$implicit;h.Bb(2),h.Lc(i.key),h.Bb(2),h.Lc(i.value)}}function Oi(e,t){if(1&e&&(h.Tb(0,"div",1),h.Tb(1,"table",2),h.Tb(2,"thead",3),h.Tb(3,"tr"),h.Tb(4,"td",4),h.Kc(5,"Method"),h.Sb(),h.Tb(6,"td",4),h.Kc(7,"Value"),h.Sb(),h.Sb(),h.Sb(),h.Tb(8,"tbody"),h.Ic(9,wi,5,2,"tr",6),h.fc(10,"keyvalue"),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(9),h.kc("ngForOf",h.gc(10,1,i.method.resampling))}}function Ci(e,t){if(1&e&&(h.Tb(0,"div"),h.Tb(1,"table",8),h.Tb(2,"thead",3),h.Tb(3,"tr"),h.Tb(4,"td",4),h.Kc(5,"Columns"),h.Sb(),h.Tb(6,"td",4),h.Kc(7,"Rows"),h.Sb(),h.Sb(),h.Sb(),h.Tb(8,"tbody"),h.Tb(9,"tr"),h.Tb(10,"td"),h.Kc(11),h.Sb(),h.Tb(12,"td"),h.Kc(13),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(11),h.Lc(i.shape.resampling.column),h.Bb(2),h.Lc(i.shape.resampling.row)}}function xi(e,t){if(1&e&&(h.Tb(0,"div"),h.Ic(1,Bi,10,4,"div",15),h.Ic(2,Fi,8,2,"div",15),h.Ic(3,Oi,11,3,"div",15),h.Ic(4,Ci,14,2,"div",0),h.Sb()),2&e){var i=h.ec(2);h.Bb(1),h.kc("ngIf",i.taskData.resampling.length),h.Bb(1),h.kc("ngIf",i.columnList.resampling.length),h.Bb(1),h.kc("ngIf",i.method.resampling),h.Bb(1),h.kc("ngIf",i.shape.resampling)}}function Ki(e,t){if(1&e&&(h.Tb(0,"td",4),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Mc(" ",i.key," ")}}function Ni(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Lc(i.value)}}function Pi(e,t){if(1&e&&(h.Tb(0,"tr"),h.Ic(1,Ni,2,1,"td",6),h.fc(2,"keyvalue"),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.kc("ngForOf",h.gc(2,1,i))}}function Ai(e,t){if(1&e&&(h.Tb(0,"div",1),h.Tb(1,"label",10),h.Kc(2,"Preview data"),h.Sb(),h.Tb(3,"table",2),h.Tb(4,"thead",3),h.Tb(5,"tr"),h.Ic(6,Ki,2,1,"td",12),h.fc(7,"keyvalue"),h.Sb(),h.Sb(),h.Tb(8,"tbody"),h.Ic(9,Pi,3,3,"tr",6),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(6),h.kc("ngForOf",h.gc(7,2,i.taskData.stationary_transformation[0])),h.Bb(3),h.kc("ngForOf",i.taskData.stationary_transformation)}}function Li(e,t){if(1&e&&(h.Tb(0,"td",4),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Mc(" ",i," ")}}function Ri(e,t){if(1&e&&(h.Tb(0,"div",1),h.Tb(1,"label",13),h.Kc(2),h.Sb(),h.Tb(3,"div"),h.Tb(4,"table",2),h.Tb(5,"thead",3),h.Tb(6,"tr"),h.Ic(7,Li,2,1,"td",12),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(2),h.Mc("Column list( ",i.columnList.stationary_transformation.length," columns)"),h.Bb(5),h.kc("ngForOf",i.columnList.stationary_transformation)}}function Ei(e,t){if(1&e&&(h.Tb(0,"tr"),h.Tb(1,"td"),h.Kc(2),h.Sb(),h.Tb(3,"td"),h.Kc(4),h.Sb(),h.Sb()),2&e){var i=t.$implicit;h.Bb(2),h.Lc(i.key),h.Bb(2),h.Lc(i.value)}}function qi(e,t){if(1&e&&(h.Tb(0,"div",1),h.Tb(1,"table",2),h.Tb(2,"thead",3),h.Tb(3,"tr"),h.Tb(4,"td",4),h.Kc(5,"Method"),h.Sb(),h.Tb(6,"td",4),h.Kc(7,"Value"),h.Sb(),h.Sb(),h.Sb(),h.Tb(8,"tbody"),h.Ic(9,Ei,5,2,"tr",6),h.fc(10,"keyvalue"),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(9),h.kc("ngForOf",h.gc(10,1,i.method.stationary_transformation))}}function ji(e,t){if(1&e&&(h.Tb(0,"div"),h.Tb(1,"table",8),h.Tb(2,"thead",3),h.Tb(3,"tr"),h.Tb(4,"td",4),h.Kc(5,"Columns"),h.Sb(),h.Tb(6,"td",4),h.Kc(7,"Rows"),h.Sb(),h.Sb(),h.Sb(),h.Tb(8,"tbody"),h.Tb(9,"tr"),h.Tb(10,"td"),h.Kc(11),h.Sb(),h.Tb(12,"td"),h.Kc(13),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(11),h.Lc(i.shape.stationary_transformation.column),h.Bb(2),h.Lc(i.shape.stationary_transformation.row)}}function $i(e,t){if(1&e&&(h.Tb(0,"div"),h.Ic(1,Ai,10,4,"div",15),h.Ic(2,Ri,8,2,"div",15),h.Ic(3,qi,11,3,"div",15),h.Ic(4,ji,14,2,"div",0),h.Sb()),2&e){var i=h.ec(2);h.Bb(1),h.kc("ngIf",i.taskData.stationary_transformation.length),h.Bb(1),h.kc("ngIf",i.columnList.stationary_transformation.length),h.Bb(1),h.kc("ngIf",i.method.stationary_transformation),h.Bb(1),h.kc("ngIf",i.shape.stationary_transformation)}}function Ui(e,t){if(1&e&&(h.Tb(0,"td",4),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Mc(" ",i.key," ")}}function Gi(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Lc(i.value)}}function Vi(e,t){if(1&e&&(h.Tb(0,"tr"),h.Ic(1,Gi,2,1,"td",6),h.fc(2,"keyvalue"),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.kc("ngForOf",h.gc(2,1,i))}}function Hi(e,t){if(1&e&&(h.Tb(0,"div",1),h.Tb(1,"label",10),h.Kc(2,"Preview data"),h.Sb(),h.Tb(3,"table",2),h.Tb(4,"thead",3),h.Tb(5,"tr"),h.Ic(6,Ui,2,1,"td",12),h.fc(7,"keyvalue"),h.Sb(),h.Sb(),h.Tb(8,"tbody"),h.Ic(9,Vi,3,3,"tr",6),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(6),h.kc("ngForOf",h.gc(7,2,i.taskData.text_cleaning[0])),h.Bb(3),h.kc("ngForOf",i.taskData.text_cleaning)}}function zi(e,t){if(1&e&&(h.Tb(0,"td",4),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Mc(" ",i," ")}}function Wi(e,t){if(1&e&&(h.Tb(0,"div",1),h.Tb(1,"label",13),h.Kc(2),h.Sb(),h.Tb(3,"div"),h.Tb(4,"table",2),h.Tb(5,"thead",3),h.Tb(6,"tr"),h.Ic(7,zi,2,1,"td",12),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(2),h.Mc("Column list( ",i.columnList.text_cleaning.length," columns)"),h.Bb(5),h.kc("ngForOf",i.columnList.text_cleaning)}}function Qi(e,t){if(1&e&&(h.Tb(0,"tr"),h.Tb(1,"td"),h.Kc(2),h.Sb(),h.Tb(3,"td"),h.Kc(4),h.Sb(),h.Sb()),2&e){var i=t.$implicit;h.Bb(2),h.Lc(i.featureName),h.Bb(2),h.Lc(i.method)}}function Yi(e,t){if(1&e&&(h.Tb(0,"div",1),h.Tb(1,"table",2),h.Tb(2,"thead",3),h.Tb(3,"tr"),h.Tb(4,"td",4),h.Kc(5,"Feature"),h.Sb(),h.Tb(6,"td",4),h.Kc(7,"Method"),h.Sb(),h.Sb(),h.Sb(),h.Tb(8,"tbody"),h.Ic(9,Qi,5,2,"tr",6),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(9),h.kc("ngForOf",i.method.text_cleaning)}}function Xi(e,t){if(1&e&&(h.Tb(0,"div"),h.Tb(1,"table",8),h.Tb(2,"thead",3),h.Tb(3,"tr"),h.Tb(4,"td",4),h.Kc(5,"Columns"),h.Sb(),h.Tb(6,"td",4),h.Kc(7,"Rows"),h.Sb(),h.Sb(),h.Sb(),h.Tb(8,"tbody"),h.Tb(9,"tr"),h.Tb(10,"td"),h.Kc(11),h.Sb(),h.Tb(12,"td"),h.Kc(13),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(11),h.Lc(i.shape.text_cleaning.column),h.Bb(2),h.Lc(i.shape.text_cleaning.row)}}function Ji(e,t){if(1&e&&(h.Tb(0,"div"),h.Ic(1,Hi,10,4,"div",15),h.Ic(2,Wi,8,2,"div",15),h.Ic(3,Yi,10,1,"div",15),h.Ic(4,Xi,14,2,"div",0),h.Sb()),2&e){var i=h.ec(2);h.Bb(1),h.kc("ngIf",i.taskData.text_cleaning.length),h.Bb(1),h.kc("ngIf",i.columnList.text_cleaning.length),h.Bb(1),h.kc("ngIf",i.method.text_cleaning),h.Bb(1),h.kc("ngIf",i.shape.text_cleaning)}}function Zi(e,t){if(1&e&&(h.Tb(0,"td",4),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Mc(" ",i.key," ")}}function ea(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Lc(i.value)}}function ta(e,t){if(1&e&&(h.Tb(0,"tr"),h.Ic(1,ea,2,1,"td",6),h.fc(2,"keyvalue"),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.kc("ngForOf",h.gc(2,1,i))}}function ia(e,t){if(1&e&&(h.Tb(0,"div",1),h.Tb(1,"label",10),h.Kc(2,"Preview data"),h.Sb(),h.Tb(3,"table",2),h.Tb(4,"thead",3),h.Tb(5,"tr"),h.Ic(6,Zi,2,1,"td",12),h.fc(7,"keyvalue"),h.Sb(),h.Sb(),h.Tb(8,"tbody"),h.Ic(9,ta,3,3,"tr",6),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(6),h.kc("ngForOf",h.gc(7,2,i.taskData.text_extraction[0])),h.Bb(3),h.kc("ngForOf",i.taskData.text_extraction)}}function aa(e,t){if(1&e&&(h.Tb(0,"td",4),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Mc(" ",i," ")}}function na(e,t){if(1&e&&(h.Tb(0,"div",1),h.Tb(1,"label",13),h.Kc(2),h.Sb(),h.Tb(3,"div"),h.Tb(4,"table",2),h.Tb(5,"thead",3),h.Tb(6,"tr"),h.Ic(7,aa,2,1,"td",12),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(2),h.Mc("Column list( ",i.columnList.text_extraction.length," columns)"),h.Bb(5),h.kc("ngForOf",i.columnList.text_extraction)}}function oa(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=h.ec().$implicit;h.Bb(1),h.Lc(i.value.colName)}}function ra(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=h.ec().$implicit;h.Bb(1),h.Lc(i.value.nlpFeatureExtractionMethod)}}function la(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=h.ec().$implicit;h.Bb(1),h.Lc(i.value.nlpLanguage)}}function sa(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=h.ec().$implicit;h.Bb(1),h.Lc(i.value.nFeatureCount)}}function ca(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=h.ec().$implicit;h.Bb(1),h.Lc(i.value.stripAccents)}}function da(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=h.ec().$implicit;h.Bb(1),h.Lc(i.value.decodeError)}}function ua(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=h.ec().$implicit;h.Bb(1),h.Lc(i.value.nGram)}}function ba(e,t){if(1&e&&(h.Tb(0,"tr"),h.Ic(1,oa,2,1,"td",0),h.Ic(2,ra,2,1,"td",0),h.Ic(3,la,2,1,"td",0),h.Ic(4,sa,2,1,"td",0),h.Ic(5,ca,2,1,"td",0),h.Ic(6,da,2,1,"td",0),h.Ic(7,ua,2,1,"td",0),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.kc("ngIf",i.value.colName),h.Bb(1),h.kc("ngIf",i.value.nlpFeatureExtractionMethod),h.Bb(1),h.kc("ngIf",i.value.nlpLanguage),h.Bb(1),h.kc("ngIf",i.value.nFeatureCount),h.Bb(1),h.kc("ngIf",i.value.stripAccents),h.Bb(1),h.kc("ngIf",i.value.decodeError),h.Bb(1),h.kc("ngIf",i.value.nGram)}}function pa(e,t){if(1&e&&(h.Tb(0,"div",1),h.Tb(1,"table",2),h.Tb(2,"thead",3),h.Tb(3,"tr"),h.Tb(4,"td",4),h.Kc(5,"Feature"),h.Sb(),h.Tb(6,"td",4),h.Kc(7,"NLP Feature Extraction Method"),h.Sb(),h.Tb(8,"td",4),h.Kc(9,"NLP Language"),h.Sb(),h.Tb(10,"td",4),h.Kc(11,"Feature Count"),h.Sb(),h.Tb(12,"td",4),h.Kc(13,"Strip Accents"),h.Sb(),h.Tb(14,"td",4),h.Kc(15,"Decode Error"),h.Sb(),h.Tb(16,"td",4),h.Kc(17,"NGram"),h.Sb(),h.Sb(),h.Sb(),h.Tb(18,"tbody"),h.Ic(19,ba,8,7,"tr",6),h.fc(20,"keyvalue"),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(19),h.kc("ngForOf",h.gc(20,1,i.method.text_extraction))}}function ma(e,t){if(1&e&&(h.Tb(0,"div"),h.Tb(1,"table",8),h.Tb(2,"thead",3),h.Tb(3,"tr"),h.Tb(4,"td",4),h.Kc(5,"Columns"),h.Sb(),h.Tb(6,"td",4),h.Kc(7,"Rows"),h.Sb(),h.Sb(),h.Sb(),h.Tb(8,"tbody"),h.Tb(9,"tr"),h.Tb(10,"td"),h.Kc(11),h.Sb(),h.Tb(12,"td"),h.Kc(13),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(11),h.Lc(i.shape.text_extraction.column),h.Bb(2),h.Lc(i.shape.text_extraction.row)}}function ga(e,t){if(1&e&&(h.Tb(0,"div"),h.Ic(1,ia,10,4,"div",15),h.Ic(2,na,8,2,"div",15),h.Ic(3,pa,21,3,"div",15),h.Ic(4,ma,14,2,"div",0),h.Sb()),2&e){var i=h.ec(2);h.Bb(1),h.kc("ngIf",i.taskData.text_extraction.length),h.Bb(1),h.kc("ngIf",i.columnList.text_extraction.length),h.Bb(1),h.kc("ngIf",i.method.text_extraction),h.Bb(1),h.kc("ngIf",i.shape.text_extraction)}}function fa(e,t){if(1&e&&(h.Tb(0,"td",4),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Mc(" ",i.key," ")}}function ha(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Lc(i.value)}}function va(e,t){if(1&e&&(h.Tb(0,"tr"),h.Ic(1,ha,2,1,"td",6),h.fc(2,"keyvalue"),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.kc("ngForOf",h.gc(2,1,i))}}function Ta(e,t){if(1&e&&(h.Tb(0,"tr"),h.Tb(1,"td"),h.Kc(2),h.Sb(),h.Tb(3,"td"),h.Kc(4),h.Sb(),h.Sb()),2&e){var i=t.$implicit;h.Bb(2),h.Lc(i.key),h.Bb(2),h.Lc(i.value)}}function Sa(e,t){if(1&e&&(h.Tb(0,"div",1),h.Tb(1,"table",2),h.Tb(2,"thead",3),h.Tb(3,"tr"),h.Tb(4,"td",4),h.Kc(5,"Method"),h.Sb(),h.Tb(6,"td",4),h.Kc(7,"Value"),h.Sb(),h.Sb(),h.Sb(),h.Tb(8,"tbody"),h.Ic(9,Ta,5,2,"tr",6),h.fc(10,"keyvalue"),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(9),h.kc("ngForOf",h.gc(10,1,i.method.feature_scaling))}}function ka(e,t){if(1&e&&(h.Tb(0,"td",4),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Mc(" ",i," ")}}function ya(e,t){if(1&e&&(h.Tb(0,"div",1),h.Tb(1,"label",13),h.Kc(2),h.Sb(),h.Tb(3,"div"),h.Tb(4,"table",2),h.Tb(5,"thead",3),h.Tb(6,"tr"),h.Ic(7,ka,2,1,"td",12),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(2),h.Mc("Column list( ",i.columnList.feature_scaling.length," columns)"),h.Bb(5),h.kc("ngForOf",i.columnList.feature_scaling)}}function Ia(e,t){if(1&e&&(h.Tb(0,"div"),h.Tb(1,"table",8),h.Tb(2,"thead",3),h.Tb(3,"tr"),h.Tb(4,"td",4),h.Kc(5,"Columns"),h.Sb(),h.Tb(6,"td",4),h.Kc(7,"Rows"),h.Sb(),h.Sb(),h.Sb(),h.Tb(8,"tbody"),h.Tb(9,"tr"),h.Tb(10,"td"),h.Kc(11),h.Sb(),h.Tb(12,"td"),h.Kc(13),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(11),h.Lc(i.shape.feature_scaling.column),h.Bb(2),h.Lc(i.shape.feature_scaling.row)}}function _a(e,t){if(1&e&&(h.Tb(0,"div"),h.Tb(1,"div",1),h.Tb(2,"label",10),h.Kc(3,"Preview data"),h.Sb(),h.Tb(4,"table",2),h.Tb(5,"thead",3),h.Tb(6,"tr"),h.Ic(7,fa,2,1,"td",12),h.fc(8,"keyvalue"),h.Sb(),h.Sb(),h.Tb(9,"tbody"),h.Ic(10,va,3,3,"tr",6),h.Sb(),h.Sb(),h.Sb(),h.Ic(11,Sa,11,3,"div",15),h.Ic(12,ya,8,2,"div",15),h.Ic(13,Ia,14,2,"div",0),h.Sb()),2&e){var i=h.ec(2);h.Bb(7),h.kc("ngForOf",h.gc(8,5,i.taskData.feature_scaling[0])),h.Bb(3),h.kc("ngForOf",i.taskData.feature_scaling),h.Bb(1),h.kc("ngIf",i.method.feature_scaling),h.Bb(1),h.kc("ngIf",i.columnList.feature_scaling.length),h.Bb(1),h.kc("ngIf",i.shape.feature_scaling)}}function Ma(e,t){if(1&e&&(h.Tb(0,"td",4),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Mc(" ",i.key," ")}}function Ba(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Lc(i.value)}}function Da(e,t){if(1&e&&(h.Tb(0,"tr"),h.Ic(1,Ba,2,1,"td",6),h.fc(2,"keyvalue"),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.kc("ngForOf",h.gc(2,1,i))}}function Fa(e,t){if(1&e&&(h.Tb(0,"td",4),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Mc(" ",i," ")}}function wa(e,t){if(1&e&&(h.Tb(0,"div",1),h.Tb(1,"label",13),h.Kc(2),h.Sb(),h.Tb(3,"div"),h.Tb(4,"table",2),h.Tb(5,"thead",3),h.Tb(6,"tr"),h.Ic(7,Fa,2,1,"td",12),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(2),h.Mc("Column list( ",i.columnList.feature_selection.length," columns)"),h.Bb(5),h.kc("ngForOf",i.columnList.feature_selection)}}function Oa(e,t){if(1&e&&(h.Tb(0,"div"),h.Tb(1,"table",8),h.Tb(2,"thead",3),h.Tb(3,"tr"),h.Tb(4,"td",4),h.Kc(5,"Columns"),h.Sb(),h.Tb(6,"td",4),h.Kc(7,"Rows"),h.Sb(),h.Sb(),h.Sb(),h.Tb(8,"tbody"),h.Tb(9,"tr"),h.Tb(10,"td"),h.Kc(11),h.Sb(),h.Tb(12,"td"),h.Kc(13),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(11),h.Lc(i.shape.feature_selection.column),h.Bb(2),h.Lc(i.shape.feature_selection.row)}}function Ca(e,t){if(1&e&&(h.Tb(0,"td",4),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Mc(" ",i.key," ")}}function xa(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Mc(" ",i.value," ")}}function Ka(e,t){if(1&e&&(h.Tb(0,"div"),h.Tb(1,"table",8),h.Tb(2,"thead",3),h.Tb(3,"tr"),h.Ic(4,Ca,2,1,"td",12),h.fc(5,"keyvalue"),h.Sb(),h.Sb(),h.Tb(6,"tbody"),h.Tb(7,"tr"),h.Ic(8,xa,2,1,"td",6),h.fc(9,"keyvalue"),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(4),h.kc("ngForOf",h.gc(5,2,i.method.feature_selection)),h.Bb(4),h.kc("ngForOf",h.gc(9,4,i.method.feature_selection))}}function Na(e,t){if(1&e&&(h.Tb(0,"div"),h.Tb(1,"div",1),h.Tb(2,"label",10),h.Kc(3,"Preview data"),h.Sb(),h.Tb(4,"table",2),h.Tb(5,"thead",3),h.Tb(6,"tr"),h.Ic(7,Ma,2,1,"td",12),h.fc(8,"keyvalue"),h.Sb(),h.Sb(),h.Tb(9,"tbody"),h.Ic(10,Da,3,3,"tr",6),h.Sb(),h.Sb(),h.Sb(),h.Ic(11,wa,8,2,"div",15),h.Ic(12,Oa,14,2,"div",0),h.Ic(13,Ka,10,6,"div",0),h.Sb()),2&e){var i=h.ec(2);h.Bb(7),h.kc("ngForOf",h.gc(8,5,i.taskData.feature_selection[0])),h.Bb(3),h.kc("ngForOf",i.taskData.feature_selection),h.Bb(1),h.kc("ngIf",i.columnList.feature_selection.length),h.Bb(1),h.kc("ngIf",i.shape.feature_selection),h.Bb(1),h.kc("ngIf",i.method.feature_selection)}}function Pa(e,t){if(1&e&&(h.Tb(0,"td",4),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Mc(" ",i.key," ")}}function Aa(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Lc(i.value)}}function La(e,t){if(1&e&&(h.Tb(0,"tr"),h.Ic(1,Aa,2,1,"td",6),h.fc(2,"keyvalue"),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.kc("ngForOf",h.gc(2,1,i))}}function Ra(e,t){if(1&e&&(h.Tb(0,"tr"),h.Tb(1,"td"),h.Kc(2),h.Sb(),h.Tb(3,"td"),h.Kc(4),h.Sb(),h.Sb()),2&e){var i=t.$implicit;h.Bb(2),h.Lc(i.key),h.Bb(2),h.Lc(i.value)}}function Ea(e,t){if(1&e&&(h.Tb(0,"div",1),h.Tb(1,"table",2),h.Tb(2,"thead",3),h.Tb(3,"tr"),h.Tb(4,"td",4),h.Kc(5,"Method"),h.Sb(),h.Tb(6,"td",4),h.Kc(7,"Value"),h.Sb(),h.Sb(),h.Sb(),h.Tb(8,"tbody"),h.Ic(9,Ra,5,2,"tr",6),h.fc(10,"keyvalue"),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(9),h.kc("ngForOf",h.gc(10,1,i.method.feature_decomposition))}}function qa(e,t){if(1&e&&(h.Tb(0,"td",4),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.Mc(" ",i," ")}}function ja(e,t){if(1&e&&(h.Tb(0,"div",1),h.Tb(1,"label",13),h.Kc(2),h.Sb(),h.Tb(3,"div"),h.Tb(4,"table",2),h.Tb(5,"thead",3),h.Tb(6,"tr"),h.Ic(7,qa,2,1,"td",12),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(2),h.Mc("Column list( ",i.columnList.feature_decomposition.length," columns)"),h.Bb(5),h.kc("ngForOf",i.columnList.feature_decomposition)}}function $a(e,t){if(1&e&&(h.Tb(0,"div"),h.Tb(1,"table",8),h.Tb(2,"thead",3),h.Tb(3,"tr"),h.Tb(4,"td",4),h.Kc(5,"Columns"),h.Sb(),h.Tb(6,"td",4),h.Kc(7,"Rows"),h.Sb(),h.Sb(),h.Sb(),h.Tb(8,"tbody"),h.Tb(9,"tr"),h.Tb(10,"td"),h.Kc(11),h.Sb(),h.Tb(12,"td"),h.Kc(13),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(11),h.Lc(i.shape.feature_decomposition.column),h.Bb(2),h.Lc(i.shape.feature_decomposition.row)}}function Ua(e,t){if(1&e&&(h.Tb(0,"div"),h.Tb(1,"div",1),h.Tb(2,"label",10),h.Kc(3,"Preview data"),h.Sb(),h.Tb(4,"table",2),h.Tb(5,"thead",3),h.Tb(6,"tr"),h.Ic(7,Pa,2,1,"td",12),h.fc(8,"keyvalue"),h.Sb(),h.Sb(),h.Tb(9,"tbody"),h.Ic(10,La,3,3,"tr",6),h.Sb(),h.Sb(),h.Sb(),h.Ic(11,Ea,11,3,"div",15),h.Ic(12,ja,8,2,"div",15),h.Ic(13,$a,14,2,"div",0),h.Sb()),2&e){var i=h.ec(2);h.Bb(7),h.kc("ngForOf",h.gc(8,5,i.taskData.feature_decomposition[0])),h.Bb(3),h.kc("ngForOf",i.taskData.feature_decomposition),h.Bb(1),h.kc("ngIf",i.method.feature_decomposition),h.Bb(1),h.kc("ngIf",i.columnList.feature_decomposition.length),h.Bb(1),h.kc("ngIf",i.shape.feature_decomposition)}}function Ga(e,t){if(1&e&&(h.Tb(0,"tr"),h.Tb(1,"td"),h.Kc(2),h.Sb(),h.Tb(3,"td"),h.Kc(4),h.Sb(),h.Sb()),2&e){var i=t.$implicit;h.Bb(2),h.Lc(i.colName),h.Bb(2),h.Lc(i.value)}}function Va(e,t){if(1&e&&(h.Tb(0,"div"),h.Tb(1,"div",1),h.Tb(2,"label",10),h.Kc(3,"Preview data"),h.Sb(),h.Ob(4,"br"),h.Tb(5,"div"),h.Tb(6,"table",2),h.Tb(7,"thead",3),h.Tb(8,"tr"),h.Tb(9,"td",4),h.Kc(10,"Sampling Method"),h.Sb(),h.Sb(),h.Sb(),h.Tb(11,"tbody"),h.Tb(12,"tr"),h.Tb(13,"td"),h.Kc(14),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Tb(15,"table",8),h.Tb(16,"thead",3),h.Tb(17,"tr",4),h.Tb(18,"th"),h.Kc(19,"Class Name"),h.Sb(),h.Tb(20,"th"),h.Kc(21,"Sampling Percentage"),h.Sb(),h.Sb(),h.Sb(),h.Tb(22,"tbody"),h.Ic(23,Ga,5,2,"tr",6),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(2);h.Bb(14),h.Lc(i.taskData.sampling["Sampling method"]),h.Bb(9),h.kc("ngForOf",i.taskData.sampling["Sampling percentage"])}}function Ha(e,t){if(1&e&&(h.Tb(0,"div"),h.Ic(1,Ct,16,2,"div",0),h.Ic(2,Kt,15,1,"div",0),h.Ic(3,Vt,8,5,"div",0),h.Ic(4,Zt,4,3,"div",0),h.Ic(5,si,5,4,"div",0),h.Ic(6,vi,8,4,"div",0),h.Ic(7,yi,2,1,"div",0),h.Ic(8,xi,5,4,"div",0),h.Ic(9,$i,5,4,"div",0),h.Ic(10,Ji,5,4,"div",0),h.Ic(11,ga,5,4,"div",0),h.Ic(12,_a,14,7,"div",0),h.Ic(13,Na,14,7,"div",0),h.Ic(14,Ua,14,7,"div",0),h.Ic(15,Va,24,2,"div",0),h.Sb()),2&e){var i=h.ec();h.Bb(1),h.kc("ngIf","eda_imputation"==i.selectedTask),h.Bb(1),h.kc("ngIf","eda_outlier"==i.selectedTask),h.Bb(1),h.kc("ngIf","auto_feature_generate"==i.selectedTask),h.Bb(1),h.kc("ngIf","date_component_generate"==i.selectedTask),h.Bb(1),h.kc("ngIf","feature_normalization"==i.selectedTask),h.Bb(1),h.kc("ngIf","categorical_encoding"==i.selectedTask),h.Bb(1),h.kc("ngIf","string_replacement"==i.selectedTask),h.Bb(1),h.kc("ngIf","resampling"==i.selectedTask),h.Bb(1),h.kc("ngIf","stationary_transformation"==i.selectedTask),h.Bb(1),h.kc("ngIf","text_cleaning"==i.selectedTask),h.Bb(1),h.kc("ngIf","text_extraction"==i.selectedTask),h.Bb(1),h.kc("ngIf","feature_scaling"==i.selectedTask),h.Bb(1),h.kc("ngIf","feature_selection"==i.selectedTask),h.Bb(1),h.kc("ngIf","feature_decomposition"==i.selectedTask),h.Bb(1),h.kc("ngIf","sampling"==i.selectedTask)}}var za,Wa=((za=function(){function e(t){n(this,e),this._localStorage=t,this.taskData=[],this.columnList=[],this.method=[],this.shape=[]}return r(e,[{key:"ngOnChanges",value:function(){this.project=this._localStorage.getItem("project"),this.taskData[this.selectedTask]=this.pipelineDetails.data,this.columnList[this.selectedTask]=this.pipelineDetails.columnList,this.method[this.selectedTask]=this.pipelineDetails.method,this.shape[this.selectedTask]=this.pipelineDetails.shape}},{key:"isArrayData",value:function(e){return Array.isArray(e)}}]),e}()).\u0275fac=function(e){return new(e||za)(h.Nb(v.a))},za.\u0275cmp=h.Hb({type:za,selectors:[["app-pipeline-expansion"]],inputs:{pipelineDetails:"pipelineDetails",selectedTask:"selectedTask"},features:[h.zb],decls:1,vars:1,consts:[[4,"ngIf"],[1,""],[1,"table","table-bordered","table-responsive"],[1,"bg-primary"],[1,"bold"],["class","bold",4,"ngIf"],[4,"ngFor","ngForOf"],["class","table table-bordered",4,"ngIf"],[1,"table","table-bordered"],["class","mt-3",4,"ngIf"],["for","",1,"control-label"],[1,"table","table-responsive","table-bordered"],["class","bold",4,"ngFor","ngForOf"],["for",""],[1,"mt-3"],["class","  ",4,"ngIf"]],template:function(e,t){1&e&&h.Ic(0,Ha,16,15,"div",0),2&e&&h.kc("ngIf",t.selectedTask)},directives:[B.t,B.s],pipes:[B.l],styles:[".pss-overflow[_ngcontent-%COMP%]{overflow:auto}"]}),za);function Qa(e,t){if(1&e&&(h.Tb(0,"mat-radio-button",22),h.Kc(1),h.fc(2,"titlecase"),h.Sb()),2&e){var i=t.$implicit;h.lc("value",i),h.kc("checked",i[0]),h.Bb(1),h.Mc(" ",h.gc(2,3,i)," ")}}function Ya(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div",19),h.Tb(1,"mat-radio-group",20),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec(4).afOperation=e})),h.Kc(2,"\xa0 "),h.Ic(3,Qa,3,5,"mat-radio-button",21),h.Sb(),h.Sb()}if(2&e){var a=h.ec(2).$implicit,n=h.ec(2);h.Bb(1),h.kc("ngModel",n.afOperation),h.Bb(2),h.kc("ngForOf",a.afOperations)}}function Xa(e,t){if(1&e&&h.Ob(0,"app-pipeline-expansion",26),2&e){var i=h.ec(5);h.kc("selectedTask",i.selectedTask)("pipelineDetails",i.pipelineDetails)}}function Ja(e,t){if(1&e){var i=h.Ub();h.Tb(0,"mat-accordion",23),h.Tb(1,"mat-expansion-panel",24),h.ac("opened",(function(){h.wc(i);var e=h.ec(2),t=e.$implicit,a=e.index,n=h.ec().index;return h.ec().getPipelineTaskDetails(n,t.task,a)})),h.Tb(2,"mat-expansion-panel-header"),h.Tb(3,"mat-panel-title"),h.Kc(4," View Details "),h.Sb(),h.Sb(),h.Ic(5,Xa,1,2,"app-pipeline-expansion",25),h.Sb(),h.Sb()}if(2&e){var a=h.ec(2).index,n=h.ec().index,o=h.ec();h.kc("multi",!1),h.Bb(1),h.kc("expanded",o.step===n+""+a),h.Bb(4),h.kc("ngIf",o.pipelineDetails)}}function Za(e,t){if(1&e&&(h.Tb(0,"div"),h.Ic(1,Ya,4,2,"div",17),h.Ic(2,Ja,6,3,"mat-accordion",18),h.Sb()),2&e){var i=h.ec().$implicit;h.Bb(1),h.kc("ngIf","auto_feature_generate"==i.task),h.Bb(1),h.kc("ngIf","True"==i.preview)}}function en(e,t){if(1&e&&(h.Tb(0,"li",8),h.Tb(1,"div",9),h.Ob(2,"em",10),h.Sb(),h.Tb(3,"div",11),h.Tb(4,"div",12),h.Tb(5,"h4",13),h.Kc(6),h.Sb(),h.Ob(7,"div",14),h.Tb(8,"div",15),h.Tb(9,"p"),h.Kc(10),h.Sb(),h.Ic(11,Za,3,2,"div",16),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=t.$implicit;h.Bb(6),h.Lc(i.taskName),h.Bb(4),h.Lc(i.description),h.Bb(1),h.kc("ngIf",i.hasOwnProperty("task"))}}function tn(e,t){if(1&e&&(h.Tb(0,"ul",4),h.Tb(1,"li",5),h.Tb(2,"span",6),h.Kc(3),h.Sb(),h.Sb(),h.Ic(4,en,12,3,"li",7),h.Sb()),2&e){var i=t.$implicit,a=h.ec();h.kc("hidden",!i.data.length)("ngClass",a.timelineAlt?"timeline-alt mt-3":"timeline"),h.Bb(3),h.Lc(i.parent),h.Bb(1),h.kc("ngForOf",i.data)}}var an,nn=((an=function(){function e(t,i,a,o,r){n(this,e),this._localStorage=t,this.dialogData=i,this._toaster=a,this._spinner=o,this._models=r,this.unsubscribe$=new f.b,this.pipelineTask=[],this.timelineAlt=!0,this.showPipelineDetails={},this.taskData={},this.columnList={},this.method={},this.shape={}}return r(e,[{key:"ngOnInit",value:function(){var e=this;this.project=this._localStorage.getItem("project"),this.pipelineTask=this.dialogData.pipelineTask,this.pipelineTask.forEach((function(t){var i="Training"==t.parent?t.data:"none";"none"!==i&&i.forEach((function(t){"Auto Feature Generation"==t.taskName&&(e.afOperation=t.afOperations[0])}))}))}},{key:"getPipelineTaskDetails",value:function(e,t,i){var a,n=this;this.step="".concat(e).concat(i),this.selectedTask=t,a={transformer:t,trainingId:this.dialogData.trainings[0]._id,projectType:this.project.type,indepVariable:this.dialogData.trainings[0].indepVariable,filename:this.dialogData.trainings[0].metaInfo.fileName,indexPath:this.dialogData.trainings[0].edaId.indexPath},this.dialogData.originalFileWithEdaDetails.taExperimentId&&(a.taExperimentId=this.dialogData.originalFileWithEdaDetails.taExperimentId),"sampling"==t&&(a.samplingType=this.dialogData.trainings[0].sampling,a.samplingPercentage=this.dialogData.trainings[0].samplingPercentage),"auto_feature_generate"==t&&(a.operation=this.afOperation),"predictive_modeling"==this.project.type?a.predictiveModelingInfo=this.dialogData.trainings[0].predictiveModelingInfo:"clustering"==this.project.type&&(a.clusteringInfo=this.dialogData.trainings[0].clusteringInfo),this._models.getPipelineDetails(this.dialogData.trainings[0]._id,a).pipe(Object(g.a)(this.unsubscribe$)).subscribe((function(e){e&&(n.pipelineDetails=e),n._spinner.stopSpinner()}),(function(e){n._toaster.error(""+(e.error.message||"Server Error"),"Models"),n._spinner.stopSpinner()}))}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(!1),this.unsubscribe$.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||an)(h.Nb(v.a),h.Nb(p.a),h.Nb(T.c),h.Nb(y.a),h.Nb(nt.a))},an.\u0275cmp=h.Hb({type:an,selectors:[["app-pipeline"]],decls:7,vars:1,consts:[["mat-dialog-title",""],[3,"hidden","ngClass",4,"ngFor","ngForOf"],[1,"justify-content-end","mt-3","mb-auto"],["mat-stroked-button","","mat-dialog-close",""],[3,"hidden","ngClass"],["data-datetime","Task",1,"timeline-separator"],[1,"pipe"],["class","mb-4",4,"ngFor","ngForOf"],[1,"mb-4"],[1,"timeline-badge","primary"],[1,"fa","fa-cog"],[1,"timeline-card"],[1,"popover","left"],[1,"popover-header","py-3"],[1,"arrow"],[1,"popover-body","p-4"],[4,"ngIf"],["class","mt-3",4,"ngIf"],[3,"multi",4,"ngIf"],[1,"mt-3"],["name","autofeature",3,"ngModel","ngModelChange"],["class","mr-3",3,"checked","value",4,"ngFor","ngForOf"],[1,"mr-3",3,"checked","value"],[3,"multi"],[1,"mt-3","border","border-primary","shadow-none",3,"expanded","opened"],[3,"selectedTask","pipelineDetails",4,"ngIf"],[3,"selectedTask","pipelineDetails"]],template:function(e,t){1&e&&(h.Tb(0,"h2",0),h.Kc(1,"PipeLine Steps"),h.Sb(),h.Tb(2,"mat-dialog-content"),h.Ic(3,tn,5,4,"ul",1),h.Sb(),h.Tb(4,"mat-dialog-actions",2),h.Tb(5,"button",3),h.Kc(6,"Cancel"),h.Sb(),h.Sb()),2&e&&(h.Bb(3),h.kc("ngForOf",t.pipelineTask))},directives:[p.j,p.g,B.s,p.d,D.b,p.e,B.q,B.t,O.c,m.u,m.x,O.b,_t.a,_t.c,_t.g,_t.h,Wa],pipes:[B.F],styles:[".pipe[_ngcontent-%COMP%]{display:inline-block;width:120px;text-align:center;padding:0 20px;line-height:30px;background-color:#b6c5da;color:#fff}"]}),an),on=l("lxsL"),rn=l("tyNb"),ln=l("2QPx"),sn=l("Wp6s"),cn=l("STbY"),dn=l("wNA8"),un=l("wZkO"),bn=l("LYaK"),pn=l("5RNC"),mn=l("Xa2L");function gn(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",13),h.ac("click",(function(){h.wc(i);var e=h.ec(3);return e.openGraphDialog("rocauc",e.training,e.model,e.activeTabName)})),h.Tb(1,"mat-icon"),h.Kc(2,"show_chart"),h.Sb(),h.Sb()}if(2&e){var a=h.ec(3);h.kc("disabled",!("saas"!==a.appType||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("super_admin")||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("admin")||"basic"!==(null==a.user?null:a.user.planType)||a.allowedModelOptions.includes("rocAucScore")))("ngClass","enterprise"===a.appType||"saas"===a.appType&&(null!=a.user&&null!=a.user.roles&&a.user.roles.includes("super_admin")||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("admin"))||a.allowedModelOptions.includes("rocAucScore")?"":"disable-Btn")}}function fn(e,t){1&e&&(h.Tb(0,"h5"),h.Kc(1,"NA"),h.Sb())}function hn(e,t){if(1&e&&(h.Tb(0,"div",5),h.Tb(1,"h6",10),h.Kc(2),h.fc(3,"number"),h.Sb(),h.Ic(4,gn,3,2,"button",11),h.Ic(5,fn,2,0,"h5",12),h.Sb()),2&e){var i=h.ec(2);h.Bb(1),h.Fc("color","#08509d"),h.kc("matTooltip",i._utils.getTootip("rocAucScore"))("matBadgeIcon",i.allowedModelOptions.includes("rocAucScore")?"":"PRO")("ngClass","enterprise"===i.appType||"saas"===i.appType&&(null!=i.user&&null!=i.user.roles&&i.user.roles.includes("super_admin")||null!=i.user&&null!=i.user.roles&&i.user.roles.includes("admin"))||i.allowedModelOptions.includes("rocAucScore")?"":"text-muted disable-Btn"),h.Bb(1),h.Mc(" ROC-AUC Score (",null!=i.modelData&&i.modelData.rocScore?h.hc(3,8,i.modelData.rocScore,"1.3-3"):"-",") "),h.Bb(2),h.kc("ngIf",null==i.modelData?null:i.modelData.rocScore),h.Bb(1),h.kc("ngIf",!(null!=i.modelData&&i.modelData.rocScore))}}function vn(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div",5),h.Tb(1,"h6",10),h.Kc(2," Lift & Gain"),h.Sb(),h.Tb(3,"button",13),h.ac("click",(function(){h.wc(i);var e=h.ec(2);return e.openGraphDialog("liftGain",e.training,e.model,e.activeTabName)})),h.Tb(4,"mat-icon"),h.Kc(5,"show_chart"),h.Sb(),h.Sb(),h.Sb()}if(2&e){var a=h.ec(2);h.Bb(1),h.Fc("color","#08509d"),h.kc("matTooltip",a._utils.getTootip("liftAndGain"))("matBadgeIcon",a.allowedModelOptions.includes("liftAndGain")?"":"PRO")("ngClass","enterprise"===a.appType||"saas"===a.appType&&(null!=a.user&&null!=a.user.roles&&a.user.roles.includes("super_admin")||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("admin"))||a.allowedModelOptions.includes("liftAndGain")?"":"text-muted disable-Btn"),h.Bb(2),h.kc("disabled",!("saas"!==a.appType||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("super_admin")||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("admin")||"basic"!==(null==a.user?null:a.user.planType)||a.allowedModelOptions.includes("liftAndGain")))("ngClass","enterprise"===a.appType||"saas"===a.appType&&(null!=a.user&&null!=a.user.roles&&a.user.roles.includes("super_admin")||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("admin"))||a.allowedModelOptions.includes("liftAndGain")?"":"disable-Btn")}}function Tn(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div",14),h.Tb(1,"h6",6),h.Kc(2," Feature Impact "),h.Sb(),h.Tb(3,"button",7),h.ac("click",(function(){h.wc(i);var e=h.ec(2);return e.openGraphDialog("featureImpact",e.training,e.model,e.activeTabName)})),h.Tb(4,"mat-icon"),h.Kc(5,"show_chart"),h.Sb(),h.Sb(),h.Sb()}if(2&e){var a=h.ec(2);h.kc("hidden","Hold Out"===a.activeTabName),h.Bb(1),h.Fc("color","#08509d"),h.kc("matTooltip",a._utils.getTootip("featureImpact"))}}function Sn(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div",5),h.Tb(1,"h6",10),h.Kc(2," PR Curve"),h.Sb(),h.Tb(3,"button",13),h.ac("click",(function(){h.wc(i);var e=h.ec(2);return e.openGraphDialog("prCurve",e.training,e.model,e.activeTabName)})),h.Tb(4,"mat-icon"),h.Kc(5,"show_chart"),h.Sb(),h.Sb(),h.Sb()}if(2&e){var a=h.ec(2);h.Bb(1),h.Fc("color","#08509d"),h.kc("matTooltip",a._utils.getTootip("precisionRecall"))("matBadgeIcon",a.allowedModelOptions.includes("prCurve")?"":"PRO")("ngClass","enterprise"===a.appType||"saas"===a.appType&&(null!=a.user&&null!=a.user.roles&&a.user.roles.includes("super_admin")||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("admin"))||a.allowedModelOptions.includes("prCurve")?"":"text-muted disable-Btn"),h.Bb(2),h.kc("disabled",!("saas"!==a.appType||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("super_admin")||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("admin")||"basic"!==(null==a.user?null:a.user.planType)||a.allowedModelOptions.includes("prCurve")))("ngClass","enterprise"===a.appType||"saas"===a.appType&&(null!=a.user&&null!=a.user.roles&&a.user.roles.includes("super_admin")||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("admin"))||a.allowedModelOptions.includes("prCurve")?"":"disable-Btn")}}function kn(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div",5),h.Tb(1,"h6",10),h.Kc(2," Lime Report"),h.Sb(),h.Tb(3,"button",15),h.ac("click",(function(){h.wc(i);var e=h.ec(2);return e.openGraphDialog("limeReport",e.training,e.model,e.activeTabName,"models_page")})),h.Tb(4,"mat-icon"),h.Kc(5,"table_chart"),h.Sb(),h.Sb(),h.Sb()}if(2&e){var a=h.ec(2);h.Bb(1),h.Fc("color","#08509d"),h.kc("matTooltip",a._utils.getTootip("limeReport"))("matBadgeIcon",a.allowedModelOptions.includes("limeReport")?"":"PRO")("ngClass","enterprise"===a.appType||"saas"===a.appType&&(null!=a.user&&null!=a.user.roles&&a.user.roles.includes("super_admin")||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("admin"))||a.allowedModelOptions.includes("limeReport")?"":"text-muted disable-Btn"),h.Bb(2),h.kc("disabled",!("saas"!==a.appType||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("super_admin")||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("admin")||"basic"!==(null==a.user?null:a.user.planType)||a.allowedModelOptions.includes("limeReport")))("ngClass","enterprise"===a.appType||"saas"===a.appType&&(null!=a.user&&null!=a.user.roles&&a.user.roles.includes("super_admin")||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("admin"))||a.allowedModelOptions.includes("limeReport")?"":"disable-Btn")}}function yn(e,t){if(1&e&&(h.Tb(0,"h5"),h.Kc(1),h.fc(2,"number"),h.Sb()),2&e){var i=h.ec(3);h.Bb(1),h.Mc(" ",h.hc(2,1,null==i.modelData?null:i.modelData.matCoeff,"1.3-3")," ")}}function In(e,t){1&e&&(h.Tb(0,"h5"),h.Kc(1,"NA"),h.Sb())}function _n(e,t){if(1&e&&(h.Tb(0,"div",16),h.Tb(1,"h6",6),h.Kc(2," Mathew's Coeff. "),h.Sb(),h.Ic(3,yn,3,4,"h5",12),h.Ic(4,In,2,0,"h5",12),h.Sb()),2&e){var i=h.ec(2);h.Bb(1),h.Fc("color","#08509d"),h.kc("matTooltip",i._utils.getTootip("mathewCoeff")),h.Bb(2),h.kc("ngIf",null==i.modelData?null:i.modelData.matCoeff),h.Bb(1),h.kc("ngIf",!(null!=i.modelData&&i.modelData.matCoeff))}}function Mn(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div",2),h.Ic(1,hn,6,11,"div",3),h.Ic(2,vn,6,7,"div",3),h.Ic(3,Tn,6,4,"div",4),h.Ic(4,Sn,6,7,"div",3),h.Tb(5,"div",5),h.Tb(6,"h6",6),h.Kc(7," Confusion Matrix "),h.Sb(),h.Tb(8,"button",7),h.ac("click",(function(){h.wc(i);var e=h.ec();return e.openGraphDialog("confusionMatrix",e.training,e.model,e.activeTabName)})),h.Tb(9,"mat-icon"),h.Kc(10,"show_chart"),h.Sb(),h.Sb(),h.Sb(),h.Tb(11,"div",5),h.Tb(12,"h6",6),h.Kc(13," Analysis Report "),h.Sb(),h.Tb(14,"button",8),h.ac("click",(function(){h.wc(i);var e=h.ec();return e.openGraphDialog("analysis",e.training,e.model,e.activeTabName)})),h.Tb(15,"mat-icon"),h.Kc(16,"table_chart"),h.Sb(),h.Sb(),h.Sb(),h.Tb(17,"div",5),h.Tb(18,"h6",6),h.Kc(19," Classification Report "),h.Sb(),h.Tb(20,"button",8),h.ac("click",(function(){h.wc(i);var e=h.ec();return e.openGraphDialog("classificationReport",e.training,e.model,e.activeTabName)})),h.Tb(21,"mat-icon"),h.Kc(22,"table_chart"),h.Sb(),h.Sb(),h.Sb(),h.Ic(23,kn,6,7,"div",3),h.Ic(24,_n,5,5,"div",9),h.Sb()}if(2&e){var a=h.ec();h.Bb(1),h.kc("ngIf",!a.project.useGPU&&1==(null==a.model.graphSupported?null:a.model.graphSupported.rocAucScore)),h.Bb(1),h.kc("ngIf",!a.project.useGPU&&1==(null==a.model.graphSupported?null:a.model.graphSupported.liftGain)),h.Bb(1),h.kc("ngIf","Scoring Result"!==a.activeTabName),h.Bb(1),h.kc("ngIf",!a.project.useGPU&&1==(null==a.model.graphSupported?null:a.model.graphSupported.prCurve)),h.Bb(2),h.Fc("color","#08509d"),h.kc("matTooltip",a._utils.getTootip("confusionMatrix")),h.Bb(6),h.Fc("color","#08509d"),h.kc("matTooltip",a._utils.getTootip("analysisReport")),h.Bb(6),h.Fc("color","#08509d"),h.kc("matTooltip",a._utils.getTootip("classificationReport")),h.Bb(5),h.kc("ngIf",1==(null==a.model.graphSupported?null:a.model.graphSupported.limeReport)),h.Bb(1),h.kc("ngIf",1==(null==a.model||null==a.model.graphSupported?null:a.model.graphSupported.mathewsCoeff))}}function Bn(e,t){if(1&e&&(h.Tb(0,"div",5),h.Tb(1,"h6",6),h.Kc(2,"R Squared"),h.Sb(),h.Tb(3,"h5"),h.Kc(4),h.fc(5,"number"),h.Sb(),h.Sb()),2&e){var i=h.ec(2);h.Bb(1),h.Fc("color","#08509d"),h.kc("matTooltip",i._utils.getTootip("rSquared")),h.Bb(3),h.Mc(" ",h.hc(5,4,null==i.modelData?null:i.modelData.rSquared,"1.3-3")," ")}}function Dn(e,t){if(1&e&&(h.Tb(0,"div",5),h.Tb(1,"h6",6),h.Kc(2," Adjusted R Squared "),h.Sb(),h.Tb(3,"h5"),h.Kc(4),h.fc(5,"number"),h.Sb(),h.Sb()),2&e){var i=h.ec(2);h.Bb(1),h.Fc("color","#08509d"),h.kc("matTooltip",i._utils.getTootip("adjustedRsquared")),h.Bb(3),h.Mc(" ",h.hc(5,4,null==i.modelData?null:i.modelData.adjustedRsq,"1.3-3")," ")}}function Fn(e,t){if(1&e&&(h.Tb(0,"div",5),h.Tb(1,"h6",6),h.Kc(2," Explained Variance Score "),h.Sb(),h.Tb(3,"h5"),h.Kc(4),h.fc(5,"number"),h.Sb(),h.Sb()),2&e){var i=h.ec(2);h.Bb(1),h.Fc("color","#08509d"),h.kc("matTooltip",i._utils.getTootip("explainedVarianceScore")),h.Bb(3),h.Mc(" ",h.hc(5,4,null==i.modelData?null:i.modelData.varianceIFactor,"1.3-3")," ")}}function wn(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div",14),h.Tb(1,"h6",6),h.Kc(2," Feature Impact "),h.Sb(),h.Tb(3,"button",7),h.ac("click",(function(){h.wc(i);var e=h.ec(2);return e.openGraphDialog("featureImpact",e.training,e.model,e.activeTabName)})),h.Tb(4,"mat-icon"),h.Kc(5,"show_chart"),h.Sb(),h.Sb(),h.Sb()}if(2&e){var a=h.ec(2);h.kc("hidden","Hold Out"===a.activeTabName),h.Bb(1),h.Fc("color","#08509d"),h.kc("matTooltip",a._utils.getTootip("featureImpact"))}}function On(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div",16),h.Tb(1,"h6",10),h.Kc(2," Lime Report"),h.Sb(),h.Tb(3,"button",15),h.ac("click",(function(){h.wc(i);var e=h.ec(2);return e.openGraphDialog("limeReport",e.training,e.model,e.activeTabName)})),h.Tb(4,"mat-icon"),h.Kc(5,"table_chart"),h.Sb(),h.Sb(),h.Sb()}if(2&e){var a=h.ec(2);h.Bb(1),h.Fc("color","#08509d"),h.kc("matTooltip",a._utils.getTootip("limeReport"))("matBadgeIcon",a.allowedModelOptions.includes("limeReport")?"":"PRO")("ngClass","enterprise"===a.appType||"saas"===a.appType&&(null!=a.user&&null!=a.user.roles&&a.user.roles.includes("super_admin")||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("admin"))||a.allowedModelOptions.includes("limeReport")?"":"text-muted disable-Btn"),h.Bb(2),h.kc("disabled",!("saas"!==a.appType||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("super_admin")||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("admin")||"basic"!==(null==a.user?null:a.user.planType)||a.allowedModelOptions.includes("limeReport")))("ngClass","enterprise"===a.appType||"saas"===a.appType&&(null!=a.user&&null!=a.user.roles&&a.user.roles.includes("super_admin")||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("admin"))||a.allowedModelOptions.includes("limeReport")?"":"disable-Btn")}}function Cn(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div",17),h.Ic(1,Bn,6,7,"div",3),h.Ic(2,Dn,6,7,"div",3),h.Tb(3,"div",5),h.Tb(4,"h6",6),h.Kc(5," Target Variable "),h.Sb(),h.Tb(6,"h5"),h.Kc(7),h.Sb(),h.Sb(),h.Ic(8,Fn,6,7,"div",3),h.Tb(9,"div",5),h.Tb(10,"h6",6),h.Kc(11," Regression Line "),h.Sb(),h.Tb(12,"button",7),h.ac("click",(function(){h.wc(i);var e=h.ec();return e.openGraphDialog("regressionLine",e.training,e.model,e.activeTabName)})),h.Tb(13,"mat-icon"),h.Kc(14,"show_chart"),h.Sb(),h.Sb(),h.Sb(),h.Ic(15,wn,6,4,"div",4),h.Tb(16,"div",5),h.Tb(17,"h6",6),h.Kc(18," Analysis Report "),h.Sb(),h.Tb(19,"button",8),h.ac("click",(function(){h.wc(i);var e=h.ec();return e.openGraphDialog("analysis",e.training,e.model,e.activeTabName)})),h.Tb(20,"mat-icon"),h.Kc(21,"table_chart"),h.Sb(),h.Sb(),h.Sb(),h.Ic(22,On,6,7,"div",9),h.Sb()}if(2&e){var a=h.ec();h.Bb(1),h.kc("ngIf",null==a.modelData?null:a.modelData.rSquared),h.Bb(1),h.kc("ngIf",null==a.modelData?null:a.modelData.adjustedRsq),h.Bb(2),h.Fc("color","#08509d"),h.kc("matTooltip",a._utils.getTootip("targetFeature")),h.Bb(3),h.Mc(" ",a.training.depVariable?a.training.depVariable:"NA"," "),h.Bb(1),h.kc("ngIf",null==a.modelData?null:a.modelData.varianceIFactor),h.Bb(2),h.Fc("color","#08509d"),h.kc("matTooltip",a._utils.getTootip("regressionLine")),h.Bb(5),h.kc("ngIf","Scoring Result"!==a.activeTabName),h.Bb(2),h.Fc("color","#08509d"),h.kc("matTooltip",a._utils.getTootip("analysisReport")),h.Bb(5),h.kc("ngIf",1==(null==a.model.graphSupported?null:a.model.graphSupported.limeReport))}}var xn,Kn=((xn=function(){function e(t,i,a){n(this,e),this._utils=t,this._localStorage=i,this._dialog=a,this.appType=c.a.appType,this.allowedModelOptions=null}return r(e,[{key:"ngOnInit",value:function(){var e,t;this.user=this._localStorage.getItem("user"),this.allowedModelOptions=(null===(t=null===(e=this.user)||void 0===e?void 0:e.psFeatures)||void 0===t?void 0:t.allowedFeaturesList)||[]}},{key:"ngOnChanges",value:function(){this.project=this._localStorage.getItem("project"),this.model.modelMetaData.dev&&"Development"===this.activeTabName?this.modelData=this.model.modelMetaData.dev:this.model.modelMetaData.holdout&&"Hold Out"===this.activeTabName?this.modelData=this.model.modelMetaData.holdout:"Scoring Result"===this.activeTabName&&(this.modelData=this.model.modelMetaData.scoringMetrics)}},{key:"openGraphDialog",value:function(e,t,i,a,n){this._dialog.open(d.a,{minWidth:"featureImpact"===e||"analysis"===e?"80vw":"60vw",maxWidth:"limeReport"===e?"60vw":"0",data:{type:e,trainingInfo:t,modelInfo:i,tab:a,trainings:this.trainings,originalFileWithEdaDetails:this.originalFileWithEdaDetails,predMode:n}}).afterClosed().subscribe((function(e){}))}}]),e}()).\u0275fac=function(e){return new(e||xn)(h.Nb(M.a),h.Nb(v.a),h.Nb(p.c))},xn.\u0275cmp=h.Hb({type:xn,selectors:[["app-expansion-graphs"]],inputs:{training:"training",model:"model",activeTabName:"activeTabName",originalFileWithEdaDetails:"originalFileWithEdaDetails",trainings:"trainings"},features:[h.zb],decls:2,vars:2,consts:[["class","row graphs-list mt-4 mb-3 text-center",4,"ngIf"],["class","row graphs-list my-4 text-center",4,"ngIf"],[1,"row","graphs-list","mt-4","mb-3","text-center"],["class","col border-right",4,"ngIf"],["class","col border-right",3,"hidden",4,"ngIf"],[1,"col","border-right"],[3,"matTooltip"],["matTooltip","View graph","mat-icon-button","",3,"click"],["matTooltip","View report","mat-icon-button","",3,"click"],["class","col",4,"ngIf"],["matBadge","","matBadgeOverlap","false",3,"matTooltip","matBadgeIcon","ngClass"],["matTooltip","View graph","mat-icon-button","",3,"disabled","ngClass","click",4,"ngIf"],[4,"ngIf"],["matTooltip","View graph","mat-icon-button","",3,"disabled","ngClass","click"],[1,"col","border-right",3,"hidden"],["matTooltip","View report","mat-icon-button","",3,"disabled","ngClass","click"],[1,"col"],[1,"row","graphs-list","my-4","text-center"]],template:function(e,t){1&e&&(h.Ic(0,Mn,25,15,"div",0),h.Ic(1,Cn,23,15,"div",1)),2&e&&(h.kc("ngIf","classification"===(null==t.training?null:t.training.algoType)),h.Bb(1),h.kc("ngIf","regression"===(null==t.training?null:t.training.algoType)))},directives:[B.t,L.b,D.b,lt.a,P.a,A.a,B.q],pipes:[B.g],styles:[".graphs-list[_ngcontent-%COMP%]{display:flex;align-items:flex-end}.graphs-list[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{align-self:stretch;display:flex;flex-direction:column;justify-content:space-between;align-items:center}"]}),xn);function Nn(e,t){if(1&e&&(h.Tb(0,"mat-label",13),h.Kc(1,"Hold Out"),h.Sb()),2&e){var i=h.ec(2);h.kc("matTooltip",i._utils.getTootip("holdout"))}}function Pn(e,t){if(1&e&&(h.Tb(0,"h6",13),h.Kc(1," Model Score "),h.Sb()),2&e){var i=h.ec(3);h.kc("matTooltip",i._utils.getTootip("modelScore"))}}function An(e,t){if(1&e&&(h.Tb(0,"h6",13),h.Kc(1," Accuracy "),h.Sb()),2&e){var i=h.ec(3);h.kc("matTooltip",i._utils.getTootip("accuracy"))}}function Ln(e,t){if(1&e&&(h.Tb(0,"slide",21),h.Tb(1,"div",22),h.Tb(2,"mat-chip-list",23),h.Tb(3,"mat-chip",24),h.Kc(4),h.fc(5,"number"),h.Sb(),h.Sb(),h.Tb(6,"h6",25),h.Kc(7),h.Sb(),h.Sb(),h.Sb()),2&e){var i=t.$implicit,a=h.ec(3);h.kc("active",i.active),h.Bb(1),h.kc("matTooltip",a._utils.getTootip(null==i?null:i.name)),h.Bb(2),h.Fc("font-size",18,"px"),h.Bb(1),h.Lc(h.hc(5,6,i.value,"1.3-3")),h.Bb(3),h.Lc(i.name)}}function Rn(e,t){if(1&e&&(h.Tb(0,"div",14),h.Tb(1,"div",15),h.Ic(2,Pn,2,1,"h6",16),h.Ic(3,An,2,1,"h6",16),h.Tb(4,"div",17),h.fc(5,"number"),h.Tb(6,"span"),h.Kc(7),h.fc(8,"number"),h.Sb(),h.Sb(),h.Sb(),h.Tb(9,"div",18),h.Tb(10,"h6"),h.Kc(11,"Losses"),h.Sb(),h.Tb(12,"carousel",19),h.Ic(13,Ln,8,9,"slide",20),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(2);h.Bb(2),h.kc("ngIf","regression"===i.training.algoType),h.Bb(1),h.kc("ngIf","classification"===i.training.algoType),h.Bb(1),h.lc("percent",h.hc(5,7,100*i.model.modelMetaData.holdout.testScore,"1.2-2")),h.kc("options",i.pieOptions1),h.Bb(3),h.Mc("",h.hc(8,10,100*i.model.modelMetaData.holdout.testScore,"1.2-2"),"%"),h.Bb(5),h.kc("noWrap",!1),h.Bb(1),h.kc("ngForOf",i.model.modelMetaData.holdout.losses)}}function En(e,t){if(1&e&&(h.Tb(0,"mat-tab",11),h.Ic(1,Nn,2,1,"ng-template",6),h.Ic(2,Rn,14,13,"div",12),h.Sb()),2&e){var i=h.ec();h.kc("matTooltip",i._utils.getTootip("holdout")),h.Bb(2),h.kc("ngIf",i.model.modelMetaData.holdout)}}function qn(e,t){if(1&e&&(h.Tb(0,"span",13),h.Kc(1,"Development"),h.Sb()),2&e){var i=h.ec(2);h.kc("matTooltip",i._utils.getTootip("development"))}}function jn(e,t){if(1&e&&(h.Tb(0,"h6",13),h.Kc(1," Model Score "),h.Sb()),2&e){var i=h.ec(2);h.kc("matTooltip",i._utils.getTootip("modelScore"))}}function $n(e,t){if(1&e&&(h.Tb(0,"h6",13),h.Kc(1," Accuracy "),h.Sb()),2&e){var i=h.ec(2);h.kc("matTooltip",i._utils.getTootip("accuracy"))}}function Un(e,t){if(1&e&&(h.Tb(0,"slide",21),h.Tb(1,"div",22),h.Tb(2,"mat-chip-list",23),h.Tb(3,"mat-chip",24),h.Kc(4),h.fc(5,"number"),h.Sb(),h.Sb(),h.Tb(6,"h6",25),h.Kc(7),h.Sb(),h.Sb(),h.Sb()),2&e){var i=t.$implicit,a=h.ec(2);h.kc("active",i.active),h.Bb(1),h.kc("matTooltip",a._utils.getTootip(null==i?null:i.name)),h.Bb(2),h.Fc("font-size",18,"px"),h.Bb(1),h.Lc(h.hc(5,6,i.value,"1.3-3")),h.Bb(3),h.Lc(i.name)}}function Gn(e,t){if(1&e&&(h.Tb(0,"mat-tab",26),h.Ic(1,qn,2,1,"ng-template",6),h.Tb(2,"div",14),h.Tb(3,"div",15),h.Ic(4,jn,2,1,"h6",16),h.Ic(5,$n,2,1,"h6",16),h.Tb(6,"div",17),h.fc(7,"number"),h.Tb(8,"span"),h.Kc(9),h.fc(10,"number"),h.Sb(),h.Sb(),h.Sb(),h.Tb(11,"div",18),h.Tb(12,"h6"),h.Kc(13,"Losses"),h.Sb(),h.Tb(14,"carousel",19),h.Ic(15,Un,8,9,"slide",20),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec();h.kc("matTooltip",i._utils.getTootip("development")),h.Bb(4),h.kc("ngIf","regression"===i.training.algoType),h.Bb(1),h.kc("ngIf","classification"===i.training.algoType),h.Bb(1),h.lc("percent",h.hc(7,8,100*i.model.modelMetaData.dev.testScore,"1.2-2")),h.kc("options",i.pieOptions1),h.Bb(3),h.Mc("",h.hc(10,11,100*i.model.modelMetaData.dev.testScore,"1.2-2"),"%"),h.Bb(5),h.kc("noWrap",!1),h.Bb(1),h.kc("ngForOf",i.model.modelMetaData.dev.losses)}}function Vn(e,t){if(1&e&&(h.Tb(0,"mat-label",45),h.Kc(1," Cross Validation"),h.Sb()),2&e){var i=h.ec(2);h.kc("matBadgeIcon",i.badgeText)("matTooltip",i._utils.getTootip("crossValidation"))("ngClass","enterprise"===i.appType||"saas"===i.appType&&(null!=i.user&&null!=i.user.roles&&i.user.roles.includes("super_admin")||null!=i.user&&null!=i.user.roles&&i.user.roles.includes("admin"))||null!=i.allowedModelOptions&&i.allowedModelOptions.includes("crossValidation")?"":"disable-Btn")}}function Hn(e,t){1&e&&h.Ob(0,"mat-spinner",46)}function zn(e,t){if(1&e&&(h.Tb(0,"mat-button-toggle",47),h.Kc(1," stratifiedKFold"),h.Sb()),2&e){var i=h.ec(2);h.kc("matTooltip",i._utils.getTootip("stratifiedKFold"))}}function Wn(e,t){if(1&e&&(h.Tb(0,"mat-option",48),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.kc("value",i.value),h.Bb(1),h.Mc(" ",i.Name," ")}}function Qn(e,t){if(1&e&&(h.Tb(0,"div"),h.Kc(1),h.Sb()),2&e){var i=t.index;h.Db(t.last?"blocks last-block":"blocks"),h.Bb(1),h.Mc(" ",i+1," ")}}function Yn(e,t){if(1&e&&(h.Tb(0,"div"),h.Tb(1,"h6"),h.Kc(2),h.Sb(),h.Ob(3,"br"),h.Tb(4,"div",17),h.Tb(5,"span"),h.Kc(6),h.fc(7,"number"),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(2),h.Mc("Average ",i.metric,""),h.Bb(2),h.lc("percent",(null==i.model.modelMetaData.cvData?null:i.model.modelMetaData.cvData.cvScore)<0?0:100*i.model.modelMetaData.cvData.cvScore),h.kc("options",i.pieOptions1),h.Bb(2),h.Mc("",(null==i.model.modelMetaData.cvData?null:i.model.modelMetaData.cvData.cvScore)<0?0:h.hc(7,4,100*(null==i.model.modelMetaData.cvData?null:i.model.modelMetaData.cvData.cvScore),"1.2-2"),"%")}}function Xn(e,t){if(1&e&&(h.Tb(0,"div"),h.Tb(1,"h6"),h.Kc(2),h.Sb(),h.Ob(3,"br"),h.Tb(4,"div",53),h.Kc(5),h.fc(6,"number"),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(2),h.Mc("Average ",i.metricdata[0].Name,""),h.Bb(3),h.Mc(" ",h.hc(6,2,null==i.model.modelMetaData.cvData?null:i.model.modelMetaData.cvData.cvScore,"1.3-3")," ")}}function Jn(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div",49),h.Tb(1,"div",50),h.Ic(2,Yn,8,7,"div",9),h.Ic(3,Xn,7,5,"div",9),h.Sb(),h.Ob(4,"hr"),h.Tb(5,"div",51),h.Tb(6,"h6",13),h.Kc(7," Learning Curve "),h.Sb(),h.Tb(8,"button",52),h.ac("click",(function(){h.wc(i);var e=h.ec(2);return e.openGraphDialog("learningCurve",e.training,e.model)})),h.Tb(9,"mat-icon"),h.Kc(10,"show_chart"),h.Sb(),h.Sb(),h.Sb(),h.Sb()}if(2&e){var a=h.ec(2);h.Bb(2),h.kc("ngIf","done"===(null==a.model.modelMetaData.cvData?null:a.model.modelMetaData.cvData.status)&&"classification"===a.training.algoType),h.Bb(1),h.kc("ngIf","done"===(null==a.model.modelMetaData.cvData?null:a.model.modelMetaData.cvData.status)&&"regression"===a.training.algoType),h.Bb(3),h.Fc("color","#08509d"),h.kc("matTooltip",a._utils.getTootip("learningCurve"))}}function Zn(e,t){if(1&e){var i=h.Ub();h.Tb(0,"mat-tab",27),h.Ic(1,Vn,2,3,"ng-template",6),h.Tb(2,"div",28),h.Ic(3,Hn,1,0,"mat-spinner",29),h.Tb(4,"div",30),h.Tb(5,"div",31),h.Tb(6,"h5"),h.Kc(7,"Validation strategy"),h.Sb(),h.Tb(8,"mat-button-toggle-group",32),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec().validationStrategy.technique=e})),h.Tb(9,"mat-button-toggle",33),h.Kc(10,"kFold"),h.Sb(),h.Ic(11,zn,2,1,"mat-button-toggle",34),h.Sb(),h.Tb(12,"mat-form-field",35),h.Tb(13,"mat-label"),h.Kc(14,"Select Metrics"),h.Sb(),h.Tb(15,"mat-select",36),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec().metric=e})),h.Ic(16,Wn,2,2,"mat-option",37),h.Sb(),h.Sb(),h.Tb(17,"div",38),h.Tb(18,"label"),h.Kc(19),h.Sb(),h.Ob(20,"br"),h.Tb(21,"mat-slider",39),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec().validationStrategy.nSplit=e})),h.Sb(),h.Sb(),h.Tb(22,"div",40),h.Ic(23,Qn,2,3,"div",41),h.Sb(),h.Sb(),h.Tb(24,"div",42),h.Tb(25,"button",43),h.ac("click",(function(){h.wc(i);var e=h.ec();return e.runCV(e.training,e.model)})),h.Kc(26," Run CV "),h.Sb(),h.Sb(),h.Sb(),h.Ic(27,Jn,11,5,"div",44),h.Sb(),h.Sb()}if(2&e){var a=h.ec();h.kc("disabled",!("saas"!==a.appType||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("super_admin")||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("admin")||"basic"!==(null==a.user?null:a.user.planType)||null!=a.allowedModelOptions&&a.allowedModelOptions.includes("crossValidation"))),h.Bb(3),h.kc("ngIf",a.showSpinner),h.Bb(5),h.kc("ngModel",a.validationStrategy.technique),h.Bb(1),h.kc("matTooltip",a._utils.getTootip("kFold")),h.Bb(2),h.kc("ngIf","classification"==a.algoType&&0==a.isMultilabel),h.Bb(4),h.kc("ngModel",a.metric),h.Bb(1),h.kc("ngForOf",a.metrics),h.Bb(3),h.Mc("Select the number of n_split: ",a.validationStrategy.nSplit," split"),h.Bb(2),h.kc("ngModel",a.validationStrategy.nSplit),h.Bb(2),h.kc("ngForOf",a.getArray(a.validationStrategy.nSplit)),h.Bb(2),h.kc("disabled","running"===(null==a.model.modelMetaData.cvData?null:a.model.modelMetaData.cvData.status)),h.Bb(2),h.kc("ngIf","done"===(null==a.model.modelMetaData.cvData?null:a.model.modelMetaData.cvData.status))}}function eo(e,t){if(1&e&&(h.Tb(0,"mat-label",13),h.Kc(1,"Scoring Result"),h.Sb()),2&e){var i=h.ec();h.kc("matTooltip",i._utils.getTootip("scoringResult"))}}function to(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",54),h.ac("click",(function(){h.wc(i);var e=h.ec();return e.doScoring(e.training,e.model)})),h.Kc(1," Perform Scoring "),h.Sb()}}function io(e,t){if(1&e&&(h.Tb(0,"h6",13),h.Kc(1," Model Score "),h.Sb()),2&e){var i=h.ec(2);h.kc("matTooltip",i._utils.getTootip("modelScore"))}}function ao(e,t){if(1&e&&(h.Tb(0,"h6",13),h.Kc(1," Accuracy "),h.Sb()),2&e){var i=h.ec(2);h.kc("matTooltip",i._utils.getTootip("accuracy"))}}function no(e,t){if(1&e&&(h.Tb(0,"slide",21),h.Tb(1,"div",22),h.Tb(2,"mat-chip-list",23),h.Tb(3,"mat-chip",24),h.Kc(4),h.fc(5,"number"),h.Sb(),h.Sb(),h.Tb(6,"h6",25),h.Kc(7),h.Sb(),h.Sb(),h.Sb()),2&e){var i=t.$implicit,a=h.ec(2);h.kc("active",i.active),h.Bb(1),h.kc("matTooltip",a._utils.getTootip(null==i?null:i.name)),h.Bb(2),h.Fc("font-size",18,"px"),h.Bb(1),h.Lc(h.hc(5,6,i.value,"1.3-3")),h.Bb(3),h.Lc(i.name)}}function oo(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div",28),h.Tb(1,"div",55),h.Ic(2,io,2,1,"h6",16),h.Ic(3,ao,2,1,"h6",16),h.Tb(4,"div",17),h.fc(5,"number"),h.Tb(6,"span"),h.Kc(7),h.fc(8,"number"),h.Sb(),h.Sb(),h.Sb(),h.Tb(9,"div",56),h.Tb(10,"h6"),h.Kc(11,"Losses"),h.Sb(),h.Tb(12,"carousel",19),h.Ic(13,no,8,9,"slide",20),h.Sb(),h.Sb(),h.Tb(14,"div",55),h.Tb(15,"button",57),h.ac("click",(function(){h.wc(i);var e=h.ec();return e.doScoring(e.training,e.model)})),h.Kc(16," Recalculate Scoring "),h.Sb(),h.Sb(),h.Sb()}if(2&e){var a=h.ec();h.Bb(2),h.kc("ngIf","regression"===a.training.algoType),h.Bb(1),h.kc("ngIf","classification"===a.training.algoType),h.Bb(1),h.lc("percent",h.hc(5,7,100*(null==a.model.modelMetaData.scoringMetrics?null:a.model.modelMetaData.scoringMetrics.testScore),"1.2-2")),h.kc("options",a.pieOptions1),h.Bb(3),h.Mc("",h.hc(8,10,100*(null==a.model.modelMetaData.scoringMetrics?null:a.model.modelMetaData.scoringMetrics.testScore),"1.2-2"),"%"),h.Bb(5),h.kc("noWrap",!1),h.Bb(1),h.kc("ngForOf",null==a.model.modelMetaData.scoringMetrics?null:a.model.modelMetaData.scoringMetrics.losses)}}function ro(e,t){1&e&&h.Ob(0,"mat-divider")}function lo(e,t){if(1&e&&h.Ob(0,"app-expansion-graphs",58),2&e){var i=h.ec();h.kc("training",i.training)("model",i.model)("activeTabName",i.activeTabName)("trainings",i.trainings)("originalFileWithEdaDetails",i.originalFileWithEdaDetails)}}var so,co=((so=function(){function e(t,i,a,o,r,l,s,d){n(this,e),this._utils=t,this._colors=i,this._spinner=a,this._models=o,this._toaster=r,this._socket=l,this._dialog=s,this._localStorage=d,this.updateTrainingModels=new h.o,this.unsubscribe$=new f.b,this.pieOptions1={animate:{duration:1e3,enabled:!0},barColor:this._colors.byName("info"),trackColor:"#f2f2f2",scaleColor:!1,lineWidth:8,size:150,lineCap:"round"},this.backGround="#ffffff",this.foreGround="#08509d",this.showGraphs=!0,this.activeTabName="Development",this.isMultilabel=!1,this.showSpinner=!1,this.regressionMetrics=[],this.classificationMetrics=[],this.validationStrategy={technique:"kFold",nSplit:5},this.appType=c.a.appType,this.allowedModelOptions=null,this.badgeText="",this.regressionMetrics=[{name:"R Squared",value:"r2",Name:"R-Squared"},{name:"MAE",value:"neg_mean_absolute_error",Name:"Mean absolute error"},{name:"MSE",value:"neg_mean_squared_error",Name:"Mean squared error"},{name:"RMSE",value:"neg_root_mean_squared_error",Name:"Root mean squared error"}],this.classificationMetrics=[{Name:"Acurracy",value:"accuracy"},{Name:"f1 Score",value:"f1"},{Name:"Precision",value:"precision"},{Name:"Recall",value:"recall"}]}return r(e,[{key:"ngOnInit",value:function(){var e,t,i,a;return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var o,r=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this._utils.getAlgorithms();case 2:this.ALGORITHMS_ARRAY=n.sent,this.graphListSupported(),this.initCvSocket(),o=this.model.modelMetaData.algoName.split("-"),this.project=this._localStorage.getItem("project"),this.user=this._localStorage.getItem("user"),this.allowedModelOptions=(null===(t=null===(e=this.user)||void 0===e?void 0:e.psFeatures)||void 0===t?void 0:t.allowedFeaturesList)||[],this.badgeText=this.allowedModelOptions.includes("crossValidation")?"":"PRO",this.algoType=null===(i=this.ALGORITHMS_ARRAY.filter((function(e){return e.name===o[0]}))[0])||void 0===i?void 0:i.type,this.isMultilabel=this.training.isMultilabel,this.model.modelMetaData.holdout&&(this.activeTabName="Hold Out"),"regression"==this.algoType?(this.metrics=this.regressionMetrics,this.metric="neg_mean_squared_error",this.validationStrategy.technique="kFold","done"===(null===(a=this.model.modelMetaData.cvData)||void 0===a?void 0:a.status)&&(this.metricdata=[],this.metricdata=this.regressionMetrics.filter((function(e){return e.value==r.model.validationStrategy.metric})))):"classification"==this.algoType&&(this.metrics=this.classificationMetrics,this.isMultilabel?(this.metrics=this.classificationMetrics.filter((function(e){return"accuracy"==e.value||"f1"==e.value})),this.validationStrategy.technique="kFold"):this.validationStrategy.technique="stratifiedKFold",this.metric="accuracy"),this.model.validationStrategy&&(this.metric=this.model.validationStrategy.metric,this.validationStrategy.technique=this.model.validationStrategy.technique,this.validationStrategy.nSplit=this.model.validationStrategy.nSplit);case 7:case"end":return n.stop()}}),n,this)})))}},{key:"graphListSupported",value:function(){var e=this.model.modelMetaData.algoName.toLowerCase(),t=[];if(e.includes("bagging"))"classification"==this.training.algoType?t=["Bagging Classifier"]:"regression"===this.training.algoType&&(t=["Bagging Regressor"]),this.graphSupported=this._utils.getAlgorithmSupported(t,this.training,e),this.model.graphSupported=this.graphSupported;else if(e.includes("boosting"))"classification"==this.training.algoType?t=["Boosting Classifier"]:"regression"===this.training.algoType&&(t=["Boosting Regressor"]),this.graphSupported=this._utils.getAlgorithmSupported(t,this.training,e),this.model.graphSupported=this.graphSupported;else{var i=this.model.modelMetaData.algoName;i=i.split("-",1),this.graphSupported=this._utils.getAlgorithmSupported(i,this.training,e),this.model.graphSupported=this.graphSupported}}},{key:"doHoldOut",value:function(e,t){var i=this;this._spinner.showSpinner();var a={algoName:t.modelMetaData.algoName,algoType:this.algoType,backGround:this.backGround,foreGround:this.foreGround,reTrainFileId:t.modelMetaData.reTrainFileId,modelFilePath:t.modelMetaData.modelPath,edaSummary:this.originalFileWithEdaDetails.edaId.edaSummary};e.logTransformationColumns&&(a.logTransformationColumns=e.logTransformationColumns,a.scalarValue=e.scalarValue),this._models.performHoldOut(e._id,t._id,a).pipe(Object(g.a)(this.unsubscribe$)).subscribe((function(e){e?(i.trainings[0].models=i.trainings[0].models.map((function(t){return t._id===e._id&&(t=e),t})),i.updateTrainingModels.emit(i.trainings[0].models),i._toaster.success("Hold out operation successfully completed","Models"),i._spinner.stopSpinner()):(i._toaster.error("Cannot generate distribution graph","Models"),i._spinner.stopSpinner())}),(function(e){i._toaster.error("Server Error - "+e.message,"Models"),i._spinner.stopSpinner()}))}},{key:"runCV",value:function(e,t){var i,a=this;this.showSpinner=!0,this._toaster.info("CV score calculation started","Models"),t.modelMetaData.cvData={},t.modelMetaData.cvData.status="running",i=null!==t.edaId?t.edaId:e.edaId._id,this._models.runCv(e._id,t._id,t.modelMetaData.algoName,this.algoType,this.validationStrategy.technique,this.validationStrategy.nSplit,this.metric,i,"running").pipe(Object(g.a)(this.unsubscribe$)).subscribe((function(e){e||(a._toaster.error("Cannot calculate CV score","Models"),a.showSpinner=!1)}),(function(e){a._toaster.error("Server Error - "+e.message,"Models"),a.showSpinner=!1}))}},{key:"doScoring",value:function(e,t){var i=this;this._spinner.showSpinner();var a={backGround:this.backGround,foreGround:this.foreGround,algoName:t.modelMetaData.algoName,algoType:this.algoType,modelFilePath:t.modelMetaData.modelPath,transformedDatasetPath:t.transformedDatasetPath,reTrainFileId:t.modelMetaData.reTrainFileId};a.edaId=null!==t.edaId?t.edaId:this.trainings[0].edaId._id,this.trainings[0].logTransformationColumns&&(a.logTransformationColumns=this.trainings[0].logTransformationColumns,a.scalarValue=this.trainings[0].scalarValue),this._models.performScoring(e._id,t._id,a).pipe(Object(g.a)(this.unsubscribe$)).subscribe((function(e){e?(i.trainings[0].models=i.trainings[0].models.map((function(t){return t._id===e._id&&(t=e),t})),i.updateTrainingModels.emit(i.trainings[0].models),i._toaster.success("Scoring result calculated successfully","Models"),i._spinner.stopSpinner()):(i._toaster.error("Cannot calculate scoring result","Models"),i._spinner.stopSpinner())}),(function(e){i._toaster.error(e.error.message,"Models"),i._spinner.stopSpinner()}))}},{key:"openGraphDialog",value:function(e,t,i){this._dialog.open(d.a,{minWidth:"learningCurve"===e?"50vw":"80vw",data:{type:e,trainingInfo:t,modelInfo:i,trainings:this.trainings}}).afterClosed().subscribe((function(e){}))}},{key:"showGraphsSection",value:function(e){this.showGraphs="Development"===e.tab.textLabel||("Hold Out"===e.tab.textLabel?!!this.model.modelMetaData.holdout:"Scoring Result"===e.tab.textLabel&&!!this.model.modelMetaData.scoringMetrics),this.activeTabName=e.tab.textLabel}},{key:"initCvSocket",value:function(){var e=this;this._socket.listen("cvCompleted").subscribe((function(t){return Object(s.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"failed"===t.modelData.status?(this.showSpinner=!1,this.trainings[0].models=null===(i=this.trainings[0].models)||void 0===i?void 0:i.map((function(e){var i;return e._id===(null===(i=t.modelData)||void 0===i?void 0:i.modelId)&&(e.modelMetaData.cvData.status="completed"),e})),this.updateTrainingModels.emit(this.trainings[0].models),this._toaster.error(t.modelData.message,"Models")):(this.trainings[0].models=null===(a=this.trainings[0].models)||void 0===a?void 0:a.map((function(e){var i;return e._id===(null===(i=t.modelData)||void 0===i?void 0:i._id)&&(e=t.modelData),e})),this.updateTrainingModels.emit(this.trainings[0].models),this._toaster.success("CV score calculated successfully","Models"),this.showSpinner=!1);case 1:case"end":return e.stop()}}),e,this)})))}),(function(t){e._toaster.error("Socket Error - "+t.message,"Train Model"),e.showSpinner=!1}))}},{key:"getArray",value:function(e){return new Array(e)}},{key:"ngOnDestroy",value:function(){this._socket.removeListener("cvCompleted"),this.unsubscribe$.next(!1),this.unsubscribe$.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||so)(h.Nb(M.a),h.Nb(on.a),h.Nb(y.a),h.Nb(nt.a),h.Nb(T.c),h.Nb(ot.a),h.Nb(p.c),h.Nb(v.a))},so.\u0275cmp=h.Hb({type:so,selectors:[["app-predictive-expansion"]],inputs:{training:"training",model:"model",originalFileWithEdaDetails:"originalFileWithEdaDetails",trainings:"trainings"},outputs:{updateTrainingModels:"updateTrainingModels"},decls:12,vars:7,consts:[[1,"custom-card"],["dynamicHeight","","mat-align-tabs","start",3,"selectedTabChange"],["label","Hold Out","active","",3,"matTooltip",4,"ngIf"],["label","Development",3,"matTooltip",4,"ngIf"],[3,"disabled",4,"ngIf"],["label","Scoring Result"],["mat-tab-label",""],["class","mx-auto my-4","mat-stroked-button","",3,"click",4,"ngIf"],["class","row mx-auto my-4 align-items-center",4,"ngIf"],[4,"ngIf"],[3,"training","model","activeTabName","trainings","originalFileWithEdaDetails",4,"ngIf"],["label","Hold Out","active","",3,"matTooltip"],["class","row mx-auto my-4",4,"ngIf"],[3,"matTooltip"],[1,"row","mx-auto","my-4"],[1,"col-md-6","text-center","border-right"],[3,"matTooltip",4,"ngIf"],["easypiechart","",1,"easypie-chart","mt-3",3,"options","percent"],[1,"col-md-6","text-center"],["interval","0",3,"noWrap"],[3,"active",4,"ngFor","ngForOf"],[3,"active"],[1,"mt-5",3,"matTooltip"],[1,"d-flex","justify-content-center"],[1,"font-weight-bold","p-4"],[1,"mt-3"],["label","Development",3,"matTooltip"],[3,"disabled"],[1,"row","mx-auto","my-4","align-items-center"],["class","spinner","diameter","50",4,"ngIf"],[1,"col-md-7","border-right"],[1,"col-md-12"],["name","validation-strategy",1,"my-2",3,"ngModel","ngModelChange"],["value","kFold",3,"matTooltip"],["value","stratifiedKFold",3,"matTooltip",4,"ngIf"],["appearance","outline",1,"my-2"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"h5"],["thumbLabel","","color","primary","min","2","max","10","step","1",1,"",3,"ngModel","ngModelChange"],[1,"d-flex","border","border-primary"],[3,"class",4,"ngFor","ngForOf"],[1,"col-md-12","text-center","mt-3"],["mat-stroked-button","","type","submit",3,"disabled","click"],["class","col-md-5 border-left text-center",4,"ngIf"],["matBadge","","matBadgeOverlap","false",3,"matBadgeIcon","matTooltip","ngClass"],["diameter","50",1,"spinner"],["value","stratifiedKFold",3,"matTooltip"],[3,"value"],[1,"col-md-5","border-left","text-center"],[1,"col-md-12","mb-5"],[1,"col-md-12","mt-5"],["matTooltip","View graph","mat-icon-button","",3,"click"],[1,"h1","m0","text-bold"],["mat-stroked-button","",1,"mx-auto","my-4",3,"click"],[1,"col-md-4","text-center"],[1,"col-md-4","text-center","border-left","border-right"],["mat-stroked-button","","type","submit",3,"click"],[3,"training","model","activeTabName","trainings","originalFileWithEdaDetails"]],template:function(e,t){1&e&&(h.Tb(0,"mat-card",0),h.Tb(1,"mat-card-content"),h.Tb(2,"mat-tab-group",1),h.ac("selectedTabChange",(function(e){return t.showGraphsSection(e)})),h.Ic(3,En,3,2,"mat-tab",2),h.Ic(4,Gn,16,14,"mat-tab",3),h.Ic(5,Zn,28,12,"mat-tab",4),h.Tb(6,"mat-tab",5),h.Ic(7,eo,2,1,"ng-template",6),h.Ic(8,to,2,0,"button",7),h.Ic(9,oo,17,13,"div",8),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Ic(10,ro,1,0,"mat-divider",9),h.Ic(11,lo,1,5,"app-expansion-graphs",10)),2&e&&(h.Bb(3),h.kc("ngIf",t.model.modelMetaData.holdout),h.Bb(1),h.kc("ngIf",t.model.modelMetaData.dev),h.Bb(1),h.kc("ngIf",t.model.modelMetaData.dev&&("Ridge Classification with Cross Validation"!==t.model.modelMetaData.algoName.split("-")[0]||!t.project.useGPU||!t.model.modelMetaData.isMultilabel)),h.Bb(3),h.kc("ngIf",!t.model.modelMetaData.scoringMetrics),h.Bb(1),h.kc("ngIf",t.model.modelMetaData.scoringMetrics),h.Bb(1),h.kc("ngIf",t.showGraphs),h.Bb(1),h.kc("ngIf",t.showGraphs))},directives:[sn.a,sn.d,un.c,B.t,un.a,un.d,L.b,w.g,dn.a,bn.a,B.s,bn.c,N.d,N.a,rt.b,m.u,m.x,rt.a,w.c,C.a,pn.a,D.b,P.a,A.a,B.q,mn.c,x.o,lt.a,st.a,Kn],pipes:[B.g],styles:[".custom-card[_ngcontent-%COMP%]{padding:unset;margin-top:8px;box-shadow:unset}.easypie-chart[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px!important;text-align:center;top:54%!important}.spinner[_ngcontent-%COMP%]{position:absolute!important;left:22%;top:33%}.blocks[_ngcontent-%COMP%]{padding:20px;font-size:18px;width:100%;text-align:center;font-weight:700;border-right:1px solid #07509d;margin:2px 3px 3px 0}.last-block[_ngcontent-%COMP%]{background-color:#07509d!important;color:#fff!important}"]}),so),uo=l("wd/R"),bo=l("QAmw");function po(e,t){if(1&e&&(h.Tb(0,"mat-label",13),h.Kc(1,"Losses"),h.Sb()),2&e){var i=h.ec();h.kc("matTooltip",i._utils.getTootip("losses"))}}function mo(e,t){if(1&e&&(h.Tb(0,"tr"),h.Tb(1,"td"),h.Kc(2),h.Sb(),h.Tb(3,"td"),h.Kc(4),h.Sb(),h.Sb()),2&e){var i=t.$implicit;h.Bb(2),h.Lc(i.name),h.Bb(2),h.Lc(null!==i.value?i.value:"-")}}function go(e,t){if(1&e&&(h.Tb(0,"div",14),h.Tb(1,"table",15),h.Tb(2,"thead",16),h.Tb(3,"tr"),h.Tb(4,"td"),h.Kc(5,"Loss"),h.Sb(),h.Tb(6,"td"),h.Kc(7,"Value"),h.Sb(),h.Sb(),h.Sb(),h.Tb(8,"tbody"),h.Ic(9,mo,5,2,"tr",17),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec();h.Bb(9),h.kc("ngForOf",i.model.modelMetaData.losses)}}function fo(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=h.ec().$implicit;h.Bb(1),h.Mc(" ",null==i.value.count?"-":i.value.count," ")}}function ho(e,t){1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e&&(h.Bb(1),h.Mc(" ",0," "))}function vo(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=h.ec().$implicit;h.Bb(1),h.Mc(" ",null==i.value.min?"-":i.value.min," ")}}function To(e,t){1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e&&(h.Bb(1),h.Mc(" ",0," "))}function So(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=h.ec().$implicit;h.Bb(1),h.Mc(" ",null==i.value["25%"]?"-":i.value["25%"]," ")}}function ko(e,t){1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e&&(h.Bb(1),h.Mc(" ",0," "))}function yo(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=h.ec().$implicit;h.Bb(1),h.Mc(" ",null==i.value["50%"]?"-":i.value["50%"]," ")}}function Io(e,t){1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e&&(h.Bb(1),h.Mc(" ",0," "))}function _o(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=h.ec().$implicit;h.Bb(1),h.Mc(" ",null==i.value["75%"]?"-":i.value["75%"]," ")}}function Mo(e,t){1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e&&(h.Bb(1),h.Mc(" ",0," "))}function Bo(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=h.ec().$implicit;h.Bb(1),h.Mc(" ",null==i.value.mean?"-":i.value.mean," ")}}function Do(e,t){1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e&&(h.Bb(1),h.Mc(" ",0," "))}function Fo(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=h.ec().$implicit;h.Bb(1),h.Mc(" ",null==i.value.std?"-":i.value.std," ")}}function wo(e,t){1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e&&(h.Bb(1),h.Mc(" ",0," "))}function Oo(e,t){if(1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e){var i=h.ec().$implicit;h.Bb(1),h.Mc(" ",null==i.value.max?"-":i.value.max," ")}}function Co(e,t){1&e&&(h.Tb(0,"td"),h.Kc(1),h.Sb()),2&e&&(h.Bb(1),h.Mc(" ",0," "))}function xo(e,t){if(1&e&&(h.Tb(0,"tr"),h.Tb(1,"td"),h.Kc(2),h.Sb(),h.Ic(3,fo,2,1,"td",20),h.Ic(4,ho,2,1,"td",20),h.Ic(5,vo,2,1,"td",20),h.Ic(6,To,2,1,"td",20),h.Ic(7,So,2,1,"td",20),h.Ic(8,ko,2,1,"td",20),h.Ic(9,yo,2,1,"td",20),h.Ic(10,Io,2,1,"td",20),h.Ic(11,_o,2,1,"td",20),h.Ic(12,Mo,2,1,"td",20),h.Ic(13,Bo,2,1,"td",20),h.Ic(14,Do,2,1,"td",20),h.Ic(15,Fo,2,1,"td",20),h.Ic(16,wo,2,1,"td",20),h.Ic(17,Oo,2,1,"td",20),h.Ic(18,Co,2,1,"td",20),h.Sb()),2&e){var i=t.$implicit;h.Bb(2),h.Lc(i.key),h.Bb(1),h.kc("ngIf",0!=i.value.count),h.Bb(1),h.kc("ngIf",0==i.value.count),h.Bb(1),h.kc("ngIf",0!=i.value.min),h.Bb(1),h.kc("ngIf",0==i.value.min),h.Bb(1),h.kc("ngIf",0!=i.value["25%"]),h.Bb(1),h.kc("ngIf",0==i.value["25%"]),h.Bb(1),h.kc("ngIf",0!=i.value["50%"]),h.Bb(1),h.kc("ngIf",0==i.value["50%"]),h.Bb(1),h.kc("ngIf",0!=i.value["75%"]),h.Bb(1),h.kc("ngIf",0==i.value["75%"]),h.Bb(1),h.kc("ngIf",0!=i.value.mean),h.Bb(1),h.kc("ngIf",0==i.value.mean),h.Bb(1),h.kc("ngIf",0!=i.value.std),h.Bb(1),h.kc("ngIf",0==i.value.std),h.Bb(1),h.kc("ngIf",0!=i.value.max),h.Bb(1),h.kc("ngIf",0==i.value.max)}}function Ko(e,t){if(1&e&&(h.Tb(0,"div",14),h.Tb(1,"table",18),h.Tb(2,"thead",19),h.Tb(3,"tr"),h.Tb(4,"td"),h.Kc(5,"Loss"),h.Sb(),h.Tb(6,"td"),h.Kc(7,"Count of Groups"),h.Sb(),h.Tb(8,"td"),h.Kc(9,"Min"),h.Sb(),h.Tb(10,"td"),h.Kc(11,"25th Percentile"),h.Sb(),h.Tb(12,"td"),h.Kc(13,"50th Percentile"),h.Sb(),h.Tb(14,"td"),h.Kc(15,"75th Percentile"),h.Sb(),h.Tb(16,"td"),h.Kc(17,"Mean"),h.Sb(),h.Tb(18,"td"),h.Kc(19,"Standard Deviation"),h.Sb(),h.Tb(20,"td"),h.Kc(21,"Max"),h.Sb(),h.Sb(),h.Sb(),h.Tb(22,"tbody"),h.Ic(23,xo,19,17,"tr",17),h.fc(24,"keyvalue"),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec();h.Bb(23),h.kc("ngForOf",h.gc(24,1,i.losses))}}function No(e,t){if(1&e&&(h.Tb(0,"mat-label",13),h.Kc(1,"Evaluate Forecast"),h.Sb()),2&e){var i=h.ec();h.kc("matTooltip",i._utils.getTootip("evaluateForecast"))}}function Po(e,t){if(1&e&&(h.Tb(0,"mat-option",25),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.kc("value",i),h.Bb(1),h.Mc(" ",i," ")}}function Ao(e,t){1&e&&(h.Tb(0,"mat-error"),h.Kc(1,"Timeseries groups are required."),h.Sb())}function Lo(e,t){if(1&e&&(h.Tb(0,"mat-form-field",21),h.Tb(1,"mat-label",22),h.Kc(2,"Select timeseries group "),h.Sb(),h.Tb(3,"mat-select",23),h.Ic(4,Po,2,2,"mat-option",24),h.Sb(),h.Ic(5,Ao,2,0,"mat-error",20),h.Sb()),2&e){var i=h.ec();h.Bb(1),h.kc("matTooltip",i._utils.getTootip("selectGroup")),h.Bb(2),h.kc("formControl",i.selectedTimeseriesGroup),h.Bb(1),h.kc("ngForOf",i.timeseriesGoupList),h.Bb(1),h.kc("ngIf",i.selectedTimeseriesGroup.hasError("required")&&(i.selectedTimeseriesGroup.dirty||i.selectedTimeseriesGroup.touched))}}function Ro(e,t){if(1&e&&(h.Tb(0,"mat-label",13),h.Kc(1,"Forecast"),h.Sb()),2&e){var i=h.ec();h.kc("matTooltip",i._utils.getTootip("forecasting"))}}function Eo(e,t){if(1&e&&(h.Tb(0,"mat-option",25),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.kc("value",i),h.Bb(1),h.Mc(" ",i," ")}}function qo(e,t){1&e&&(h.Tb(0,"mat-error"),h.Kc(1,"Timeseries groups are required."),h.Sb())}function jo(e,t){if(1&e&&(h.Tb(0,"mat-form-field",26),h.Tb(1,"mat-label",22),h.Kc(2,"Select timeseries group "),h.Sb(),h.Tb(3,"mat-select",23),h.Ic(4,Eo,2,2,"mat-option",24),h.Sb(),h.Ic(5,qo,2,0,"mat-error",20),h.Sb()),2&e){var i=h.ec();h.Bb(1),h.kc("matTooltip",i._utils.getTootip("selectGroup")),h.Bb(2),h.kc("formControl",i.selectedTimeseriesGroupForecast),h.Bb(1),h.kc("ngForOf",i.timeseriesGoupList),h.Bb(1),h.kc("ngIf",i.selectedTimeseriesGroupForecast.hasError("required")&&(i.selectedTimeseriesGroupForecast.dirty||i.selectedTimeseriesGroupForecast.touched))}}function $o(e,t){if(1&e){var i=h.Ub();h.Tb(0,"mat-form-field",27),h.Tb(1,"mat-label"),h.Kc(2,"Start Input"),h.Sb(),h.Tb(3,"input",28),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec().startDate=e}))("ngModelChange",(function(){h.wc(i);var e=h.ec();return e.onChangeDate(e.startDate,e.endDate)})),h.Sb(),h.Sb()}if(2&e){var a=h.ec();h.kc("matTooltip",a._utils.getTootip("startDate")),h.Bb(3),h.kc("ngModel",a.startDate)}}function Uo(e,t){if(1&e){var i=h.Ub();h.Tb(0,"mat-form-field",29),h.Tb(1,"mat-label"),h.Kc(2,"End Input"),h.Sb(),h.Tb(3,"input",28),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec().endDate=e}))("ngModelChange",(function(){h.wc(i);var e=h.ec();return e.onChangeDate(e.startDate,e.endDate)})),h.Sb(),h.Sb()}if(2&e){var a=h.ec();h.kc("matTooltip",a._utils.getTootip("endDate")),h.Bb(3),h.kc("ngModel",a.endDate)}}function Go(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",30),h.ac("click",(function(){return h.wc(i),h.ec().downloadForecast()})),h.Kc(1," Download Forecast "),h.Sb()}}function Vo(e,t){if(1&e&&(h.Tb(0,"div",31),h.Kc(1),h.Sb()),2&e){var i=h.ec();h.Bb(1),h.Mc(" ",i.text," ")}}var Ho,zo=l("Ycxt"),Wo=((Ho=function(){function t(e,i,a,o,r,l){n(this,t),this._utils=e,this._spinner=i,this._toaster=a,this._models=o,this._snackBar=r,this._eda=l,this.unsubscribe$=new f.b,this.backGround="#ffffff",this.foreGround="#08509d",this.showSpinner=!1,this.showTextError=!1,this.isError=!1,this.selectedTimeseriesGroup=new m.i("",m.I.required),this.selectedTimeseriesGroupForecast=new m.i("",m.I.required),this.losses={},this.csvData=[],this.colNameOtherThanX=[]}return r(t,[{key:"ngOnInit",value:function(){this.training.edaId.isMultipleTimeseries&&this.getTimeseriesGroup(),this.startDate=new Date,this.startDate=new Date(Date.now()-864e5).toISOString().slice(0,10),this.endDate=(new Date).toISOString().slice(0,10),this.uniqueForecastDiv=this.model.modelMetaData.algoName+"Plot",this.uniqueEvaluateDiv=this.model.modelMetaData.algoName+"Plot",this.losses=this.model.modelMetaData.losses}},{key:"getTimeseriesGroup",value:function(){var e=this;this._spinner.showSpinner(),this._eda.getTimeseriesGroup({modelId:this.model._id}).pipe(Object(g.a)(this.unsubscribe$)).subscribe((function(t){t&&(e.showSpinner=!0,e.timeseriesGoupList=t[0].allowedGroupList,e._spinner.stopSpinner())}),(function(t){e._spinner.stopSpinner(),e.showSpinner=!1,e._toaster.error(t.error.message||"Server Error","Model")}))}},{key:"calculateFrequency",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.training.edaId.hasOwnProperty("resampling")?this.frequency=this.training.edaId.resampling.resamplingMethod:(this.frequency=this.originalFileWithEdaDetails.descriptiveStatistics.filter((function(e){return e.colName===t.training.edaId.timeseriesInfo.datetimeIndex}))[0],this.frequency=this.frequency.frequency);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"evaluateForecast",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.calculateFrequency();case 2:t={indexPath:this.training.edaId.indexPath,trainPipeFilePath:this.model.trainPipeFilePath,parentPipelineFilename:this.training.edaId.tasks[0].currentPipelineFilename,filename:this.training.metaInfo.fileName,modelPath:this.model.modelMetaData.modelPath,backGround:this.backGround,foreGround:this.foreGround,depVariable:this.training.depVariable,timeseriesIds:this.training.edaId.isMultipleTimeseries?this.training.edaId.timeseriesIds:null,selectedTimeseriesGroup:this.selectedTimeseriesGroup.value,isMultipleTimeseries:this.training.edaId.isMultipleTimeseries,nSteps:this.training.nSteps,frequency:""!==this.frequency?this.frequency:"none"},this._spinner.showSpinner(),this._models.evaluateGraph(this.training._id,this.model._id,t).pipe(Object(g.a)(this.unsubscribe$)).subscribe((function(e){if(e){i.showSpinner=!0;for(var t=document.getElementById(i.uniqueEvaluateDiv);t.data&&t.data.length>0;)zo.deleteTraces(t,[0]);e.graphContent.layout.xaxis.linecolor="black",e.graphContent.layout.yaxis.linecolor="black",zo.plot(t,e.graphContent.data,e.graphContent.layout),i._spinner.stopSpinner()}}),(function(e){i._spinner.stopSpinner(),i.showSpinner=!1,i._toaster.error(e.error.message||"Server Error","Model")}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"getForecast",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._spinner.showSpinner(),e.next=3,this.calculateFrequency();case 3:t={indexPath:this.training.edaId.indexPath,trainPipeFilePath:this.model.trainPipeFilePath,parentPipelineFilename:this.training.edaId.tasks[0].currentPipelineFilename,filename:this.training.metaInfo.fileName,preprocessedFilepath:this.training.preprocessedFilepath,algorithm:this.model.modelMetaData.algoName,startDate:uo(this.startDate).format("L"),endDate:uo(this.endDate).format("L"),modelPath:this.model.modelMetaData.modelPath,forecastModelPath:this.model.modelMetaData.forecastModelPath,backGround:this.backGround,foreGround:this.foreGround,depVariable:this.training.depVariable,timeseriesIds:this.training.edaId.isMultipleTimeseries?this.training.edaId.timeseriesIds:null,selectedTimeseriesGroup:this.selectedTimeseriesGroupForecast.value,isMultipleTimeseries:this.training.edaId.isMultipleTimeseries,nSteps:this.training.nSteps,frequency:""!==this.frequency?this.frequency:"none"},this._models.getForecastGraph(this.training._id,this.model._id,t).pipe(Object(g.a)(this.unsubscribe$)).subscribe((function(e){if(e){i.showSpinner=!0;for(var t=document.getElementById(i.uniqueForecastDiv);t.data&&t.data.length>0;)zo.deleteTraces(t,[0]);e.graphContent.layout?(i.showTextError=!1,e.graphContent.layout.template.layout.title.xanchor="center",e.graphContent.layout.template.layout.title.y=.9,e.graphContent.layout.template.layout.title.x=.5,e.graphContent.layout.template.layout.title.yanchor="top",e.graphContent.layout.template.layout.xaxis.gridcolor="transparent",e.graphContent.layout.template.layout.yaxis.gridcolor="transparent",e.graphContent.layout.template.layout.yaxis.zerolinecolor="transparent",e.graphContent.layout.xaxis.linecolor="black",e.graphContent.layout.yaxis.linecolor="black",e.graphContent.layout.xaxis.showgrid=!1,zo.plot(t,e.graphContent.data,e.graphContent.layout),i.prepareGraphData(e.graphContent.data),i._spinner.stopSpinner()):(i.showTextError=!0,i._spinner.stopSpinner(),i.text=e.graphContent)}}),(function(e){i._spinner.stopSpinner(),i.showSpinner=!1,i._toaster.error(e.error.message||"Server Error","Model")}));case 5:case"end":return e.stop()}}),e,this)})))}},{key:"prepareGraphData",value:function(t){var i=[];this.csvData.length=0,this.colNameOtherThanX=[];var a=[];for(var n in t.forEach((function(e){for(var t in e)void 0===i[t]&&(i[t]=[]),("x"==t||"y"==t)&&i[t].push(e[t]),"name"===t&&a.push(e[t])})),this.colNameOtherThanX=a,i)"x"!=n&&"y"!=n&&delete i[n];var o=[],r=[];for(var n in i)"x"==n&&o.push(i[n]),"y"==n&&r.push(i[n]);if(o=o.toString().split(",").sort(),o=e(new Set(o)),this.training.edaId.isMultipleTimeseries)for(var l=0;l<o.length;l++)this.csvData.push(l<r[0][0].length?{x:o[l],y:r[0][0][l],forecast:""}:{x:o[l],y:"",forecast:r[0][1][l-Number(r[0][0].length)]});else if("Prophet"===this.model.modelMetaData.algoName)for(var s=0;s<o.length;s++){this.csvData[s]={},this.csvData[s].x=o[s];for(var c=0;c<this.colNameOtherThanX.length;c++)s<r[0][0].length?0===c&&(this.csvData[s][this.colNameOtherThanX[0]]=r[0][0][s]):s>=r[0][0].length&&(this.csvData[s][this.colNameOtherThanX[c]]=0!==c?r[0][c][s-Number(r[0][0].length)]:"")}else for(var d=0;d<o.length;d++)d<=r[0][0].length&&this.csvData.push({x:o[d],y:r[0][0][d],forecast:r[0][1][d]})}},{key:"downloadForecast",value:function(){var t={fieldSeparator:",",quoteStrings:'"',decimalseparator:".",showLabels:!0,useBom:!0,noDownload:!1,headers:["x"].concat(e(this.colNameOtherThanX))};this.csvData.length&&new bo.ngxCsv(this.csvData,"forecastData",t)}},{key:"onChangeDate",value:function(e,t){var i=this,a=uo(e),n=uo(t);return!1===uo(n).isAfter(a,"day")?(this.isError=!0,this._snackBar.open("End date should be greater than start date","OK",{horizontalPosition:"right",verticalPosition:"bottom"}).afterDismissed().subscribe((function(t){var a=new Date(e);a.setDate(a.getDate()+1),i.endDate=a.toISOString().slice(0,10),i.isError=!1}))):this.isError=!1,0}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(!1),this.unsubscribe$.unsubscribe()}}]),t}()).\u0275fac=function(e){return new(e||Ho)(h.Nb(M.a),h.Nb(y.a),h.Nb(T.c),h.Nb(nt.a),h.Nb(I.c),h.Nb(ln.a))},Ho.\u0275cmp=h.Hb({type:Ho,selectors:[["app-timeseries-expansion"]],inputs:{training:"training",model:"model",originalFileWithEdaDetails:"originalFileWithEdaDetails"},decls:22,vars:12,consts:[["dynamicHeight","","mat-align-tabs","start",1,"px-3","pb-3"],["mat-tab-label",""],["class","mx-auto mt-4",4,"ngIf"],["appearance","outline","class","col-md-4 mt-3",4,"ngIf"],["mat-stroked-button","",1,"mx-auto","my-4",3,"disabled","click"],[1,"d-flex","justify-content-center",3,"id"],[1,"row","mx-auto","mt-4"],["appearance","outline","class","w-25",4,"ngIf"],["class","w-25","appearance","outline",3,"matTooltip",4,"ngIf"],["class","w-25 ml-4","appearance","outline",3,"matTooltip",4,"ngIf"],["mat-stroked-button","",1,"ml-4","mt-2",2,"height","45px",3,"disabled","click"],["class","ml-4 mt-2","mat-stroked-button","","style","height: 45px","matTooltip","Click here to download graph data (.csv)",3,"click",4,"ngIf"],["class","text-muted text-danger col-md-12",4,"ngIf"],[3,"matTooltip"],[1,"mx-auto","mt-4"],[1,"table","table-bordered","w-50","text-center"],[1,"table-dark","bg-primary"],[4,"ngFor","ngForOf"],[1,"table","table-responsive-md","table-bordered","w-75","mx-auto","my-4"],[1,"thead-dark","bg-primary"],[4,"ngIf"],["appearance","outline",1,"col-md-4","mt-3"],["for","timeseries",3,"matTooltip"],["required","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["appearance","outline",1,"w-25"],["appearance","outline",1,"w-25",3,"matTooltip"],["matInput","","type","date",3,"ngModel","ngModelChange"],["appearance","outline",1,"w-25","ml-4",3,"matTooltip"],["mat-stroked-button","","matTooltip","Click here to download graph data (.csv)",1,"ml-4","mt-2",2,"height","45px",3,"click"],[1,"text-muted","text-danger","col-md-12"]],template:function(e,t){1&e&&(h.Tb(0,"mat-tab-group",0),h.Tb(1,"mat-tab"),h.Ic(2,po,2,1,"ng-template",1),h.Ic(3,go,10,1,"div",2),h.Ic(4,Ko,25,3,"div",2),h.Sb(),h.Tb(5,"mat-tab"),h.Ic(6,No,2,1,"ng-template",1),h.Ic(7,Lo,6,4,"mat-form-field",3),h.Tb(8,"button",4),h.ac("click",(function(){return t.evaluateForecast()})),h.Kc(9," Evaluate "),h.Sb(),h.Ob(10,"div",5),h.Sb(),h.Tb(11,"mat-tab"),h.Ic(12,Ro,2,1,"ng-template",1),h.Tb(13,"div",6),h.Ic(14,jo,6,4,"mat-form-field",7),h.Ic(15,$o,4,2,"mat-form-field",8),h.Ic(16,Uo,4,2,"mat-form-field",9),h.Tb(17,"button",10),h.ac("click",(function(){return t.getForecast()})),h.Kc(18," Get Forecast "),h.Sb(),h.Ic(19,Go,2,0,"button",11),h.Ic(20,Vo,2,1,"div",12),h.Sb(),h.Ob(21,"div",5),h.Sb(),h.Sb()),2&e&&(h.Bb(3),h.kc("ngIf",!t.training.edaId.isMultipleTimeseries),h.Bb(1),h.kc("ngIf",t.training.edaId.isMultipleTimeseries),h.Bb(3),h.kc("ngIf",t.training.edaId.isMultipleTimeseries),h.Bb(1),h.kc("disabled",t.training.edaId.isMultipleTimeseries&&!t.selectedTimeseriesGroup.value),h.Bb(2),h.kc("id",t.uniqueEvaluateDiv),h.Bb(4),h.kc("ngIf",t.training.edaId.isMultipleTimeseries),h.Bb(1),h.kc("ngIf",!t.training.edaId.isMultipleTimeseries),h.Bb(1),h.kc("ngIf",!t.training.edaId.isMultipleTimeseries),h.Bb(1),h.kc("disabled",t.isError||t.training.edaId.isMultipleTimeseries&&!t.selectedTimeseriesGroupForecast.value),h.Bb(2),h.kc("ngIf",t.csvData.length),h.Bb(1),h.kc("ngIf",t.showTextError),h.Bb(1),h.kc("id",t.uniqueForecastDiv))},directives:[un.c,un.a,un.d,B.t,D.b,w.g,L.b,B.s,w.c,C.a,m.F,m.u,m.j,x.o,w.b,K.b,m.d,m.x],pipes:[B.l],styles:[""]}),Ho),Qo=l("M9IT"),Yo=l("+0xr"),Xo=l("WUEe"),Jo=l("jhN1");function Zo(e,t){if(1&e&&(h.Tb(0,"mat-label",7),h.Kc(1,"Analysis"),h.Sb()),2&e){var i=h.ec(3);h.kc("matTooltip",i._utils.getTootip("clusterAnalysis"))}}function er(e,t){if(1&e&&(h.Tb(0,"mat-label",7),h.Kc(1,"Summary"),h.Sb()),2&e){var i=h.ec(4);h.kc("matTooltip",i._utils.getTootip(""))}}function tr(e,t){1&e&&(h.Tb(0,"div"),h.Kc(1,"Invalid Name"),h.Sb())}function ir(e,t){if(1&e&&(h.Tb(0,"div",32),h.Tb(1,"li",33),h.Kc(2),h.Sb(),h.Sb()),2&e){var i=t.$implicit,a=h.ec(5);h.kc("matTooltip",a._utils.getTootip("clusterRules")),h.Bb(2),h.Mc(" ",i," ")}}var ar=function(e){return{"background-color":e}};function nr(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div",21),h.Tb(1,"div",22),h.Tb(2,"div",12),h.Tb(3,"div",23),h.Tb(4,"div",24),h.Tb(5,"span",25),h.Kc(6),h.Sb(),h.Sb(),h.Sb(),h.Tb(7,"div",26),h.Tb(8,"mat-form-field",27),h.Tb(9,"mat-label",28),h.Kc(10,"Cluster name"),h.Sb(),h.Tb(11,"input",29,30),h.ac("focus",(function(){return h.wc(i),h.ec(4).editMode=!0}))("keydown.enter",(function(e){return h.wc(i),e.target.blur()}))("change",(function(){h.wc(i);var e=t.index,a=h.tc(12);return h.ec(4).onFocusOut(a.value,e)}))("keydown.enter",(function(e){return h.wc(i),e.target.blur()}))("focusout",(function(){return h.wc(i),h.ec(4).editMode=!1})),h.Sb(),h.Sb(),h.Ic(13,tr,2,0,"div",4),h.Sb(),h.Sb(),h.Ic(14,ir,3,2,"div",31),h.Sb(),h.Sb()}if(2&e){var a=t.$implicit,n=t.index,o=h.tc(12),r=h.ec(4);h.Bb(1),h.kc("ngStyle",h.nc(9,ar,r.cardColor[n%3])),h.Bb(3),h.kc("options",r.pieOptions1)("percent",a.samplePercentage)("matTooltip",r._utils.getTootip("samplePercentage")),h.Bb(2),h.Mc("",a.samplePercentage,"%"),h.Bb(5),h.kc("value",a.clusterName)("id",a.clusterId),h.Bb(2),h.kc("ngIf",null==o.errors?null:o.errors.pattern),h.Bb(1),h.kc("ngForOf",a.rules)}}function or(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div"),h.Tb(1,"button",34),h.ac("click",(function(){return h.wc(i),h.ec(4).updateClusterData()})),h.Tb(2,"mat-icon"),h.Kc(3,"insights"),h.Sb(),h.Kc(4," Save Cluster "),h.Sb(),h.Sb()}}function rr(e,t){if(1&e&&(h.Tb(0,"mat-label",7),h.Kc(1,"Heat Map"),h.Sb()),2&e){var i=h.ec(4);h.kc("matTooltip",i._utils.getTootip(""))}}function lr(e,t){if(1&e&&(h.Tb(0,"mat-label",7),h.Kc(1,"Decision Tree"),h.Sb()),2&e){var i=h.ec(5);h.kc("matTooltip",i._utils.getTootip(""))}}function sr(e,t){if(1&e){var i=h.Ub();h.Tb(0,"mat-tab",35),h.Ic(1,lr,2,1,"ng-template",5),h.Tb(2,"div",12),h.Tb(3,"div",17),h.Tb(4,"button",36),h.ac("click",(function(){return h.wc(i),h.ec(4).downloadDecisionTree()})),h.Kc(5," Download "),h.Sb(),h.Tb(6,"div",37),h.Ob(7,"img",38),h.Sb(),h.Sb(),h.Sb(),h.Sb()}if(2&e){var a=h.ec(4);h.kc("disabled",!0===a.showUpdateButton),h.Bb(7),h.kc("src",a.decisionTreeImage,h.zc)}}function cr(e,t){if(1&e&&(h.Tb(0,"mat-label",7),h.Kc(1,"Feature Importance "),h.Sb()),2&e){var i=h.ec(5);h.kc("matTooltip",i._utils.getTootip(""))}}function dr(e,t){if(1&e&&(h.Tb(0,"tr"),h.Tb(1,"td"),h.Kc(2),h.Sb(),h.Tb(3,"td"),h.Kc(4),h.Sb(),h.Sb()),2&e){var i=t.$implicit;h.Bb(2),h.Lc(i.colName),h.Bb(2),h.Lc(i.importance)}}function ur(e,t){1&e&&(h.Tb(0,"mat-hint",17),h.Kc(1,"Note: Top 15 features are displayed. To view all features check table view. "),h.Sb())}function br(e,t){if(1&e){var i=h.Ub();h.Tb(0,"mat-tab",39),h.Ic(1,cr,2,1,"ng-template",5),h.Tb(2,"div",40),h.Tb(3,"mat-button-toggle-group",41),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec(4).viewType=e}))("change",(function(){h.wc(i);var e=h.ec(4);return e.toggleView=!e.toggleView})),h.Tb(4,"mat-button-toggle",42),h.Tb(5,"mat-icon",43),h.Kc(6,"show_chart"),h.Sb(),h.Kc(7,"Graph "),h.Sb(),h.Tb(8,"mat-button-toggle",44),h.Tb(9,"mat-icon",43),h.Kc(10,"table_chart"),h.Sb(),h.Kc(11,"Table "),h.Sb(),h.Sb(),h.Sb(),h.Tb(12,"div",45),h.Ob(13,"div",46),h.Ob(14,"br"),h.Sb(),h.Tb(15,"div",47),h.Tb(16,"table",48),h.Tb(17,"thead",49),h.Tb(18,"tr"),h.Tb(19,"td"),h.Kc(20,"Feature"),h.Sb(),h.Tb(21,"td"),h.Kc(22,"Importance"),h.Sb(),h.Sb(),h.Sb(),h.Tb(23,"tbody"),h.Ic(24,dr,5,2,"tr",50),h.Sb(),h.Sb(),h.Sb(),h.Ic(25,ur,2,0,"mat-hint",51),h.Sb()}if(2&e){var a=h.ec(4);h.kc("disabled",!0===a.showUpdateButton),h.Bb(3),h.kc("ngModel",a.viewType),h.Bb(9),h.kc("hidden",!a.toggleView),h.Bb(1),h.kc("id",a.featureImp),h.Bb(2),h.kc("hidden",a.toggleView),h.Bb(9),h.kc("ngForOf",a.featuresArray),h.Bb(1),h.kc("ngIf",a.toggleView)}}var pr=function(){return[6,12,18,24,30,36,42,48,54,60]};function mr(e,t){if(1&e){var i=h.Ub();h.Tb(0,"mat-tab-group",8),h.ac("selectedTabChange",(function(e){return h.wc(i),h.ec(3).showGraphsSection(e)})),h.Tb(1,"mat-tab",9),h.Ic(2,er,2,1,"ng-template",5),h.Tb(3,"div",10),h.Ic(4,nr,15,11,"div",11),h.fc(5,"async"),h.Sb(),h.Tb(6,"div",12),h.Tb(7,"div",13),h.Ic(8,or,5,0,"div",4),h.Sb(),h.Tb(9,"div",13),h.Ob(10,"mat-paginator",14),h.Sb(),h.Sb(),h.Sb(),h.Tb(11,"mat-tab",15),h.Ic(12,rr,2,1,"ng-template",5),h.Tb(13,"div",16),h.Tb(14,"div",17),h.Ob(15,"div",18),h.Sb(),h.Sb(),h.Sb(),h.Ic(16,sr,8,2,"mat-tab",19),h.Ic(17,br,26,7,"mat-tab",20),h.Sb()}if(2&e){var a=h.ec(3);h.Bb(4),h.kc("ngForOf",h.gc(5,7,a.obs)),h.Bb(4),h.kc("ngIf",1==a.model.showUpdateButton),h.Bb(2),h.kc("pageSizeOptions",h.mc(9,pr)),h.Bb(1),h.kc("disabled",!0===a.showUpdateButton),h.Bb(4),h.kc("id",a.heatMapDiv),h.Bb(1),h.kc("ngIf",a.model.modelMetaData.treeModelOutput),h.Bb(1),h.kc("ngIf",null==a.model.modelMetaData?null:a.model.modelMetaData.featureImportance.length)}}function gr(e,t){if(1&e&&(h.Tb(0,"div",52),h.Tb(1,"b"),h.Kc(2),h.Sb(),h.Sb()),2&e){var i=h.ec(3);h.Bb(2),h.Lc(i.model.modelMetaData.analysisInfo)}}function fr(e,t){if(1&e&&(h.Tb(0,"mat-tab"),h.Ic(1,Zo,2,1,"ng-template",5),h.Ic(2,mr,18,10,"mat-tab-group",6),h.Ic(3,gr,3,1,"div",1),h.Sb()),2&e){var i=h.ec(2);h.Bb(2),h.kc("ngIf","string"!==i.clusterErrorType),h.Bb(1),h.kc("ngIf","string"==i.clusterErrorType)}}function hr(e,t){if(1&e&&(h.Tb(0,"mat-label",7),h.Kc(1,"Feature Distribution"),h.Sb()),2&e){var i=h.ec(3);h.kc("matTooltip",i._utils.getTootip("clusterVisualization"))}}function vr(e,t){if(1&e&&(h.Tb(0,"mat-option",63),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.kc("value",i),h.Bb(1),h.Mc(" ",i.colName," ")}}function Tr(e,t){if(1&e&&(h.Tb(0,"mat-option",63),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.kc("value",i.clusterName),h.Bb(1),h.Mc(" ",i.clusterName," ")}}function Sr(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div",54),h.Tb(1,"mat-form-field",55),h.Tb(2,"mat-label",56),h.Kc(3,"Select cluster"),h.Sb(),h.Tb(4,"mat-select",64),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec(3).selectedCluster=e})),h.Ic(5,Tr,2,2,"mat-option",58),h.Sb(),h.Sb(),h.Sb()}if(2&e){var a=h.ec(3);h.Bb(4),h.kc("ngModel",a.selectedCluster),h.Bb(1),h.kc("ngForOf",a.model.modelMetaData.analysisInfo)}}function kr(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",65),h.ac("click",(function(){return h.wc(i),h.ec(3).visualiseCluster()})),h.Kc(1," Visualize Cluster "),h.Sb()}if(2&e){var a=h.ec(3);h.kc("disabled","Text"===(null==a.selectedFeature[0]?null:a.selectedFeature[0].dataType)&&!a.selectedCluster)}}function yr(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div",60),h.Tb(1,"button",66),h.ac("click",(function(){h.wc(i);var e=h.ec(3),t=h.tc(3);return e.viewClusterFaq(t)})),h.Kc(2," FAQ's "),h.Sb(),h.Sb()}}function Ir(e,t){if(1&e){var i=h.Ub();h.Tb(0,"mat-tab"),h.Ic(1,hr,2,1,"ng-template",5),h.Tb(2,"div",53),h.Tb(3,"div",54),h.Tb(4,"mat-form-field",55),h.Tb(5,"mat-label",56),h.Kc(6,"Select a feature"),h.Sb(),h.Tb(7,"mat-select",57),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec(2).selectedFeature=e}))("selectionChange",(function(){h.wc(i);var e=h.ec(2);return e.featureSelectionChanged(e.selectedFeature)})),h.Ic(8,vr,2,2,"mat-option",58),h.Sb(),h.Tb(9,"mat-hint"),h.Kc(10,"Maximum 2 features are required."),h.Sb(),h.Sb(),h.Sb(),h.Ic(11,Sr,6,2,"div",59),h.Tb(12,"div",60),h.Ic(13,kr,2,1,"button",61),h.Sb(),h.Ic(14,yr,3,0,"div",62),h.Tb(15,"div",17),h.Ob(16,"div",18),h.Sb(),h.Sb(),h.Sb()}if(2&e){var a=h.ec(2);h.Bb(7),h.kc("ngModel",a.selectedFeature),h.Bb(1),h.kc("ngForOf",a.clusteringFeatures),h.Bb(3),h.kc("ngIf","Text"===(null==a.selectedFeature[0]?null:a.selectedFeature[0].dataType)),h.Bb(2),h.kc("ngIf",1==a.selectedFeature.length||2==a.selectedFeature.length),h.Bb(1),h.kc("ngIf","Text"===(null==a.selectedFeature[0]?null:a.selectedFeature[0].dataType)),h.Bb(2),h.kc("id",a.uniqueGraphDiv)}}function _r(e,t){if(1&e&&(h.Tb(0,"mat-label",7),h.Kc(1,"Metrics"),h.Sb()),2&e){var i=h.ec(3);h.kc("matTooltip",i._utils.getTootip("metrics"))}}function Mr(e,t){if(1&e&&(h.Tb(0,"mat-tab"),h.Ic(1,_r,2,1,"ng-template",5),h.Tb(2,"div",67),h.Tb(3,"div",68),h.Tb(4,"div",69),h.Kc(5),h.fc(6,"number"),h.Sb(),h.Tb(7,"div",70),h.Kc(8,"Silhouette Coefficient"),h.Sb(),h.Sb(),h.Tb(9,"div",68),h.Tb(10,"div",69),h.Kc(11),h.fc(12,"number"),h.Sb(),h.Tb(13,"div",70),h.Kc(14,"Davies-Bouldin Index"),h.Sb(),h.Sb(),h.Tb(15,"div",71),h.Tb(16,"div",69),h.Kc(17),h.fc(18,"number"),h.Sb(),h.Tb(19,"div",70),h.Kc(20,"Calinski-Harabasz Index"),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(2);h.Bb(3),h.kc("matTooltip",i._utils.getTootip("silhouetteCoefficient")),h.Bb(2),h.Mc(" ",i.checkIsNumber(null==i.model.modelMetaData||null==i.model.modelMetaData.clusteringMetricesScore?null:i.model.modelMetaData.clusteringMetricesScore.silhouetteScore)?h.hc(6,6,null==i.model.modelMetaData||null==i.model.modelMetaData.clusteringMetricesScore?null:i.model.modelMetaData.clusteringMetricesScore.silhouetteScore,"1.2-2"):null==i.model.modelMetaData||null==i.model.modelMetaData.clusteringMetricesScore?null:i.model.modelMetaData.clusteringMetricesScore.silhouetteScore," "),h.Bb(4),h.kc("matTooltip",i._utils.getTootip("daviesBouldinIndex")),h.Bb(2),h.Mc(" ",i.checkIsNumber(null==i.model.modelMetaData||null==i.model.modelMetaData.clusteringMetricesScore?null:i.model.modelMetaData.clusteringMetricesScore.daviesBouldinScore)?h.hc(12,9,null==i.model.modelMetaData||null==i.model.modelMetaData.clusteringMetricesScore?null:i.model.modelMetaData.clusteringMetricesScore.daviesBouldinScore,"1.2-2"):null==i.model.modelMetaData||null==i.model.modelMetaData.clusteringMetricesScore?null:i.model.modelMetaData.clusteringMetricesScore.daviesBouldinScore," "),h.Bb(4),h.kc("matTooltip",i._utils.getTootip("calinskiHarabaszIndex")),h.Bb(2),h.Mc(" ",i.checkIsNumber(null==i.model.modelMetaData||null==i.model.modelMetaData.clusteringMetricesScore?null:i.model.modelMetaData.clusteringMetricesScore.calinskiHarabaszScore)?h.hc(18,12,null==i.model.modelMetaData||null==i.model.modelMetaData.clusteringMetricesScore?null:i.model.modelMetaData.clusteringMetricesScore.calinskiHarabaszScore,"1.2-2"):null==i.model.modelMetaData||null==i.model.modelMetaData.clusteringMetricesScore?null:i.model.modelMetaData.clusteringMetricesScore.calinskiHarabaszScore," ")}}function Br(e,t){if(1&e&&(h.Tb(0,"mat-tab-group",3),h.Ic(1,fr,4,2,"mat-tab",4),h.Ic(2,Ir,17,6,"mat-tab",4),h.Ic(3,Mr,21,15,"mat-tab",4),h.Sb()),2&e){var i=h.ec();h.Bb(1),h.kc("ngIf",i.model.modelMetaData.analysisInfo.length),h.Bb(1),h.kc("ngIf",i.featureList.length),h.Bb(1),h.kc("ngIf",i.model.modelMetaData.clusteringMetricesScore)}}function Dr(e,t){if(1&e&&(h.Tb(0,"div",52),h.Tb(1,"b"),h.Kc(2),h.Sb(),h.Sb()),2&e){var i=h.ec();h.Bb(2),h.Lc(null==i.model.modelMetaData?null:i.model.modelMetaData.errorMsg)}}function Fr(e,t){1&e&&(h.Tb(0,"h2",72),h.Kc(1,"FAQs"),h.Sb(),h.Tb(2,"mat-dialog-content",73),h.Tb(3,"div",17),h.Tb(4,"mat-accordion"),h.Tb(5,"mat-expansion-panel",74),h.Tb(6,"mat-expansion-panel-header"),h.Ob(7,"mat-panel-description"),h.Sb(),h.Tb(8,"ul"),h.Tb(9,"li"),h.Tb(10,"b"),h.Kc(11,"What is a Scattertext plot?"),h.Sb(),h.Sb(),h.Tb(12,"p"),h.Kc(13," The Scattertext plot is a scatter plot for text features that are represented as a set of unigrams and bigrams from the samples in the data.It plots the frequencies of the terms in the two classes. "),h.Sb(),h.Tb(14,"li"),h.Tb(15,"b"),h.Kc(16,"What do the x-axis and y-axis represent?"),h.Sb(),h.Sb(),h.Tb(17,"p"),h.Kc(18,"The x-axis represents the frequency of a term in the negative class or the rest of the clusters.The y-axis represents the frequency of a term in the positive class or the specified cluster."),h.Sb(),h.Tb(19,"li"),h.Tb(20,"b"),h.Kc(21,"What do the points on the plot indicate?"),h.Sb(),h.Sb(),h.Tb(22,"p"),h.Kc(23," Each point in the plot indicates terms present in the samples.The points are positioned according to their frequencies in each of the classes.The points are scored using a scaled f-score which can be found on hover along with the term ratio in the two classes.Subsequently, clicking on the point displays some of the documents that mention the term in both classes. "),h.Sb(),h.Tb(24,"li"),h.Tb(25,"b"),h.Kc(26,"What do the colours on the points indicate?"),h.Sb(),h.Sb(),h.Tb(27,"p"),h.Kc(28," The intensity of the blue color on a point indicates the association of the term with the positive class.The intensity of the red color on a point indicates the association of the term with the negative class.The yellow color on a point indicates an equal association of the term with both the classes.The term association is deduced based on the computed scaled f-scores. \xa0 "),h.Sb(),h.Tb(29,"li"),h.Tb(30,"b"),h.Kc(31,"How to interpret a Scattertext plot?\xa0"),h.Sb(),h.Sb(),h.Tb(32,"p"),h.Kc(33," The closer a term is to the top of the plot indicates a higher frequency of the term in the positive class.The closer a term is to the right of the plot indicates a higher frequency of the term in the negative class.The term in the middle has an average frequency for both the classes.Terms frequently present in both the classes are present in the top-right corner and the terms infrequently present in both the classes are present in the bottom-left corner.The right-hand side of the plot summarizes the top terms characteristic of each of the classes. \xa0 "),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Tb(34,"mat-dialog-actions",75),h.Tb(35,"button",76),h.Kc(36,"Close"),h.Sb(),h.Sb()),2&e&&(h.Bb(5),h.kc("expanded",1))}var wr,Or=l("Ycxt"),Cr=((wr=function(){function e(t,i,a,o,r,l,s,c,d,u){n(this,e),this._utils=t,this._spinner=i,this._toaster=a,this._snackBar=o,this._models=r,this._colors=l,this._sanitizer=s,this._changeDetectorRef=c,this._dialog=d,this._localStorage=u,this.updateTrainingModels=new h.o,this.dataSource=new Yo.p,this.pieOptions1={animate:{duration:1e3,enabled:!0},barColor:this._colors.byName("primary"),trackColor:"#f2f2f2",scaleColor:!1,lineWidth:5,size:65,lineCap:"round"},this.unsubscribe$=new f.b,this.featuresArray=[],this.backGround="#ffffff",this.foreGround="#08509d",this.showSpinner=!1,this.viewScatterPlot=!1,this.editMode=!1,this.selectedFeature=[],this.clusteringFeatures=[],this.showUpdateButton=!1,this.toggleView=!0,this.viewType="graph",this.cardColor=["#f1f8fe","#fdf4e3","#e7e3fd"],this.hideHeatMap=!0,this.hideSummary=!1,this.settingActive=1,this.featureList=[],this.selectedCluster=null,this.checkIsNumber=function(e){return"string"!=typeof e}}return r(e,[{key:"paginator",set:function(e){this.dataSource.paginator=e}},{key:"ngOnInit",value:function(){var e=this;this.project=this._localStorage.getItem("project"),this.hideSummary=!1,this.hideHeatMap=!0,this.model.showUpdateButton=!1,this.dataSource.data=this.model.modelMetaData.analysisInfo,this.dataSource.paginator=this.paginator,this._changeDetectorRef.detectChanges(),this.obs=this.dataSource.connect(),this.model.modelMetaData.clusteringGraphType="scatter",this.featureImp=""+this.model.modelMetaData.algoName,this.uniqueGraphDiv=this.model.modelMetaData.algoName+"Plot",this.heatMapDiv=this.model.modelMetaData.algoName+"PlotMap",this.clusteringFeatures=[],this.clusterErrorType=typeof this.model.modelMetaData.analysisInfo,this.training.indepVariable.length&&(this.training.edaId.edaSummary.filter((function(e){if("Integer"===e.dataType||"Categorical"===e.dataType||"Decimal"===e.dataType||"Text"===e.dataType)return e})).map((function(t){var i=e.training.indepVariable.find((function(e){return e.colName===t.colName}));i&&"undefined"!==i&&e.clusteringFeatures.push(t)})),this.featureList=this.clusteringFeatures)}},{key:"showGraphsSection",value:function(e){"Heat Map"===e.tab.textLabel?this.plotHeatMap():"Decision Tree"===e.tab.textLabel?this.plotDecisionTreePlot():"Feature Importance"===e.tab.textLabel&&(this.viewType="graph",this.plotFeatureImp())}},{key:"featureSelectionChanged",value:function(e){Or.purge(document.getElementById(this.uniqueGraphDiv)),e.length&&"Categorical"===e[0].dataType?(this.clusteringFeatures=e,this.selectedCluster=null):e.length&&"Text"===e[0].dataType?this.clusteringFeatures=e:e.length&&"Categorical"!==e[0].dataType&&"Text"!==e[0].dataType?(this.clusteringFeatures=this.featureList.filter((function(e){return"Categorical"!==e.dataType&&"Text"!==e.dataType})),this.selectedCluster=null):(this.clusteringFeatures=this.featureList,this.selectedCluster=null)}},{key:"plotFeatureImp",value:function(){var e,t,i=document.getElementById(this.featureImp),a=[],n=[];for(this.featuresArray=this.sortArryOFObjects(this.model.modelMetaData.featureImportance,"importance"),this.featuresArray.length>15&&(this.featuresArray=this.featuresArray.slice(0,15)),this.featuresArray.forEach((function(e){a.push(e.importance),n.push(e.colName)}));(null===(e=null==i?void 0:i.data)||void 0===e?void 0:e.length)>0;)Or.deleteTraces(i,[0]);t=[{type:"bar",x:a,y:n,orientation:"h"}],Or.plot(i,t,{autosize:!0,yaxis:{automargin:!0}})}},{key:"visualiseCluster",value:function(){var e=this;if(0!=this.selectedFeature.length)if(this.selectedFeature.length>2)this.showSnackBar("Please select only two features","OK");else{var t=[];"string"!==this.clusterErrorType&&this.model.modelMetaData.analysisInfo.map((function(e){t.push({clusterId:e.clusterId,clusterName:e.clusterName})}));var i=[];this.selectedFeature.map((function(e){i.push(e.colName)})),this._spinner.showSpinner();var a={algoName:this.model.modelMetaData.algoName,selectedFeatures:i||null,indexPath:this.training.edaId.indexPath,transformedDatasetPath:this.model.transformedDatasetPath,modelPath:this.model.modelMetaData.modelPath,trainPipeFileName:this.model.trainPipeFilePath,rootFileName:this.originalFileWithEdaDetails.filename};1===this.selectedFeature.length?(a.graphType="featureDistribution",a.analysisInfo=t.length?t:"none",a.fileSchema=this.originalFileWithEdaDetails.fileSchema):a.graphType="scatter",this.selectedCluster&&(a.selectedCluster=this.selectedCluster,a.graphType="scatterText"),this._models.visualiseGraph(this.training._id,this.model._id,a).pipe(Object(g.a)(this.unsubscribe$)).subscribe((function(t){if("string"!=typeof t.graphContent){e.showSpinner=!0,e.viewScatterPlot=!1;var i=document.getElementById(e.uniqueGraphDiv);t.graphContent.layout.template.layout.title.xanchor="center",t.graphContent.layout.template.layout.title.y=.9,t.graphContent.layout.template.layout.title.x=.5,t.graphContent.layout.template.layout.title.yanchor="top",t.graphContent.layout.template.layout.xaxis.gridcolor="transparent",t.graphContent.layout.template.layout.yaxis.gridcolor="transparent",t.graphContent.layout.template.layout.yaxis.zerolinecolor="transparent",t.graphContent.layout.xaxis.linecolor="black",t.graphContent.layout.yaxis.linecolor="black",Or.newPlot(i,t.graphContent.data,t.graphContent.layout),e._spinner.stopSpinner()}else t.graphContent.includes(".html")?e.openEdaReport({projectId:e.project._id,fileName:t.graphContent}):(e._spinner.stopSpinner(),e._toaster.error(t.graphContent,"Model"))}),(function(t){e._spinner.stopSpinner(),e._toaster.error(t.message,"Model")}))}else this.showSnackBar("Please select at least one features","OK")}},{key:"updateClusterData",value:function(){var e=this;this._spinner.showSpinner();var t=[];this.model.modelMetaData.analysisInfo.map((function(e){t.push({clusterId:e.clusterId,clusterName:e.clusterName})})),this._models.updateModel({analysisMap:t,modelMetaData:this.model.modelMetaData,modelId:this.model._id},this.model._id).pipe(Object(g.a)(this.unsubscribe$)).subscribe((function(t){e.trainings[0].models=e.trainings[0].models.map((function(e){return e._id===t._id&&(e.modelMetaData.analysisInfo=t.modelMetaData.analysisInfo,e.modelMetaData.modelPath=t.modelMetaData.modelPath,e.showUpdateButton=!1),e})),e.updateTrainingModels.emit(e.trainings[0].models),e.showUpdateButton=!1,e._spinner.stopSpinner()}),(function(t){e._spinner.stopSpinner(),e._toaster.error(t.message,"Model")}))}},{key:"showSummary",value:function(){this.hideSummary=!1,this.hideHeatMap=!0}},{key:"plotHeatMap",value:function(){var e=this,t=document.getElementById(this.heatMapDiv);this._spinner.showSpinner(),this.hideSummary=!0,this.hideHeatMap=!1;var i=[];this.model.modelMetaData.analysisInfo.map((function(e){i.push({clusterId:e.clusterId,clusterName:e.clusterName})})),this._models.clusterHeatMap(this.training._id,this.model._id,{analysisInfo:i,clusterStats:this.model.modelMetaData.clusterStats}).pipe(Object(g.a)(this.unsubscribe$)).subscribe((function(i){Or.newPlot(t,i.graphContent.data,i.graphContent.layout),e._spinner.stopSpinner()}),(function(t){e._toaster.error((null==t?void 0:t.message)||"Cannot generate heat map","Models"),e._spinner.stopSpinner()}))}},{key:"plotDecisionTreePlot",value:function(){var e=this;this._spinner.showSpinner();var t=[];this.model.modelMetaData.analysisInfo.map((function(e){t.push({clusterId:e.clusterId,clusterName:e.clusterName})})),this._models.clusterDecisionTree(this.training._id,this.model._id,{analysisInfo:t,treeModelOutput:this.model.modelMetaData.treeModelOutput}).pipe(Object(g.a)(this.unsubscribe$)).subscribe((function(t){t&&(e.showSpinner=!0,e.decisionTreeImage=e._sanitizer.bypassSecurityTrustResourceUrl("data:image/jpg;base64,"+t.graphContent),e._spinner.stopSpinner())}),(function(t){e._toaster.error((null==t?void 0:t.message)||"Cannot generate decision tree graph","Models"),e._spinner.stopSpinner()}))}},{key:"downloadDecisionTree",value:function(){var e=this;this._spinner.showSpinner();var t=[];this.model.modelMetaData.analysisInfo.map((function(e){t.push({clusterId:e.clusterId,clusterName:e.clusterName})})),this._models.clusterDecisionTree(this.training._id,this.model._id,{analysisInfo:t,operation:"download",treeModelOutput:this.model.modelMetaData.treeModelOutput}).pipe(Object(g.a)(this.unsubscribe$)).subscribe((function(t){e._spinner.stopSpinner(),t.graphContent?window.open("".concat(c.a.serverBaseUrl,"/api/projects/").concat(e.model.projectId,"/decisionTree/download/").concat(t.graphContent),"_blank"):e._toaster.error(t.graphContent||"Cannot download decision tree","Models")}),(function(t){var i;e._toaster.error((null===(i=t.error)||void 0===i?void 0:i.message)||"Cannot download decision tree","Models"),e._spinner.stopSpinner()}))}},{key:"togglePlot",value:function(){"featureImp"===this.model.modelMetaData.clusteringGraphType?(this.viewType="graph",this.plotFeatureImp()):"scatter"===this.model.modelMetaData.clusteringGraphType?this.viewScatterPlot=!0:"decisionTree"===this.model.modelMetaData.clusteringGraphType&&this.plotDecisionTreePlot()}},{key:"onFocusOut",value:function(e,t){" "!==e[0]?""!==e?e.length>20?this.showSnackBar("Cluster name max length is 20 characters","OK"):!1!==/^[^\s][A-Za-z0-9_\- ]+$/.test(e)?"number"!=typeof+e||isNaN(+e)?this.model.modelMetaData.analysisInfo.filter((function(t){return t.clusterName===e})).length>0?(this.model.showUpdateButton=!1,this.showSnackBar("Cluster name cannot be duplicate","OK")):(this.model.modelMetaData.analysisInfo[t].clusterName=e,this.model.showUpdateButton=!0):this.showSnackBar("Cluster name can not have only numeric value","OK"):this.showSnackBar("Invalid cluster name.Only _ and - are supported","OK"):this.showSnackBar("Cluster name cannot be blank","OK"):this.showSnackBar("Cluster name cannot contain space","OK")}},{key:"viewClusterFaq",value:function(e,t){this._spinner.showSpinner(),this.dialogRef=this._dialog.open(e,{width:"80%"}),this._spinner.stopSpinner()}},{key:"closeModal",value:function(e){this.dialogRef.close(e)}},{key:"openEdaReport",value:function(e){var t=this;this._dialog.open(Xo.a,{data:{moduleName:"cluster",edaReportData:e},maxHeight:"95vh",minWidth:"95vw"}).afterOpened().subscribe((function(e){t._spinner.stopSpinner()}))}},{key:"showSnackBar",value:function(e,t){this.snackBarRef=this._snackBar.open(e,t,{horizontalPosition:"right",verticalPosition:"bottom"})}},{key:"sortArryOFObjects",value:function(e,t){return e.sort((function(e,i){return i[t]-e[t]})),e}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(!1),this.unsubscribe$.unsubscribe(),this.dataSource&&this.dataSource.disconnect()}}]),e}()).\u0275fac=function(e){return new(e||wr)(h.Nb(M.a),h.Nb(y.a),h.Nb(T.c),h.Nb(I.c),h.Nb(nt.a),h.Nb(on.a),h.Nb(Jo.b),h.Nb(h.h),h.Nb(p.c),h.Nb(v.a))},wr.\u0275cmp=h.Hb({type:wr,selectors:[["app-cluster-expansion"]],viewQuery:function(e,t){var i;1&e&&h.Oc(Qo.a,!0),2&e&&h.sc(i=h.bc())&&(t.paginator=i.first)},inputs:{training:"training",model:"model",originalFileWithEdaDetails:"originalFileWithEdaDetails",trainings:"trainings"},outputs:{updateTrainingModels:"updateTrainingModels"},decls:4,vars:2,consts:[["class","pb-3 horizontal","mat-align-tabs","center","dynamicHeight","",4,"ngIf"],["class","p-3 text-center text-danger",4,"ngIf"],["clusterTemplate",""],["mat-align-tabs","center","dynamicHeight","",1,"pb-3","horizontal"],[4,"ngIf"],["mat-tab-label",""],["class","vertical mt-2",3,"selectedTabChange",4,"ngIf"],[3,"matTooltip"],[1,"vertical","mt-2",3,"selectedTabChange"],["label","Summary"],[1,"row","pt-3","ml-2","pr-4"],["class","col-md-4 px-2 mb-2 d-flex",4,"ngFor","ngForOf"],[1,"row"],[1,"col-md-6"],[1,"col-md-12",3,"pageSizeOptions"],["label","Heat Map",3,"disabled"],[1,"row","p-3"],[1,"col-md-12"],[1,"d-flex","justify-content-center",3,"id"],["label","Decision Tree",3,"disabled",4,"ngIf"],["label","Feature Importance",3,"disabled",4,"ngIf"],[1,"col-md-4","px-2","mb-2","d-flex"],[1,"card-body","p-2","w-100","bgc",3,"ngStyle"],[1,"col-md-4","card-body","p-2"],["easypiechart","",1,"easypie-chart","text-center",3,"options","percent","matTooltip"],[2,"font-size","0.9rem"],[1,"col-md-8","p-2","card-body"],["appearance","outline",1,"clusterInput","rulesfont","mt-1"],["for","clusterName"],["matInput","","type","text","name","clusterName",3,"value","id","focus","keydown.enter","change","focusout"],["clusterName",""],["class","col-md-12 float-left rulesfont mb-3",3,"matTooltip",4,"ngFor","ngForOf"],[1,"col-md-12","float-left","rulesfont","mb-3",3,"matTooltip"],[1,"bullet-font"],["mat-raised-button","","type","submit",1,"btn-primary","ml-5","mt-3",3,"click"],["label","Decision Tree",3,"disabled"],["mat-flat-button","","type","submit",1,"btn-primary",2,"float","right","margin-right","15px",3,"click"],[1,"d-flex","justify-content-center","overflowDiv","mt-5"],["alt","Decision Tree",1,"imgObj",3,"src"],["label","Feature Importance",3,"disabled"],[1,"text-right","offset-8","ml-5"],[1,"",3,"ngModel","ngModelChange","change"],["value","graph"],[1,"mr-2"],["value","table"],[1,"ml-5","offset-1",3,"hidden"],[1,"d-flex","flex-row","justify-content-center",3,"id"],[1,"ml-5",3,"hidden"],[1,"table","table-bordered","mx-auto","w-100","mt-4"],[1,"thead-dark","bg-primary"],[4,"ngFor","ngForOf"],["class","col-md-12",4,"ngIf"],[1,"p-3","text-center","text-danger"],[1,"row","mx-auto","my-4"],[1,"col-md-4"],["appearance","outline"],["for","eda file"],["multiple","",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","col-md-4",4,"ngIf"],[1,"col-md-2","mt-3"],["mat-stroked-button","",3,"disabled","click",4,"ngIf"],["class","col-md-2 mt-3",4,"ngIf"],[3,"value"],["required","",3,"ngModel","ngModelChange"],["mat-stroked-button","",3,"disabled","click"],["mat-flat-button","",1,"btn-primary",3,"click"],[1,"row","my-5","text-center"],[1,"col-md-4","border-right",3,"matTooltip"],[1,"h1","m0","text-bold"],[1,"text-uppercase"],[1,"col-md-4",3,"matTooltip"],["mat-dialog-title",""],[1,"mat-typography","preview-data-section","mb-3"],[1,"my-3",3,"expanded"],[1,"justify-content-end","m-auto"],["mat-stroked-button","","mat-dialog-close","","color","basic"]],template:function(e,t){1&e&&(h.Ic(0,Br,4,3,"mat-tab-group",0),h.Ic(1,Dr,3,1,"div",1),h.Ic(2,Fr,37,1,"ng-template",null,2,h.Jc)),2&e&&(h.kc("ngIf",!t.model.modelMetaData.hasOwnProperty("errorMsg")||null===(null==t.model.modelMetaData?null:t.model.modelMetaData.errorMsg)),h.Bb(1),h.kc("ngIf",null!==(null==t.model.modelMetaData?null:t.model.modelMetaData.errorMsg)))},directives:[B.t,un.c,un.a,un.d,w.g,L.b,B.s,Qo.a,B.w,dn.a,w.c,K.b,D.b,lt.a,rt.b,m.u,m.x,rt.a,w.f,C.a,x.o,m.F,p.j,p.g,_t.a,_t.c,_t.g,_t.f,p.d,p.e],pipes:[B.b,B.g],styles:[".bgc[_ngcontent-%COMP%]{box-shadow:unset;background-color:#eff7ff}.bgc[_ngcontent-%COMP%]:hover{box-shadow:0 0 12px 0 #07509d;cursor:pointer}.easypie-chart[_ngcontent-%COMP%]{width:100px!important}.easypie-chart[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px!important;top:53%!important}.overflowDiv[_ngcontent-%COMP%]{overflow-y:auto}.rulesfont[_ngcontent-%COMP%]{font-size:smaller}.imgObj[_ngcontent-%COMP%]{height:auto;max-width:100%;-o-object-fit:cover;object-fit:cover}.sticky-button[_ngcontent-%COMP%]{position:fixed;bottom:45px;right:55px;z-index:1}.sticky-button[_ngcontent-%COMP%]   .start-eda-btn[_ngcontent-%COMP%]{font-size:22px;height:52px;width:110%!important}.sticky-button[_ngcontent-%COMP%]   .start-eda-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:30px;font-size:30px;width:30px;margin-right:10px}.float-button[_ngcontent-%COMP%]{transform:rotate(90deg)}.margin-float[_ngcontent-%COMP%]{margin-top:100%}.clusterInput[_ngcontent-%COMP%]{width:90%}[_nghost-%COMP%]     .mat-tab-group .vertical{flex-direction:row}[_nghost-%COMP%]     .vertical .mat-tab-labels{flex-direction:column}[_nghost-%COMP%]     .vertical .mat-card-header-text{flex:auto}[_nghost-%COMP%]     .vertical .mat-tab-header{border-bottom:none}[_nghost-%COMP%]     .vertical .mat-tab-header-pagination{display:none!important}[_nghost-%COMP%]     .vertical .mat-tab-label{margin-top:15px;height:48px;padding:0;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:100px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative;font-size:12px}[_nghost-%COMP%]     .vertical .mat-ink-bar{display:none}[_nghost-%COMP%]     .vertical .mat-tab-label-active{border-right:3px solid #08509d;opacity:1!important;background:none}[_nghost-%COMP%]     .vertical .mat-tab-body{min-width:870px}"]}),wr);function xr(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",19),h.ac("click",(function(){h.wc(i);var e=h.ec(2),t=h.tc(17);return e.openScoringDataTemplate(t)})),h.Kc(1," Upload Scoring Data "),h.Sb()}if(2&e){var a=h.ec(2);h.kc("matTooltip",a._utils.getTootip("uploadScoringData"))}}function Kr(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",19),h.ac("click",(function(){return h.wc(i),h.ec(2).openQuickPredictionDialog()})),h.Kc(1," Quick Prediction "),h.Sb()}if(2&e){var a=h.ec(2);h.kc("matTooltip",a._utils.getTootip("quickPrediction"))}}function Nr(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",17),h.ac("click",(function(){return h.wc(i),h.ec(2).openGraphDialog("compareModel")})),h.Tb(1,"span",18),h.Kc(2,"Compare Models"),h.Sb(),h.Sb()}if(2&e){var a=h.ec(2);h.kc("matTooltip",a._utils.getTootip("compareModels"))("disabled",!("saas"!==a.appType||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("super_admin")||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("admin")||a.allowedModelOptions.includes("compareModels"))),h.Bb(1),h.kc("matBadgeIcon",a.allowedModelOptions.includes("compareModels")?"":"ENT")("ngClass","enterprise"===a.appType||"saas"===a.appType&&(null!=a.user&&null!=a.user.roles&&a.user.roles.includes("super_admin")||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("admin"))||a.allowedModelOptions.includes("compareModels")?"":"text-muted disable-Btn")}}function Pr(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",20),h.ac("click",(function(){return h.wc(i),h.ec(2).openGraphDialog("featureScore")})),h.Kc(1," Feature Score "),h.Sb()}if(2&e){var a=h.ec(2);h.kc("matTooltip",a._utils.getTootip("featureScore"))("hidden","none"===(null==a.trainings[0]?null:a.trainings[0].predictiveModelingInfo.featureSelectionMethod))}}function Ar(e,t){if(1&e){var i=h.Ub();h.Tb(0,"span",13),h.Ic(1,xr,2,1,"button",14),h.Ic(2,Kr,2,1,"button",14),h.Ic(3,Nr,3,4,"button",15),h.Ic(4,Pr,2,2,"button",16),h.Tb(5,"button",17),h.ac("click",(function(){return h.wc(i),h.ec().openPipelineDialog()})),h.Tb(6,"span",18),h.Kc(7,"Pipeline"),h.Sb(),h.Sb(),h.Sb()}if(2&e){var a=h.ec();h.Bb(1),h.kc("ngIf","predictive_modeling"===a.project.type&&(null==a.modelSupported?null:a.modelSupported.length)),h.Bb(1),h.kc("ngIf","timeseries"!==a.project.type&&(null==a.modelSupported?null:a.modelSupported.length)),h.Bb(1),h.kc("ngIf","predictive_modeling"===a.project.type&&(null==a.trainings[0]||null==a.trainings[0].models?null:a.trainings[0].models.length)>1),h.Bb(1),h.kc("ngIf","predictive_modeling"===a.project.type),h.Bb(1),h.kc("matTooltip",a._utils.getTootip("pipeline"))("disabled",!("saas"!==a.appType||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("super_admin")||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("admin")||"basic"!==(null==a.user?null:a.user.planType)||a.allowedModelOptions.includes("pipeline"))),h.Bb(1),h.kc("matBadgeIcon",a.allowedModelOptions.includes("pipeline")?"":"PRO")("ngClass","enterprise"===a.appType||"saas"===a.appType&&(null!=a.user&&null!=a.user.roles&&a.user.roles.includes("super_admin")||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("admin"))||a.allowedModelOptions.includes("pipeline")?"":"text-muted disable-Btn")}}var Lr=function(){return["/project/training"]};function Rr(e,t){1&e&&(h.Tb(0,"h4",21),h.Kc(1," You haven't trained any models yet, "),h.Tb(2,"a",22),h.Kc(3,"train it now."),h.Sb(),h.Sb()),2&e&&(h.Bb(2),h.kc("routerLink",h.mc(1,Lr)))}function Er(e,t){if(1&e&&(h.Tb(0,"mat-option",37),h.Kc(1),h.fc(2,"date"),h.Sb()),2&e){var i=t.$implicit,a=t.index;h.kc("value",i._id),h.Bb(1),h.Nc("Training ",a+1," - ",h.hc(2,3,i.createdAt,"dd/MM/yy h:mm a")," ")}}function qr(e,t){1&e&&(h.Tb(0,"mat-error"),h.Kc(1," Please select any one training. "),h.Sb())}function jr(e,t){if(1&e&&(h.Tb(0,"mat-option",37),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.kc("value",i.id),h.Bb(1),h.Mc(" ",i.name," ")}}function $r(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div",38),h.Tb(1,"mat-form-field",28),h.Tb(2,"mat-label"),h.Kc(3,"Select a filter"),h.Sb(),h.Tb(4,"mat-select",39),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec(2).filter[0]=e}))("selectionChange",(function(e){return h.wc(i),h.ec(2).filterChanged(e.value)})),h.Ic(5,jr,2,2,"mat-option",30),h.Sb(),h.Sb(),h.Sb()}if(2&e){var a=h.ec(2);h.Bb(4),h.kc("ngModel",a.filter[0]),h.Bb(1),h.kc("ngForOf",a.filtersArray)}}function Ur(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",42),h.ac("click",(function(){return h.wc(i),h.ec(3).filterSortOrderChanged("desc")})),h.Ob(1,"i",43),h.Sb()}}function Gr(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",42),h.ac("click",(function(){return h.wc(i),h.ec(3).filterSortOrderChanged("asc")})),h.Ob(1,"i",44),h.Sb()}}function Vr(e,t){if(1&e&&(h.Tb(0,"div",40),h.Ic(1,Ur,2,0,"button",41),h.Ic(2,Gr,2,0,"button",41),h.Sb()),2&e){var i=h.ec(2);h.Bb(1),h.kc("ngIf","asc"===i.filterSortOrder),h.Bb(1),h.kc("ngIf","desc"===i.filterSortOrder)}}function Hr(e,t){if(1&e&&(h.Tb(0,"div",45),h.Tb(1,"mat-chip-list"),h.Tb(2,"mat-chip"),h.Tb(3,"mat-icon",46),h.Kc(4,"noise_aware"),h.Sb(),h.Kc(5),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(2);h.Bb(5),h.Mc("",i.target," ")}}function zr(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div",23),h.Tb(1,"div",24),h.Ob(2,"i"),h.Tb(3,"div"),h.Tb(4,"h5"),h.Kc(5),h.Sb(),h.Tb(6,"h5",25),h.Kc(7),h.fc(8,"dropFileExtension"),h.fc(9,"dropFileExtension"),h.Sb(),h.Sb(),h.Sb(),h.Tb(10,"div",26),h.Tb(11,"div",27),h.Tb(12,"mat-form-field",28),h.Tb(13,"mat-label"),h.Kc(14,"Select a training"),h.Sb(),h.Tb(15,"mat-select",29),h.ac("selectionChange",(function(e){return h.wc(i),h.ec().trainingChanged(e.value)})),h.Ic(16,Er,3,6,"mat-option",30),h.Sb(),h.Ic(17,qr,2,0,"mat-error",31),h.Sb(),h.Sb(),h.Tb(18,"button",32),h.ac("click",(function(){return h.wc(i),h.ec().deleteTraining()})),h.Ob(19,"i",33),h.Sb(),h.Ic(20,$r,6,2,"div",34),h.Ic(21,Vr,3,2,"div",35),h.Sb(),h.Ic(22,Hr,6,1,"div",36),h.Sb()}if(2&e){var a=h.ec();h.Bb(2),h.Db(a.showTrainingSpinner?"fas fa-cog fa-spin fa-2x mr-3":"fas fa-check-circle fa-2x mr-3"),h.Bb(3),h.Nc("",null==a.trainings[0]||null==a.trainings[0].models?null:a.trainings[0].models.length,"/",a.totalAlgos," Models generated"),h.Bb(2),h.Mc(" ",a.currentModelMeta.name?h.hc(8,12,a.currentModelMeta.fileName,"file"):h.hc(9,15,a.currentModelMeta.fileName,"file")," "),h.Bb(8),h.kc("formControl",a.selectedTrainingControl),h.Bb(1),h.kc("ngForOf",a.trainingList),h.Bb(1),h.kc("ngIf",a.selectedTrainingControl.hasError("required")&&(a.selectedTrainingControl.dirty||a.selectedTrainingControl.touched)),h.Bb(3),h.kc("ngIf","predictive_modeling"===a.project.type&&a.filter),h.Bb(1),h.kc("ngIf","predictive_modeling"===a.project.type&&a.filter),h.Bb(1),h.kc("ngIf","clustering"!==a.project.type)}}function Wr(e,t){1&e&&h.Ob(0,"i",68)}function Qr(e,t){if(1&e&&(h.Tb(0,"div",69),h.fc(1,"number"),h.Tb(2,"span"),h.Kc(3),h.fc(4,"number"),h.Sb(),h.Sb()),2&e){var i=h.ec().$implicit,a=h.ec(3);h.kc("options",a.pieOptions1)("percent",h.hc(1,4,100*i.modelMetaData.holdout.overallScore,"1.2-2"))("matTooltip",a._utils.getTootip("overallScore")),h.Bb(3),h.Mc("",h.hc(4,7,100*i.modelMetaData.holdout.overallScore,"1.2-2"),"%")}}function Yr(e,t){if(1&e&&(h.Tb(0,"span",70),h.Kc(1),h.fc(2,"number"),h.Sb()),2&e){var i=h.ec().$implicit,a=h.ec(3);h.kc("matTooltip",a._utils.getTootip("trainingTime")),h.Bb(1),h.Mc(" (",h.hc(2,2,i.modelMetaData.timeElapsed,"1.2-2")," sec) ")}}function Xr(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",71),h.ac("click",(function(e){h.wc(i);var t=h.ec().$implicit,a=h.ec().$implicit,n=h.ec(2),o=h.tc(19);return n.openRejectedroup(o,a,t),e.stopPropagation()})),h.Tb(1,"mat-icon"),h.Kc(2,"receipt"),h.Sb(),h.Sb()}if(2&e){var a=h.ec().$implicit,n=h.ec(3);h.kc("matTooltip",n._utils.getTootip("rejectedGroups"))("disabled",!1===(null==a.graphSupported?null:a.graphSupported.status)||!0===(null==a.graphSupported?null:a.graphSupported.isDeleted))}}function Jr(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",71),h.ac("click",(function(e){h.wc(i);var t=h.ec().$implicit,a=h.ec().$implicit;return h.ec(2).openGraphDialog("analysis",a,t,"development"),e.stopPropagation()})),h.Tb(1,"mat-icon"),h.Kc(2,"insert_chart_outlined"),h.Sb(),h.Sb()}if(2&e){var a=h.ec().$implicit,n=h.ec(3);h.kc("matTooltip",n._utils.getTootip("analysisReport"))("disabled",!1===(null==a.graphSupported?null:a.graphSupported.status)||!0===(null==a.graphSupported?null:a.graphSupported.isDeleted))}}function Zr(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",72),h.ac("click",(function(e){h.wc(i);var t=h.ec().$implicit,a=h.ec().$implicit;return h.ec(2).openFormDialog("retrain",a,t),e.stopPropagation()})),h.Tb(1,"mat-icon",73),h.Kc(2," loop"),h.Sb(),h.Sb()}if(2&e){var a=h.ec().$implicit,n=h.ec(3);h.kc("disabled",!(("saas"!==n.appType||null!=n.user&&null!=n.user.roles&&n.user.roles.includes("super_admin")||null!=n.user&&null!=n.user.roles&&n.user.roles.includes("admin")||n.allowedModelOptions.includes("retrain"))&&!1!==(null==a.graphSupported?null:a.graphSupported.status)&&!0!==(null==a.graphSupported?null:a.graphSupported.isDeleted))),h.Bb(1),h.kc("matBadgeIcon",n.allowedModelOptions.includes("retrain")?"":"ENT")("matTooltip",n._utils.getTootip("retrain"))("ngClass","enterprise"===n.appType||"saas"===n.appType&&(null!=n.user&&null!=n.user.roles&&n.user.roles.includes("super_admin")||null!=n.user&&null!=n.user.roles&&n.user.roles.includes("admin"))||n.allowedModelOptions.includes("retrain")?"":"disable-Btn")}}function el(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",74),h.ac("click",(function(e){h.wc(i);var t=h.ec().$implicit,a=h.ec().$implicit;return h.ec(2).openFormDialog("tuning",a,t),e.stopPropagation()})),h.Tb(1,"mat-icon"),h.Kc(2,"replay"),h.Sb(),h.Sb()}if(2&e){var a=h.ec().$implicit;h.kc("disabled",!1===(null==a.graphSupported?null:a.graphSupported.status)||!0===(null==a.graphSupported?null:a.graphSupported.isDeleted)||!1===(null==a.graphSupported?null:a.graphSupported.hpt))}}function tl(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div"),h.Tb(1,"button",72),h.ac("click",(function(e){h.wc(i);var t=h.ec().$implicit,a=h.ec().$implicit;return h.ec(2).downloadModel("multi-model",a,t),e.stopPropagation()})),h.Tb(2,"mat-icon",75),h.Kc(3,"sim_card_download"),h.Sb(),h.Sb(),h.Tb(4,"button",72),h.ac("click",(function(e){h.wc(i);var t=h.ec().$implicit,a=h.ec().$implicit,n=h.ec(2),o=h.tc(15);return n.deployModel(o,"multi-model",a,t),e.stopPropagation()})),h.Tb(5,"mat-icon",76),h.Kc(6," cloud_upload"),h.Sb(),h.Sb(),h.Tb(7,"button",77),h.ac("click",(function(e){h.wc(i);var t=h.ec().$implicit,a=h.ec().$implicit;return h.ec(2).deleteModel(t,a),e.stopPropagation()})),h.Tb(8,"mat-icon"),h.Kc(9,"delete"),h.Sb(),h.Sb(),h.Sb()}if(2&e){var a=h.ec().$implicit,n=h.ec(3);h.Bb(1),h.kc("disabled",!(("saas"!==n.appType||null!=n.user&&null!=n.user.roles&&n.user.roles.includes("super_admin")||null!=n.user&&null!=n.user.roles&&n.user.roles.includes("admin")||n.allowedModelOptions.includes("downloadModel"))&&!1!==(null==a.graphSupported?null:a.graphSupported.status)&&!0!==(null==a.graphSupported?null:a.graphSupported.isDeleted))),h.Bb(1),h.kc("matBadgeIcon",n.allowedModelOptions.includes("downloadModel")?"":"ENT")("ngClass","enterprise"===n.appType||"saas"===n.appType&&(null!=n.user&&null!=n.user.roles&&n.user.roles.includes("super_admin")||null!=n.user&&null!=n.user.roles&&n.user.roles.includes("admin"))||n.allowedModelOptions.includes("downloadModel")?"":"disable-Btn"),h.Bb(2),h.kc("disabled",!(("saas"!==n.appType||null!=n.user&&null!=n.user.roles&&n.user.roles.includes("super_admin")||null!=n.user&&null!=n.user.roles&&n.user.roles.includes("admin")||n.allowedModelOptions.includes("deployModel"))&&!1!==(null==a.graphSupported?null:a.graphSupported.status)&&!0!==(null==a.graphSupported?null:a.graphSupported.isDeleted))),h.Bb(1),h.kc("matBadgeIcon",n.allowedModelOptions.includes("deployModel")?"":"ENT")("ngClass","enterprise"===n.appType||"saas"===n.appType&&(null!=n.user&&null!=n.user.roles&&n.user.roles.includes("super_admin")||null!=n.user&&null!=n.user.roles&&n.user.roles.includes("admin"))||n.allowedModelOptions.includes("deployModel")?"":"disable-Btn"),h.Bb(2),h.kc("disabled",!1===(null==a.graphSupported?null:a.graphSupported.status)||!0===(null==a.graphSupported?null:a.graphSupported.isDeleted))}}function il(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",78),h.ac("click",(function(e){return h.wc(i),e.stopPropagation()})),h.Tb(1,"mat-icon"),h.Kc(2,"more_vert"),h.Sb(),h.Sb()}if(2&e){var a=h.ec().$implicit,n=h.tc(20);h.kc("matMenuTriggerFor",n)("disabled",!1===(null==a.graphSupported?null:a.graphSupported.status)||!0===(null==a.graphSupported?null:a.graphSupported.isDeleted))}}function al(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",79),h.ac("click",(function(){h.wc(i);var e=h.ec().$implicit,t=h.ec().$implicit;return h.ec(2).openGraphDialog("featureCoeff",t,e)})),h.Tb(1,"mat-icon"),h.Kc(2,"leaderboard"),h.Sb(),h.Tb(3,"span"),h.Kc(4,"Feature coefficient graph"),h.Sb(),h.Sb()}if(2&e){var a=h.ec(4);h.kc("matTooltip",a._utils.getTootip("featureCoefficient"))}}function nl(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",79),h.ac("click",(function(){h.wc(i);var e=h.ec().$implicit,t=h.ec().$implicit;return h.ec(2).openGraphDialog("featureImp",t,e)})),h.Tb(1,"mat-icon"),h.Kc(2,"leaderboard"),h.Sb(),h.Tb(3,"span"),h.Kc(4,"Feature importance"),h.Sb(),h.Sb()}if(2&e){var a=h.ec(4);h.kc("matTooltip",a._utils.getTootip("featureImportance"))}}function ol(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",80),h.ac("click",(function(){h.wc(i);var e=h.ec().$implicit,t=h.ec().$implicit;return h.ec(2).openGraphDialog("decisionTree",t,e)})),h.Tb(1,"span",81),h.Tb(2,"mat-icon",82),h.Kc(3," account_tree"),h.Sb(),h.Kc(4,"Decision tree graph "),h.Sb(),h.Sb()}if(2&e){var a=h.ec(4);h.kc("matTooltip",a._utils.getTootip("decisionTree"))("disabled",!("saas"!==a.appType||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("super_admin")||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("admin")||"basic"!==(null==a.user?null:a.user.planType)||a.allowedModelOptions.includes("decisionTree"))),h.Bb(1),h.kc("matBadgeIcon",a.allowedModelOptions.includes("decisionTree")?"":"PRO"),h.Bb(1),h.kc("ngClass","enterprise"===a.appType||"saas"===a.appType&&(null!=a.user&&null!=a.user.roles&&a.user.roles.includes("super_admin")||null!=a.user&&null!=a.user.roles&&a.user.roles.includes("admin"))||a.allowedModelOptions.includes("decisionTree")?"":"text-muted")}}function rl(e,t){if(1&e){var i=h.Ub();h.Tb(0,"button",83),h.ac("click",(function(){h.wc(i);var e=h.ec().$implicit,t=h.ec().$implicit;return h.ec(2).isAdvAlogSupported(t,e)})),h.Tb(1,"span",81),h.Tb(2,"mat-icon",82),h.Kc(3," assignment"),h.Sb(),h.Kc(4,"Advance algorithm "),h.Sb(),h.Sb()}if(2&e){var a=h.ec().$implicit,n=h.ec(3);h.kc("hidden",0==a.isAlgoSupported||1==n.disableBagging&&1==n.disableBoosting)("disabled",!("saas"!==n.appType||null!=n.user&&null!=n.user.roles&&n.user.roles.includes("super_admin")||null!=n.user&&null!=n.user.roles&&n.user.roles.includes("admin")||"basic"!==(null==n.user?null:n.user.planType)||n.allowedModelOptions.includes("advanceAlgorithm"))),h.Bb(1),h.kc("matBadgeIcon",n.allowedModelOptions.includes("advanceAlgorithm")?"":"PRO"),h.Bb(1),h.kc("ngClass","enterprise"===n.appType||"saas"===n.appType&&(null!=n.user&&null!=n.user.roles&&n.user.roles.includes("super_admin")||null!=n.user&&null!=n.user.roles&&n.user.roles.includes("admin"))||n.allowedModelOptions.includes("advanceAlgorithm")?"":"text-muted disable-Btn")}}function ll(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div"),h.Tb(1,"app-predictive-expansion",84),h.ac("updateTrainingModels",(function(e){return h.wc(i),h.ec(4).updateTrainingModels(e)})),h.Sb(),h.Sb()}if(2&e){var a=h.ec().$implicit,n=h.ec().$implicit,o=h.ec(2);h.Bb(1),h.kc("training",n)("model",a)("originalFileWithEdaDetails",o.originalFileWithEdaDetails)("trainings",o.trainings)}}function sl(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div"),h.Tb(1,"app-timeseries-expansion",85),h.ac("updateTrainingModels",(function(e){return h.wc(i),h.ec(4).updateTrainingModels(e)})),h.Sb(),h.Sb()}if(2&e){var a=h.ec().$implicit,n=h.ec().$implicit,o=h.ec(2);h.Bb(1),h.kc("training",n)("model",a)("originalFileWithEdaDetails",o.originalFileWithEdaDetails)}}function cl(e,t){if(1&e){var i=h.Ub();h.Tb(0,"div"),h.Tb(1,"app-cluster-expansion",86),h.ac("updateTrainingModels",(function(e){return h.wc(i),h.ec(4).updateTrainingModels(e)})),h.Sb(),h.Sb()}if(2&e){var a=h.ec().$implicit,n=h.ec().$implicit,o=h.ec(2);h.Bb(1),h.kc("training",n)("model",a)("trainings",o.trainings)("originalFileWithEdaDetails",o.originalFileWithEdaDetails)}}function dl(e,t){if(1&e){var i=h.Ub();h.Tb(0,"mat-accordion",51),h.Ic(1,Wr,1,0,"i",52),h.Tb(2,"mat-expansion-panel",53),h.Tb(3,"mat-expansion-panel-header",54),h.Tb(4,"mat-panel-title"),h.Ic(5,Qr,5,10,"div",55),h.Tb(6,"h4",56),h.Kc(7),h.Sb(),h.Tb(8,"h4",57),h.Kc(9),h.Ic(10,Yr,3,5,"span",58),h.Tb(11,"i",59),h.ac("click",(function(e){h.wc(i);var a=t.$implicit;return h.ec(3).getAlgoDouUrl(a.modelMetaData.algoName),e.stopPropagation()})),h.Sb(),h.Sb(),h.Sb(),h.Tb(12,"mat-panel-description"),h.Ic(13,Xr,3,2,"button",60),h.Ic(14,Jr,3,2,"button",60),h.Ic(15,Zr,3,4,"button",61),h.Ic(16,el,3,1,"button",62),h.Ic(17,tl,10,7,"div",31),h.Ic(18,il,3,2,"button",63),h.Tb(19,"mat-menu",null,64),h.Ic(21,al,5,1,"button",65),h.Ic(22,nl,5,1,"button",65),h.Ic(23,ol,5,4,"button",66),h.Ic(24,rl,5,4,"button",67),h.Sb(),h.Sb(),h.Sb(),h.Ic(25,ll,2,4,"div",31),h.Ic(26,sl,2,3,"div",31),h.Ic(27,cl,2,4,"div",31),h.Sb(),h.Sb()}if(2&e){var a=t.$implicit,n=t.index,o=h.ec().$implicit,r=h.ec(2);h.Bb(1),h.kc("ngIf",0===n&&"overallScore"===r.filter[0]&&"desc"===r.filterSortOrder&&"predictive_modeling"===r.project.type),h.Bb(1),h.kc("hideToggle",!0)("disabled",!1===(null==a.graphSupported?null:a.graphSupported.status)||!0===(null==a.graphSupported?null:a.graphSupported.isDeleted)),h.Bb(1),h.kc("collapsedHeight","105px")("expandedHeight","105px"),h.Bb(2),h.kc("ngIf","predictive_modeling"===r.project.type),h.Bb(2),h.Lc(n+1),h.Bb(1),h.Fc("color",0===n&&"overallScore"===r.filter[0]&&"desc"===r.filterSortOrder&&"predictive_modeling"===r.project.type?"#08509d":""),h.Bb(1),h.Nc(" ",o.name," - ",a.modelMetaData.algoName," "),h.Bb(1),h.kc("ngIf",a.modelMetaData.timeElapsed),h.Bb(3),h.kc("ngIf","timeseries"===r.project.type&&o.edaId.isMultipleTimeseries&&(null==r.rejectedGroupList?null:r.rejectedGroupList.length)),h.Bb(1),h.kc("ngIf","predictive_modeling"!==r.project.type),h.Bb(1),h.kc("ngIf",!r.project.useGPU&&"predictive_modeling"===r.project.type),h.Bb(1),h.kc("ngIf","clustering"!==r.project.type&&"Random Forest"!==a.modelMetaData.algoName&&"Linear Regression Ts"!==a.modelMetaData.algoName),h.Bb(1),h.kc("ngIf",!r.project.useGPU),h.Bb(1),h.kc("ngIf","predictive_modeling"===r.project.type&&(1==(null==a.graphSupported?null:a.graphSupported.advancedOpt.featureCoeff)||1==(null==a.graphSupported?null:a.graphSupported.advancedOpt.featureImp)||1==(null==a.graphSupported?null:a.graphSupported.advancedOpt.decisionTreeGraph)||1==(null==a.graphSupported?null:a.graphSupported.advancedOpt.advancedAlgo))),h.Bb(3),h.kc("ngIf",null==a.graphSupported||null==a.graphSupported.advancedOpt?null:a.graphSupported.advancedOpt.featureCoeff),h.Bb(1),h.kc("ngIf",null==a.graphSupported||null==a.graphSupported.advancedOpt?null:a.graphSupported.advancedOpt.featureImp),h.Bb(1),h.kc("ngIf",1==(null==a.graphSupported||null==a.graphSupported.advancedOpt?null:a.graphSupported.advancedOpt.decisionTreeGraph)),h.Bb(1),h.kc("ngIf",!r.project.useGPU&&!o.isMultilabel&&1==(null==a.graphSupported||null==a.graphSupported.advancedOpt?null:a.graphSupported.advancedOpt.advancedAlgo)),h.Bb(1),h.kc("ngIf","predictive_modeling"===r.project.type),h.Bb(1),h.kc("ngIf","timeseries"===r.project.type),h.Bb(1),h.kc("ngIf","clustering"===r.project.type)}}function ul(e,t){if(1&e&&(h.Tb(0,"div",49),h.Ic(1,dl,28,25,"mat-accordion",50),h.Sb()),2&e){var i=t.$implicit;h.Bb(1),h.kc("ngForOf",null==i?null:i.models)}}function bl(e,t){if(1&e&&(h.Tb(0,"div",47),h.Ic(1,ul,2,1,"div",48),h.Sb()),2&e){var i=h.ec();h.Bb(1),h.kc("ngForOf",i.trainings)("ngForTrackBy",i.trackByFn)}}function pl(e,t){if(1&e){var i=h.Ub();h.Tb(0,"h2",87),h.Kc(1,"Download Model"),h.Sb(),h.Tb(2,"mat-dialog-content",88),h.Tb(3,"mat-checkbox",89),h.Kc(4," For PsLite (optional)"),h.Sb(),h.Sb(),h.Tb(5,"mat-dialog-actions",90),h.Tb(6,"button",91),h.Kc(7,"Close"),h.Sb(),h.Tb(8,"button",92),h.ac("click",(function(){return h.wc(i),h.ec().downloadModelFile()})),h.Kc(9," Download "),h.Sb(),h.Sb()}if(2&e){var a=h.ec();h.Bb(3),h.kc("formControl",a.psType)}}function ml(e,t){if(1&e&&(h.Tb(0,"mat-option",37),h.Kc(1),h.Sb()),2&e){var i=t.$implicit;h.kc("value",i),h.Bb(1),h.Lc(i.hostName)}}function gl(e,t){if(1&e&&(h.Tb(0,"div",98),h.Tb(1,"table",99),h.Tb(2,"colgroup"),h.Ob(3,"col",100),h.Ob(4,"col",101),h.Sb(),h.Tb(5,"thead"),h.Tb(6,"tr"),h.Tb(7,"th"),h.Kc(8,"Host Name"),h.Sb(),h.Tb(9,"th"),h.Kc(10,"Host Url"),h.Sb(),h.Sb(),h.Sb(),h.Tb(11,"tbody"),h.Tb(12,"tr"),h.Tb(13,"td"),h.Kc(14),h.Sb(),h.Tb(15,"td"),h.Kc(16),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb()),2&e){var i=h.ec(2);h.Bb(14),h.Lc(i.selectedHost.hostName),h.Bb(2),h.Lc(i.selectedHost.url)}}function fl(e,t){if(1&e){var i=h.Ub();h.Tb(0,"h2",87),h.Kc(1,"Deploy Model"),h.Sb(),h.Tb(2,"mat-dialog-content",88),h.Tb(3,"mat-form-field",93),h.Tb(4,"mat-label"),h.Kc(5,"Host List"),h.Sb(),h.Tb(6,"mat-select",94,95),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec().selectedHost=e})),h.Ic(8,ml,2,2,"mat-option",30),h.Sb(),h.Sb(),h.Ic(9,gl,17,2,"div",96),h.Sb(),h.Tb(10,"mat-dialog-actions",90),h.Tb(11,"button",91),h.Kc(12,"Close"),h.Sb(),h.Tb(13,"button",97),h.ac("click",(function(){return h.wc(i),h.ec().deployModelFile()})),h.Kc(14," Deploy "),h.Sb(),h.Sb()}if(2&e){var a=h.tc(7),n=h.ec();h.Bb(6),h.kc("ngModel",n.selectedHost),h.Bb(2),h.kc("ngForOf",n.hostlist),h.Bb(1),h.kc("ngIf",n.selectedHost),h.Bb(4),h.kc("disabled",a.invalid)}}function hl(e,t){if(1&e){var i=h.Ub();h.Tb(0,"h2",87),h.Kc(1,"Upload Scoring Data"),h.Sb(),h.Tb(2,"mat-dialog-content",102),h.Tb(3,"mat-form-field",103),h.Tb(4,"mat-label"),h.Kc(5,"Select encoding"),h.Sb(),h.Tb(6,"mat-select",94),h.ac("ngModelChange",(function(e){return h.wc(i),h.ec().fileEncoding=e})),h.Tb(7,"mat-option",104),h.Kc(8,"utf_8"),h.Sb(),h.Tb(9,"mat-option",105),h.Kc(10,"latin_1"),h.Sb(),h.Sb(),h.Sb(),h.Tb(11,"div",106),h.Tb(12,"input",107),h.ac("change",(function(e){h.wc(i);var t=h.ec();return t.handleFileInput(e.target.files,t.fileEncoding)})),h.Sb(),h.Ob(13,"br"),h.Tb(14,"mat-hint",106),h.Kc(15,"Only .csv file is allowed."),h.Sb(),h.Sb(),h.Sb(),h.Tb(16,"mat-dialog-actions",90),h.Tb(17,"button",108),h.Kc(18,"Close"),h.Sb(),h.Tb(19,"button",92),h.ac("click",(function(){return h.wc(i),h.ec().uploadScoringData()})),h.Kc(20," Upload "),h.Sb(),h.Sb()}if(2&e){var a=h.ec();h.Bb(6),h.kc("ngModel",a.fileEncoding)}}function vl(e,t){if(1&e&&(h.Tb(0,"li",111),h.Tb(1,"p",112),h.Kc(2),h.Sb(),h.Sb()),2&e){var i=t.$implicit;h.Bb(2),h.Mc(" ",i," ")}}function Tl(e,t){if(1&e&&(h.Tb(0,"h2",87),h.Kc(1,"Rejected Timeseries Group List"),h.Sb(),h.Tb(2,"mat-dialog-content",88),h.Tb(3,"div"),h.Tb(4,"ol",109),h.Ic(5,vl,3,1,"li",110),h.Sb(),h.Sb(),h.Sb(),h.Tb(6,"mat-dialog-actions",90),h.Tb(7,"button",91),h.Kc(8,"Close"),h.Sb(),h.Sb()),2&e){var i=h.ec();h.Bb(5),h.kc("ngForOf",i.rejectedGroupList)}}l("Ycxt");var Sl,kl,yl=l("GUC0"),Il=((Sl=function(){function e(t,i,a,o,r,l,s,d,u,b,p,g,h,v,T){n(this,e),this._localStorage=t,this._models=i,this._spinner=a,this._toaster=o,this._data=r,this._colors=l,this._training=s,this._window=d,this._dialog=u,this._socket=b,this._router=p,this._snackBar=g,this._utils=h,this._snackbar=v,this._eda=T,this.unsubscribe$=new f.b,this.selectedTrainingControl=new m.i("",m.I.required),this.pieOptions1={animate:{duration:1e3,enabled:!0},barColor:this._colors.byName("success"),trackColor:"#f2f2f2",scaleColor:!1,lineWidth:7,size:80,lineCap:"round"},this.values=[],this.trainings=[],this.clusteringFeatures=[],this.filter=["overallScore"],this.filterSortOrder="desc",this.data=[{key:"Model comparison",values:""}],this.color="primary",this.mode="indeterminate",this.downloadToolkitDiameter=50,this.psType=new m.i("",m.I.required),this.downloadFile=new m.i("",m.I.required),this.deployPsType=new m.i("",m.I.required),this.hostlist=[],this.showTrainingSpinner=!1,this.erroCount=0,this.totalAlgos=0,this.trainingList=[],this.filtersArray=[],this.forcastHtmlData=[],this.selectedFeatures=[],this.isMulticlass=!1,this.appType=c.a.appType,this.allowedModelOptions=null,this.isAdvanceAlgoSupport=!0,this.disableBagging=!1,this.disableBoosting=!1}return r(e,[{key:"ngOnInit",value:function(){var e,t,i,a;return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var o=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this._spinner.showSpinner(),this.initTrainingSocket(),this.initDataDriftSocket(),this.initCpuLoadSocket(),this.project=this._localStorage.getItem("project"),this.user=this._localStorage.getItem("user"),this.allowedPSFileUploadSize=(null===(t=null===(e=this.user)||void 0===e?void 0:e.psFeatures)||void 0===t?void 0:t.allowedPSFileUploadSize)||50,n.next=9,this._utils.getAlgorithms();case 9:return this.ALGORITHMS_ARRAY=n.sent,this.ALGORITHMS_ARRAY.filter((function(e){return"Bagging Classifier"!=e.name&&"Bagging Regressor"!=e.name||!1!==e.status||(o.disableBagging=!0),"Boosting Classifier"!=e.name&&"Boosting Regressor"!=e.name||!1!==e.status||(o.disableBoosting=!0),e})),n.next=13,this.getTrainingsList();case 13:this.fileEncoding="utf_8",this.allowedModelOptions=(null===(a=null===(i=this.user)||void 0===i?void 0:i.psFeatures)||void 0===a?void 0:a.allowedFeaturesList)||[];case 15:case"end":return n.stop()}}),n,this)})))}},{key:"getTrainingsList",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._models.getTrainingList(this.project._id).pipe(Object(g.a)(this.unsubscribe$)).subscribe((function(e){return Object(s.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.length){t.next=14;break}if(this.trainingList=e,this.previousTraining=e[0],this.selectedTrainingControl.setValue(e[0]._id),this.setFilterList(e[0].algoType),t.t0=this.selectedTrainingControl.value,!t.t0){t.next=9;break}return t.next=9,this.showSelectedTrainingModels(e[0]);case 9:this.currentModelMeta={name:"Training 1",trainingId:e[0]._id,createdAt:e[0].createdAt,originalFileId:e[0].originalFileId,fileName:e[0].metaInfo.fileName?e[0].metaInfo.fileName:""},e[0].models[0].modelMetaData&&(this.sortAndRankModels(e[0]),"clustering"===e[0].problemType&&this.genClusteringFeatures(e[0]),this.trainings=[e[0]],this.trainings[0].classNames&&this.trainings[0].classNames.length>2&&0==this.trainings[0].isMultilabel&&(this.isMulticlass=!0),this.target=this.trainings[0].depVariable,this.supportedGraphList()),this._spinner.stopSpinner(),t.next=15;break;case 14:this._spinner.stopSpinner();case 15:case"end":return t.stop()}}),t,this)})))}),(function(e){var i;t._spinner.stopSpinner(),t._toaster.error((null===(i=e.error)||void 0===i?void 0:i.message)||"Cannot fetch trainings list","Models")}));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"showSelectedTrainingModels",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getModelsList(this.selectedTrainingControl.value).catch((function(e){a._toaster.error("Error - "+e.message,"Models"),a._spinner.stopSpinner()}));case 2:return e.models=t.sent,this.trainings=[e],t.next=6,this.getOriginalFileDetails(this.trainings[0].originalFileId,this.trainings[0].projectId).catch((function(e){a._toaster.error("Error - "+e.message,"Models"),a._spinner.stopSpinner()}));case 6:if(this.originalFileDetails=t.sent,t.t0=this.originalFileDetails.notebookInputFileId,!t.t0){t.next=12;break}return t.next=11,this.getNotebookInputFileDetails(this.originalFileDetails.projectId,this.originalFileDetails.notebookInputFileId).catch((function(e){a._toaster.error("Error - "+e.message,"Models"),a._spinner.stopSpinner()}));case 11:this.notebookInputFileDetails=t.sent;case 12:return t.next=14,this.getChildDataSets(this.trainings[0].projectId,this.trainings[0].originalFileId).catch((function(e){a._toaster.error("Error - "+e.message,"Models"),a._spinner.stopSpinner()}));case 14:if(i=t.sent,this.originalFileWithEdaDetails=i[0],this.totalAlgos=this.trainings[0].algorithms.length<=this.trainings[0].models.length?this.trainings[0].models.length:this.trainings[0].algorithms.length,this.showTrainingSpinner=this.totalAlgos<this.trainings[0].algorithms.length,t.t1=this.trainings[0].edaId.isMultipleTimeseries,!t.t1){t.next=24;break}return t.next=22,this.getTimeseriesList(this.trainings[0],this.trainings[0].models[0]);case 22:this.rejectedGroupList=t.sent,this.rejectedGroupList=this.rejectedGroupList[0].rejectedGroupList;case 24:this.sortAndRankModels(this.trainings[0]),this.supportedGraphList(),this.isAdvanceAlgoSupported(),"clustering"===this.trainings[0].problemType&&this.genClusteringFeatures(this.trainings[0]),this._spinner.stopSpinner();case 29:case"end":return t.stop()}}),t,this)})))}},{key:"genClusteringFeatures",value:function(e){if(this.clusteringFeatures=[],"none"!==e.clusteringInfo.decomposition)for(var t=0;t<e.clusteringInfo.components;t++)this.clusteringFeatures.push("component_"+t);else e.clusteringInfo.numericFeatures.length&&e.indepVariable.length&&(this.clusteringFeatures=e.clusteringInfo.numericFeatures.map((function(t){if(e.indepVariable.find((function(e){return e.colName===t.colName})))return t.colName})))}},{key:"trainingChanged",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,a,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._spinner.showSpinner(),this.forcastHtmlData=[],this.selectedFeatures=[],this.sourceType="file",this.trainingList.some((function(t){t._id===e&&(i=t)})),this.originalFileDetails=this.getOriginalFileDetails(i.originalFileId,i.projectId).catch((function(e){n._toaster.error("Error - "+e.message,"Models"),n._spinner.stopSpinner()})),t.t0=this.originalFileDetails.notebookInputFileId,!t.t0){t.next=11;break}return t.next=10,this.getNotebookInputFileDetails(this.originalFileDetails.projectId,this.originalFileDetails.notebookInputFileId).catch((function(e){n._toaster.error("Error - "+e.message,"Models"),n._spinner.stopSpinner()}));case 10:this.notebookInputFileDetails=t.sent;case 11:return t.next=13,this.getChildDataSets(i.projectId,i.originalFileId).catch((function(e){n._toaster.error("Error - "+e.message,"Models"),n._spinner.stopSpinner()}));case 13:return a=t.sent,this.originalFileWithEdaDetails=a[0],this.currentModelMeta={name:"Training ",trainingId:i._id,createdAt:i.createdAt,originalFileId:i.originalFileId,fileName:i.metaInfo.fileName?i.metaInfo.fileName:""},this.uploadScoringUrl="".concat(c.a.serverBaseUrl,"/api/training/").concat(this.currentModelMeta.trainingId,"/scoring/data"),t.next=19,this.getModelsList(this.selectedTrainingControl.value).catch((function(e){n._toaster.error("Error - "+e.message,"Models"),n._spinner.stopSpinner()}));case 19:if(i.models=t.sent,this.trainings=[i],this.target=i.depVariable,t.t1=this.trainings[0].edaId.isMultipleTimeseries,!t.t1){t.next=28;break}return t.next=26,this.getTimeseriesList(this.trainings[0],this.trainings[0].models[0]);case 26:this.rejectedGroupList=t.sent,this.rejectedGroupList=this.rejectedGroupList[0].rejectedGroupList;case 28:this.supportedGraphList(),this.isAdvanceAlgoSupported(),this.setFilterList(i.algoType),this.sortAndRankModels(this.trainings[0]),this.initModels(this.project.type,this.trainings[0].models),this.totalAlgos=this.trainings[0].algorithms.length<=this.trainings[0].models.length?this.trainings[0].models.length:this.trainings[0].length,this.predictionResult=!1,this._spinner.stopSpinner();case 36:case"end":return t.stop()}}),t,this)})))}},{key:"getTimeseriesList",value:function(e,t){return this._eda.getTimeseriesGroup({modelId:t._id}).pipe(Object(g.a)(this.unsubscribe$)).toPromise()}},{key:"supportedGraphList",value:function(){var e=this;this.trainings[0].models.forEach((function(t){var i=t.modelMetaData.algoName.toLowerCase(),a=[];if(i.includes("bagging")){"classification"==e.trainings[0].algoType?a=["Bagging Classifier"]:"regression"===e.trainings[0].algoType&&(a=["Bagging Regressor"]);var n=e._utils.getAlgorithmSupported(a,e.trainings[0],i);null!==n&&(t.graphSupported=n)}else if(i.includes("boosting")){"classification"==e.trainings[0].algoType?a=["Boosting Classifier"]:"regression"===e.trainings[0].algoType&&(a=["Boosting Regressor"]);var o=e._utils.getAlgorithmSupported(a,e.trainings[0],i);null!==o&&(t.graphSupported=o)}else{var r=t.modelMetaData.algoName;r=r.split("-",1);var l=e._utils.getAlgorithmSupported(r.length?r:t.modelMetaData.algoName,e.trainings[0],i);null!==l&&(t.graphSupported=l)}})),this.modelSupported=this.trainings[0].models.filter((function(e){return!0===e.graphSupported.status}))}},{key:"isAdvanceAlgoSupported",value:function(){this.trainings[0].models.forEach((function(e){var t=e.modelMetaData.algoName.toLowerCase();e.isAlgoSupported=!t.includes("bagging")&&!t.includes("boosting")}))}},{key:"sortAndRankModels",value:function(e){var t=this;if("predictive_modeling"!==this.project.type)return null;this.values.length=0,e.models.sort((function(e,i){if("Mean Absolute Error"===t.filter[0]||"Root Mean Square Error"===t.filter[0]||"Median Square Error"===t.filter[0]||"Mean Square Error"===t.filter[0]||"Mean Square Log Error"===t.filter[0]){var a=e.modelMetaData.holdout.losses.filter((function(e){return e.name===t.filter[0]})),n=i.modelMetaData.holdout.losses.filter((function(e){return e.name===t.filter[0]}));return"desc"===t.filterSortOrder?1*n[0].value-1*a[0].value:1*a[0].value-1*n[0].value}return"desc"===t.filterSortOrder?"timeElapsed"===t.filter[0]?1*i.modelMetaData[t.filter[0]]-1*e.modelMetaData[t.filter[0]]:1*i.modelMetaData.holdout[t.filter[0]]-1*e.modelMetaData.holdout[t.filter[0]]:"timeElapsed"===t.filter[0]?1*e.modelMetaData[t.filter[0]]-1*i.modelMetaData[t.filter[0]]:1*e.modelMetaData.holdout[t.filter[0]]-1*i.modelMetaData.holdout[t.filter[0]]})),e.models.forEach((function(i){i.modelMetaData.holdout&&(i.modelMetaData.overallScore=i.modelMetaData.holdout.overallScore,t.values.push({label:e.name+" - "+i.modelMetaData.algoName,value:1*i.modelMetaData.overallScore}))})),this.data[0].values=this.values,this.initModels(this.project.type,e.models)}},{key:"openScoringDataTemplate",value:function(e,t){this.dialogRef=this._dialog.open(e,{width:"50%"})}},{key:"handleFileInput",value:function(e,t){var i=e[0].name.split(".").pop();e&&["csv"].includes(i)?e[0].size<1024*this.allowedPSFileUploadSize*1024?this.fileToUpload=e[0]:this._snackBar.open("File size should be less than "+this.allowedPSFileUploadSize+"Mb","OK",{horizontalPosition:"right",verticalPosition:"bottom"}):(this.fileToUpload="",this._snackbar.open(".".concat(i," file type is not supported"),"OK"))}},{key:"uploadScoringData",value:function(){var e=this;this._spinner.showSpinner(),this.fileToUpload?this._models.uploadScoringData(this.fileToUpload,this.currentModelMeta.trainingId,this.fileEncoding).pipe(Object(g.a)(this.unsubscribe$)).subscribe((function(t){t?e._toaster.success("Scoring data uploaded successfully","Models"):e._toaster.error("Cannot upload scoring data","Models"),e.fileToUpload=""}),(function(t){e._toaster.error("Server Error - "+t.error.message,"Models"),e._spinner.stopSpinner()})):this._snackbar.open("Please select a .csv file for prediction","OK",{horizontalPosition:"right",verticalPosition:"bottom"}),this._spinner.stopSpinner()}},{key:"deleteTraining",value:function(){var e=this;yl({title:"Are you sure?",text:"You will not be able to recover this training!",icon:"warning",buttons:{cancel:{text:"Cancel",value:!1,visible:!0,className:""},confirm:{text:"Yes, delete it!",value:!0,visible:!0,className:"bg-danger"}}}).then((function(t){t&&(e._spinner.showSpinner(),e._training.deleteTraining(e.selectedTrainingControl.value,e.project._id,1===e.trainingList.length).pipe(Object(g.a)(e.unsubscribe$)).subscribe((function(t){return Object(s.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=16;break}if(this.trainingList=this.trainingList.filter((function(e){return e._id!==i.selectedTrainingControl.value})),!this.trainingList.length){e.next=11;break}return this.selectedTrainingControl.setValue(this.trainingList[0]._id),e.next=6,this.getModelsList(this.selectedTrainingControl.value).catch((function(e){i._toaster.error("Error - "+e.message,"Models"),i._spinner.stopSpinner()}));case 6:this.trainingList[0].models=e.sent,this.trainings=[this.trainingList[0]],this.sortAndRankModels(this.trainings[0]),e.next=12;break;case 11:this.selectedTrainingControl.setValue(null),this.trainings=[];case 12:this._toaster.success("Training deleted sucessfully","Models"),this._spinner.stopSpinner(),e.next=17;break;case 16:this._toaster.error("Cannot fetch models list","Models"),this._spinner.stopSpinner();case 17:case"end":return e.stop()}}),e,this)})))}),(function(t){e._spinner.stopSpinner(),e._toaster.error("Server Error","Models")})))}))}},{key:"deleteModel",value:function(e,t){var i=this;yl({title:"Are you sure?",text:"You will not be able to recover this model!",icon:"warning",buttons:{cancel:{text:"Cancel",value:null,visible:!0,className:""},confirm:{text:"Yes, delete it!",value:!0,visible:!0,className:"bg-danger"}}}).then((function(a){a&&(i._spinner.showSpinner(),i._models.deleteModel(t._id,e._id).pipe(Object(g.a)(i.unsubscribe$)).subscribe((function(t){t?(i.trainings[0].models=i.trainings[0].models.filter((function(t){return t._id!==e._id})),i.trainings[0].algorithms=i.trainings[0].algorithms.filter((function(t){return e.modelMetaData.algoName!==t})),i.totalAlgos-=1,i.sortAndRankModels(i.trainings[0]),i._toaster.success("Model deleted sucessfully","Models"),i._spinner.stopSpinner()):(i._toaster.error("Cannot delete a model","Models"),i._spinner.stopSpinner())}),(function(e){i._spinner.stopSpinner(),i._toaster.error("Server Error","Models")})))}))}},{key:"isDecisionTreeSupported",value:function(e,t){var i=e.split("-"),a=["Decision Tree Regression","Random Forest Regression","Decision Tree Classification","Random Forest Classification","Extra Tree Classification","Ensemble Extra Trees Classification","XGBoost Classification","XGBoost Regression","LightGBM Classification","LightGBM Regression"].includes(i[0])&&!t;return(i.includes("Bagging")||i.includes("Boosting"))&&(a=!!["Decision Tree Regression","Decision Tree Classification","Extra Tree Classification"].includes(i[0])),a}},{key:"isAdvAlogSupported",value:function(e,t){var i=t.modelMetaData.algoName.split("-");-1!==["Passive Aggressive Classification","MLP Classification","NearestCentroid Classification","Artificial Neural Network Classification","Artificial Neural Network Regression"].indexOf(i[0])?(t.modelMetaData.algoName.includes("Bagging")||t.modelMetaData.algoName.includes("Boosting"),this._snackBar.open("Advanced option is not avilable for this model","OK",{horizontalPosition:"right",verticalPosition:"bottom"})):!0===this.disableBagging||!0===this.disableBoosting?(!0===this.disableBagging&&this._snackBar.open("Bagging Algorithm is disabled","OK",{horizontalPosition:"right",verticalPosition:"bottom"}),!0===this.disableBoosting&&this._snackBar.open("Boosting Algorithm is disabled","OK",{horizontalPosition:"right",verticalPosition:"bottom"}),this.openFormDialog("advAlgo",e,t)):this.openFormDialog("advAlgo",e,t)}},{key:"deployModel",value:function(e,t,i,a){this._spinner.showSpinner(),this.selectedHost="",this._dialog.open(e,{minWidth:"50vw"}),this.listHost(),this.deployPsTypeflag="",this.deployFileId=a.modelMetaData.hasOwnProperty("reTrainFileId")?a.reTrainFileId:i.originalFileId,this.deployObj={training:i,modelInfo:a,selectedHost:this.selectedHost,algoType:this.findAlgoType(a.modelMetaData.algoName),platform:t,project:this.project,fileId:this.deployFileId,notebooks:this.originalFileDetails.notebooks?this.originalFileDetails.notebooks:"",notebookInputFileId:this.originalFileDetails.notebookInputFileId?this.originalFileDetails.notebookInputFileId:"",psType:this.deployPsTypeflag},this.deployReqObj={Host:this.selectedHost,projectId:this.project._id,projectType:this.project.type,modelId:a._id},this._spinner.stopSpinner()}},{key:"openRejectedroup",value:function(e,t,i){this._dialog.open(e,{maxWidth:"40vw",minWidth:"40vw"})}},{key:"deployModelFile",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deployModelService(this.deployObj).catch((function(e){var i;t._toaster.error((null===(i=e.error)||void 0===i?void 0:i.message)||"Model deployment failed","Models"),t._spinner.stopSpinner()}));case 2:if(this.resDeployfile=e.sent,e.t0=this.resDeployfile,!e.t0){e.next=8;break}return e.next=7,this.deployModelPost(this.deployReqObj).then((function(e){e&&t._toaster.success(e.message||"Model is deployed sucessfully","Models")})).catch((function(e){t._toaster.error(e.error.message||"Model deployment failed","Models"),t._spinner.stopSpinner()}));case 7:this.modelDeployed=e.sent;case 8:case"end":return e.stop()}}),e,this)})))}},{key:"deployModelPost",value:function(e){return this._models.deployModelPost(e).pipe(Object(g.a)(this.unsubscribe$)).toPromise()}},{key:"deployModelService",value:function(e){return this._models.preDeployModel(e,this.selectedHost).pipe(Object(g.a)(this.unsubscribe$)).toPromise()}},{key:"listHost",value:function(){var e=this;this._models.getHostList().pipe(Object(g.a)(this.unsubscribe$)).subscribe((function(t){t?t.forEach((function(t,i){t.hasOwnProperty("hostName")&&(e.hostlist[i]=t)})):(e._toaster.error("Cannot fetch hosts","Models"),e._spinner.stopSpinner())}),(function(t){e._spinner.stopSpinner(),e._toaster.error("Server Error","Models")}))}},{key:"findAlgoType",value:function(e){var t=e.split("-")[0];return this.ALGORITHMS_ARRAY.filter((function(e){return e.name===t}))[0].type}},{key:"downloadModel",value:function(e,t,i){this._spinner.showSpinner(),this.downloadPsType="",this.downloadFileId=i.modelMetaData.hasOwnProperty("reTrainFileId")?i.reTrainFileId:t.originalFileId,this.downloadAlgoType=this.findAlgoType(i.modelMetaData.algoName),this.downloadNotebooks=this.originalFileDetails.notebooks?this.originalFileDetails.notebooks:"",this.downloadNotebookInputFileId=this.originalFileDetails.notebookInputFileId?this.originalFileDetails.notebookInputFileId:"",this.downloadTraining=t,this.downloadModelInfo=i,this.downloadPlatform=e,this.downloadProject=this.project,this.downloadModelFile(),this._spinner.stopSpinner()}},{key:"downloadModelFile",value:function(){window.open(c.a.serverBaseUrl+"/api/training/"+this.downloadTraining._id+"/models/"+this.downloadModelInfo._id+"/download?ag="+this.downloadModelInfo.modelMetaData.algoName+"&algoType="+this.downloadAlgoType+"&pf="+this.downloadPlatform+"&projectType="+this.downloadProject.type+"&projectName="+this.downloadProject.name+"&reTrainFileId="+this.downloadFileId+"&notebookInputFileId="+this.downloadNotebookInputFileId+"&notebooks="+this.downloadNotebooks+"&psType="+this.downloadPsType)}},{key:"getOriginalFileDetails",value:function(e,t){return this._data.getMyFileData(t,e).pipe(Object(g.a)(this.unsubscribe$)).toPromise()}},{key:"getChildDataSets",value:function(e,t){return this._data.getAllChildDatasets(e,t).pipe(Object(g.a)(this.unsubscribe$)).toPromise()}},{key:"getModelsList",value:function(e){return this._models.getModelsList(e).pipe(Object(g.a)(this.unsubscribe$)).toPromise()}},{key:"getNotebookInputFileDetails",value:function(e,t){return this._data.getMyFileData(e,t).pipe(Object(g.a)(this.unsubscribe$)).toPromise()}},{key:"openFormDialog",value:function(e,t,i){var a=this;this._dialog.open(it,{minWidth:"60vw",maxWidth:"60vw",data:{type:e,trainingInfo:t,modelInfo:i,trainings:this.trainings,originalFileWithEdaDetails:this.originalFileWithEdaDetails,currentModelMeta:this.currentModelMeta}}).afterClosed().subscribe((function(e){"retrain"!==(null==e?void 0:e.type)&&"tuning"!==(null==e?void 0:e.type)&&"advAlgo"!==(null==e?void 0:e.type)||(a.trainings[0].algorithms=e.algorithms)}))}},{key:"openGraphDialog",value:function(e,t,i,a){this._dialog.open(d.a,{minWidth:"compareModel"===e||"limeReport"===e||"timeAccuracy"===e?"50vw":"80vw",maxWidth:"90vw",data:{type:e,trainingInfo:t,modelInfo:i,tab:a,trainings:this.trainings,originalFileWithEdaDetails:this.originalFileWithEdaDetails,sortedModel:this.data[0].values,filtersArray:this.filtersArray}}).afterClosed().subscribe((function(e){}))}},{key:"openQuickPredictionDialog",value:function(){this._dialog.open(It,{maxWidth:"50vw",data:{trainings:this.trainings,currentModelMeta:this.currentModelMeta,notebookInputFileDetails:this.notebookInputFileDetails,originalFileWithEdaDetails:this.originalFileWithEdaDetails}}).afterClosed().subscribe((function(e){}))}},{key:"openPipelineDialog",value:function(){var e=this,t=this.trainings[0].autoFeatureGenTasks;this._models.getPipelineTask(this.currentModelMeta.trainingId).pipe(Object(g.a)(this.unsubscribe$)).subscribe((function(i){return Object(s.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var a,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i&&("under_sampling"!=this.trainings[0].sampling&&"over_sampling"!=this.trainings[0].sampling||i.push({description:"Sampling is a method that allows us to get information about the population based on the statistics from a subset of the population (sample), without having to investigate every individual.",index:6,parent:"training_data_prep",preview:"True",task:"sampling",taskName:"Sampling"}),a=[],n=[],o=[],this.pipelineTasks=[],i.forEach((function(e){if("Data Collection"==e.parent&&a.push(e),"EDA"==e.parent&&n.push(e),"training_data_prep"==e.parent){if("auto_feature_generate"==e.task){var i=[];t.forEach((function(e){i.push(e.operation)})),e.afOperations=i}o.push(e)}})),this.pipelineTasks.push({data:a,parent:"Data Collection"}),this.pipelineTasks.push({data:n,parent:"EDA"}),this.pipelineTasks.push({data:o,parent:"Training"}),this._dialog.open(nn,{maxWidth:"90vw",data:{trainings:this.trainings,currentModelMeta:this.currentModelMeta,notebookInputFileDetails:this.notebookInputFileDetails,originalFileWithEdaDetails:this.originalFileWithEdaDetails,pipelineTask:this.pipelineTasks,pipelineData:i}}).afterClosed().subscribe((function(e){})));case 1:case"end":return e.stop()}}),e,this)})))}),(function(t){e._spinner.stopSpinner(),e._toaster.error("Server Error","Models")}))}},{key:"updateTrainingModels",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.trainings[0].models=e;case 1:case"end":return t.stop()}}),t,this)})))}},{key:"initModels",value:function(e,t){"timeseries"===e&&t&&(new Array(t.length).fill(new Date),new Array(t.length).fill(new Date))}},{key:"filterChanged",value:function(e){this.filter=[e],this.sortAndRankModels(this.trainings[0])}},{key:"filterSortOrderChanged",value:function(e){this.filterSortOrder=e,this.sortAndRankModels(this.trainings[0])}},{key:"setFilterList",value:function(e){this.filtersArray="regression"===e?[{name:"Model Score",id:"testScore"},{name:"R Squared",id:"rSquared"},{name:"Time Elapsed",id:"timeElapsed"},{name:"Overall Score",id:"overallScore"},{name:"MAE",id:"Mean Absolute Error"},{name:"RMSE",id:"Root Mean Square Error"},{name:"MSE",id:"Mean Square Error"}]:[{name:"Accuracy",id:"testScore"},{name:"F1 Score",id:"f1Score"},{name:"Mathew's Coeff",id:"matCoeff"},{name:"Time Elapsed",id:"timeElapsed"},{name:"Overall Score",id:"overallScore"}]}},{key:"sortArryOFObjects",value:function(e,t){return e.sort((function(e,i){return i[t]-e[t]})),e}},{key:"getAlgoDouUrl",value:function(e){var t;if(t=e.includes("Bagging")&&e.includes("Regression")?e.includes("Logistic")?"Bagging Classifier":"Bagging Regressor":e.includes("Bagging")&&e.includes("Classification")?"Bagging Classifier":e.includes("Boosting")&&e.includes("Classification")?"Boosting Classifier":e.includes("Boosting")&&e.includes("Regression")?e.includes("Logistic")?"Boosting Classifier":"Boosting Regressor":e.split("-")[0]){var i=this.ALGORITHMS_ARRAY.filter((function(e){return e.name===t}));this._window.open(i[0].url,"_blank")}}},{key:"initTrainingSocket",value:function(){var e=this;this._socket.listen("TrainingProgress").subscribe((function(t){return Object(s.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}if(e.t0=this.trainings[0],e.t0){e.next=5;break}return e.next=5,this.getTrainingsList();case 5:this.trainings[0]&&("success"===t.status?(this.trainings[0].models.push(t.modelMetaData),"retraining"==t.trainingType?(this.totalAlgos+=1,this.sortAndRankModels(this.trainings[0]),this._toaster.success("Retraining successfully completed for "+t.algoName,"Models")):"model_tuning"===t.trainingType?(this.totalAlgos+=1,this.sortAndRankModels(this.trainings[0]),this._toaster.success("Model tuning successfully completed for "+t.modelMetaData.modelMetaData.algoName,"Models")):"bagging_boosting"===t.trainingType&&(this.totalAlgos+=1,this.sortAndRankModels(this.trainings[0]),this._toaster.success("Bagging/Boosting successfully completed for "+t.algoName,"Models")),this._spinner.stopSpinner()):("train"===t.trainingType?this.erroCount+=1:"retraining"==t.trainingType?this._toaster.error("Retraining failed for ".concat(t.algoName," - ").concat(t.modelMetaData.message),"Models"):"model_tuning"===t.trainingType?this._toaster.error("Model tuning failed for ".concat(t.algoName," - ").concat(t.modelMetaData.message),"Models"):"bagging_boosting"===t.trainingType&&this._toaster.error("Bagging/Boosting failed for ".concat(t.algoName," - ").concat(t.modelMetaData.message),"Models"),this._spinner.stopSpinner()),"train"===t.trainingType&&(this.trainings[0].algorithms.length===this.erroCount+this.trainings[0].models.length?(this.showTrainingSpinner=!1,this.getTrainingsList()):this.showTrainingSpinner=!0),this.supportedGraphList()),this._spinner.stopSpinner(),e.next=10;break;case 9:this._spinner.stopSpinner();case 10:case"end":return e.stop()}}),e,this)})))}),(function(t){e._spinner.stopSpinner(),e._toaster.error("Socket Error - "+t.message,"Models")}))}},{key:"initDataDriftSocket",value:function(){var e=this;this._socket.listen("dataDrift").subscribe((function(t){t?"datadrift_failed"===t.status?(e._toaster.error("Drift analysis failed - "+t.data,"Models"),e._spinner.stopSpinner()):(e._spinner.stopSpinner(),e._router.navigateByUrl("/project/datadrift/report"),e._toaster.success("Drift analysis successfully completed","Models")):e._spinner.stopSpinner()}),(function(t){e._spinner.stopSpinner(),e._toaster.error("Socket Error - "+t.message,"Train Model")}))}},{key:"initCpuLoadSocket",value:function(){var e=this;this._socket.listen("cpuLoad").subscribe((function(t){return Object(s.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(this.cpuLoad=t);case 1:case"end":return e.stop()}}),e,this)})))}),(function(t){e._spinner.stopSpinner(),e._toaster.error("Socket Error - "+t.message,"Train Model")}))}},{key:"trackByFn",value:function(e){return e?e._id:null}},{key:"ngOnDestroy",value:function(){this._socket.removeListener("dataDrift"),this._socket.removeListener("cpuLoad"),this._socket.removeListener("TrainingProgress"),this.unsubscribe$.next(!1),this.unsubscribe$.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Sl)(h.Nb(v.a),h.Nb(nt.a),h.Nb(y.a),h.Nb(T.c),h.Nb(S.a),h.Nb(on.a),h.Nb(_.a),h.Nb(Window),h.Nb(p.c),h.Nb(ot.a),h.Nb(rn.e),h.Nb(I.c),h.Nb(M.a),h.Nb(I.c),h.Nb(ln.a))},Sl.\u0275cmp=h.Hb({type:Sl,selectors:[["app-models"]],decls:20,vars:4,consts:[[1,"fluid-container"],[1,"heading"],["mat-card-avatar",""],[1,"fas","fa-cubes","folder-icon"],[1,"heading-title","ml-0"],["class","ml-auto",4,"ngIf"],["class","text-center mt-5 font-weight-normal",4,"ngIf"],["class","row mt-5",4,"ngIf"],["class","row mt-2",4,"ngIf"],["downloadToolkit",""],["deployModelTemplate",""],["scoringDataTemplate",""],["rejectedGroupTemplate",""],[1,"ml-auto"],["mat-button","","class","text-primary",3,"matTooltip","click",4,"ngIf"],["mat-button","","class","text-primary",3,"matTooltip","routerLink","disabled","click",4,"ngIf"],["mat-button","","class","text-primary",3,"matTooltip","hidden","routerLink","click",4,"ngIf"],["mat-button","",1,"text-primary",3,"matTooltip","routerLink","disabled","click"],["matBadge","","matBadgeOverlap","false",3,"matBadgeIcon","ngClass"],["mat-button","",1,"text-primary",3,"matTooltip","click"],["mat-button","",1,"text-primary",3,"matTooltip","hidden","routerLink","click"],[1,"text-center","mt-5","font-weight-normal"],["href","#",1,"text-decoration-none",3,"routerLink"],[1,"row","mt-5"],[1,"dataset-name","col-md-6","d-flex","align-items-center"],[1,"mb-0","flex-column","text-break"],[1,"d-flex","align-items-center","justify-content-end","col-md-6"],[1,"mx-2"],["id","removeBtmPadding","appearance","outline"],["required","",3,"formControl","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matTooltip","Delete selected training","mat-icon-button","",1,"delete-training",3,"click"],[1,"far","fa-trash-alt"],["class","ml-2",4,"ngIf"],["class","ml-1",4,"ngIf"],["class","ml-3 mt-4",4,"ngIf"],[3,"value"],[1,"ml-2"],[3,"ngModel","ngModelChange","selectionChange"],[1,"ml-1"],["mat-icon-button","","class","sort-icon",3,"click",4,"ngIf"],["mat-icon-button","",1,"sort-icon",3,"click"],[1,"fas","fa-sort-amount-up"],[1,"fas","fa-sort-amount-down"],[1,"ml-3","mt-4"],[1,"mr-2"],[1,"row","mt-2"],["class","col-md-12",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-md-12"],["class","custom-accordion","multi","",4,"ngFor","ngForOf"],["multi","",1,"custom-accordion"],["class","recommended-tick fas fa-check-circle fa-2x mr-2",4,"ngIf"],[1,"my-3",3,"hideToggle","disabled"],[3,"collapsedHeight","expandedHeight"],["class","easypie-chart mt-2","easypiechart","",3,"options","percent","matTooltip",4,"ngIf"],[1,"mx-3","mb-0","font-weight-normal"],[1,"mb-0","font-weight-normal"],["class","m-0 ml-1 h5",3,"matTooltip",4,"ngIf"],["matTooltip","Click to view algoirthm info",1,"fas","fa-info-circle","ml-2",2,"color","lightslategray",3,"click"],["mat-icon-button","",3,"matTooltip","disabled","click",4,"ngIf"],["mat-icon-button","",3,"disabled","click",4,"ngIf"],["mat-icon-button","","matTooltip","Hyper Parameter Tuning (HPT)",3,"disabled","click",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor","disabled","click",4,"ngIf"],["menu","matMenu"],["mat-menu-item","",3,"matTooltip","click",4,"ngIf"],["mat-menu-item","",3,"matTooltip","disabled","click",4,"ngIf"],["matTooltip","Advanced Algorithms","mat-menu-item","",3,"hidden","disabled","click",4,"ngIf"],[1,"recommended-tick","fas","fa-check-circle","fa-2x","mr-2"],["easypiechart","",1,"easypie-chart","mt-2",3,"options","percent","matTooltip"],[1,"m-0","ml-1","h5",3,"matTooltip"],["mat-icon-button","",3,"matTooltip","disabled","click"],["mat-icon-button","",3,"disabled","click"],["matBadge","",3,"matBadgeIcon","matTooltip","ngClass"],["mat-icon-button","","matTooltip","Hyper Parameter Tuning (HPT)",3,"disabled","click"],["matTooltip","Download model for multi-model container","matBadge","",3,"matBadgeIcon","ngClass"],["matTooltip","Deploy model","matBadge","",3,"matBadgeIcon","ngClass"],["matTooltip","Delete model","mat-icon-button","",3,"disabled","click"],["mat-icon-button","",3,"matMenuTriggerFor","disabled","click"],["mat-menu-item","",3,"matTooltip","click"],["mat-menu-item","",3,"matTooltip","disabled","click"],["matBadge","","matBadgeOverlap","false",3,"matBadgeIcon"],[3,"ngClass"],["matTooltip","Advanced Algorithms","mat-menu-item","",3,"hidden","disabled","click"],[3,"training","model","originalFileWithEdaDetails","trainings","updateTrainingModels"],[3,"training","model","originalFileWithEdaDetails","updateTrainingModels"],[3,"training","model","trainings","originalFileWithEdaDetails","updateTrainingModels"],["mat-dialog-title",""],[1,"mat-typography"],[1,"example-margin",3,"formControl"],[1,"justify-content-end","m-auto"],["mat-stroked-button","","mat-dialog-close",""],["mat-flat-button","","mat-dialog-close","",1,"btn-primary",3,"click"],["appearance","outline"],["required","",3,"ngModel","ngModelChange"],["deployModel","ngModel"],["class","table-responsive mt-50",4,"ngIf"],["mat-flat-button","","mat-dialog-close","",1,"btn-primary",3,"disabled","click"],[1,"table-responsive","mt-50"],[1,"table","table-bordered","hover"],["width","30%"],["width","40%"],[1,"mat-typography","preview-data-section","mb-3"],["appearance","outline",1,"mt-5"],["value","utf_8"],["value","latin_1"],[1,"mt-2"],["type","file","name","file","accept",".csv",1,"mb-2",3,"change"],["mat-stroked-button","","mat-dialog-close","","color","basic"],[1,"list-group","list-group-numbered"],["class","bullet-font list-group-item",4,"ngFor","ngForOf"],[1,"bullet-font","list-group-item"],[1,"bullet-font","m-0","capitalize"]],template:function(e,t){1&e&&(h.Tb(0,"div",0),h.Tb(1,"mat-card",1),h.Tb(2,"mat-card-header"),h.Tb(3,"div",2),h.Ob(4,"i",3),h.Sb(),h.Tb(5,"mat-card-title"),h.Tb(6,"h3",4),h.Kc(7,"Models Leaderboard"),h.Sb(),h.Sb(),h.Ic(8,Ar,8,8,"span",5),h.Sb(),h.Sb(),h.Ic(9,Rr,4,2,"h4",6),h.Ic(10,zr,23,18,"div",7),h.Ic(11,bl,2,2,"div",8),h.Sb(),h.Ic(12,pl,10,1,"ng-template",null,9,h.Jc),h.Ic(14,fl,15,4,"ng-template",null,10,h.Jc),h.Ic(16,hl,21,1,"ng-template",null,11,h.Jc),h.Ic(18,Tl,9,1,"ng-template",null,12,h.Jc)),2&e&&(h.Bb(8),h.kc("ngIf",t.trainingList.length),h.Bb(1),h.kc("ngIf",!t.trainingList.length),h.Bb(1),h.kc("ngIf",t.trainings[0]&&t.filtersArray&&t.currentModelMeta),h.Bb(1),h.kc("ngIf",t.trainings.length))},directives:[sn.a,sn.f,sn.c,sn.m,B.t,D.b,L.b,rn.f,P.a,A.a,B.q,rn.h,w.c,w.g,C.a,m.F,m.u,m.j,B.s,x.o,w.b,m.x,N.d,N.a,lt.a,_t.a,_t.c,_t.g,_t.h,_t.f,cn.e,dn.a,cn.d,cn.b,co,Wo,Cr,p.j,p.g,F.b,p.d,p.e,w.f],pipes:[R.a,B.f,B.g],styles:[".heading[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;text-decoration:none}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.custom-accordion[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:flex-end;align-items:center;flex-shrink:0}.custom-accordion[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{align-items:center}.custom-accordion[_ngcontent-%COMP%]   .recommended-tick[_ngcontent-%COMP%]{color:#4caf50!important;font-size:40px;position:absolute;right:-5px;z-index:1}.easypie-chart[_ngcontent-%COMP%]{width:100px!important}.easypie-chart[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px!important;margin-left:-25px!important;top:52%!important}.dataset-name[_ngcontent-%COMP%]   .fa-check-circle[_ngcontent-%COMP%]{color:#07509d}.sort-icon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{font-size:22px!important}.recommended-model[_ngcontent-%COMP%]{background-color:linen}.delete-training[_ngcontent-%COMP%]{font-size:25px}.showCPU-Load[_ngcontent-%COMP%]{color:#07509d;cursor:pointer;display:flex;align-items:center}.showCPU-Load[_ngcontent-%COMP%]   .chevron-icon[_ngcontent-%COMP%]{margin-right:16px;font-size:28px;margin-bottom:5px;color:#000}#removeBtmPadding[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0!important}"]}),Sl),_l=l("PCNd"),Ml=l("mW75"),Bl=l("N/qJ"),Dl=((kl=function e(){n(this,e)}).\u0275mod=h.Lb({type:kl}),kl.\u0275inj=h.Kb({factory:function(e){return new(e||kl)},imports:[[B.c,_l.a,Ml.h,Bl.c,ct.c.withComponents([d.a]),rn.i.forChild([{path:"",component:Il}]),P.b]]}),kl)}}])}();
//# sourceMappingURL=16-es5.7319d78bea6228e6f81e.js.map