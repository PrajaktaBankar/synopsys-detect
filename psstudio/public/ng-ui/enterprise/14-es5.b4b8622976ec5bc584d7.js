!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"2QPx":function(e,r,i){"use strict";i.d(r,"a",(function(){return c}));var n=i("AytR"),o=i("fXoL"),s=i("tk/3"),c=function(){var e=function(){function e(a){t(this,e),this._http=a,this.serverBaseUrl=n.a.serverBaseUrl}return a(e,[{key:"generateMultiUniVariatePlot",value:function(t,e){return this._http.post("".concat(this.serverBaseUrl,"/api/v2/projects/").concat(t,"/report/trainmodel/multiunivariate"),e)}},{key:"shareReport",value:function(t,e){return this._http.post("".concat(this.serverBaseUrl,"/api/v2/projects/").concat(t,"/output"),e)}},{key:"startEda",value:function(t,e){return this._http.post("".concat(this.serverBaseUrl,"/api/v2/projects/").concat(t,"/eda"),e)}},{key:"getEdaData",value:function(t){return this._http.get("".concat(this.serverBaseUrl,"/api/v2/eda/").concat(t,"/info"))}},{key:"readUploadedData",value:function(t,e){return this._http.post("".concat(this.serverBaseUrl,"/api/projects/").concat(t,"/data/read"),e)}},{key:"getUniqueClass",value:function(t){return this._http.post(this.serverBaseUrl+"/api/v2/training/feature/unique_categories",t)}},{key:"getConditionalFilter",value:function(t){return this._http.post(this.serverBaseUrl+"/api/v2/conditionalFiltering",t)}},{key:"getTargetList",value:function(t){return this._http.post(this.serverBaseUrl+"/api/v2/eda/targetList",t)}},{key:"getEdaByFileId",value:function(t,e){return this._http.get("".concat(this.serverBaseUrl,"/api/v2/projects/").concat(t,"/eda/edaByFile?fileId=").concat(e))}},{key:"dateFormatValidator",value:function(t){return this._http.post(this.serverBaseUrl+"/api/v2/eda/dateFormat",t,{responseType:"text"})}},{key:"multiTimeseriesCheck",value:function(t){return this._http.post(this.serverBaseUrl+"/api/v2/eda/multiTimeseries",t,{responseType:"text"})}},{key:"getresamplingPreview",value:function(t){return this._http.post(this.serverBaseUrl+"/api/v2/resamplingPreview",t)}},{key:"calculateTimeseriesFrequency",value:function(t){return this._http.post(this.serverBaseUrl+"/api/v2/multiple/calculateFrequency",t)}},{key:"getTimeseriesGroup",value:function(t){return this._http.post(this.serverBaseUrl+"/api/v2/eda/timeseriesGroupList",t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Xb(s.b))},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},WUEe:function(e,r,i){"use strict";i.d(r,"a",(function(){return f}));var n=i("0IaG"),o=i("AytR"),s=i("fXoL"),c=i("jhN1"),u=i("ofXK"),l=i("bTqV"),p=i("/3uh");function b(t,e){1&t&&s.Ob(0,"app-progress-spinner",4)}function d(t,e){if(1&t&&(s.Tb(0,"div"),s.Ob(1,"iframe",5),s.Sb()),2&t){var a=s.ec();s.Bb(1),s.kc("src",a.safeUrl,s.yc)}}var f=function(){var e=function(){function e(a,r){t(this,e),this.dialogData=a,this._sanitizer=r,this.serverBaseUrl=o.a.serverBaseUrl,this.showSpinner=!0}return a(e,[{key:"ngOnInit",value:function(){switch(this.showSpinner=!0,this.edaData=this.dialogData.edaReportData,this.dialogData.moduleName){case"data-set":this.safeUrl=this._sanitizer.bypassSecurityTrustResourceUrl("".concat(this.serverBaseUrl,"/api/v2/projects/").concat(this.edaData.projectId,"/data/").concat(this.edaData.dataId,"/report")),this.showSpinner=!1;break;case"reports":case"eda":this.safeUrl=this._sanitizer.bypassSecurityTrustResourceUrl("".concat(this.serverBaseUrl,"/api/v2/projects/").concat(this.edaData.projectId,"/eda/").concat(this.edaData.edaId,"/advedainfo?currentEdaId=").concat(this.edaData.currentEdaId,"&currentPipelineFilename=").concat(this.edaData.currentPipelineFilename)),this.showSpinner=!1;break;case"cluster":this.safeUrl=this._sanitizer.bypassSecurityTrustResourceUrl("".concat(this.serverBaseUrl,"/api/projects/").concat(this.edaData.projectId,"/clustering/visualize/scatterplot?filename=").concat(this.edaData.fileName)),this.showSpinner=!1;break;default:this.safeUrl=""}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Nb(n.a),s.Nb(c.b))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-eda-report"]],decls:6,vars:2,consts:[[2,"max-height","78vh !important"],["class","spinner",4,"ngIf"],[4,"ngIf"],["mat-stroked-button","","mat-dialog-close","",1,"close-btn"],[1,"spinner"],[1,"ps-iframe-loader",3,"src"]],template:function(t,e){1&t&&(s.Tb(0,"mat-dialog-content",0),s.Ic(1,b,1,0,"app-progress-spinner",1),s.Ic(2,d,2,1,"div",2),s.Sb(),s.Tb(3,"mat-dialog-actions"),s.Tb(4,"button",3),s.Kc(5,"Close"),s.Sb(),s.Sb()),2&t&&(s.Bb(1),s.kc("ngIf",e.showSpinner),s.Bb(1),s.kc("ngIf",e.safeUrl))},directives:[n.g,u.t,n.d,l.b,n.e,p.a],styles:['.spinner[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%}iframe[_ngcontent-%COMP%]{width:100%;height:900px}.ps-iframe-loader[_ngcontent-%COMP%]{background:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 100% 100%"><text fill="blue" x="50%" y="50%" font-family="Lucida Grande, sans-serif" font-size="24" text-anchor="middle">This may take some time. Please wait...</text></svg>\') 0 0 no-repeat}.close-btn[_ngcontent-%COMP%]{font-size:16px!important;margin-left:auto!important;border:1px solid #07509d!important;padding:0 20px!important;line-height:34px!important;color:#07509d!important;background-color:unset}[_nghost-%COMP%]     .footer-text>p{display:none!important}']}),e}()},gJGz:function(e,r,i){"use strict";i.r(r),i.d(r,"OutputModule",(function(){return Pt}));var n,o=i("PCNd"),s=i("+0xr"),c=i("XNiG"),u=i("1G5W"),l=i("WUEe"),p=i("3Pt+"),b=i("fXoL"),d=i("5eHb"),f=i("mLz/"),h=i("/mf7"),m=i("0IaG"),v=i("AytR"),g=i("tk/3"),S=((n=function(){function e(a){t(this,e),this._http=a,this.serverBaseUrl=v.a.serverBaseUrl,this.formData=new FormData}return a(e,[{key:"reportOutputList",value:function(t){return this._http.get("".concat(this.serverBaseUrl,"/api/v2/projects/").concat(t,"/output"))}},{key:"deleteOutput",value:function(t,e){return this._http.delete("".concat(this.serverBaseUrl,"/api/v2/projects/").concat(t,"/output/").concat(e))}},{key:"shareEmail",value:function(t,e){return this._http.post("".concat(this.serverBaseUrl,"/api/v2/projects/").concat(t,"/shareOutput"),e)}},{key:"getUsersList",value:function(t,e){return this._http.post("".concat(this.serverBaseUrl,"/api/v2/projects/").concat(t,"/shareOutput/list"),e)}},{key:"deleteUser",value:function(t,e){return this._http.delete("".concat(this.serverBaseUrl,"/api/v2/projects/").concat(t,"/shareOutput/").concat(e))}}]),e}()).\u0275fac=function(t){return new(t||n)(b.Xb(g.b))},n.\u0275prov=b.Jb({token:n,factory:n.\u0275fac,providedIn:"root"}),n),y=i("x/NU"),I=i("jhN1"),T=i("2QPx"),k=i("Wp6s"),_=i("NFeN"),w=i("ofXK"),B=i("kmnG"),D=i("qFsG"),U=i("Dh3D"),C=i("M9IT"),R=i("/3uh"),O=i("bTqV"),x=i("Qu3c"),j=["reportPaginator"],K=["reportSort"],N=["userPaginator"],E=["userSort"],P=["reportTemplate"];function F(t,e){1&t&&(b.Tb(0,"h4",10),b.Kc(1," You don't have any report shared yet. "),b.Sb())}function M(t,e){1&t&&b.Ob(0,"app-progress-spinner",32)}function A(t,e){1&t&&(b.Tb(0,"th",33),b.Kc(1,"Sr. No."),b.Sb())}function z(t,e){if(1&t&&(b.Tb(0,"td",34),b.Kc(1),b.Sb()),2&t){var a=e.index;b.Bb(1),b.Mc(" ",a+1," ")}}function $(t,e){1&t&&(b.Tb(0,"th",35),b.Kc(1,"Name"),b.Sb())}function L(t,e){if(1&t&&(b.Tb(0,"td",34),b.Kc(1),b.Sb()),2&t){var a=e.$implicit;b.Bb(1),b.Mc(" ",a.outputName," ")}}function Q(t,e){1&t&&(b.Tb(0,"th",35),b.Kc(1,"Description"),b.Sb())}function q(t,e){if(1&t&&(b.Tb(0,"td",34),b.Kc(1),b.Sb()),2&t){var a=e.$implicit;b.Bb(1),b.Mc(" ",a.outputDescription," ")}}function H(t,e){1&t&&(b.Tb(0,"th",35),b.Kc(1,"File Name"),b.Sb())}function G(t,e){if(1&t&&(b.Tb(0,"td",34),b.Kc(1),b.Sb()),2&t){var a=e.$implicit;b.Bb(1),b.Mc(" ",a.filename," ")}}function J(t,e){1&t&&(b.Tb(0,"th",35),b.Kc(1,"Created At"),b.Sb())}function X(t,e){if(1&t&&(b.Tb(0,"td",34),b.Kc(1),b.fc(2,"date"),b.Sb()),2&t){var a=e.$implicit;b.Bb(1),b.Mc(" ",b.hc(2,1,a.createdAt,"medium")," ")}}function W(t,e){1&t&&(b.Tb(0,"th",33),b.Kc(1,"Actions"),b.Sb())}function V(t,e){if(1&t){var a=b.Ub();b.Tb(0,"td",34),b.Tb(1,"div",36),b.Tb(2,"button",37),b.ac("click",(function(){b.wc(a);var t=e.$implicit;return b.ec(2).handleReportPreview(t)})),b.Ob(3,"i",38),b.Sb(),b.Tb(4,"button",39),b.ac("click",(function(){b.wc(a);var t=e.$implicit,r=b.ec(2),i=b.tc(14);return r.openAddUserModal(t,i)})),b.Ob(5,"i",40),b.Sb(),b.Tb(6,"button",41),b.ac("click",(function(){b.wc(a);var t=e.$implicit,r=b.ec(2),i=b.tc(16);return r.manageUser(t,i)})),b.Ob(7,"i",42),b.Sb(),b.Tb(8,"button",43),b.ac("click",(function(){b.wc(a);var t=e.$implicit;return b.ec(2).deleteHandler(t,"file")})),b.Ob(9,"i",44),b.Sb(),b.Sb(),b.Sb()}}function Y(t,e){1&t&&b.Ob(0,"tr",45)}function Z(t,e){1&t&&b.Ob(0,"tr",46)}function tt(t,e){if(1&t&&(b.Tb(0,"td",49),b.Kc(1),b.Sb()),2&t){b.ec(2);var a=b.tc(6);b.Bb(1),b.Mc(' No data matching the filter "',a.value,'" ')}}function et(t,e){1&t&&(b.Tb(0,"td",49),b.Kc(1,"No data available in table"),b.Sb())}function at(t,e){if(1&t&&(b.Tb(0,"tr",47),b.Ic(1,tt,2,1,"td",48),b.Ic(2,et,2,0,"td",48),b.Sb()),2&t){b.ec();var a=b.tc(6);b.Bb(1),b.kc("ngIf",""!=a.value),b.Bb(1),b.kc("ngIf",""==a.value)}}function rt(t,e){if(1&t){var a=b.Ub();b.Tb(0,"mat-card",11),b.Tb(1,"mat-card-content"),b.Tb(2,"mat-form-field",12),b.Tb(3,"mat-label"),b.Kc(4,"Search"),b.Sb(),b.Tb(5,"input",13,14),b.ac("keyup",(function(t){return b.wc(a),b.ec().applyFilter(t)})),b.Sb(),b.Sb(),b.Ic(7,M,1,0,"app-progress-spinner",15),b.Tb(8,"table",16,17),b.Rb(10,18),b.Ic(11,A,2,0,"th",19),b.Ic(12,z,2,1,"td",20),b.Qb(),b.Rb(13,21),b.Ic(14,$,2,0,"th",22),b.Ic(15,L,2,1,"td",20),b.Qb(),b.Rb(16,23),b.Ic(17,Q,2,0,"th",22),b.Ic(18,q,2,1,"td",20),b.Qb(),b.Rb(19,24),b.Ic(20,H,2,0,"th",22),b.Ic(21,G,2,1,"td",20),b.Qb(),b.Rb(22,25),b.Ic(23,J,2,0,"th",22),b.Ic(24,X,3,4,"td",20),b.Qb(),b.Rb(25,26),b.Ic(26,W,2,0,"th",19),b.Ic(27,V,10,0,"td",20),b.Qb(),b.Ic(28,Y,1,0,"tr",27),b.Ic(29,Z,1,0,"tr",28),b.Ic(30,at,3,2,"tr",29),b.Sb(),b.Ob(31,"mat-paginator",30,31),b.Sb(),b.Sb()}if(2&t){var r=b.ec();b.Bb(7),b.kc("ngIf",r.showSpinner),b.Bb(1),b.kc("dataSource",r.dataSource),b.Bb(20),b.kc("matHeaderRowDef",r.displayedColumns),b.Bb(1),b.kc("matRowDefColumns",r.displayedColumns),b.Bb(2),b.kc("pageSizeOptions",r.pageSizeOptions)}}function it(t,e){if(1&t&&(b.Tb(0,"div",56),b.Ob(1,"img",57),b.Sb()),2&t){var a=b.ec(2);b.Bb(1),b.kc("src",a.reportImage,b.zc)}}function nt(t,e){if(1&t&&(b.Tb(0,"div",56),b.Ob(1,"iframe",58),b.Sb()),2&t){var a=b.ec(2);b.Bb(1),b.kc("src",a.imageData,b.yc)}}function ot(t,e){if(1&t&&(b.Tb(0,"th",35),b.Kc(1),b.Sb()),2&t){var a=b.ec().$implicit;b.Bb(1),b.Lc(a)}}function st(t,e){if(1&t&&(b.Tb(0,"td",34),b.Kc(1),b.Sb()),2&t){var a=e.$implicit,r=b.ec().$implicit;b.Bb(1),b.Lc(a[r])}}function ct(t,e){1&t&&(b.Rb(0,63),b.Ic(1,ot,2,1,"th",22),b.Ic(2,st,2,1,"td",20),b.Qb()),2&t&&b.kc("matColumnDef",e.$implicit)}function ut(t,e){1&t&&b.Ob(0,"tr",45)}function lt(t,e){1&t&&b.Ob(0,"tr",46)}function pt(t,e){if(1&t&&(b.Tb(0,"td",49),b.Kc(1),b.Sb()),2&t){b.ec(2);var a=b.tc(5);b.Bb(1),b.Mc(' No data matching the filter "',a.value,'" ')}}function bt(t,e){1&t&&(b.Tb(0,"td",49),b.Kc(1," No data available in table "),b.Sb())}function dt(t,e){if(1&t&&(b.Tb(0,"tr",47),b.Ic(1,pt,2,1,"td",48),b.Ic(2,bt,2,0,"td",48),b.Sb()),2&t){b.ec();var a=b.tc(5);b.Bb(1),b.kc("ngIf",""!=a.value),b.Bb(1),b.kc("ngIf",""==a.value)}}function ft(t,e){if(1&t){var a=b.Ub();b.Tb(0,"div"),b.Tb(1,"mat-form-field",12),b.Tb(2,"mat-label"),b.Kc(3,"Search"),b.Sb(),b.Tb(4,"input",59,14),b.ac("keyup",(function(t){return b.wc(a),b.ec(2).applyFilter(t)})),b.Sb(),b.Sb(),b.Tb(6,"div",60),b.Tb(7,"table",61),b.Ic(8,ct,3,1,"ng-container",62),b.Ic(9,ut,1,0,"tr",27),b.Ic(10,lt,1,0,"tr",28),b.Ic(11,dt,3,2,"tr",29),b.Sb(),b.Sb(),b.Sb()}if(2&t){var r=b.ec(2);b.Bb(7),b.kc("dataSource",r.fileDataSource),b.Bb(1),b.kc("ngForOf",r.fileColumnsToDisplay),b.Bb(1),b.kc("matHeaderRowDef",r.fileColumnsToDisplay),b.Bb(1),b.kc("matRowDefColumns",r.fileColumnsToDisplay)}}function ht(t,e){if(1&t&&(b.Tb(0,"h2",50),b.Kc(1),b.fc(2,"titlecase"),b.Sb(),b.Tb(3,"mat-dialog-content",51),b.Tb(4,"h3"),b.Kc(5),b.fc(6,"titlecase"),b.Sb(),b.Tb(7,"h3"),b.Kc(8),b.Sb(),b.Tb(9,"h2"),b.Kc(10,"Report"),b.Sb(),b.Ic(11,it,2,1,"div",52),b.Ic(12,nt,2,1,"div",52),b.Ic(13,ft,12,4,"div",53),b.Sb(),b.Tb(14,"mat-dialog-actions",54),b.Tb(15,"button",55),b.Kc(16,"Close"),b.Sb(),b.Sb()),2&t){var a=b.ec();b.Bb(1),b.Mc(" ",b.gc(2,6,a.selectedReportData.outputName)," "),b.Bb(4),b.Mc("Name : ",b.gc(6,8,a.selectedReportData.outputName),""),b.Bb(3),b.Mc("Description : ",a.selectedReportData.outputDescription,""),b.Bb(3),b.kc("ngIf","jpg"===a.outputExt||"png"===a.outputExt||"tiff"===a.outputExt),b.Bb(1),b.kc("ngIf","pdf"===a.outputExt),b.Bb(1),b.kc("ngIf","csv"===a.outputExt||"xls"===a.outputExt||"xlsx"===a.outputExt)}}function mt(t,e){1&t&&(b.Tb(0,"mat-error"),b.Kc(1,"Email id is required."),b.Sb())}function vt(t,e){1&t&&(b.Tb(0,"mat-error"),b.Kc(1,"Invalid email id."),b.Sb())}function gt(t,e){if(1&t){var a=b.Ub();b.Tb(0,"h2",50),b.Kc(1,"Share with"),b.Sb(),b.Tb(2,"mat-dialog-content",51),b.Tb(3,"mat-form-field",64),b.Tb(4,"mat-label",65),b.Kc(5,"Enter email id"),b.Sb(),b.Ob(6,"input",66),b.Ic(7,mt,2,0,"mat-error",53),b.Ic(8,vt,2,0,"mat-error",53),b.Sb(),b.Sb(),b.Tb(9,"mat-dialog-actions",54),b.Tb(10,"button",55),b.Kc(11,"Close"),b.Sb(),b.Tb(12,"button",67),b.ac("click",(function(){b.wc(a);var t=b.ec();return t.onSubmitUser(t.addUserControl.value)})),b.Kc(13," Share "),b.Sb(),b.Sb()}if(2&t){var r=b.ec();b.Bb(6),b.kc("formControl",r.addUserControl),b.Bb(1),b.kc("ngIf",r.addUserControl.hasError("required")&&(r.addUserControl.dirty||r.addUserControl.touched)),b.Bb(1),b.kc("ngIf",r.addUserControl.hasError("email")),b.Bb(4),b.kc("disabled",r.addUserControl.invalid)}}function St(t,e){1&t&&b.Ob(0,"app-progress-spinner",32)}function yt(t,e){1&t&&(b.Tb(0,"th",33),b.Kc(1,"Sr. No."),b.Sb())}function It(t,e){if(1&t&&(b.Tb(0,"td",34),b.Kc(1),b.Sb()),2&t){var a=e.index;b.Bb(1),b.Mc(" ",a+1," ")}}function Tt(t,e){1&t&&(b.Tb(0,"th",35),b.Kc(1,"User Id"),b.Sb())}function kt(t,e){if(1&t&&(b.Tb(0,"td",34),b.Kc(1),b.Sb()),2&t){var a=e.$implicit;b.Bb(1),b.Mc(" ",a.sharedTo.email," ")}}function _t(t,e){1&t&&(b.Tb(0,"th",33),b.Kc(1,"Actions"),b.Sb())}function wt(t,e){if(1&t){var a=b.Ub();b.Tb(0,"td",34),b.Tb(1,"div",36),b.Tb(2,"button",43),b.ac("click",(function(){b.wc(a);var t=e.$implicit;return b.ec(2).deleteHandler(t,"user")})),b.Ob(3,"i",44),b.Sb(),b.Sb(),b.Sb()}}function Bt(t,e){1&t&&b.Ob(0,"tr",45)}function Dt(t,e){1&t&&b.Ob(0,"tr",46)}function Ut(t,e){if(1&t&&(b.Tb(0,"td",49),b.Kc(1),b.Sb()),2&t){b.ec(2);var a=b.tc(7);b.Bb(1),b.Mc(' No data matching the filter "',a.value,'" ')}}function Ct(t,e){1&t&&(b.Tb(0,"td",49),b.Kc(1,"No data available in table"),b.Sb())}function Rt(t,e){if(1&t&&(b.Tb(0,"tr",47),b.Ic(1,Ut,2,1,"td",48),b.Ic(2,Ct,2,0,"td",48),b.Sb()),2&t){b.ec();var a=b.tc(7);b.Bb(1),b.kc("ngIf",""!=a.value),b.Bb(1),b.kc("ngIf",""==a.value)}}function Ot(t,e){if(1&t){var a=b.Ub();b.Tb(0,"h2",50),b.Kc(1,"Manage Access"),b.Sb(),b.Tb(2,"mat-dialog-content",51),b.Tb(3,"mat-form-field",12),b.Tb(4,"mat-label"),b.Kc(5,"Search"),b.Sb(),b.Tb(6,"input",59,14),b.ac("keyup",(function(t){return b.wc(a),b.ec().applyFilter(t)})),b.Sb(),b.Sb(),b.Ic(8,St,1,0,"app-progress-spinner",15),b.Tb(9,"table",68),b.Rb(10,18),b.Ic(11,yt,2,0,"th",19),b.Ic(12,It,2,1,"td",20),b.Qb(),b.Rb(13,69),b.Ic(14,Tt,2,0,"th",22),b.Ic(15,kt,2,1,"td",20),b.Qb(),b.Rb(16,26),b.Ic(17,_t,2,0,"th",19),b.Ic(18,wt,4,0,"td",20),b.Qb(),b.Ic(19,Bt,1,0,"tr",27),b.Ic(20,Dt,1,0,"tr",28),b.Ic(21,Rt,3,2,"tr",29),b.Sb(),b.Sb(),b.Tb(22,"mat-dialog-actions",54),b.Tb(23,"button",70),b.Kc(24,"Close"),b.Sb(),b.Sb()}if(2&t){var r=b.ec();b.Bb(8),b.kc("ngIf",r.showSpinner),b.Bb(1),b.kc("dataSource",r.userDataSource),b.Bb(10),b.kc("matHeaderRowDef",r.userColumns),b.Bb(1),b.kc("matRowDefColumns",r.userColumns)}}var xt,jt,Kt=i("GUC0"),Nt=((xt=function(){function e(a,r,i,n,o,u,l,b){t(this,e),this._toaster=a,this._localStorage=r,this._spinner=i,this._dialog=n,this._output=o,this._report=u,this._sanitizer=l,this._eda=b,this.dataSource=new s.p,this.userDataSource=new s.p,this.pageSizeOptions=[3,5,10,15,20],this.pageSizeOptionsFile=[100,150,250,500],this.displayedColumns=[],this.fileColumnsToDisplay=[],this.userColumns=[],this.unsubscribe$=new c.b,this.addUserControl=new p.i("",[p.I.required,p.I.email]),this.showSpinner=!1,this.project=this._localStorage.getItem("project"),this.user=this._localStorage.getItem("user"),this.displayedColumns=["srNo","name","desc","fileName","createdAt","actions"],this.userColumns=["srNo","userId","actions"]}return a(e,[{key:"paginator",set:function(t){this.dataSource.paginator=t}},{key:"sort",set:function(t){this.dataSource.sort=t}},{key:"ngOnInit",value:function(){this._spinner.showSpinner(),this.getReportsList()}},{key:"getReportsList",value:function(){var t=this;this._output.reportOutputList(this.project._id).pipe(Object(u.a)(this.unsubscribe$)).subscribe((function(e){t._spinner.stopSpinner(),e?(t.outputsArray=e,t.dataSource.data=e,t.dataSource._updateChangeSubscription(),t.dataSource.paginator=t.paginator,t.dataSource.sort=t.sort):t._toaster.error("Cannot fetch outputs list","Reports")}),(function(e){t._spinner.stopSpinner(),t._toaster.error("Server Error","Reports")}))}},{key:"openReportModal",value:function(){var t=this;this._dialog.open(this.template,{minWidth:"50vw"}).afterOpened().subscribe((function(e){t._spinner.stopSpinner()}))}},{key:"handleReportPreview",value:function(t){var e=this;this._spinner.showSpinner();var a=t.filename;this.outputExt=a.substring(a.lastIndexOf(".")+1),"EDA"===t.outputType?this._eda.getEdaData(t.edaId).pipe(Object(u.a)(this.unsubscribe$)).subscribe((function(a){var r=a;t.currentEdaId=r._id,t.currentPipelineFilename=r.tasks[0].currentPipelineFilename,e.openEdaReport(t)}),(function(t){e._spinner.stopSpinner(),e._toaster.error("Server Error","EDA")})):"pdf"===this.outputExt||"png"===this.outputExt||"jpg"===this.outputExt||"tiff"===this.outputExt?this.openPreview(t):"csv"!==this.outputExt&&"xls"!==this.outputExt&&"xlsx"!==this.outputExt||this.openFilePreview(t)}},{key:"openEdaReport",value:function(t){var e=this;this._dialog.open(l.a,{data:{moduleName:"reports",edaReportData:t}}).afterOpened().subscribe((function(t){e._spinner.stopSpinner()}))}},{key:"openPreview",value:function(t){this.showSpinner=!0,this.getImageBase(t),this.selectedReportData=t,this.openReportModal()}},{key:"openFilePreview",value:function(t){var e=this;this.showSpinner=!0,this.selectedReportData=t,this.openReportModal(),this._report.getFilePreview({isDataTypeRequired:!0,projectId:t.projectId,filename:t.filename,createdBy:t.createdBy},t.projectId,t._id).subscribe((function(t){t?(e.showSpinner=!1,Object.keys(t.preview[0]).forEach((function(t){e.fileColumnsToDisplay.push(t)})),e.fileDataSource=new s.p(t.preview),e._spinner.stopSpinner()):(e.showSpinner=!1,e._toaster.error("Cannot fetch the file preview details","Report"),e._spinner.stopSpinner())}),(function(t){e.showSpinner=!1,e._spinner.stopSpinner(),e._toaster.error("Server Error","Report")}))}},{key:"getImageBase",value:function(t){var e=this;this._report.getImageEncode({projectId:t.projectId,filename:t.filename,createdBy:t.createdBy},t.projectId).subscribe((function(t){var a,r;switch(e.outputExt){case"pdf":a="data:application/pdf;base64,"+t.data,r=e._sanitizer.bypassSecurityTrustResourceUrl(a),e.imageData=r;break;case"png":a="data:image/png;base64,"+t.data,r=e._sanitizer.bypassSecurityTrustResourceUrl(a),e.reportImage=r;break;case"jpg":a="data:image/jpg;base64,"+t.data,r=e._sanitizer.bypassSecurityTrustResourceUrl(a),e.reportImage=r;break;case"tiff":a="data:image/tiff;base64,"+t.data,r=e._sanitizer.bypassSecurityTrustResourceUrl(a),e.reportImage=r}e.showSpinner=!1}),(function(t){e.showSpinner=!1,e._toaster.error("Server Error","Report")}))}},{key:"deleteHandler",value:function(t,e){var a=this;Kt({title:"Are you sure?",text:"You will not be able to recover this file!",icon:"warning",buttons:{cancel:{text:"Cancel",value:null,visible:!0,className:""},confirm:{text:"Yes, delete it!",value:!0,visible:!0,className:"bg-danger"}}}).then((function(r){r&&(a.showSpinner=!0,"file"===e?a.deleteFile(t):a.deleteUser(t))}))}},{key:"deleteFile",value:function(t){var e=this;this._output.deleteOutput(this.project._id,t._id).subscribe((function(a){a?(e.outputsArray=e.outputsArray.filter((function(e){return e._id!==t._id})),e.dataSource.data=e.outputsArray,e.dataSource._updateChangeSubscription(),e._toaster.success(t.fileName+" deleted successfully","Reports")):e._toaster.error("Cannot delete the output","Reports"),e.showSpinner=!1}),(function(t){e.showSpinner=!1,e._toaster.error("Server Error","Reports")}))}},{key:"deleteUser",value:function(t){var e=this;this._output.deleteUser(this.project._id,t._id).subscribe((function(a){a?(e.userArray=e.userArray.filter((function(e){return e._id!==t._id})),e.userDataSource.data=e.userArray,e.userDataSource._updateChangeSubscription(),e._toaster.success(t.sharedTo.email+" removed successfully","Reports")):e._toaster.error("Cannot removed the user.","Reports"),e.showSpinner=!1}),(function(t){e.showSpinner=!1,e._toaster.error("Server Error","Reports")}))}},{key:"onSubmitUser",value:function(t){var e=this;this._output.shareEmail(this.project._id,{_id:this.project._id,testId:this.selectedOutput._id,email:t}).pipe(Object(u.a)(this.unsubscribe$)).subscribe((function(t){e.addUserControl.reset(),e._toaster.success("Sharing user added successfully","Reports")}),(function(t){console.log(t),e._spinner.stopSpinner(),e._toaster.error(t.error.message,"Reports")}))}},{key:"openAddUserModal",value:function(t,e){this.selectedOutput=t,this.dialogRef=this._dialog.open(e,{minWidth:"50vw"})}},{key:"manageUser",value:function(t,e){var a=this;this._output.getUsersList(this.project._id,{_id:this.project._id,outputId:t._id}).pipe(Object(u.a)(this.unsubscribe$)).subscribe((function(t){t?(a.dialogRef=a._dialog.open(e,{height:"auto",width:"50%"}),a.userArray=t,a.userDataSource.data=t,a.userDataSource._updateChangeSubscription(),a.userDataSource.paginator=a.userPaginator,a.userDataSource.sort=a.userSort):a._toaster.error("Cannot fetch users list","Reports")}),(function(t){a._toaster.error(t.error.message,"Reports")}))}},{key:"applyFilter",value:function(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(!1),this.unsubscribe$.unsubscribe()}}]),e}()).\u0275fac=function(t){return new(t||xt)(b.Nb(d.c),b.Nb(f.a),b.Nb(h.a),b.Nb(m.c),b.Nb(S),b.Nb(y.a),b.Nb(I.b),b.Nb(T.a))},xt.\u0275cmp=b.Hb({type:xt,selectors:[["app-output"]],viewQuery:function(t,e){var a;1&t&&(b.Oc(j,!0),b.Oc(K,!0),b.Oc(N,!0),b.Oc(E,!0),b.Dc(P,!0)),2&t&&(b.sc(a=b.bc())&&(e.paginator=a.first),b.sc(a=b.bc())&&(e.sort=a.first),b.sc(a=b.bc())&&(e.userPaginator=a.first),b.sc(a=b.bc())&&(e.userSort=a.first),b.sc(a=b.bc())&&(e.template=a.first))},decls:17,vars:2,consts:[[1,"fluid-container"],[1,"heading"],["mat-card-avatar",""],[1,"folder-icon"],[1,"heading-title"],["class","text-center mt-5 font-weight-normal",4,"ngIf"],["class","reports-listing mt-5 p-4",4,"ngIf"],["reportTemplate",""],["addUserTemplate",""],["manageAccessTemplate",""],[1,"text-center","mt-5","font-weight-normal"],[1,"reports-listing","mt-5","p-4"],[1,"search-input"],["matInput","",3,"keyup"],["input",""],["class","spinner",4,"ngIf"],["mat-table","","matSort","","matSortActive","createdAt","matSortDirection","desc","matSortDisableClear","",1,"mt-2",3,"dataSource"],["reportSort","matSort"],["matColumnDef","srNo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","desc"],["matColumnDef","fileName"],["matColumnDef","createdAt"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[1,"mt-2",3,"pageSizeOptions"],["reportPaginator",""],[1,"spinner"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],[1,"action-buttons","d-flex"],["mat-icon-button","",3,"click"],[1,"fa","fa-eye"],["mat-icon-button","","matTooltip","Share with user",3,"click"],[1,"fa","fa-user-plus"],["mat-icon-button","","matTooltip","Manage user access",3,"click"],[1,"fa","fa-users"],["mat-icon-button","",1,"delete-button",3,"click"],[1,"fa","fa-trash"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"],["mat-dialog-title",""],[1,"mat-typography"],["class","text-center",4,"ngIf"],[4,"ngIf"],[1,"justify-content-end","m-auto"],["mat-stroked-button","","mat-dialog-close",""],[1,"text-center"],["width","90%",1,"imgbor",3,"src"],[1,"iframe",3,"src"],["matInput","","placeholder","Search",3,"keyup"],[1,"mat-elevation-z8",2,"box-shadow","none"],["mat-table","","matSort","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],[3,"matColumnDef"],["appearance","outline"],["for","configName"],["matInput","","type","email","name","email","id","configName","placeholder","Enter email id","autocomplete","","required","",3,"formControl"],["mat-flat-button","","type","submit","mat-dialog-close","",1,"btn-primary",3,"disabled","click"],["mat-table","","matSort","","matSortActive","createdAt","matSortDirection","desc","matSortDisableClear","",3,"dataSource"],["matColumnDef","userId"],["mat-stroked-button","","mat-dialog-close","",1,"mt-4"]],template:function(t,e){1&t&&(b.Tb(0,"div",0),b.Tb(1,"mat-card",1),b.Tb(2,"mat-card-header"),b.Tb(3,"div",2),b.Tb(4,"mat-icon",3),b.Kc(5,"content_paste"),b.Sb(),b.Sb(),b.Tb(6,"mat-card-title"),b.Tb(7,"h3",4),b.Kc(8,"Reports"),b.Sb(),b.Sb(),b.Sb(),b.Sb(),b.Ic(9,F,2,0,"h4",5),b.Ic(10,rt,33,5,"mat-card",6),b.Sb(),b.Ic(11,ht,17,10,"ng-template",null,7,b.Jc),b.Ic(13,gt,14,4,"ng-template",null,8,b.Jc),b.Ic(15,Ot,25,4,"ng-template",null,9,b.Jc)),2&t&&(b.Bb(9),b.kc("ngIf",!e.dataSource.data.length),b.Bb(1),b.kc("ngIf",e.dataSource.data.length))},directives:[k.a,k.f,k.c,_.a,k.m,w.t,k.d,B.c,B.g,D.b,s.o,U.a,s.c,s.i,s.b,s.k,s.n,s.l,C.a,R.a,s.h,s.a,U.b,O.b,x.b,s.j,s.m,m.j,m.g,m.d,m.e,w.s,p.d,p.F,p.u,p.j,B.b],pipes:[w.f,w.F],styles:[".iframe[_ngcontent-%COMP%]{height:700px;width:-webkit-fill-available}"]}),xt),Et=i("tyNb"),Pt=((jt=function e(){t(this,e)}).\u0275mod=b.Lb({type:jt}),jt.\u0275inj=b.Kb({factory:function(t){return new(t||jt)},imports:[[w.c,o.a,Et.i.forChild([{path:"",component:Nt}])]]}),jt)}}])}();
//# sourceMappingURL=14-es5.b4b8622976ec5bc584d7.js.map