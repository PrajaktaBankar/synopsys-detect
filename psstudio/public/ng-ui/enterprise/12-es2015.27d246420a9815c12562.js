(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"8NN1":function(t,e,o){"use strict";o.d(e,"a",(function(){return a}));var i=o("fXoL");let a=(()=>{class t{transform(t,e){return e&&t?t.substr(0,t.lastIndexOf(".")):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Mb({name:"dropFileExtension",type:t,pure:!0}),t})()},"9PQl":function(t,e,o){var i,a;a=this,void 0===(i=(function(){return a.EasyPieChart=(t=function(t,e){var o,i=document.createElement("canvas");t.appendChild(i),"object"==typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(i);var a=i.getContext("2d");i.width=i.height=e.size;var n=1;window.devicePixelRatio>1&&(n=window.devicePixelRatio,i.style.width=i.style.height=[e.size,"px"].join(""),i.width=i.height=e.size*n,a.scale(n,n)),a.translate(e.size/2,e.size/2),a.rotate((e.rotate/180-.5)*Math.PI);var r=(e.size-e.lineWidth)/2;e.scaleColor&&e.scaleLength&&(r-=e.scaleLength+2),Date.now=Date.now||function(){return+new Date};var s=function(t,e,o){var i=(o=Math.min(Math.max(-1,o||0),1))<=0;a.beginPath(),a.arc(0,0,r,0,2*Math.PI*o,i),a.strokeStyle=t,a.lineWidth=e,a.stroke()},l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},c=function(){e.scaleColor&&function(){var t,o;a.lineWidth=1,a.fillStyle=e.scaleColor,a.save();for(var i=24;i>0;--i)i%6==0?(o=e.scaleLength,t=0):t=e.scaleLength-(o=.6*e.scaleLength),a.fillRect(-e.size/2+t,0,o,1),a.rotate(Math.PI/12);a.restore()}(),e.trackColor&&s(e.trackColor,e.trackWidth||e.lineWidth,1)};this.getCanvas=function(){return i},this.getCtx=function(){return a},this.clear=function(){a.clearRect(e.size/-2,e.size/-2,e.size,e.size)},this.draw=(function(t){var i;e.scaleColor||e.trackColor?a.getImageData&&a.putImageData?o?a.putImageData(o,0,0):(c(),o=a.getImageData(0,0,e.size*n,e.size*n)):(this.clear(),c()):this.clear(),a.lineCap=e.lineCap,i="function"==typeof e.barColor?e.barColor(t):e.barColor,s(i,e.lineWidth,t/100)}).bind(this),this.animate=(function(t,o){var i=Date.now();e.onStart(t,o);var a=(function(){var n=Math.min(Date.now()-i,e.animate.duration),r=e.easing(this,n,t,o-t,e.animate.duration);this.draw(r),e.onStep(t,o,r),n>=e.animate.duration?e.onStop(t,o):l(a)}).bind(this);l(a)}).bind(this)},function(e,o){var i={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,trackWidth:void 0,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(t,e,o,i,a){return(e/=a/2)<1?i/2*e*e+o:-i/2*(--e*(e-2)-1)+o},onStart:function(t,e){},onStep:function(t,e,o){},onStop:function(t,e){}};if(void 0!==t)i.renderer=t;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");i.renderer=SVGRenderer}var a={},n=0,r=(function(){for(var t in this.el=e,this.options=a,i)i.hasOwnProperty(t)&&(a[t]=o&&void 0!==o[t]?o[t]:i[t],"function"==typeof a[t]&&(a[t]=a[t].bind(this)));a.easing="string"==typeof a.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[a.easing])?jQuery.easing[a.easing]:i.easing,"number"==typeof a.animate&&(a.animate={duration:a.animate,enabled:!0}),"boolean"!=typeof a.animate||a.animate||(a.animate={duration:1e3,enabled:a.animate}),this.renderer=new a.renderer(e,a),this.renderer.draw(n),e.dataset&&e.dataset.percent?this.update(parseFloat(e.dataset.percent)):e.getAttribute&&e.getAttribute("data-percent")&&this.update(parseFloat(e.getAttribute("data-percent")))}).bind(this);this.update=(function(t){return t=parseFloat(t),a.animate.enabled?this.renderer.animate(n,t):this.renderer.draw(t),n=t,this}).bind(this),this.disableAnimation=function(){return a.animate.enabled=!1,this},this.enableAnimation=function(){return a.animate.enabled=!0,this},r()});var t}).apply(e,[]))||(t.exports=i)},INNs:function(t,e,o){"use strict";o.r(e),o.d(e,"TextAnalysisModule",(function(){return sr}));var i=o("ofXK"),a=o("tyNb"),n=o("PCNd"),r=o("7EHt"),s=o("+0xr"),l=o("XNiG"),c=o("1G5W"),u=o("fXoL"),d=o("5eHb"),p=o("mLz/"),b=o("/mf7"),h=o("0IaG"),m=o("jhN1"),f=o("tagK"),g=o("2Vo4");let v=(()=>{class t{constructor(){this.taData=[],this.validOperations=["inputData","cleaningTransformation","textSummarization"],this.onSubmitEventSubject=new g.a("")}broadcastSubmitEvent(t){this.onSubmitEventSubject.next(t)}cleartaData(){this.taData=[]}setExperimentsData(t){this.taData.push(t)}getSavedOperationOutput(t){let e=this.taData.findIndex(e=>e.uid==t);return this.taData[e]}saveOperationOutput(t){let e=this.taData.findIndex(e=>e.uid==t.uid);-1==e?this.taData.push(t):this.taData[e]=t,this.getFirstInputData()}getFirstInputData(){return this.taData[0]}getInputData(t){let e=null;if("wordEmbedding"===t.operation)e=this.taData[0];else{let o=this.taData.findIndex(e=>e.uid==t.uid);(-1!==o?[...this.taData.slice(0,o)]:[...this.taData]).reverse().some(o=>{if(this.validOperations.includes(o.operation)&&o.uid!=t.uid)return e=o,!0})}return e}removeOperation(t){this.taData=this.taData.filter(e=>e.uid!==t.uid)}getAllOperationData(t){let e=this.taData;return t||(e=e.filter(t=>"inputData"!==t.operation)),e}orderOperationData(t,e){if("reoder"==e&&this.taData.length>1){let e=[];e.push(this.taData[0]),t.forEach(t=>{let o=this.taData.find(e=>e.operation==t.operation);o&&e.push(o)}),this.taData=e}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var S=o("EiqI"),T=o("Wp6s"),w=o("NFeN"),C=o("bTqV"),x=o("Qu3c"),y=o("kmnG"),k=o("qFsG"),_=o("Dh3D"),D=o("M9IT"),I=o("/3uh");const O=["exListPaginator"],E=["taSort"];function B(t,e){if(1&t){const t=u.Ub();u.Tb(0,"button",8),u.ac("click",(function(){return u.wc(t),u.ec().gotoCreate()})),u.Kc(1," Create "),u.Sb()}}function N(t,e){if(1&t){const t=u.Ub();u.Tb(0,"h4",9),u.Kc(1," You haven't created any experiment yet, "),u.Tb(2,"a",10),u.ac("click",(function(){return u.wc(t),u.ec().gotoCreate()})),u.Kc(3,"create now."),u.Sb(),u.Sb()}}function M(t,e){1&t&&(u.Tb(0,"h4",9),u.Kc(1," Text analysis is not available in forecasting project. "),u.Sb())}function P(t,e){1&t&&u.Ob(0,"app-progress-spinner",33)}function A(t,e){1&t&&u.Ob(0,"th",34)}function F(t,e){if(1&t&&(u.Tb(0,"td",35),u.Kc(1),u.Sb()),2&t){const t=e.index;u.ec();const o=u.tc(32);u.Bb(1),u.Mc(" ",t+1+o.pageIndex*o.pageSize," ")}}function K(t,e){1&t&&(u.Tb(0,"th",36),u.Kc(1,"Experiment Name"),u.Sb())}function R(t,e){if(1&t){const t=u.Ub();u.Tb(0,"td",37),u.ac("click",(function(){u.wc(t);const o=e.$implicit;return u.ec(2).setExperimentsData(o,"viewMode")})),u.Kc(1),u.Sb()}if(2&t){const t=e.$implicit;u.Bb(1),u.Mc(" ",t.experimentName," ")}}function L(t,e){1&t&&(u.Tb(0,"th",36),u.Kc(1,"Experiment Id"),u.Sb())}function j(t,e){if(1&t&&(u.Tb(0,"td",35),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.Bb(1),u.Mc(" ",t._id," ")}}function V(t,e){1&t&&(u.Tb(0,"th",36),u.Kc(1,"Status"),u.Sb())}function q(t,e){if(1&t&&(u.Tb(0,"td",35),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.Bb(1),u.Mc(" ",t.status," ")}}function z(t,e){1&t&&(u.Tb(0,"th",36),u.Kc(1,"Created At"),u.Sb())}function $(t,e){if(1&t&&(u.Tb(0,"td",35),u.Kc(1),u.fc(2,"date"),u.Sb()),2&t){const t=e.$implicit;u.Bb(1),u.Mc(" ",u.hc(2,1,t.createdAt,"medium")," ")}}function U(t,e){1&t&&(u.Tb(0,"th",34),u.Kc(1,"Actions"),u.Sb())}function W(t,e){if(1&t){const t=u.Ub();u.Tb(0,"td",35),u.Tb(1,"div",38),u.Tb(2,"button",39),u.ac("click",(function(){u.wc(t);const o=e.$implicit;return u.ec(2).setExperimentsData(o)})),u.Ob(3,"i",40),u.Sb(),u.Tb(4,"button",41),u.ac("click",(function(){u.wc(t);const o=e.$implicit;return u.ec(2).deleteHandler(o)})),u.Ob(5,"i",42),u.Sb(),u.Sb(),u.Sb()}}function G(t,e){1&t&&u.Ob(0,"tr",43)}function H(t,e){1&t&&u.Ob(0,"tr",44)}function X(t,e){if(1&t&&(u.Tb(0,"td",47),u.Kc(1),u.Sb()),2&t){u.ec(2);const t=u.tc(6);u.Bb(1),u.Mc(' No data matching the filter "',t.value,'" ')}}function Y(t,e){1&t&&(u.Tb(0,"td",47),u.Kc(1,"No data available in table"),u.Sb())}function Q(t,e){if(1&t&&(u.Tb(0,"tr",45),u.Ic(1,X,2,1,"td",46),u.Ic(2,Y,2,0,"td",46),u.Sb()),2&t){u.ec();const t=u.tc(6);u.Bb(1),u.kc("ngIf",""!=t.value),u.Bb(1),u.kc("ngIf",""==t.value)}}function J(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-card",11),u.Tb(1,"mat-card-content"),u.Tb(2,"mat-form-field",12),u.Tb(3,"mat-label"),u.Kc(4,"Search"),u.Sb(),u.Tb(5,"input",13,14),u.ac("keyup",(function(e){return u.wc(t),u.ec().applyFilter(e)})),u.Sb(),u.Sb(),u.Ic(7,P,1,0,"app-progress-spinner",15),u.Tb(8,"table",16,17),u.Rb(10,18),u.Ic(11,A,1,0,"th",19),u.Ic(12,F,2,1,"td",20),u.Qb(),u.Rb(13,21),u.Ic(14,K,2,0,"th",22),u.Ic(15,R,2,1,"td",23),u.Qb(),u.Rb(16,24),u.Ic(17,L,2,0,"th",22),u.Ic(18,j,2,1,"td",20),u.Qb(),u.Rb(19,25),u.Ic(20,V,2,0,"th",22),u.Ic(21,q,2,1,"td",20),u.Qb(),u.Rb(22,26),u.Ic(23,z,2,0,"th",22),u.Ic(24,$,3,4,"td",20),u.Qb(),u.Rb(25,27),u.Ic(26,U,2,0,"th",19),u.Ic(27,W,6,0,"td",20),u.Qb(),u.Ic(28,G,1,0,"tr",28),u.Ic(29,H,1,0,"tr",29),u.Ic(30,Q,3,2,"tr",30),u.Sb(),u.Ob(31,"mat-paginator",31,32),u.Sb(),u.Sb()}if(2&t){const t=u.ec();u.Bb(7),u.kc("ngIf",t.showSpinner),u.Bb(1),u.kc("dataSource",t.dataSource),u.Bb(20),u.kc("matHeaderRowDef",t.displayedColumns),u.Bb(1),u.kc("matRowDefColumns",t.displayedColumns),u.Bb(2),u.kc("pageSizeOptions",t.pageSizeOptions)}}const Z=o("GUC0");let tt=(()=>{class t{constructor(t,e,o,i,a,n,r,c,u){this._toaster=t,this._localStorage=e,this._spinner=o,this._dialog=i,this._sanitizer=a,this._textAnalysis=n,this._taDataStore=r,this._schedular=c,this.route=u,this.dataSource=new s.p,this.pageSizeOptions=[10,15,20],this.displayedColumns=[],this.unsubscribe$=new l.b,this.showSpinner=!1,this.project=this._localStorage.getItem("project"),this.user=this._localStorage.getItem("user"),this.displayedColumns=["srNo","experimentName","experimentId","status","createdAt","actions"]}set paginator(t){this.dataSource.paginator=t}set sort(t){this.dataSource.sort=t}ngOnInit(){this.getExperimentsList()}getExperimentsList(){this._textAnalysis.experimentList(this.project._id).pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{this._spinner.stopSpinner(),t?(this.experimentsArray=t,this.dataSource.data=t,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.dataSource._updateChangeSubscription()):this._toaster.error("Cannot fetch experiments","Drift Settings")},t=>{this._spinner.stopSpinner(),this._toaster.error("Server Error","Text Analysis")})}deleteHandler(t){Z({title:"Are you sure?",text:"You will not be able to recover this experiment!",icon:"warning",buttons:{cancel:{text:"Cancel",value:null,visible:!0,className:""},confirm:{text:"Yes, delete it!",value:!0,visible:!0,className:"bg-danger"}}}).then(e=>{e&&(this.showSpinner=!0,this._textAnalysis.deleteExperiment(this.project._id,t._id).subscribe(e=>{e?(this.experimentsArray=this.experimentsArray.filter(e=>e._id!==t._id),this.dataSource.data=this.experimentsArray,this.dataSource._updateChangeSubscription(),this._toaster.success(t.experimentName+" deleted successfully","Text Analysis")):this._toaster.error("Cannot delete the experiment","Text Analysis"),this.showSpinner=!1},t=>{this.showSpinner=!1,this._toaster.error("Server Error","Text Analysis")}))})}clearTaData(){this._taDataStore.cleartaData()}gotoCreate(){this._localStorage.deleteItem("experimentMode"),this.clearTaData(),this._spinner.stopSpinner(),this.route.navigate(["/project/textanalysis/create-experiment"])}setExperimentsData(t,e){this.clearTaData(),e?(this.experimentMode=e,this._localStorage.setItem("experimentMode",this.experimentMode)):this._localStorage.deleteItem("experimentMode"),this._taDataStore.setExperimentsData({uid:1,featureName:t.feature,fileId:t.fileId,operation:"inputData",output:t.inputText,experimentName:t.experimentName}),t.taskConfig.forEach(t=>{this._taDataStore.setExperimentsData({uid:t.uid,operation:t.operationName,taskConfig:t.parameters})}),this._spinner.stopSpinner(),this.route.navigate(["/project/textanalysis/create-experiment"],{queryParams:{experimentId:t._id}})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}ngOnDestroy(){this.unsubscribe$.next(!1),this.unsubscribe$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(d.c),u.Nb(p.a),u.Nb(b.a),u.Nb(h.c),u.Nb(m.b),u.Nb(f.a),u.Nb(v),u.Nb(S.a),u.Nb(a.e))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-experiments-list"]],viewQuery:function(t,e){var o;1&t&&(u.Oc(O,!0),u.Oc(E,!0)),2&t&&(u.sc(o=u.bc())&&(e.paginator=o.first),u.sc(o=u.bc())&&(e.sort=o.first))},decls:13,vars:4,consts:[[1,"fluid-container","font-weight-lighter"],[1,"heading"],["mat-card-avatar",""],[1,"folder-icon"],[1,"heading-title"],["mat-raised-button","","class","btn-primary ml-auto","matTooltip","Create experiment",3,"click",4,"ngIf"],["class","text-center mt-5 font-weight-normal",4,"ngIf"],["class","setting-listing mt-5 ps-4",4,"ngIf"],["mat-raised-button","","matTooltip","Create experiment",1,"btn-primary","ml-auto",3,"click"],[1,"text-center","mt-5","font-weight-normal"],["href","#",1,"text-decoration-none",3,"click"],[1,"setting-listing","mt-5","ps-4"],[1,"search-input"],["matInput","",3,"keyup"],["input",""],["class","spinner",4,"ngIf"],["mat-table","","matSort","","matSortActive","createdAt","matSortDirection","desc","matSortDisableClear","",1,"mt-2",3,"dataSource"],["taSort","matSort"],["matColumnDef","srNo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","experimentName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","style","cursor: pointer",3,"click",4,"matCellDef"],["matColumnDef","experimentId"],["matColumnDef","status"],["matColumnDef","createdAt"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[1,"mt-2",3,"pageSizeOptions"],["exListPaginator",""],[1,"spinner"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],["mat-cell","",2,"cursor","pointer",3,"click"],[1,"action-buttons","d-flex"],["mat-icon-button","","matTooltip","Clone experiment",3,"click"],[1,"far","fa-copy"],["mat-icon-button","","matTooltip","Delete experiment",1,"delete-button",3,"click"],[1,"fa","fa-trash"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(u.Tb(0,"div",0),u.Tb(1,"mat-card",1),u.Tb(2,"mat-card-header"),u.Tb(3,"div",2),u.Tb(4,"mat-icon",3),u.Kc(5,"analytics"),u.Sb(),u.Sb(),u.Tb(6,"mat-card-title"),u.Tb(7,"h3",4),u.Kc(8,"Text Analysis"),u.Sb(),u.Sb(),u.Ic(9,B,2,0,"button",5),u.Sb(),u.Sb(),u.Ic(10,N,4,0,"h4",6),u.Ic(11,M,2,0,"h4",6),u.Ic(12,J,33,5,"mat-card",7),u.Sb()),2&t&&(u.Bb(9),u.kc("ngIf","timeseries"!=e.project.type),u.Bb(1),u.kc("ngIf",!e.dataSource.data.length),u.Bb(1),u.kc("ngIf","timeseries"===e.project.type),u.Bb(1),u.kc("ngIf","timeseries"!==e.project.type&&e.dataSource.data.length))},directives:[T.a,T.f,T.c,w.a,T.m,i.t,C.b,x.b,T.d,y.c,y.g,k.b,s.o,_.a,s.c,s.i,s.b,s.k,s.n,s.l,D.a,I.a,s.h,s.a,_.b,s.j,s.m],pipes:[i.f],styles:[""]}),t})();var et=o("3Pt+"),ot=o("THC6");function it(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-icon",14,15),u.ac("mouseover",(function(){return u.wc(t),u.ec().mouseOverDownload()}))("mouseleave",(function(){return u.wc(t),u.ec().mouseLeaveDownload()})),u.Sb()}if(2&t){const t=u.ec();u.kc("color",t.downloadIconColor)}}function at(t,e){1&t&&u.Ob(0,"i",16)}function nt(t,e){1&t&&(u.Tb(0,"mat-error"),u.Kc(1,"Experiment name is required."),u.Sb())}function rt(t,e){if(1&t&&(u.Tb(0,"mat-form-field",17),u.Ob(1,"mat-label",18),u.Ob(2,"input",19),u.Ic(3,nt,2,0,"mat-error",13),u.Sb()),2&t){const t=u.ec();u.Bb(1),u.kc("innerText",t.saveDialogControl.value?"Experiment Name":"Add a name to experiment"),u.Bb(1),u.kc("formControl",t.saveDialogControl),u.Bb(1),u.kc("ngIf",t.saveDialogControl.touched&&t.saveDialogControl.hasError("required"))}}function st(t,e){if(1&t&&u.Ob(0,"div",20),2&t){const t=u.ec();u.kc("innerHTML",t.graphContent,u.xc)}}function lt(t,e){1&t&&(u.Tb(0,"div",21),u.Kc(1," Please perform some experiments to save ! "),u.Sb())}function ct(t,e){1&t&&(u.Tb(0,"div",21),u.Kc(1," Please execute the experiments to save ! "),u.Sb())}function ut(t,e){1&t&&(u.Tb(0,"button",22),u.Kc(1," Close "),u.Sb())}function dt(t,e){if(1&t){const t=u.Ub();u.Tb(0,"button",23),u.ac("click",(function(){u.wc(t);const e=u.ec();return e.saveExperiment(e.saveDialogControl)})),u.Kc(1," Save "),u.Sb()}if(2&t){const t=u.ec();u.kc("disabled",t.saveDialogControl.hasError("required")&&t.saveDialogControl.hasError("required"))}}function pt(t,e){if(1&t){const t=u.Ub();u.Tb(0,"button",24),u.ac("click",(function(){u.wc(t);const e=u.ec();return e.saveAndApplyExperiment(e.saveDialogControl)})),u.Kc(1," Save and Apply"),u.Sb()}if(2&t){const t=u.ec();u.kc("disabled",t.saveDialogControl.hasError("required")&&t.saveDialogControl.hasError("required"))}}function bt(t,e){1&t&&(u.Tb(0,"mat-hint"),u.Kc(1,"Note: Save and apply button will save the experiment and apply the changes to the dataset."),u.Sb())}let ht=(()=>{class t{constructor(t,e,o,i,a,n,r,s,c,u){this.data=t,this.route=e,this._localStorage=o,this._spinner=i,this._taDataStore=a,this._textAnalysis=n,this._toaster=r,this._textAnalysisDialog=s,this._socket=c,this._sanitizer=u,this.saveDialogControl=new et.i("",et.I.required),this.showSaveApplybtn=!1,this.dialogTitle=null,this.unsubscribe$=new l.b,this.showSaveError=!1,this.showExecutionError=!1,this.downloadIconColor="basic",this.graphFileName=null,this.downloadGraph=function(t){this.graphFileName=t+"_graph.html";var e=new Blob([this.data.data],{type:"application/html"});this.graphFileUrl=this._sanitizer.bypassSecurityTrustResourceUrl(window.URL.createObjectURL(e))},this.project=this._localStorage.getItem("project"),this.user=this._localStorage.getItem("user"),this.downloadGraph(t.showGraph)}ngOnInit(){this._spinner.showSpinner(),this.data.showGraph?(this.dialogTitle="pos"==this.data.showGraph?"Dependency Graph":"rbm"==this.data.showGraph?"Matching Visualization":"ner"==this.data.showGraph?"Named Entity Visualization":"Save Experiment",this.graphContent=this._sanitizer.bypassSecurityTrustHtml(this.data.data)):(this.dialogTitle="Save Experiment",this.initSocket(),this.operationData=this._taDataStore.getAllOperationData(!0),this.operationData.length<2?(this.showSaveError=!0,this.showExecutionError=!1):this.operationData.every(t=>t.output)?(this.showSaveError=!1,this.showExecutionError=!1,this.operationData.some(t=>{"inputData"===t.operation&&(t.featureName?(this.showSaveApplybtn=!0,this.featureName=t.featureName):(this.showSaveApplybtn=!1,this.featureName=null),this.inputData=t.output,this.inputFileName=t.fileName,this.inputFileId=t.fileId,this.dataSetDbObj=t.dataSetVal,this.childFileData=t.childFileData)})):(this.showSaveError=!0,this.showExecutionError=!0)),this._spinner.stopSpinner()}mouseOverDownload(){this.downloadIconColor="primary"}mouseLeaveDownload(){this.downloadIconColor="basic"}saveExperiment(t){this._spinner.showSpinner(),this.operationData=this._taDataStore.getAllOperationData(),this.operationData.map(t=>t.taskConfig[0]);let e=[];this.operationData.map(t=>{e.push({uid:t.uid,operationName:t.operation,parameters:t.taskConfig[0]})});let o={experimentName:t.value,projectId:this.project._id,inputText:this.inputData,taskConfig:e};o.fileId=this.inputFileId?this.inputFileId:null,o.feature=this.featureName?this.featureName:null,this._textAnalysis.saveTextAnalysis(o).pipe(Object(c.a)(this.unsubscribe$)).subscribe(e=>{t.setValue(""),this._textAnalysisDialog.close(),this._spinner.stopSpinner(),this.route.navigate(["/project/textanalysis"]),this._spinner.stopSpinner(),this._toaster.success("Text analysis saved successfully","Text Analysis")},t=>{this._spinner.stopSpinner(),this._toaster.error("Server Error","Error saving text analysis")})}saveAndApplyExperiment(t){var e;this._spinner.showSpinner(),this.operationData=this._taDataStore.getAllOperationData();let o=this.operationData.map(t=>t.taskConfig[0]),i=[];this.operationData.map(t=>{i.push({uid:t.uid,operationName:t.operation,parameters:t.taskConfig[0]})});let a={experimentName:t.value,projectId:this.project._id,fileSource:"textAnalysis",dataGroupId:this.dataSetDbObj.datagroup_id,filePath:this.inputFileName,fileId:this.inputFileId,feature:this.featureName,inputText:this.inputData,fileSchema:this.dataSetDbObj.fileSchema,featureList:[this.featureName],taskConfig:o,operation:i};a.parentPipelineFilename=(null===(e=this.childFileData)||void 0===e?void 0:e.hasOwnProperty("currentEdaId"))?this.childFileData.currentEdaId.tasks[0].currentPipelineFilename:null,this._textAnalysis.saveApplyTextAnalysis(a).pipe(Object(c.a)(this.unsubscribe$)).subscribe(e=>{t.reset(),this._toaster.success("Text analysis started","Text Analysis")},t=>{this._spinner.stopSpinner(),this._toaster.error("Server Error","Error saving text analysis")})}initSocket(){this._socket.listen("textAnalysisDone").subscribe(t=>{"completed"===t.status.status?(this._textAnalysisDialog.close(),this._spinner.stopSpinner(),this.route.navigate(["/project/textanalysis"]),this._toaster.success("Text analysis saved successfully","Text Analysis")):"failed"===t.status.status&&(this._textAnalysisDialog.close(),this._spinner.stopSpinner(),this.route.navigate(["/project/textanalysis"]),this._toaster.error(t.status.message,"Text Analysis")),this._spinner.stopSpinner()},t=>{this._spinner.stopSpinner(),this._toaster.error("Socket Error","Text Analysis")})}ngOnDestroy(){this._socket.removeListener("textAnalysisDone"),this.unsubscribe$.next(!1),this.unsubscribe$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(h.a),u.Nb(a.e),u.Nb(p.a),u.Nb(b.a),u.Nb(v),u.Nb(f.a),u.Nb(d.c),u.Nb(h.i),u.Nb(ot.a),u.Nb(m.b))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-text-analysis-dialog"]],decls:18,vars:13,consts:[["mat-dialog-title",""],[2,"float","right","cursor","pointer"],[2,"color","black",3,"href","download"],["class","fas fa-download","matTooltip","Download File","matTooltipPosition","above","matTooltipHideDelay","1000","style","font-size: 16px",3,"color","mouseover","mouseleave",4,"ngIf"],["mat-dialog-close","","id","times-close-icon","style","float: right; font-size: 16px; cursor: pointer","class","fa fa-times",4,"ngIf"],["mat-dialog-content",""],["style","height: 70px",4,"ngIf"],["style","min-height: 70vh",3,"innerHTML",4,"ngIf"],["style","color: red; text-align: center",4,"ngIf"],["mat-dialog-actions","",2,"margin-top","10px"],["id","saveBtn","mat-raised-button","","mat-dialog-close","","cdkFocusInitial","",4,"ngIf"],["id","saveBtn","mat-raised-button","","cdkFocusInitial","",3,"disabled","click",4,"ngIf"],["id","saveAndApplyBtn","mat-raised-button","","cdkFocusInitial","",3,"disabled","click",4,"ngIf"],[4,"ngIf"],["matTooltip","Download File","matTooltipPosition","above","matTooltipHideDelay","1000",1,"fas","fa-download",2,"font-size","16px",3,"color","mouseover","mouseleave"],["tooltip","matTooltip"],["mat-dialog-close","","id","times-close-icon",1,"fa","fa-times",2,"float","right","font-size","16px","cursor","pointer"],[2,"height","70px"],[3,"innerText"],["matInput","",3,"formControl"],[2,"min-height","70vh",3,"innerHTML"],[2,"color","red","text-align","center"],["id","saveBtn","mat-raised-button","","mat-dialog-close","","cdkFocusInitial",""],["id","saveBtn","mat-raised-button","","cdkFocusInitial","",3,"disabled","click"],["id","saveAndApplyBtn","mat-raised-button","","cdkFocusInitial","",3,"disabled","click"]],template:function(t,e){1&t&&(u.Tb(0,"h1",0),u.Kc(1),u.Tb(2,"span",1),u.Tb(3,"a",2),u.Ic(4,it,2,1,"mat-icon",3),u.Sb(),u.Kc(5,"\xa0\xa0\xa0\xa0 "),u.Ic(6,at,1,0,"i",4),u.Sb(),u.Sb(),u.Tb(7,"div",5),u.Ic(8,rt,4,3,"mat-form-field",6),u.Ic(9,st,1,1,"div",7),u.Ic(10,lt,2,0,"div",8),u.Ic(11,ct,2,0,"div",8),u.Sb(),u.Tb(12,"div",9),u.Ic(13,ut,2,0,"button",10),u.Ic(14,dt,2,1,"button",11),u.Ic(15,pt,2,1,"button",12),u.Kc(16,"\xa0\xa0\xa0\xa0"),u.Ic(17,bt,2,0,"mat-hint",13),u.Sb()),2&t&&(u.Bb(1),u.Mc(" ",e.dialogTitle," "),u.Bb(2),u.kc("href",e.graphFileUrl,u.zc)("download",e.graphFileName),u.Bb(1),u.kc("ngIf",e.data.showGraph&&!e.showSaveError),u.Bb(2),u.kc("ngIf",!e.data.showGraph),u.Bb(2),u.kc("ngIf",!e.data.showGraph&&!e.showSaveError),u.Bb(1),u.kc("ngIf",e.data.showGraph&&!e.showSaveError),u.Bb(1),u.kc("ngIf",e.showSaveError&&!e.showExecutionError),u.Bb(1),u.kc("ngIf",e.showSaveError&&e.showExecutionError),u.Bb(2),u.kc("ngIf",e.data.showGraph&&!e.showSaveError),u.Bb(1),u.kc("ngIf",!e.data.showGraph&&!e.showSaveError),u.Bb(1),u.kc("ngIf",!e.data.showGraph&&e.showSaveApplybtn&&!e.showSaveError),u.Bb(2),u.kc("ngIf",!e.data.showGraph&&e.showSaveApplybtn&&!e.showSaveError))},directives:[h.j,i.t,h.g,h.d,w.a,x.b,h.e,y.c,y.g,k.b,et.d,et.u,et.j,y.b,C.b,y.f],styles:["button#saveAndApplyBtn[_ngcontent-%COMP%]:enabled, button#saveBtn[_ngcontent-%COMP%]:enabled{background-color:#08509d;color:#fff}#times-close-icon[_ngcontent-%COMP%]:hover{color:red}"]}),t})();var mt=o("kYjS"),ft=o("d3UM"),gt=o("FKr1"),vt=o("8NN1");function St(t,e){if(1&t&&(u.Tb(0,"mat-option",19),u.Kc(1),u.fc(2,"dropFileExtension"),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t._id),u.Bb(1),u.Mc(" ",u.hc(2,2,t.name,t.fileSource)," ")}}function Tt(t,e){1&t&&(u.Tb(0,"mat-error"),u.Kc(1,"Selected dataset doesn't contain text feature"),u.Sb())}function wt(t,e){if(1&t&&(u.Tb(0,"mat-option",19),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t.colName),u.Bb(1),u.Mc(" ",t.colName," ")}}function Ct(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",4),u.Tb(1,"h4",1),u.Kc(2,"Select Feature"),u.Sb(),u.Tb(3,"mat-form-field",5),u.Ob(4,"mat-label",6),u.Tb(5,"mat-select",7),u.ac("ngModelChange",(function(e){return u.wc(t),u.ec().selectedFeature=e}))("ngModelChange",(function(){u.wc(t);const e=u.ec();return e.onChangeFeature(e.selectedFeature)})),u.Ic(6,wt,2,2,"mat-option",8),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=u.ec();u.Bb(4),u.kc("innerText",t.selectedFeature?"Feature":"Choose a Feature!"),u.Bb(1),u.kc("ngModel",t.selectedFeature),u.Bb(1),u.kc("ngForOf",t.featureArray)}}function xt(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-icon",20),u.ac("click",(function(){return u.wc(t),u.ec().refresh()})),u.Sb()}if(2&t){const t=u.ec();u.kc("color",t.isBlur?"basic":"primary")}}let yt=(()=>{class t{constructor(t,e,o,i,a,n,r){this._data=t,this._toaster=e,this._localStorage=o,this._spinner=i,this._textAnalysis=a,this._taDataStore=n,this.route=r,this.unsubscribe$=new l.b,this.showSpinner=!1,this.isBlur=!0,this.filename="",this.showError=!1,this.featureDescription="",this.setExperimentsData=function(t){null==t.fileId&&(this.featureDescription=t.inputText),this.onChangeDataset(t.fileId,!0,t.feature),this.selectedDataSetVal&&this._taDataStore.getAllOperationData(!0).forEach(t=>{"inputData"==t.operation&&(t.fileName=this.selectedDataSetVal.name,t.dataSetVal=this.selectedDataSetVal,this.selectedDataSet=t.fileId,this.featureDescription=t.output,this.filename=this.selectedDataSetVal.name)})},this.onTextChange=function(t){this.filename=this.childFileData&&"eda_"==this.childFileData.fileSource?this.childFileData.filename:this.selectedDataSetVal.name,this._taDataStore.saveOperationOutput({uid:1,operation:"inputData",output:t,featureName:this.selectedFeature,fileName:this.filename,fileId:this.selectedDataSetVal._id,dataSetVal:this.selectedDataSetVal,childFileData:this.childFileData})},this.onChangeFeature=t=>{this.filename="",this.filename=this.childFileData&&"eda_"==this.childFileData.fileSource?this.childFileData.filename:this.selectedDataSetVal.name,this.selectedFeature=t,this.refresh()},this.refresh=()=>{this.selectedFeature&&this.selectedFeature.length>0&&(this._spinner.showSpinner(),this._textAnalysis.listFeatureDetails(this.project._id,this.selectedFeature,this.filename).pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{this.featureDescription=t.data,this._taDataStore.saveOperationOutput({uid:1,operation:"inputData",output:this.featureDescription,featureName:this.selectedFeature,fileName:this.filename,fileId:this.selectedDataSetVal._id,dataSetVal:this.selectedDataSetVal,childFileData:this.childFileData}),this._spinner.stopSpinner()},t=>{this._spinner.stopSpinner(),this._toaster.error("Error fetching text","Text Analysis")}))},this.project=this._localStorage.getItem("project"),this.user=this._localStorage.getItem("user")}ngOnInit(){this._spinner.showSpinner(),this.getDataSetList()}getDataSetList(){this._data.getAllProjectDatas(this.project._id).pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{this._spinner.stopSpinner(),t?(this.dataSetArray=t[0].filesList.filter(t=>"upload_retrained"!==t.fileSource),this.setValuesAfterRefresh()):this._toaster.error("Cannot fetch all data set","Text Analysis")},t=>{this._spinner.stopSpinner(),this._toaster.error("Server Error","Text Analysis")})}setValuesAfterRefresh(){this._localStorage.getItem("experimentMode"),this._textAnalysis.experimentList(this.project._id).pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{this.experimentsList=t,this.experimentsList.forEach(t=>{t._id==this.route.snapshot.queryParams.experimentId&&this.setExperimentsData(t)})},t=>{this._spinner.stopSpinner(),this._toaster.error("Server Error","Text Analysis")})}onChangeDataset(t,e,o){this._spinner.showSpinner(),this.selectedDataSetVal=this.dataSetArray.find(e=>e._id==t),null!==t&&this._data.getAllChildDatasets(this.project._id,t).pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{t?(t.length>0&&t[0].currentEdaId?(this.childFileData=t[0],this.edaData=t[0].currentEdaId,this.featureArray=this.edaData.edaSummary.filter(t=>"Text"==t.dataType)):(this.edaData=this.selectedDataSetVal.fileSchema,this.featureArray=this.edaData.filter(t=>"Text"==t.dataType)),this.showError=!this.featureArray.length):this._toaster.error("Cannot fetch all data set","Text Analysis"),e&&(this.selectedFeature=o),this._spinner.stopSpinner()},t=>{this._spinner.stopSpinner(),this._toaster.error("Server Error","Text Analysis")})}ngOnDestroy(){this.unsubscribe$.next(!1),this.unsubscribe$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(mt.a),u.Nb(d.c),u.Nb(p.a),u.Nb(b.a),u.Nb(f.a),u.Nb(v),u.Nb(a.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-experiment-input"]],inputs:{operationList:"operationList"},decls:27,vars:8,consts:[["id","ta-input-panel",3,"expanded"],[1,"font-weight-lighter"],[1,"row","d-flex","justify-content-around",2,"position","relative"],[1,"col-md-4"],[1,"col-md-12"],["appearance","fill"],[3,"innerText"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["class","col-md-12",4,"ngIf"],[1,"col-md-1","text-center"],[2,"position","absolute","top","73px","left","16px","text-align","center","color","#454545","border-radius","50%","border","2px solid #454545","width","50px","height","50px","opacity","1","background-color","whitesmoke","z-index","999"],[2,"padding-top","10px","cursor","default"],[2,"width","2px","height","200px","background-color","#454545","position","absolute","left","40px"],[1,"col-md-7"],["appearance","outline"],["class","\n            material-icons\n            mdc-text-field__icon mdc-text-field__icon--leading\n            fas\n            fa-sync-alt\n          ","tabindex","0","style","\n            float: right;\n            font-size: 15px;\n            width: 25px;\n            height: 25px;\n            text-align: center;\n            background-color: white;\n            margin-top: -25px;\n          ","role","button",3,"color","click",4,"ngIf"],["matInput","","placeholder","Enter some text here!","rows","7%",3,"ngModel","ngModelChange","blur","focus"],[3,"value"],["tabindex","0","role","button",1,"material-icons","mdc-text-field__icon","mdc-text-field__icon--leading","fas","fa-sync-alt",2,"float","right","font-size","15px","width","25px","height","25px","text-align","center","background-color","white","margin-top","-25px",3,"color","click"]],template:function(t,e){1&t&&(u.Tb(0,"mat-expansion-panel",0),u.Tb(1,"mat-expansion-panel-header"),u.Tb(2,"h4",1),u.Tb(3,"mat-panel-title"),u.Kc(4,"Input Data"),u.Sb(),u.Sb(),u.Sb(),u.Tb(5,"div",2),u.Tb(6,"div",3),u.Tb(7,"div",4),u.Tb(8,"h4",1),u.Kc(9,"Select File"),u.Sb(),u.Tb(10,"mat-form-field",5),u.Ob(11,"mat-label",6),u.Tb(12,"mat-select",7),u.ac("ngModelChange",(function(t){return e.selectedDataSet=t}))("ngModelChange",(function(){return e.onChangeDataset(e.selectedDataSet)})),u.Ic(13,St,3,5,"mat-option",8),u.Sb(),u.Sb(),u.Ic(14,Tt,2,0,"mat-error",9),u.Sb(),u.Ic(15,Ct,7,3,"div",10),u.Sb(),u.Tb(16,"div",11),u.Tb(17,"div",12),u.Tb(18,"h3",13),u.Kc(19,"or"),u.Sb(),u.Sb(),u.Ob(20,"div",14),u.Sb(),u.Tb(21,"div",15),u.Tb(22,"mat-form-field",16),u.Tb(23,"mat-label"),u.Kc(24,"Enter Text "),u.Sb(),u.Ic(25,xt,1,1,"mat-icon",17),u.Tb(26,"textarea",18),u.ac("ngModelChange",(function(t){return e.featureDescription=t}))("blur",(function(){return e.isBlur=!0}))("focus",(function(){return e.isBlur=!1}))("ngModelChange",(function(){return e.onTextChange(e.featureDescription)})),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb()),2&t&&(u.kc("expanded",!0),u.Bb(11),u.kc("innerText",e.selectedDataSet?"File":"Choose a file"),u.Bb(1),u.kc("ngModel",e.selectedDataSet),u.Bb(1),u.kc("ngForOf",e.dataSetArray),u.Bb(1),u.kc("ngIf",e.showError),u.Bb(1),u.kc("ngIf",e.selectedDataSet&&e.featureArray&&e.featureArray.length),u.Bb(10),u.kc("ngIf",e.selectedFeature&&e.featureDescription),u.Bb(1),u.kc("ngModel",e.featureDescription))},directives:[r.c,r.g,r.h,y.c,y.g,ft.a,et.u,et.x,i.s,i.t,k.b,et.d,gt.o,y.b,w.a],pipes:[vt.a],styles:["mat-expansion-panel#ta-input-panel[_ngcontent-%COMP%]{margin-left:-12px!important;margin-right:-12px!important;padding:0!important}"]}),t})();function kt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function _t(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?kt(Object(o),!0).forEach((function(e){It(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):kt(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function Dt(t){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function It(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function Ot(){return(Ot=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t}).apply(this,arguments)}function Et(t,e){if(null==t)return{};var o,i,a=function(t,e){if(null==t)return{};var o,i,a={},n=Object.keys(t);for(i=0;i<n.length;i++)e.indexOf(o=n[i])>=0||(a[o]=t[o]);return a}(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(i=0;i<n.length;i++)e.indexOf(o=n[i])>=0||Object.prototype.propertyIsEnumerable.call(t,o)&&(a[o]=t[o])}return a}function Bt(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var Nt=Bt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Mt=Bt(/Edge/i),Pt=Bt(/firefox/i),At=Bt(/safari/i)&&!Bt(/chrome/i)&&!Bt(/android/i),Ft=Bt(/iP(ad|od|hone)/i),Kt=Bt(/chrome/i)&&Bt(/android/i),Rt={capture:!1,passive:!1};function Lt(t,e,o){t.addEventListener(e,o,!Nt&&Rt)}function jt(t,e,o){t.removeEventListener(e,o,!Nt&&Rt)}function Vt(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(o){return!1}return!1}}function qt(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function zt(t,e,o,i){if(t){o=o||document;do{if(null!=e&&(">"===e[0]?t.parentNode===o&&Vt(t,e):Vt(t,e))||i&&t===o)return t;if(t===o)break}while(t=qt(t))}return null}var $t,Ut=/\s+/g;function Wt(t,e,o){if(t&&e)if(t.classList)t.classList[o?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(Ut," ").replace(" "+e+" "," ");t.className=(i+(o?" "+e:"")).replace(Ut," ")}}function Gt(t,e,o){var i=t&&t.style;if(i){if(void 0===o)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(o=t.currentStyle),void 0===e?o:o[e];e in i||-1!==e.indexOf("webkit")||(e="-webkit-"+e),i[e]=o+("string"==typeof o?"":"px")}}function Ht(t,e){var o="";if("string"==typeof t)o=t;else do{var i=Gt(t,"transform");i&&"none"!==i&&(o=i+" "+o)}while(!e&&(t=t.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(o)}function Xt(t,e,o){if(t){var i=t.getElementsByTagName(e),a=0,n=i.length;if(o)for(;a<n;a++)o(i[a],a);return i}return[]}function Yt(){return document.scrollingElement||document.documentElement}function Qt(t,e,o,i,a){if(t.getBoundingClientRect||t===window){var n,r,s,l,c,u,d;if(t!==window&&t.parentNode&&t!==Yt()?(r=(n=t.getBoundingClientRect()).top,s=n.left,l=n.bottom,c=n.right,u=n.height,d=n.width):(r=0,s=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(e||o)&&t!==window&&(a=a||t.parentNode,!Nt))do{if(a&&a.getBoundingClientRect&&("none"!==Gt(a,"transform")||o&&"static"!==Gt(a,"position"))){var p=a.getBoundingClientRect();r-=p.top+parseInt(Gt(a,"border-top-width")),s-=p.left+parseInt(Gt(a,"border-left-width")),l=r+n.height,c=s+n.width;break}}while(a=a.parentNode);if(i&&t!==window){var b=Ht(a||t),h=b&&b.a,m=b&&b.d;b&&(l=(r/=m)+(u/=m),c=(s/=h)+(d/=h))}return{top:r,left:s,bottom:l,right:c,width:d,height:u}}}function Jt(t,e,o){for(var i=ie(t,!0),a=Qt(t)[e];i;){var n=Qt(i)[o];if(!("top"===o||"left"===o?a>=n:a<=n))return i;if(i===Yt())break;i=ie(i,!1)}return!1}function Zt(t,e,o,i){for(var a=0,n=0,r=t.children;n<r.length;){if("none"!==r[n].style.display&&r[n]!==no.ghost&&(i||r[n]!==no.dragged)&&zt(r[n],o.draggable,t,!1)){if(a===e)return r[n];a++}n++}return null}function te(t,e){for(var o=t.lastElementChild;o&&(o===no.ghost||"none"===Gt(o,"display")||e&&!Vt(o,e));)o=o.previousElementSibling;return o||null}function ee(t,e){var o=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===no.clone||e&&!Vt(t,e)||o++;return o}function oe(t){var e=0,o=0,i=Yt();if(t)do{var a=Ht(t);e+=t.scrollLeft*a.a,o+=t.scrollTop*a.d}while(t!==i&&(t=t.parentNode));return[e,o]}function ie(t,e){if(!t||!t.getBoundingClientRect)return Yt();var o=t,i=!1;do{if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var a=Gt(o);if(o.clientWidth<o.scrollWidth&&("auto"==a.overflowX||"scroll"==a.overflowX)||o.clientHeight<o.scrollHeight&&("auto"==a.overflowY||"scroll"==a.overflowY)){if(!o.getBoundingClientRect||o===document.body)return Yt();if(i||e)return o;i=!0}}}while(o=o.parentNode);return Yt()}function ae(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function ne(t,e){return function(){if(!$t){var o=arguments,i=this;1===o.length?t.call(i,o[0]):t.apply(i,o),$t=setTimeout((function(){$t=void 0}),e)}}}function re(t,e,o){t.scrollLeft+=e,t.scrollTop+=o}function se(t){var e=window.Polymer,o=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):o?o(t).clone(!0)[0]:t.cloneNode(!0)}var le="Sortable"+(new Date).getTime(),ce=[],ue={initializeByDefault:!0},de={mount:function(t){for(var e in ue)ue.hasOwnProperty(e)&&!(e in t)&&(t[e]=ue[e]);ce.forEach((function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")})),ce.push(t)},pluginEvent:function(t,e,o){var i=this;this.eventCanceled=!1,o.cancel=function(){i.eventCanceled=!0};var a=t+"Global";ce.forEach((function(i){e[i.pluginName]&&(e[i.pluginName][a]&&e[i.pluginName][a](_t({sortable:e},o)),e.options[i.pluginName]&&e[i.pluginName][t]&&e[i.pluginName][t](_t({sortable:e},o)))}))},initializePlugins:function(t,e,o,i){for(var a in ce.forEach((function(i){var a=i.pluginName;if(t.options[a]||i.initializeByDefault){var n=new i(t,e,t.options);n.sortable=t,n.options=t.options,t[a]=n,Ot(o,n.defaults)}})),t.options)if(t.options.hasOwnProperty(a)){var n=this.modifyOption(t,a,t.options[a]);void 0!==n&&(t.options[a]=n)}},getEventProperties:function(t,e){var o={};return ce.forEach((function(i){"function"==typeof i.eventProperties&&Ot(o,i.eventProperties.call(e[i.pluginName],t))})),o},modifyOption:function(t,e,o){var i;return ce.forEach((function(a){t[a.pluginName]&&a.optionListeners&&"function"==typeof a.optionListeners[e]&&(i=a.optionListeners[e].call(t[a.pluginName],o))})),i}},pe=["evt"],be=function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.evt,a=Et(o,pe);de.pluginEvent.bind(no)(t,e,_t({dragEl:me,parentEl:fe,ghostEl:ge,rootEl:ve,nextEl:Se,lastDownEl:Te,cloneEl:we,cloneHidden:Ce,dragStarted:Ae,putSortable:Ie,activeSortable:no.active,originalEvent:i,oldIndex:xe,oldDraggableIndex:ke,newIndex:ye,newDraggableIndex:_e,hideGhostForTarget:eo,unhideGhostForTarget:oo,cloneNowHidden:function(){Ce=!0},cloneNowShown:function(){Ce=!1},dispatchSortableEvent:function(t){he({sortable:e,name:t,originalEvent:i})}},a))};function he(t){!function(t){var e=t.sortable,o=t.rootEl,i=t.name,a=t.targetEl,n=t.cloneEl,r=t.toEl,s=t.fromEl,l=t.oldIndex,c=t.newIndex,u=t.oldDraggableIndex,d=t.newDraggableIndex,p=t.originalEvent,b=t.putSortable,h=t.extraEventProperties;if(e=e||o&&o[le]){var m,f=e.options,g="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||Nt||Mt?(m=document.createEvent("Event")).initEvent(i,!0,!0):m=new CustomEvent(i,{bubbles:!0,cancelable:!0}),m.to=r||o,m.from=s||o,m.item=a||o,m.clone=n,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=d,m.originalEvent=p,m.pullMode=b?b.lastPutMode:void 0;var v=_t(_t({},h),de.getEventProperties(i,e));for(var S in v)m[S]=v[S];o&&o.dispatchEvent(m),f[g]&&f[g].call(e,m)}}(_t({putSortable:Ie,cloneEl:we,targetEl:me,rootEl:ve,oldIndex:xe,oldDraggableIndex:ke,newIndex:ye,newDraggableIndex:_e},t))}var me,fe,ge,ve,Se,Te,we,Ce,xe,ye,ke,_e,De,Ie,Oe,Ee,Be,Ne,Me,Pe,Ae,Fe,Ke,Re,Le,je=!1,Ve=!1,qe=[],ze=!1,$e=!1,Ue=[],We=!1,Ge=[],He="undefined"!=typeof document,Xe=Ft,Ye=Mt||Nt?"cssFloat":"float",Qe=He&&!Kt&&!Ft&&"draggable"in document.createElement("div"),Je=function(){if(He){if(Nt)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),Ze=function(t,e){var o=Gt(t),i=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),a=Zt(t,0,e),n=Zt(t,1,e),r=a&&Gt(a),s=n&&Gt(n),l=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+Qt(a).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Qt(n).width;return"flex"===o.display?"column"===o.flexDirection||"column-reverse"===o.flexDirection?"vertical":"horizontal":"grid"===o.display?o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":a&&r.float&&"none"!==r.float?!n||"both"!==s.clear&&s.clear!==("left"===r.float?"left":"right")?"horizontal":"vertical":a&&("block"===r.display||"flex"===r.display||"table"===r.display||"grid"===r.display||l>=i&&"none"===o[Ye]||n&&"none"===o[Ye]&&l+c>i)?"vertical":"horizontal"},to=function(t){function e(t,o){return function(i,a,n,r){if(null==t&&(o||i.options.group.name&&a.options.group.name&&i.options.group.name===a.options.group.name))return!0;if(null==t||!1===t)return!1;if(o&&"clone"===t)return t;if("function"==typeof t)return e(t(i,a,n,r),o)(i,a,n,r);var s=(o?i:a).options.group.name;return!0===t||"string"==typeof t&&t===s||t.join&&t.indexOf(s)>-1}}var o={},i=t.group;i&&"object"==Dt(i)||(i={name:i}),o.name=i.name,o.checkPull=e(i.pull,!0),o.checkPut=e(i.put),o.revertClone=i.revertClone,t.group=o},eo=function(){!Je&&ge&&Gt(ge,"display","none")},oo=function(){!Je&&ge&&Gt(ge,"display","")};He&&document.addEventListener("click",(function(t){if(Ve)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Ve=!1,!1}),!0);var io=function(t){if(me){var e=(a=(t=t.touches?t.touches[0]:t).clientX,n=t.clientY,qe.some((function(t){var e=t[le].options.emptyInsertThreshold;if(e&&!te(t)){var o=Qt(t);return a>=o.left-e&&a<=o.right+e&&n>=o.top-e&&n<=o.bottom+e?r=t:void 0}})),r);if(e){var o={};for(var i in t)t.hasOwnProperty(i)&&(o[i]=t[i]);o.target=o.rootEl=e,o.preventDefault=void 0,o.stopPropagation=void 0,e[le]._onDragOver(o)}}var a,n,r},ao=function(t){me&&me.parentNode[le]._isOutsideThisEl(t.target)};function no(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Ot({},e),t[le]=this;var o,i,a={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ze(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==no.supportPointer&&"PointerEvent"in window&&!At,emptyInsertThreshold:5};for(var n in de.initializePlugins(this,t,a),a)!(n in e)&&(e[n]=a[n]);for(var r in to(e),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!e.forceFallback&&Qe,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Lt(t,"pointerdown",this._onTapStart):(Lt(t,"mousedown",this._onTapStart),Lt(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Lt(t,"dragover",this),Lt(t,"dragenter",this)),qe.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Ot(this,(i=[],{captureAnimationState:function(){i=[],this.options.animation&&[].slice.call(this.el.children).forEach((function(t){if("none"!==Gt(t,"display")&&t!==no.ghost){i.push({target:t,rect:Qt(t)});var e=_t({},i[i.length-1].rect);if(t.thisAnimationDuration){var o=Ht(t,!0);o&&(e.top-=o.f,e.left-=o.e)}t.fromRect=e}}))},addAnimationState:function(t){i.push(t)},removeAnimationState:function(t){i.splice(function(t,e){for(var o in t)if(t.hasOwnProperty(o))for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t[o][i])return Number(o);return-1}(i,{target:t}),1)},animateAll:function(t){var e=this;if(!this.options.animation)return clearTimeout(o),void("function"==typeof t&&t());var a=!1,n=0;i.forEach((function(t){var o=0,i=t.target,r=i.fromRect,s=Qt(i),l=i.prevFromRect,c=i.prevToRect,u=t.rect,d=Ht(i,!0);d&&(s.top-=d.f,s.left-=d.e),i.toRect=s,i.thisAnimationDuration&&ae(l,s)&&!ae(r,s)&&(u.top-s.top)/(u.left-s.left)==(r.top-s.top)/(r.left-s.left)&&(o=function(t,e,o,i){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))*i.animation}(u,l,c,e.options)),ae(s,r)||(i.prevFromRect=r,i.prevToRect=s,o||(o=e.options.animation),e.animate(i,u,s,o)),o&&(a=!0,n=Math.max(n,o),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout((function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null}),o),i.thisAnimationDuration=o)})),clearTimeout(o),a?o=setTimeout((function(){"function"==typeof t&&t()}),n):"function"==typeof t&&t(),i=[]},animate:function(t,e,o,i){if(i){Gt(t,"transition",""),Gt(t,"transform","");var a=Ht(this.el),n=(e.left-o.left)/(a&&a.a||1),r=(e.top-o.top)/(a&&a.d||1);t.animatingX=!!n,t.animatingY=!!r,Gt(t,"transform","translate3d("+n+"px,"+r+"px,0)"),this.forRepaintDummy=function(t){return t.offsetWidth}(t),Gt(t,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),Gt(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout((function(){Gt(t,"transition",""),Gt(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1}),i)}}}))}function ro(t,e,o,i,a,n,r,s){var l,c,u=t[le],d=u.options.onMove;return!window.CustomEvent||Nt||Mt?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=e,l.from=t,l.dragged=o,l.draggedRect=i,l.related=a||e,l.relatedRect=n||Qt(e),l.willInsertAfter=s,l.originalEvent=r,t.dispatchEvent(l),d&&(c=d.call(u,l,r)),c}function so(t){t.draggable=!1}function lo(){We=!1}function co(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,o=e.length,i=0;o--;)i+=e.charCodeAt(o);return i.toString(36)}function uo(t){return setTimeout(t,0)}function po(t){return clearTimeout(t)}no.prototype={constructor:no,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(Fe=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,me):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,o=this.el,i=this.options,a=i.preventOnFilter,n=t.type,r=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,s=(r||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,c=i.filter;if(function(t){Ge.length=0;for(var e=t.getElementsByTagName("input"),o=e.length;o--;){var i=e[o];i.checked&&Ge.push(i)}}(o),!me&&!(/mousedown|pointerdown/.test(n)&&0!==t.button||i.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!At||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=zt(s,i.draggable,o,!1))&&s.animated||Te===s)){if(xe=ee(s),ke=ee(s,i.draggable),"function"==typeof c){if(c.call(this,t,s,this))return he({sortable:e,rootEl:l,name:"filter",targetEl:s,toEl:o,fromEl:o}),be("filter",e,{evt:t}),void(a&&t.cancelable&&t.preventDefault())}else if(c&&(c=c.split(",").some((function(i){if(i=zt(l,i.trim(),o,!1))return he({sortable:e,rootEl:i,name:"filter",targetEl:s,fromEl:o,toEl:o}),be("filter",e,{evt:t}),!0}))))return void(a&&t.cancelable&&t.preventDefault());i.handle&&!zt(l,i.handle,o,!1)||this._prepareDragStart(t,r,s)}}},_prepareDragStart:function(t,e,o){var i,a=this,n=a.el,r=a.options,s=n.ownerDocument;if(o&&!me&&o.parentNode===n){var l=Qt(o);if(ve=n,fe=(me=o).parentNode,Se=me.nextSibling,Te=o,De=r.group,no.dragged=me,Me=(Oe={target:me,clientX:(e||t).clientX,clientY:(e||t).clientY}).clientX-l.left,Pe=Oe.clientY-l.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,me.style["will-change"]="all",i=function(){be("delayEnded",a,{evt:t}),no.eventCanceled?a._onDrop():(a._disableDelayedDragEvents(),!Pt&&a.nativeDraggable&&(me.draggable=!0),a._triggerDragStart(t,e),he({sortable:a,name:"choose",originalEvent:t}),Wt(me,r.chosenClass,!0))},r.ignore.split(",").forEach((function(t){Xt(me,t.trim(),so)})),Lt(s,"dragover",io),Lt(s,"mousemove",io),Lt(s,"touchmove",io),Lt(s,"mouseup",a._onDrop),Lt(s,"touchend",a._onDrop),Lt(s,"touchcancel",a._onDrop),Pt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,me.draggable=!0),be("delayStart",this,{evt:t}),!r.delay||r.delayOnTouchOnly&&!e||this.nativeDraggable&&(Mt||Nt))i();else{if(no.eventCanceled)return void this._onDrop();Lt(s,"mouseup",a._disableDelayedDrag),Lt(s,"touchend",a._disableDelayedDrag),Lt(s,"touchcancel",a._disableDelayedDrag),Lt(s,"mousemove",a._delayedDragTouchMoveHandler),Lt(s,"touchmove",a._delayedDragTouchMoveHandler),r.supportPointer&&Lt(s,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(i,r.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){me&&so(me),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;jt(t,"mouseup",this._disableDelayedDrag),jt(t,"touchend",this._disableDelayedDrag),jt(t,"touchcancel",this._disableDelayedDrag),jt(t,"mousemove",this._delayedDragTouchMoveHandler),jt(t,"touchmove",this._delayedDragTouchMoveHandler),jt(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?Lt(document,this.options.supportPointer?"pointermove":e?"touchmove":"mousemove",this._onTouchMove):(Lt(me,"dragend",this),Lt(ve,"dragstart",this._onDragStart));try{document.selection?uo((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(o){}},_dragStarted:function(t,e){if(je=!1,ve&&me){be("dragStarted",this,{evt:e}),this.nativeDraggable&&Lt(document,"dragover",ao);var o=this.options;!t&&Wt(me,o.dragClass,!1),Wt(me,o.ghostClass,!0),no.active=this,t&&this._appendGhost(),he({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(Ee){this._lastX=Ee.clientX,this._lastY=Ee.clientY,eo();for(var t=document.elementFromPoint(Ee.clientX,Ee.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Ee.clientX,Ee.clientY))!==e;)e=t;if(me.parentNode[le]._isOutsideThisEl(t),e)do{if(e[le]&&e[le]._onDragOver({clientX:Ee.clientX,clientY:Ee.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break;t=e}while(e=e.parentNode);oo()}},_onTouchMove:function(t){if(Oe){var e=this.options,o=e.fallbackTolerance,i=e.fallbackOffset,a=t.touches?t.touches[0]:t,n=ge&&Ht(ge,!0),r=ge&&n&&n.a,s=ge&&n&&n.d,l=Xe&&Le&&oe(Le),c=(a.clientX-Oe.clientX+i.x)/(r||1)+(l?l[0]-Ue[0]:0)/(r||1),u=(a.clientY-Oe.clientY+i.y)/(s||1)+(l?l[1]-Ue[1]:0)/(s||1);if(!no.active&&!je){if(o&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<o)return;this._onDragStart(t,!0)}if(ge){n?(n.e+=c-(Be||0),n.f+=u-(Ne||0)):n={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(n.a,",").concat(n.b,",").concat(n.c,",").concat(n.d,",").concat(n.e,",").concat(n.f,")");Gt(ge,"webkitTransform",d),Gt(ge,"mozTransform",d),Gt(ge,"msTransform",d),Gt(ge,"transform",d),Be=c,Ne=u,Ee=a}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!ge){var t=this.options.fallbackOnBody?document.body:ve,e=Qt(me,!0,Xe,!0,t),o=this.options;if(Xe){for(Le=t;"static"===Gt(Le,"position")&&"none"===Gt(Le,"transform")&&Le!==document;)Le=Le.parentNode;Le!==document.body&&Le!==document.documentElement?(Le===document&&(Le=Yt()),e.top+=Le.scrollTop,e.left+=Le.scrollLeft):Le=Yt(),Ue=oe(Le)}Wt(ge=me.cloneNode(!0),o.ghostClass,!1),Wt(ge,o.fallbackClass,!0),Wt(ge,o.dragClass,!0),Gt(ge,"transition",""),Gt(ge,"transform",""),Gt(ge,"box-sizing","border-box"),Gt(ge,"margin",0),Gt(ge,"top",e.top),Gt(ge,"left",e.left),Gt(ge,"width",e.width),Gt(ge,"height",e.height),Gt(ge,"opacity","0.8"),Gt(ge,"position",Xe?"absolute":"fixed"),Gt(ge,"zIndex","100000"),Gt(ge,"pointerEvents","none"),no.ghost=ge,t.appendChild(ge),Gt(ge,"transform-origin",Me/parseInt(ge.style.width)*100+"% "+Pe/parseInt(ge.style.height)*100+"%")}},_onDragStart:function(t,e){var o=this,i=t.dataTransfer,a=o.options;be("dragStart",this,{evt:t}),no.eventCanceled?this._onDrop():(be("setupClone",this),no.eventCanceled||((we=se(me)).draggable=!1,we.style["will-change"]="",this._hideClone(),Wt(we,this.options.chosenClass,!1),no.clone=we),o.cloneId=uo((function(){be("clone",o),no.eventCanceled||(o.options.removeCloneOnHide||ve.insertBefore(we,me),o._hideClone(),he({sortable:o,name:"clone"}))})),!e&&Wt(me,a.dragClass,!0),e?(Ve=!0,o._loopId=setInterval(o._emulateDragOver,50)):(jt(document,"mouseup",o._onDrop),jt(document,"touchend",o._onDrop),jt(document,"touchcancel",o._onDrop),i&&(i.effectAllowed="move",a.setData&&a.setData.call(o,i,me)),Lt(document,"drop",o),Gt(me,"transform","translateZ(0)")),je=!0,o._dragStartId=uo(o._dragStarted.bind(o,e,t)),Lt(document,"selectstart",o),Ae=!0,At&&Gt(document.body,"user-select","none"))},_onDragOver:function(t){var e,o,i,a,n=this.el,r=t.target,s=this.options,l=s.group,c=no.active,u=De===l,d=s.sort,p=Ie||c,b=this,h=!1;if(!We){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),r=zt(r,s.draggable,n,!0),O("dragOver"),no.eventCanceled)return h;if(me.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||b._ignoreWhileAnimating===r)return B(!1);if(Ve=!1,c&&!s.disabled&&(u?d||(i=fe!==ve):Ie===this||(this.lastPutMode=De.checkPull(this,c,me,t))&&l.checkPut(this,c,me,t))){if(a="vertical"===this._getDirection(t,r),e=Qt(me),O("dragOverValid"),no.eventCanceled)return h;if(i)return fe=ve,E(),this._hideClone(),O("revert"),no.eventCanceled||(Se?ve.insertBefore(me,Se):ve.appendChild(me)),B(!0);var m=te(n,s.draggable);if(!m||function(t,e,o){var i=Qt(te(o.el,o.options.draggable));return e?t.clientX>i.right+10||t.clientX<=i.right&&t.clientY>i.bottom&&t.clientX>=i.left:t.clientX>i.right&&t.clientY>i.top||t.clientX<=i.right&&t.clientY>i.bottom+10}(t,a,this)&&!m.animated){if(m===me)return B(!1);if(m&&n===t.target&&(r=m),r&&(o=Qt(r)),!1!==ro(ve,n,me,e,r,o,t,!!r))return E(),n.appendChild(me),fe=n,N(),B(!0)}else if(m&&function(t,e,o){var i=Qt(Zt(o.el,0,o.options,!0));return e?t.clientX<i.left-10||t.clientY<i.top&&t.clientX<i.right:t.clientY<i.top-10||t.clientY<i.bottom&&t.clientX<i.left}(t,a,this)){var f=Zt(n,0,s,!0);if(f===me)return B(!1);if(o=Qt(r=f),!1!==ro(ve,n,me,e,r,o,t,!1))return E(),n.insertBefore(me,f),fe=n,N(),B(!0)}else if(r.parentNode===n){o=Qt(r);var g,v,S,T=me.parentNode!==n,w=!function(t,e,o){var i=o?t.left:t.top,a=o?e.left:e.top;return i===a||(o?t.right:t.bottom)===(o?e.right:e.bottom)||i+(o?t.width:t.height)/2===a+(o?e.width:e.height)/2}(me.animated&&me.toRect||e,r.animated&&r.toRect||o,a),C=a?"top":"left",x=Jt(r,"top","top")||Jt(me,"top","top"),y=x?x.scrollTop:void 0;if(Fe!==r&&(v=o[C],ze=!1,$e=!w&&s.invertSwap||T),0!==(g=function(t,e,o,i,a,n,r,s){var l=i?t.clientY:t.clientX,c=i?o.height:o.width,u=i?o.top:o.left,d=i?o.bottom:o.right,p=!1;if(!r)if(s&&Re<c*a){if(!ze&&(1===Ke?l>u+c*n/2:l<d-c*n/2)&&(ze=!0),ze)p=!0;else if(1===Ke?l<u+Re:l>d-Re)return-Ke}else if(l>u+c*(1-a)/2&&l<d-c*(1-a)/2)return function(t){return ee(me)<ee(t)?1:-1}(e);return(p=p||r)&&(l<u+c*n/2||l>d-c*n/2)?l>u+c/2?1:-1:0}(t,r,o,a,w?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,$e,Fe===r))){var k=ee(me);do{S=fe.children[k-=g]}while(S&&("none"===Gt(S,"display")||S===ge))}if(0===g||S===r)return B(!1);Fe=r,Ke=g;var _=r.nextElementSibling,D=!1,I=ro(ve,n,me,e,r,o,t,D=1===g);if(!1!==I)return 1!==I&&-1!==I||(D=1===I),We=!0,setTimeout(lo,30),E(),D&&!_?n.appendChild(me):r.parentNode.insertBefore(me,D?_:r),x&&re(x,0,y-x.scrollTop),fe=me.parentNode,void 0===v||$e||(Re=Math.abs(v-Qt(r)[C])),N(),B(!0)}if(n.contains(me))return B(!1)}return!1}function O(s,l){be(s,b,_t({evt:t,isOwner:u,axis:a?"vertical":"horizontal",revert:i,dragRect:e,targetRect:o,canSort:d,fromSortable:p,target:r,completed:B,onMove:function(o,i){return ro(ve,n,me,e,o,Qt(o),t,i)},changed:N},l))}function E(){O("dragOverAnimationCapture"),b.captureAnimationState(),b!==p&&p.captureAnimationState()}function B(e){return O("dragOverCompleted",{insertion:e}),e&&(u?c._hideClone():c._showClone(b),b!==p&&(Wt(me,Ie?Ie.options.ghostClass:c.options.ghostClass,!1),Wt(me,s.ghostClass,!0)),Ie!==b&&b!==no.active?Ie=b:b===no.active&&Ie&&(Ie=null),p===b&&(b._ignoreWhileAnimating=r),b.animateAll((function(){O("dragOverAnimationComplete"),b._ignoreWhileAnimating=null})),b!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(r===me&&!me.animated||r===n&&!r.animated)&&(Fe=null),s.dragoverBubble||t.rootEl||r===document||(me.parentNode[le]._isOutsideThisEl(t.target),!e&&io(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),h=!0}function N(){ye=ee(me),_e=ee(me,s.draggable),he({sortable:b,name:"change",toEl:n,newIndex:ye,newDraggableIndex:_e,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){jt(document,"mousemove",this._onTouchMove),jt(document,"touchmove",this._onTouchMove),jt(document,"pointermove",this._onTouchMove),jt(document,"dragover",io),jt(document,"mousemove",io),jt(document,"touchmove",io)},_offUpEvents:function(){var t=this.el.ownerDocument;jt(t,"mouseup",this._onDrop),jt(t,"touchend",this._onDrop),jt(t,"pointerup",this._onDrop),jt(t,"touchcancel",this._onDrop),jt(document,"selectstart",this)},_onDrop:function(t){var e=this.el,o=this.options;ye=ee(me),_e=ee(me,o.draggable),be("drop",this,{evt:t}),fe=me&&me.parentNode,ye=ee(me),_e=ee(me,o.draggable),no.eventCanceled||(je=!1,$e=!1,ze=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),po(this.cloneId),po(this._dragStartId),this.nativeDraggable&&(jt(document,"drop",this),jt(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),At&&Gt(document.body,"user-select",""),Gt(me,"transform",""),t&&(Ae&&(t.cancelable&&t.preventDefault(),!o.dropBubble&&t.stopPropagation()),ge&&ge.parentNode&&ge.parentNode.removeChild(ge),(ve===fe||Ie&&"clone"!==Ie.lastPutMode)&&we&&we.parentNode&&we.parentNode.removeChild(we),me&&(this.nativeDraggable&&jt(me,"dragend",this),so(me),me.style["will-change"]="",Ae&&!je&&Wt(me,Ie?Ie.options.ghostClass:this.options.ghostClass,!1),Wt(me,this.options.chosenClass,!1),he({sortable:this,name:"unchoose",toEl:fe,newIndex:null,newDraggableIndex:null,originalEvent:t}),ve!==fe?(ye>=0&&(he({rootEl:fe,name:"add",toEl:fe,fromEl:ve,originalEvent:t}),he({sortable:this,name:"remove",toEl:fe,originalEvent:t}),he({rootEl:fe,name:"sort",toEl:fe,fromEl:ve,originalEvent:t}),he({sortable:this,name:"sort",toEl:fe,originalEvent:t})),Ie&&Ie.save()):ye!==xe&&ye>=0&&(he({sortable:this,name:"update",toEl:fe,originalEvent:t}),he({sortable:this,name:"sort",toEl:fe,originalEvent:t})),no.active&&(null!=ye&&-1!==ye||(ye=xe,_e=ke),he({sortable:this,name:"end",toEl:fe,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){be("nulling",this),ve=me=fe=ge=Se=we=Te=Ce=Oe=Ee=Ae=ye=_e=xe=ke=Fe=Ke=Ie=De=no.dragged=no.ghost=no.clone=no.active=null,Ge.forEach((function(t){t.checked=!0})),Ge.length=Be=Ne=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":me&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],o=this.el.children,i=0,a=o.length,n=this.options;i<a;i++)zt(t=o[i],n.draggable,this.el,!1)&&e.push(t.getAttribute(n.dataIdAttr)||co(t));return e},sort:function(t,e){var o={},i=this.el;this.toArray().forEach((function(t,e){var a=i.children[e];zt(a,this.options.draggable,i,!1)&&(o[t]=a)}),this),e&&this.captureAnimationState(),t.forEach((function(t){o[t]&&(i.removeChild(o[t]),i.appendChild(o[t]))})),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return zt(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var o=this.options;if(void 0===e)return o[t];var i=de.modifyOption(this,t,e);o[t]=void 0!==i?i:e,"group"===t&&to(o)},destroy:function(){be("destroy",this);var t=this.el;t[le]=null,jt(t,"mousedown",this._onTapStart),jt(t,"touchstart",this._onTapStart),jt(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(jt(t,"dragover",this),jt(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),qe.splice(qe.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Ce){if(be("hideClone",this),no.eventCanceled)return;Gt(we,"display","none"),this.options.removeCloneOnHide&&we.parentNode&&we.parentNode.removeChild(we),Ce=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(Ce){if(be("showClone",this),no.eventCanceled)return;me.parentNode!=ve||this.options.group.revertClone?Se?ve.insertBefore(we,Se):ve.appendChild(we):ve.insertBefore(we,me),this.options.group.revertClone&&this.animate(me,we),Gt(we,"display",""),Ce=!1}}else this._hideClone()}},He&&Lt(document,"touchmove",(function(t){(no.active||je)&&t.cancelable&&t.preventDefault()})),no.utils={on:Lt,off:jt,css:Gt,find:Xt,is:function(t,e){return!!zt(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t},throttle:ne,closest:zt,toggleClass:Wt,clone:se,index:ee,nextTick:uo,cancelNextTick:po,detectDirection:Ze,getChild:Zt},no.get=function(t){return t[le]},no.mount=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];e[0].constructor===Array&&(e=e[0]),e.forEach((function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(no.utils=_t(_t({},no.utils),t.utils)),de.mount(t)}))},no.create=function(t,e){return new no(t,e)},no.version="1.14.0";var bo,ho,mo,fo,go,vo,So=[],To=!1;function wo(){So.forEach((function(t){clearInterval(t.pid)})),So=[]}function Co(){clearInterval(vo)}var xo=ne((function(t,e,o,i){if(e.scroll){var a,n=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,s=e.scrollSensitivity,l=e.scrollSpeed,c=Yt(),u=!1;ho!==o&&(ho=o,wo(),a=e.scrollFn,!0===(bo=e.scroll)&&(bo=ie(o,!0)));var d=0,p=bo;do{var b=p,h=Qt(b),m=h.top,f=h.bottom,g=h.left,v=h.right,S=h.width,T=h.height,w=void 0,C=void 0,x=b.scrollWidth,y=b.scrollHeight,k=Gt(b),_=b.scrollLeft,D=b.scrollTop;b===c?(w=S<x&&("auto"===k.overflowX||"scroll"===k.overflowX||"visible"===k.overflowX),C=T<y&&("auto"===k.overflowY||"scroll"===k.overflowY||"visible"===k.overflowY)):(w=S<x&&("auto"===k.overflowX||"scroll"===k.overflowX),C=T<y&&("auto"===k.overflowY||"scroll"===k.overflowY));var I=w&&(Math.abs(v-n)<=s&&_+S<x)-(Math.abs(g-n)<=s&&!!_),O=C&&(Math.abs(f-r)<=s&&D+T<y)-(Math.abs(m-r)<=s&&!!D);if(!So[d])for(var E=0;E<=d;E++)So[E]||(So[E]={});So[d].vx==I&&So[d].vy==O&&So[d].el===b||(So[d].el=b,So[d].vx=I,So[d].vy=O,clearInterval(So[d].pid),0==I&&0==O||(u=!0,So[d].pid=setInterval((function(){i&&0===this.layer&&no.active._onTouchMove(go);var e=So[this.layer].vy?So[this.layer].vy*l:0,o=So[this.layer].vx?So[this.layer].vx*l:0;"function"==typeof a&&"continue"!==a.call(no.dragged.parentNode[le],o,e,t,go,So[this.layer].el)||re(So[this.layer].el,o,e)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&p!==c&&(p=ie(p,!1)));To=u}}),30),yo=function(t){var e=t.originalEvent,o=t.putSortable,i=t.dragEl,a=t.dispatchSortableEvent,n=t.unhideGhostForTarget;if(e){var r=o||t.activeSortable;(0,t.hideGhostForTarget)();var s=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,l=document.elementFromPoint(s.clientX,s.clientY);n(),r&&!r.el.contains(l)&&(a("spill"),this.onSpill({dragEl:i,putSortable:o}))}};function ko(){}function _o(){}ko.prototype={startIndex:null,dragStart:function(t){this.startIndex=t.oldDraggableIndex},onSpill:function(t){var e=t.dragEl,o=t.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var i=Zt(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(e,i):this.sortable.el.appendChild(e),this.sortable.animateAll(),o&&o.animateAll()},drop:yo},Ot(ko,{pluginName:"revertOnSpill"}),_o.prototype={onSpill:function(t){var e=t.dragEl,o=t.putSortable||this.sortable;o.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),o.animateAll()},drop:yo},Ot(_o,{pluginName:"removeOnSpill"}),no.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?Lt(document,"dragover",this._handleAutoScroll):Lt(document,this.options.supportPointer?"pointermove":e.touches?"touchmove":"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?jt(document,"dragover",this._handleAutoScroll):(jt(document,"pointermove",this._handleFallbackAutoScroll),jt(document,"touchmove",this._handleFallbackAutoScroll),jt(document,"mousemove",this._handleFallbackAutoScroll)),Co(),wo(),clearTimeout($t),$t=void 0},nulling:function(){go=ho=bo=To=vo=mo=fo=null,So.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var o=this,i=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,n=document.elementFromPoint(i,a);if(go=t,e||this.options.forceAutoScrollFallback||Mt||Nt||At){xo(t,this.options,n,e);var r=ie(n,!0);!To||vo&&i===mo&&a===fo||(vo&&Co(),vo=setInterval((function(){var n=ie(document.elementFromPoint(i,a),!0);n!==r&&(r=n,wo()),xo(t,o.options,n,e)}),10),mo=i,fo=a)}else{if(!this.options.bubbleScroll||ie(n,!0)===Yt())return void wo();xo(t,this.options,ie(n,!1),!1)}}},Ot(t,{pluginName:"scroll",initializeByDefault:!0})}),no.mount(_o,ko);var Do=no;const Io=new u.s("Global config for sortablejs");class Oo{constructor(t){this.target=t}insert(t,e){this.isFormArray?this.target.insert(t,e):this.target.splice(t,0,e)}get(t){return this.isFormArray?this.target.at(t):this.target[t]}remove(t){let e;return this.isFormArray?(e=this.target.at(t),this.target.removeAt(t)):e=this.target.splice(t,1)[0],e}get isFormArray(){return!!this.target.at&&!!this.target.insert&&!!this.target.reset}}class Eo{constructor(t){this.bindings=t.map(t=>new Oo(t))}injectIntoEvery(t,e){this.bindings.forEach((o,i)=>o.insert(t,e[i]))}getFromEvery(t){return this.bindings.map(e=>e.get(t))}extractFromEvery(t){return this.bindings.map(e=>e.remove(t))}get provided(){return!!this.bindings.length}}let Bo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(u.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),No=(()=>{class t{constructor(t,e,o,i,a){this.globalConfig=t,this.service=e,this.element=o,this.zone=i,this.renderer=a,this.sortablejsInit=new u.o}ngOnInit(){Do&&Do.create&&this.create()}ngOnChanges(t){const e=t.sortablejsOptions;if(e&&!e.isFirstChange()){const t=e.previousValue,o=e.currentValue;Object.keys(o).forEach(e=>{o[e]!==t[e]&&this.sortableInstance.option(e,this.options[e])})}}ngOnDestroy(){this.sortableInstance&&this.sortableInstance.destroy()}create(){const t=this.sortablejsContainer?this.element.nativeElement.querySelector(this.sortablejsContainer):this.element.nativeElement;setTimeout(()=>{this.sortableInstance=Do.create(t,this.options),this.sortablejsInit.emit(this.sortableInstance)},0)}getBindings(){return this.sortablejs?this.sortablejs instanceof Eo?this.sortablejs:new Eo([this.sortablejs]):new Eo([])}get options(){return Object.assign(Object.assign({},this.optionsWithoutEvents),this.overridenOptions)}get optionsWithoutEvents(){return Object.assign(Object.assign({},this.globalConfig||{}),this.sortablejsOptions||{})}proxyEvent(t,...e){this.zone.run(()=>{this.optionsWithoutEvents&&this.optionsWithoutEvents[t]&&this.optionsWithoutEvents[t](...e)})}get isCloning(){return"clone"===this.sortableInstance.options.group.checkPull(this.sortableInstance,this.sortableInstance)}clone(t){return(this.sortablejsCloneFunction||(t=>t))(t)}get overridenOptions(){return{onAdd:t=>{this.service.transfer=e=>{this.getBindings().injectIntoEvery(t.newIndex,e),this.proxyEvent("onAdd",t)},this.proxyEvent("onAddOriginal",t)},onRemove:t=>{const e=this.getBindings();e.provided&&(this.isCloning?(this.service.transfer(e.getFromEvery(t.oldIndex).map(t=>this.clone(t))),this.renderer.removeChild(t.item.parentNode,t.item),this.renderer.insertBefore(t.clone.parentNode,t.item,t.clone),this.renderer.removeChild(t.clone.parentNode,t.clone)):this.service.transfer(e.extractFromEvery(t.oldIndex)),this.service.transfer=null),this.proxyEvent("onRemove",t)},onUpdate:t=>{const e=this.getBindings(),o=(t=>t.hasOwnProperty("newDraggableIndex")&&t.hasOwnProperty("oldDraggableIndex")?{new:t.newDraggableIndex,old:t.oldDraggableIndex}:{new:t.newIndex,old:t.oldIndex})(t);e.injectIntoEvery(o.new,e.extractFromEvery(o.old)),this.proxyEvent("onUpdate",t)}}}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(Io,8),u.Nb(Bo),u.Nb(u.l),u.Nb(u.B),u.Nb(u.G))},t.\u0275dir=u.Ib({type:t,selectors:[["","sortablejs",""]],inputs:{sortablejs:"sortablejs",sortablejsContainer:"sortablejsContainer",sortablejsOptions:"sortablejsOptions",sortablejsCloneFunction:"sortablejsCloneFunction"},outputs:{sortablejsInit:"sortablejsInit"},features:[u.zb]}),t})(),Mo=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:Io,useValue:e}]}}}return t.\u0275mod=u.Lb({type:t}),t.\u0275inj=u.Kb({factory:function(e){return new(e||t)}}),t})();const Po=["operationsToolBar"];function Ao(t,e){if(1&t&&(u.Tb(0,"mat-card",4),u.Tb(1,"p"),u.Ob(2,"i"),u.Ob(3,"br"),u.Tb(4,"span"),u.Tb(5,"b"),u.Kc(6),u.Sb(),u.Sb(),u.Sb(),u.Sb()),2&t){const t=e.$implicit,o=u.ec();u.kc("ngClass",o.setStickyClass?"list-group-item blocks extra-padding":"list-group-item blocks"),u.Bb(2),u.Db(t.class),u.Bb(4),u.Lc(t.title)}}let Fo=(()=>{class t{constructor(){this.isToolBarSticky=new u.o,this.sourceOptions={group:{name:"clone-group",pull:"clone",put:!1}},this.setStickyClass=!1}onWindowScroll(){this.myFunction(window.pageYOffset)}ngOnInit(){this.sticky=this.operationsToolBar.nativeElement.getBoundingClientRect().top}myFunction(t){t>=this.sticky?(this.setStickyClass=!0,this.isToolBarSticky.emit("true")):(this.setStickyClass=!1,this.isToolBarSticky.emit("false"))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Hb({type:t,selectors:[["app-operations-list"]],viewQuery:function(t,e){var o;1&t&&u.Dc(Po,!0,u.l),2&t&&u.sc(o=u.bc())&&(e.operationsToolBar=o.first)},hostBindings:function(t,e){1&t&&u.ac("scroll",(function(t){return e.onWindowScroll(t)}),!1,u.vc)},inputs:{operationList:"operationList"},outputs:{isToolBarSticky:"isToolBarSticky"},decls:4,vars:4,consts:[[3,"ngClass"],["id","operationList",1,"list-group","text-center","sortable","d-flex","flex-row",3,"sortablejs","sortablejsOptions"],["operationsToolBar",""],["id","listContainer",3,"ngClass",4,"ngFor","ngForOf"],["id","listContainer",3,"ngClass"]],template:function(t,e){1&t&&(u.Tb(0,"div",0),u.Tb(1,"mat-accordion",1,2),u.Ic(3,Ao,7,5,"mat-card",3),u.Sb(),u.Sb()),2&t&&(u.kc("ngClass",e.setStickyClass?"sticky-ta-toolbar":""),u.Bb(1),u.kc("sortablejs",e.operationList)("sortablejsOptions",e.sourceOptions),u.Bb(2),u.kc("ngForOf",e.operationList))},directives:[i.q,r.a,No,i.s,T.a],styles:["#listContainer[_ngcontent-%COMP%]{background-color:#08509d;color:#fff}.extra-padding[_ngcontent-%COMP%]{padding:8px 22px!important}.blocks[_ngcontent-%COMP%]{padding:10px 17px;font-size:17px;width:100%;text-align:center;font-weight:700}#listContainer[_ngcontent-%COMP%]:hover{cursor:-webkit-grabbing;cursor:grabbing;background:#fafafa;border-top:5px solid #08509d;padding-bottom:0;color:#08509d}.sticky-ta-toolbar[_ngcontent-%COMP%]{position:fixed;top:70px;margin-right:2.5%!important;z-index:99}"]}),t})();function Ko(t,e){1&t&&(u.Tb(0,"div",3),u.Tb(1,"div",4),u.Ob(2,"img",5),u.Sb(),u.Tb(3,"div",4),u.Tb(4,"h4",6),u.Kc(5," Start by drag and drop any operation here! "),u.Sb(),u.Sb(),u.Sb())}function Ro(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",10),u.Tb(1,"app-pos-tagging",11),u.ac("onRemove",(function(){u.wc(t);const e=u.ec().index;return u.ec().onOperationRemoved(e)})),u.Kc(2),u.Sb(),u.Sb()}if(2&t){const t=u.ec().$implicit;u.Bb(1),u.kc("operation",t),u.Bb(1),u.Lc(t.operation)}}function Lo(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",10),u.Tb(1,"app-text-cleaning",11),u.ac("onRemove",(function(){u.wc(t);const e=u.ec().index;return u.ec().onOperationRemoved(e)})),u.Kc(2),u.Sb(),u.Sb()}if(2&t){const t=u.ec().$implicit;u.Bb(1),u.kc("operation",t),u.Bb(1),u.Lc(t.operation)}}function jo(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",10),u.Tb(1,"app-text-summarization",11),u.ac("onRemove",(function(){u.wc(t);const e=u.ec().index;return u.ec().onOperationRemoved(e)})),u.Kc(2),u.Sb(),u.Sb()}if(2&t){const t=u.ec().$implicit;u.Bb(1),u.kc("operation",t),u.Bb(1),u.Mc("",t.operation," ")}}function Vo(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",10),u.Tb(1,"app-sentiment-analysis",11),u.ac("onRemove",(function(){u.wc(t);const e=u.ec().index;return u.ec().onOperationRemoved(e)})),u.Kc(2),u.Sb(),u.Sb()}if(2&t){const t=u.ec().$implicit;u.Bb(1),u.kc("operation",t),u.Bb(1),u.Mc("",t.operation," ")}}function qo(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",10),u.Tb(1,"app-ner",11),u.ac("onRemove",(function(){u.wc(t);const e=u.ec().index;return u.ec().onOperationRemoved(e)})),u.Kc(2),u.Sb(),u.Sb()}if(2&t){const t=u.ec().$implicit;u.Bb(1),u.kc("operation",t),u.Bb(1),u.Lc(t.operation)}}function zo(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",10),u.Tb(1,"app-word-frequency",11),u.ac("onRemove",(function(){u.wc(t);const e=u.ec().index;return u.ec().onOperationRemoved(e)})),u.Kc(2),u.Sb(),u.Sb()}if(2&t){const t=u.ec().$implicit;u.Bb(1),u.kc("operation",t),u.Bb(1),u.Lc(t.operation)}}function $o(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",10),u.Tb(1,"app-word-embedding",11),u.ac("onRemove",(function(){u.wc(t);const e=u.ec().index;return u.ec().onOperationRemoved(e)})),u.Kc(2),u.Sb(),u.Sb()}if(2&t){const t=u.ec().$implicit;u.Bb(1),u.kc("operation",t),u.Bb(1),u.Lc(t.operation)}}function Uo(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",10),u.Tb(1,"app-rule-based-matching",11),u.ac("onRemove",(function(){u.wc(t);const e=u.ec().index;return u.ec().onOperationRemoved(e)})),u.Kc(2),u.Sb(),u.Sb()}if(2&t){const t=u.ec().$implicit;u.Bb(1),u.kc("operation",t),u.Bb(1),u.Lc(t.operation)}}function Wo(t,e){if(1&t&&(u.Tb(0,"li",7),u.Tb(1,"div",8),u.Ic(2,Ro,3,2,"div",9),u.Ic(3,Lo,3,2,"div",9),u.Ic(4,jo,3,2,"div",9),u.Ic(5,Vo,3,2,"div",9),u.Ic(6,qo,3,2,"div",9),u.Ic(7,zo,3,2,"div",9),u.Ic(8,$o,3,2,"div",9),u.Ic(9,Uo,3,2,"div",9),u.Sb(),u.Sb()),2&t){const t=e.$implicit;u.Bb(1),u.kc("ngSwitch",t.operation),u.Bb(1),u.kc("ngSwitchCase","posTagging"),u.Bb(1),u.kc("ngSwitchCase","cleaningTransformation"),u.Bb(1),u.kc("ngSwitchCase","textSummarization"),u.Bb(1),u.kc("ngSwitchCase","sentimentAnalysis"),u.Bb(1),u.kc("ngSwitchCase","ner"),u.Bb(1),u.kc("ngSwitchCase","wordFrequency"),u.Bb(1),u.kc("ngSwitchCase","wordEmbedding"),u.Bb(1),u.kc("ngSwitchCase","ruleBasedMatch")}}let Go=(()=>{class t{constructor(t,e){this.iterableDiffers=t,this._spinner=e,this.selectedOperation=[],this.targetOptions={group:"clone-group"},this.onOperationRemoved=function(t){this.selectedOperation.splice(t,1)},this.iterableDiffer=t.find([]).create(null)}ngDoCheck(){let t=this.iterableDiffer.diff(this.selectedOperation);t&&this.selectedOperation.map(e=>t.collection.filter(t=>{e.operation===t.operation?(t.uid||(t.uid=Date.now()),t.isPanelExpanded=!0):t.isPanelExpanded=!1}))}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(u.u),u.Nb(b.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-operations-ui-container"]],inputs:{selectedOperation:"selectedOperation"},decls:3,vars:4,consts:[[1,"sortable",2,"position","relative",3,"sortablejs","sortablejsOptions"],["class","row","style","display: flex; margin: 2%; flex-direction: column",4,"ngIf"],["id","drop-area",4,"ngFor","ngForOf"],[1,"row",2,"display","flex","margin","2%","flex-direction","column"],[2,"margin","auto"],["src","../../../../assets/img/drag&drop.svg","height","300px","width","300px"],[1,"font-weight-lighter"],["id","drop-area"],[3,"ngSwitch"],["class","mb-2",4,"ngSwitchCase"],[1,"mb-2"],[3,"operation","onRemove"]],template:function(t,e){1&t&&(u.Tb(0,"div",0),u.Ic(1,Ko,6,0,"div",1),u.Ic(2,Wo,10,9,"li",2),u.Sb()),2&t&&(u.kc("sortablejs",e.selectedOperation)("sortablejsOptions",e.targetOptions),u.Bb(1),u.kc("ngIf",!e.selectedOperation.length),u.Bb(1),u.kc("ngForOf",e.selectedOperation))},styles:["li#drop-area[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}"]}),t})();const Ho=["opUiContainer"];function Xo(t,e){1&t&&(u.Tb(0,"div",12),u.Tb(1,"div",13),u.Kc(2," Please execute operations sequentially "),u.Sb(),u.Sb())}function Yo(t,e){if(1&t){const t=u.Ub();u.Tb(0,"button",14,15),u.ac("click",(function(){return u.wc(t),u.ec().openSaveDialog()})),u.Ob(2,"i",16),u.Sb()}}let Qo=(()=>{class t{constructor(t,e,o,i){this._dialog=t,this._localStorage=e,this._spinner=o,this._taDataStore=i,this.operations=[{title:"Text Cleaning/ Transformation",operation:"cleaningTransformation",class:"fas fa-magic iconfont",isPanelExpanded:!1},{title:"POS Tagging",operation:"posTagging",class:"fas fa-tags iconfont",isPanelExpanded:!1},{title:"Named Entity Recognition",operation:"ner",class:"fas fa-user-tag iconfont",isPanelExpanded:!1},{title:"Sentiment Analysis",operation:"sentimentAnalysis",class:"fas fa-circle-notch iconfont",isPanelExpanded:!1},{title:"Text Summarization",operation:"textSummarization",class:"fas fa-file-word iconfont",isPanelExpanded:!1},{title:"Word Frequency",operation:"wordFrequency",class:"fa fa-object-group iconfont",isPanelExpanded:!1},{title:"Word Embedding",operation:"wordEmbedding",class:"fa fa-language iconfont",isPanelExpanded:!1},{title:"Rule Based Matching",operation:"ruleBasedMatch",class:"fa fa-window-restore iconfont",isPanelExpanded:!1}],this.selectedOperationsArray=[],this.checkExecuteSequence=!1,this.targetOptions={group:"clone-group"},this.modeType=this._localStorage.getItem("experimentMode")}ngOnInit(){this._spinner.showSpinner();let t=this._taDataStore.getAllOperationData();t.length?t.forEach(t=>{this.operations.forEach(e=>{if(t.operation==e.operation){let o=Object.assign({},e);o.uid=t.uid,this.selectedOperationsArray.push(o),this.checkExecuteSequence=!0}})}):this.selectedOperationsArray.length=0,this._spinner.stopSpinner()}setOperationContainerUiMargin(t){"true"==t?this.opUiContainer.nativeElement.classList.add("extra-height"):this.opUiContainer.nativeElement.classList.remove("extra-height")}openSaveDialog(){this._dialog.open(ht,{width:"60%",data:{data:null,showGraph:null}}).afterClosed().subscribe(t=>{})}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(h.c),u.Nb(p.a),u.Nb(b.a),u.Nb(v))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-create-experiment"]],viewQuery:function(t,e){var o;1&t&&u.Dc(Ho,!0,u.l),2&t&&u.sc(o=u.bc())&&(e.opUiContainer=o.first)},decls:13,vars:5,consts:[[1,"fluid-container","font-weight-lighter"],[1,"row","mb-4"],[1,"col-md-12"],[3,"operationList"],[1,"row"],["id","operationListContainer",1,"vw-100",3,"operationList","isToolBarSticky"],[1,"row","mt-4"],["id","operationsUiContainer",1,"col-md-12",2,"background-color","white","min-height","450px","border-radius","7px"],["opUiContainer",""],["class","col-md-12","style","display: flex",4,"ngIf"],[3,"selectedOperation"],["mat-raised-button","","class","float-ta-save-btn","matTooltip","Click to save experiment","matTooltipPosition","below",3,"click",4,"ngIf"],[1,"col-md-12",2,"display","flex"],[1,"alert","col-md-12",2,"margin","auto","color","red","font-weight","bold","text-align","center"],["mat-raised-button","","matTooltip","Click to save experiment","matTooltipPosition","below",1,"float-ta-save-btn",3,"click"],["tooltip","matTooltip"],[1,"fas","fa-plus","fa-1x","my-float"]],template:function(t,e){1&t&&(u.Tb(0,"div",0),u.Tb(1,"div",1),u.Tb(2,"div",2),u.Ob(3,"app-experiment-input",3),u.Sb(),u.Sb(),u.Tb(4,"div",4),u.Tb(5,"app-operations-list",5),u.ac("isToolBarSticky",(function(t){return e.setOperationContainerUiMargin(t)})),u.Sb(),u.Sb(),u.Tb(6,"div",6),u.Tb(7,"mat-card",7,8),u.Tb(9,"div",4),u.Ic(10,Xo,3,0,"div",9),u.Sb(),u.Ob(11,"app-operations-ui-container",10),u.Sb(),u.Sb(),u.Ic(12,Yo,3,0,"button",11),u.Sb()),2&t&&(u.Bb(3),u.kc("operationList",e.operations),u.Bb(2),u.kc("operationList",e.operations),u.Bb(5),u.kc("ngIf",e.checkExecuteSequence),u.Bb(1),u.kc("selectedOperation",e.selectedOperationsArray),u.Bb(1),u.kc("ngIf","viewMode"!=e.modeType))},directives:[yt,Fo,T.a,i.t,Go,C.b,x.b],styles:[".extra-height[_ngcontent-%COMP%]{margin-top:10px}.float-ta-save-btn[_ngcontent-%COMP%]{position:fixed;width:60px;height:60px;bottom:40px;right:40px;background-color:#08509d;color:#fff;border-radius:50%;box-shadow:2px 2px 3px #999}.my-float[_ngcontent-%COMP%]{font-size:large;color:#fff}"]}),t})();var Jo=o("bSwM");function Zo(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",8),u.Tb(1,"mat-checkbox",9),u.ac("change",(function(e){return u.wc(t),u.ec().onCheckBoxValChange(e)})),u.Kc(2),u.Sb(),u.Sb()}if(2&t){const t=e.$implicit,o=u.ec();u.Bb(1),u.kc("value",t.pipeSettingTag)("checked",o.valueFromUser.includes(t.pipeSettingTag)),u.Bb(1),u.Mc("\xa0\xa0",t.pipeSettingName,"")}}let ti=(()=>{class t{constructor(t,e,o,i,a,n,r,s){this.data=t,this._localStorage=e,this._spinner=o,this._taDataStore=i,this._textAnalysis=a,this._toaster=n,this._pipelineSettingsDialog=r,this.fb=s,this.pipelineSettingsControl=new et.i(""),this.valueFromUser=[],this.project=this._localStorage.getItem("project"),this.user=this._localStorage.getItem("user"),this.form=this.fb.group({featureArray:this.fb.array([])})}ngOnInit(){this._spinner.showSpinner(),this.featureArray=this.form.get("featureArray"),this.data.selectedVal&&this.data.selectedVal.forEach(t=>{this.featureArray.push(new et.i(t)),this.valueFromUser&&this.valueFromUser.push(t)}),this._spinner.stopSpinner()}setPipelineSettings(t){this._pipelineSettingsDialog.close(t.value)}onCheckBoxValChange(t){if(t.source._checked)this.featureArray.push(new et.i(t.source.value));else{let e=0;this.featureArray.controls.forEach(o=>{o.value!=t.source.value?e++:this.featureArray.removeAt(e)})}}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(h.a),u.Nb(p.a),u.Nb(b.a),u.Nb(v),u.Nb(f.a),u.Nb(d.c),u.Nb(h.i),u.Nb(et.h))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-pipeline-settings-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-close","","id","times-close-icon",2,"float","right","font-size","16px","cursor","pointer"],[1,"fa","fa-times"],["mat-dialog-content","",2,"min-height","50px"],[1,"row",3,"formGroup"],["class","col-sm-12",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["id","saveBtn","mat-raised-button","","cdkFocusInitial","",3,"click"],[1,"col-sm-12"],[3,"value","checked","change"]],template:function(t,e){1&t&&(u.Tb(0,"h1",0),u.Kc(1," Pipeline Settings"),u.Tb(2,"span",1),u.Ob(3,"i",2),u.Sb(),u.Sb(),u.Tb(4,"div",3),u.Tb(5,"div",4),u.Ic(6,Zo,3,3,"div",5),u.Sb(),u.Sb(),u.Tb(7,"div",6),u.Tb(8,"button",7),u.ac("click",(function(){return e.setPipelineSettings(e.form)})),u.Kc(9," Save "),u.Sb(),u.Sb()),2&t&&(u.Bb(5),u.kc("formGroup",e.form),u.Bb(1),u.kc("ngForOf",e.data.list))},directives:[h.j,h.e,h.g,et.v,et.m,i.s,h.d,C.b,Jo.b],styles:["button#saveBtn[_ngcontent-%COMP%]:enabled{background-color:#08509d;color:#fff}#times-close-icon[_ngcontent-%COMP%]:hover{color:red}"]}),t})();var ei=o("chMx"),oi=o("4xDO");function ii(t,e){if(1&t&&(u.Tb(0,"mat-option",21),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t),u.Bb(1),u.Mc(" ",t.modelName," ")}}function ai(t,e){1&t&&(u.Tb(0,"mat-error"),u.Kc(1,"Model is required."),u.Sb())}function ni(t,e){if(1&t&&(u.Tb(0,"mat-option",21),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t.tagsValue),u.Bb(1),u.Mc(" ",t.tagsName," ")}}function ri(t,e){1&t&&(u.Tb(0,"mat-error"),u.Kc(1,"Atleast one cleaning method is required."),u.Sb())}function si(t,e){1&t&&(u.Tb(0,"div",22),u.Kc(1," Select dataset and feature or enter the text to generate the output "),u.Sb())}function li(t,e){1&t&&(u.Tb(0,"th",35),u.Kc(1,"Word"),u.Sb())}function ci(t,e){if(1&t&&(u.Tb(0,"td",36),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.Bb(1),u.Lc(t.word)}}function ui(t,e){1&t&&(u.Tb(0,"th",35),u.Kc(1,"Tag"),u.Sb())}function di(t,e){if(1&t&&(u.Tb(0,"td",36),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.Bb(1),u.Lc(t.tag)}}function pi(t,e){1&t&&u.Ob(0,"tr",37)}function bi(t,e){1&t&&u.Ob(0,"tr",38)}function hi(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-card",23),u.Tb(1,"mat-card-header"),u.Tb(2,"mat-card-title-group"),u.Tb(3,"mat-card-title"),u.Kc(4,"Output"),u.Sb(),u.Sb(),u.Tb(5,"div",24),u.Tb(6,"mat-icon",25,26),u.ac("mouseover",(function(){return u.wc(t),u.ec().mouseOverGraph()}))("mouseleave",(function(){return u.wc(t),u.ec().mouseLeaveGraph()}))("click",(function(){u.wc(t);const e=u.ec();return e.onSubmit("html",e.posModelControl,e.posTagsControl)})),u.Sb(),u.Sb(),u.Sb(),u.Tb(8,"mat-card-content",27),u.Tb(9,"table",28),u.Rb(10,29),u.Ic(11,li,2,0,"th",30),u.Ic(12,ci,2,1,"td",31),u.Qb(),u.Rb(13,32),u.Ic(14,ui,2,0,"th",30),u.Ic(15,di,2,1,"td",31),u.Qb(),u.Ic(16,pi,1,0,"tr",33),u.Ic(17,bi,1,0,"tr",34),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=u.ec();u.Bb(6),u.kc("color",t.graphIconColor),u.Bb(3),u.kc("dataSource",t.dataSource),u.Bb(7),u.kc("matHeaderRowDef",t.displayedColumns),u.Bb(1),u.kc("matRowDefColumns",t.displayedColumns)}}let mi=(()=>{class t{constructor(t,e,o,i,a,n,r,d){this._dialog=t,this._dashboardService=e,this._toaster=o,this._localStorage=i,this._spinner=a,this._taDataStore=n,this._textAnalysis=r,this._utils=d,this.onRemove=new u.o,this.postTagList=[{tagsName:"Adjective",tagsValue:"ADJ"},{tagsName:"Adposition",tagsValue:"ADP"},{tagsName:"Adverb",tagsValue:"ADV"},{tagsName:"Auxiliary verb",tagsValue:"AUX"},{tagsName:"Coordinating conjunction",tagsValue:"CONJ"},{tagsName:"Determiner",tagsValue:"DET"},{tagsName:"Interjection",tagsValue:"INTJ"},{tagsName:"Noun",tagsValue:"NOUN"},{tagsName:"Numeral",tagsValue:"NUM"},{tagsName:"Particle",tagsValue:"PART"},{tagsName:"Pronoun",tagsValue:"PRON"},{tagsName:"Proper noun",tagsValue:"PROPN"},{tagsName:"Punctuation",tagsValue:"PUNCT"},{tagsName:"Subordinating conjunction",tagsValue:"SCONJ"},{tagsName:"Symbol",tagsValue:"SYM"},{tagsName:"Verb",tagsValue:"VERB"},{tagsName:"Other",tagsValue:"X"}],this.dataSource=new s.p,this.displayedColumns=[],this.unsubscribe$=new l.b,this.showSpinner=!1,this.showOutput=!1,this.uploadModelIssueMsg=!1,this.binColor="basic",this.showTextError=!1,this.posModelControl=new et.i("",et.I.required),this.posTagsControl=new et.i("",et.I.required),this.graphIconColor="basic",this.pipelineSetting={removeFeatureCheckBoxVal:!1,setConcatenate:!1,setCountTag:!1},this.posPipelineSettingsList=[{pipeSettingName:"Count the words that matched the tags",pipeSettingTag:"count"},{pipeSettingName:"Concatenate all the words with matched tags",pipeSettingTag:"concat"}],this.gettaModelsList=t=>{let e=!1;this._dashboardService.taModel(t).pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{this.modelList=t,this.posModelControl.value&&"spacy-en_core_web_sm"!=this.posModelControl.value&&(this.modelList.forEach(t=>{t.modelName!==this.posModelControl.value&&t.oldModelFileName!==this.posModelControl.value||(this.posModelControl.setValue(JSON.stringify(t)),e=!0)}),e||(this.uploadModelIssueMsg=!0)),this._spinner.stopSpinner()},t=>{this._toaster.error("Server Error","Text Analysis"),this._spinner.stopSpinner()})},this.onSubmit=function(t,e,o){let i=null;t?i=t:(this._spinner.showSpinner(),i="table");let a=this._taDataStore.getInputData(this.operation);if(a=null==a?void 0:a.output,!a)return this.showTextError=!0,void this._spinner.stopSpinner();this.showTextError=!1;let n=e.value;"spacy-en_core_web_sm"!=n&&(n=e.value);let r=[{operationName:"pos",operationParameters:{model:n.modelName||e.value,keepTags:o.value||[],addFeature:this.posPipelineSettingValue||[],modelPath:"./textanalysis/models/"+n.modelName,framework:n.frameWork}}];this._textAnalysis.pos(a,r,i).pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{this.showOutput=!0,"html"==i?this._dialog.open(ht,{width:"60%",data:{data:t.data.data,showGraph:"pos"}}).afterClosed().subscribe(t=>{}):(this.output=t.data.data,this.dataSource.data=t.data.data,this.dataSource._updateChangeSubscription()),this._taDataStore.saveOperationOutput({uid:this.operation.uid,operation:this.operation.operation,output:this.output,taskConfig:r}),this._spinner.stopSpinner(),this._taDataStore.broadcastSubmitEvent("updateInputBar")},t=>{this.showOutput=!1,this._spinner.stopSpinner(),this._toaster.error("Server Error","Error performing pos tagging")})},this.project=this._localStorage.getItem("project"),this.user=this._localStorage.getItem("user"),this.displayedColumns=["Word","Tag"]}ngOnInit(){this.inputData=this._taDataStore.getInputData(this.operation),this.gettaModelsList("pos"),this.setData(),this._taDataStore.onSubmitEventSubject.subscribe(t=>{this.inputData=this._taDataStore.getInputData(this.operation)})}setData(){this._taDataStore.getAllOperationData().forEach(t=>{t.uid==this.operation.uid&&t.taskConfig.operationParameters&&(this.posTagsControl.setValue(t.taskConfig.operationParameters.keepTags),t.taskConfig.operationParameters.addFeature.length&&(this.posPipelineSettingValue=t.taskConfig.operationParameters.addFeature),this.pipelineSetting.removeFeatureCheckBoxVal=t.taskConfig.operationParameters.removeFeature,this.posModelControl.setValue(t.taskConfig.operationParameters.model))})}mouseOverBin(){this.binColor="warn"}mouseLeaveBin(){this.binColor="basic"}removeOperation(){this._taDataStore.removeOperation(this.operation),this.onRemove.emit(this.operation)}showPipelineSetting(){this._dialog.open(ti,{minWidth:"50vw",data:{list:this.posPipelineSettingsList,selectedVal:this.posPipelineSettingValue}}).afterClosed().subscribe(t=>{if(t&&void 0!==this.output){this.posPipelineSettingValue=t.featureArray;let e=this._taDataStore.getSavedOperationOutput(this.operation.uid);e.taskConfig[0].operationParameters.addFeature=this.posPipelineSettingValue,this._taDataStore.saveOperationOutput({uid:this.operation.uid,operation:this.operation.operation,output:this.output,taskConfig:e.taskConfig})}else t&&(this.posPipelineSettingValue=t.featureArray)})}mouseOverGraph(){this.graphIconColor="primary"}mouseLeaveGraph(){this.graphIconColor="basic"}ngOnDestroy(){this.unsubscribe$.next(!1),this.unsubscribe$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(h.c),u.Nb(ei.a),u.Nb(d.c),u.Nb(p.a),u.Nb(b.a),u.Nb(v),u.Nb(f.a),u.Nb(oi.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-pos-tagging"]],inputs:{operation:"operation"},outputs:{onRemove:"onRemove"},decls:39,vars:16,consts:[[3,"expanded"],[2,"color","black",3,"matTooltip"],[1,"fa","fa-trash",2,"margin-left","95%","cursor","pointer","font-size","16px",3,"color","mouseover","mouseleave","click"],[2,"border-left","7px solid green","display","flex"],["inputInfoCard",""],[1,"d-flex","flex-row",2,"margin","auto"],[2,"width","min-content","margin","auto"],[1,"fas","fa-info-circle","fa-2x",2,"color","green"],[2,"width","max-content","margin","auto"],["appearance","fill"],[3,"innerText"],[3,"formControl"],["value","spacy-en_core_web_sm"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["required","","multiple","",3,"formControl"],["id","taOperationsPosSubmitBtn","mat-raised-button","",3,"disabled","click"],[1,"linkText",3,"click"],[1,"form-group","row"],["class","text-danger offset-2 mt-2",4,"ngIf"],["class","mt-3","style","background-color: #f5f5f5",4,"ngIf"],[3,"value"],[1,"text-danger","offset-2","mt-2"],[1,"mt-3",2,"background-color","#f5f5f5"],[2,"margin-left","85%"],["matTooltip","Dependency Graph","matTooltipPosition","above","matTooltipHideDelay","1000",1,"far","fa-chart-bar",2,"cursor","pointer","font-size","16px",3,"color","mouseover","mouseleave","click"],["tooltip","matTooltip"],[1,"mt-2"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Word"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Tag"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(u.Tb(0,"mat-expansion-panel",0),u.Tb(1,"mat-expansion-panel-header"),u.Tb(2,"mat-panel-title",1),u.Kc(3),u.Sb(),u.Tb(4,"mat-panel-description"),u.Kc(5,"\xa0"),u.Tb(6,"mat-icon",2),u.ac("mouseover",(function(){return e.mouseOverBin()}))("mouseleave",(function(){return e.mouseLeaveBin()}))("click",(function(){return e.removeOperation()})),u.Sb(),u.Sb(),u.Sb(),u.Tb(7,"mat-card",3,4),u.Tb(9,"mat-card-content"),u.Tb(10,"div",5),u.Tb(11,"div",6),u.Ob(12,"mat-icon",7),u.Sb(),u.Tb(13,"div",8),u.Tb(14,"b"),u.Kc(15),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Ob(16,"br"),u.Tb(17,"mat-form-field",9),u.Ob(18,"mat-label",10),u.Tb(19,"mat-select",11),u.Tb(20,"mat-option",12),u.Kc(21,"spacy-en_core_web_sm"),u.Sb(),u.Ic(22,ii,2,2,"mat-option",13),u.Sb(),u.Ic(23,ai,2,0,"mat-error",14),u.Sb(),u.Tb(24,"mat-form-field",9),u.Ob(25,"mat-label",10),u.Tb(26,"mat-select",15),u.Ic(27,ni,2,2,"mat-option",13),u.Sb(),u.Ic(28,ri,2,0,"mat-error",14),u.Sb(),u.Tb(29,"span"),u.Tb(30,"button",16),u.ac("click",(function(){return e.onSubmit(null,e.posModelControl,e.posTagsControl)})),u.Kc(31," Submit"),u.Sb(),u.Kc(32,"\xa0\xa0"),u.Tb(33,"span",17),u.ac("click",(function(){return e.showPipelineSetting()})),u.Kc(34,"Settings"),u.Sb(),u.Sb(),u.Tb(35,"div",18),u.Ic(36,si,2,0,"div",19),u.Sb(),u.Ob(37,"br"),u.Ic(38,hi,18,4,"mat-card",20),u.Sb()),2&t&&(u.kc("expanded",e.operation.isPanelExpanded),u.Bb(2),u.kc("matTooltip",e._utils.getTootip("posTagging")),u.Bb(1),u.Mc(" ",e.operation.title," "),u.Bb(3),u.kc("color",e.binColor),u.Bb(9),u.Mc("\xa0\xa0\xa0Data is taken from ",e.inputData?e.inputData.operation:"inputData",""),u.Bb(3),u.kc("innerText",e.posModelControl.value?"Model":"Select a model"),u.Bb(1),u.kc("formControl",e.posModelControl),u.Bb(3),u.kc("ngForOf",e.modelList),u.Bb(1),u.kc("ngIf",e.posModelControl.touched&&e.posModelControl.hasError("required")),u.Bb(2),u.kc("innerText",e.posTagsControl.value?"Tags Selected":"Choose some tags"),u.Bb(1),u.kc("formControl",e.posTagsControl),u.Bb(1),u.kc("ngForOf",e.postTagList),u.Bb(1),u.kc("ngIf",e.posTagsControl.touched&&e.posTagsControl.hasError("required")),u.Bb(2),u.kc("disabled",e.posModelControl.hasError("required")&&e.posTagsControl.hasError("required")),u.Bb(6),u.kc("ngIf",e.showTextError),u.Bb(2),u.kc("ngIf",e.showOutput))},directives:[r.c,r.g,r.h,x.b,r.f,w.a,T.a,T.d,y.c,y.g,ft.a,et.u,et.j,gt.o,i.s,i.t,et.F,C.b,y.b,T.f,T.n,T.m,s.o,s.c,s.i,s.b,s.k,s.n,s.h,s.a,s.j,s.m],styles:["button#taOperationsPosSubmitBtn[_ngcontent-%COMP%]:enabled{margin-top:10px;background-color:#08509d;color:#fff}span.linkText[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:pointer}"]}),t})();var fi=o("5RNC");function gi(t,e){if(1&t&&(u.Tb(0,"mat-option",20),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t.modelKey),u.Bb(1),u.Mc(" ",t.modelName," ")}}function vi(t,e){1&t&&(u.Tb(0,"mat-error"),u.Kc(1,"Model is required."),u.Sb())}function Si(t,e){if(1&t){const t=u.Ub();u.Tb(0,"span"),u.Kc(1,"Information Retained : "),u.Tb(2,"mat-slider",21),u.ac("ngModelChange",(function(e){return u.wc(t),u.ec().informationRetained=e})),u.Sb(),u.Kc(3,"\xa0\xa0"),u.Tb(4,"b"),u.Kc(5),u.Sb(),u.Sb()}if(2&t){const t=u.ec();u.Bb(2),u.kc("displayWith",t.informationRetainedSliderLabel)("disabled",!t.textSummarizationModelControl.value)("ngModel",t.informationRetained),u.Bb(3),u.Mc("",t.informationRetained,"%")}}function Ti(t,e){1&t&&(u.Tb(0,"mat-error"),u.Kc(1,"Enter Integer numbers only"),u.Sb())}function wi(t,e){1&t&&(u.Tb(0,"mat-error"),u.Kc(1,"Enter Integer numbers only"),u.Sb())}function Ci(t,e){if(1&t&&(u.Tb(0,"div",22),u.Tb(1,"div",23),u.Tb(2,"mat-form-field"),u.Tb(3,"mat-label"),u.Kc(4,"Minimum Length of Sequence"),u.Sb(),u.Ob(5,"input",24),u.Sb(),u.Ic(6,Ti,2,0,"mat-error",13),u.Sb(),u.Tb(7,"div",23),u.Tb(8,"mat-form-field"),u.Tb(9,"mat-label"),u.Kc(10,"Maximum Length of Sequence"),u.Sb(),u.Ob(11,"input",25),u.Sb(),u.Ic(12,wi,2,0,"mat-error",13),u.Sb(),u.Sb()),2&t){const t=u.ec();u.Bb(5),u.kc("formControl",t.minSequence),u.Bb(1),u.kc("ngIf",t.minSequence.hasError("pattern")),u.Bb(5),u.kc("formControl",t.maxSequence),u.Bb(1),u.kc("ngIf",t.maxSequence.hasError("pattern"))}}function xi(t,e){1&t&&(u.Tb(0,"div",26),u.Kc(1," Select dataset and feature or enter the text to generate the output "),u.Sb())}function yi(t,e){if(1&t&&(u.Tb(0,"div",27),u.Kc(1),u.Sb()),2&t){const t=u.ec();u.Bb(1),u.Mc(" ",t.errorMessage," ")}}function ki(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-card",28),u.Tb(1,"mat-card-header",29),u.Tb(2,"mat-card-title-group"),u.Tb(3,"mat-card-title"),u.Kc(4,"Output"),u.Sb(),u.Sb(),u.Tb(5,"div",30),u.Tb(6,"mat-icon",31,32),u.ac("mouseover",(function(){return u.wc(t),u.ec().mouseOverCopy()}))("mouseleave",(function(){return u.wc(t),u.ec().mouseLeaveCopy()}))("click",(function(){return u.wc(t),u.ec().copyOutput()})),u.Sb(),u.Sb(),u.Sb(),u.Tb(8,"mat-card-content",33),u.Tb(9,"p",34),u.Kc(10),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=u.ec();u.Bb(6),u.kc("color",t.copyColor)("matTooltip",t.tooltipText),u.Bb(4),u.Lc(t.output)}}let _i=(()=>{class t{constructor(t,e,o,i){this._taDataStore=t,this._textAnalysis=e,this._spinner=o,this._utils=i,this.onRemove=new u.o,this.modelsList=[{modelName:"Scoring Model",modelKey:"scoringmodel"},{modelName:"Similarity Model",modelKey:"similaritymodel"},{modelName:"Abstractive model-T5",modelKey:"t5model"}],this.informationRetained=50,this.binColor="basic",this.unsubscribe$=new l.b,this.showTextError=!1,this.showError=!1,this.showOutput=!1,this.copyColor="basic",this.tooltipText="Click to copy!",this.textSummarizationModelControl=new et.i("",et.I.required),this.minSequence=new et.i("",[et.I.required,et.I.pattern("^[0-9]*$")]),this.maxSequence=new et.i("",[et.I.required,et.I.pattern("^[0-9]*$")]),this.copyOutput=function(){let t=document.getElementById("summarizationOutput").innerText,e=document.createElement("textarea");document.body.appendChild(e),e.value=t,e.select(),document.execCommand("copy"),document.body.removeChild(e),this.tooltipText="Copied!"},this.onSubmit=function(t,e,o,i){this._spinner.showSpinner(),this.showTextError=!1;let a=this._taDataStore.getInputData(this.operation);if(a=null==a?void 0:a.output,!a)return this.showTextError=!0,void this._spinner.stopSpinner();if("t5model"==t.value){if(null==o.value||null==i.value)return this.showError=!0,this._spinner.stopSpinner(),void(this.errorMessage="Enter the Minimum and maximum sequence value");if(this.showError=!1,0==i.value)return this.showError=!0,this._spinner.stopSpinner(),void(this.errorMessage="Maximum length of sequence  number should be greater than zero.")}let n={data:a,taskConfig:[{operationName:"textSummarization",operationParameters:{model:t.value,informationRetained:e,t5minlength:this.minSequence.value,t5maxlength:this.maxSequence.value}}]};"t5model"==t.value&&delete n.taskConfig[0].operationParameters.informationRetained,this._textAnalysis.textSummarization(n).pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{this.showOutput=!0,this.output=t.data.data,this._taDataStore.saveOperationOutput({uid:this.operation.uid,operation:"textSummarization",output:this.output,taskConfig:n.taskConfig}),this._spinner.stopSpinner(),this._taDataStore.broadcastSubmitEvent("updateInputBar")},t=>{this.showOutput=!1,this._spinner.stopSpinner(),this._toaster.error("Server Error","Error performing text summarization")})}}ngOnInit(){this.inputData=this._taDataStore.getInputData(this.operation),this.setData(),this._taDataStore.onSubmitEventSubject.subscribe(t=>{this.inputData=this._taDataStore.getInputData(this.operation)})}setData(){this._taDataStore.getAllOperationData().forEach(t=>{t.uid==this.operation.uid&&t.taskConfig.operationParameters&&(this.textSummarizationModelControl.setValue(t.taskConfig.operationParameters.model),this.minSequence.setValue(t.taskConfig.operationParameters.t5minlength),this.maxSequence.setValue(t.taskConfig.operationParameters.t5maxlength),this.informationRetained=t.taskConfig.operationParameters.informationRetained)})}informationRetainedSliderLabel(t){return t}mouseOverBin(){this.binColor="warn"}mouseLeaveBin(){this.binColor="basic"}removeOperation(){this._taDataStore.removeOperation(this.operation),this.onRemove.emit(this.operation)}mouseOverCopy(){this.copyColor="primary"}mouseLeaveCopy(){this.copyColor="basic"}ngOnDestroy(){this.unsubscribe$.next(!1),this.unsubscribe$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(v),u.Nb(f.a),u.Nb(b.a),u.Nb(oi.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-text-summarization"]],inputs:{operation:"operation"},outputs:{onRemove:"onRemove"},decls:31,vars:15,consts:[[3,"expanded"],[2,"color","black",3,"matTooltip"],[1,"fa","fa-trash",2,"margin-left","95%","cursor","pointer","font-size","16px",3,"color","mouseover","mouseleave","click"],[2,"border-left","7px solid green","display","flex"],["inputInfoCard",""],[1,"d-flex","flex-row",2,"margin","auto"],[2,"width","min-content","margin","auto"],[1,"fas","fa-info-circle","fa-2x",2,"color","green"],[2,"width","max-content","margin","auto"],["appearance","fill"],[3,"innerText"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["class","row",4,"ngIf"],["id","taOperationsSummarizeSubmitBtn","mat-raised-button","",3,"disabled","click"],[1,"form-group","row"],["class","text-danger offset-2 mt-2",4,"ngIf"],["class","text-danger mt-2 offset-2",4,"ngIf"],["class","mt-3","style","background-color: #f5f5f5",4,"ngIf"],[3,"value"],["id","informationRetainedSlider","thumbLabel","","min","0","max","100","step","1","value","50","color","primary",3,"displayWith","disabled","ngModel","ngModelChange"],[1,"row"],[1,"col-md-6"],["matInput","","type","number","name","minSeq","id","minSeq","min","0","max","500","required","",3,"formControl"],["matInput","","type","number","name","maxSeq","id","maxSeq","min","1","max","500","required","",3,"formControl"],[1,"text-danger","offset-2","mt-2"],[1,"text-danger","mt-2","offset-2"],[1,"mt-3",2,"background-color","#f5f5f5"],[2,"border-bottom","1px solid #3c3c3c"],[2,"margin-left","85%"],["matTooltipPosition","above",1,"far","fa-copy",2,"cursor","pointer","font-size","16px",3,"color","matTooltip","mouseover","mouseleave","click"],["tooltip","matTooltip"],[1,"mt-2"],["id","summarizationOutput"]],template:function(t,e){1&t&&(u.Tb(0,"mat-expansion-panel",0),u.Tb(1,"mat-expansion-panel-header"),u.Tb(2,"mat-panel-title",1),u.Kc(3),u.Sb(),u.Tb(4,"mat-panel-description"),u.Tb(5,"mat-icon",2),u.ac("mouseover",(function(){return e.mouseOverBin()}))("mouseleave",(function(){return e.mouseLeaveBin()}))("click",(function(){return e.removeOperation()})),u.Sb(),u.Sb(),u.Sb(),u.Tb(6,"mat-card",3,4),u.Tb(8,"mat-card-content"),u.Tb(9,"div",5),u.Tb(10,"div",6),u.Ob(11,"mat-icon",7),u.Sb(),u.Tb(12,"div",8),u.Tb(13,"b"),u.Kc(14),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Ob(15,"br"),u.Tb(16,"mat-form-field",9),u.Ob(17,"mat-label",10),u.Tb(18,"mat-select",11),u.Ic(19,gi,2,2,"mat-option",12),u.Sb(),u.Ic(20,vi,2,0,"mat-error",13),u.Sb(),u.Ic(21,Si,6,4,"span",13),u.Ic(22,Ci,13,4,"div",14),u.Ob(23,"br"),u.Tb(24,"button",15),u.ac("click",(function(){return e.onSubmit(e.textSummarizationModelControl,e.informationRetained,e.minSequence,e.maxSequence)})),u.Kc(25," Submit "),u.Sb(),u.Ob(26,"br"),u.Tb(27,"div",16),u.Ic(28,xi,2,0,"div",17),u.Ic(29,yi,2,1,"div",18),u.Sb(),u.Ic(30,ki,11,3,"mat-card",19),u.Sb()),2&t&&(u.kc("expanded",e.operation.isPanelExpanded),u.Bb(2),u.kc("matTooltip",e._utils.getTootip("textSummarization")),u.Bb(1),u.Mc(" ",e.operation.title," "),u.Bb(2),u.kc("color",e.binColor),u.Bb(9),u.Mc("\xa0\xa0\xa0Data is taken from ",e.inputData?e.inputData.operation:"inputData",""),u.Bb(3),u.kc("innerText",e.textSummarizationModelControl.value?"Model":"Select a model"),u.Bb(1),u.kc("formControl",e.textSummarizationModelControl),u.Bb(1),u.kc("ngForOf",e.modelsList),u.Bb(1),u.kc("ngIf",e.textSummarizationModelControl.touched&&e.textSummarizationModelControl.hasError("required")),u.Bb(1),u.kc("ngIf","t5model"!==e.textSummarizationModelControl.value),u.Bb(1),u.kc("ngIf","t5model"==e.textSummarizationModelControl.value),u.Bb(2),u.kc("disabled","t5model"==e.textSummarizationModelControl.value?e.textSummarizationModelControl.hasError("required")||e.minSequence.hasError("required")||e.maxSequence.hasError("required"):e.textSummarizationModelControl.hasError("required")),u.Bb(4),u.kc("ngIf",e.showTextError),u.Bb(1),u.kc("ngIf",e.showError),u.Bb(1),u.kc("ngIf",e.showOutput))},directives:[r.c,r.g,r.h,x.b,r.f,w.a,T.a,T.d,y.c,y.g,ft.a,et.u,et.j,i.s,i.t,C.b,gt.o,y.b,fi.a,et.x,k.b,et.A,et.d,et.F,T.f,T.n,T.m],styles:["button#taOperationsSummarizeSubmitBtn[_ngcontent-%COMP%]:enabled{margin-top:10px;background-color:#08509d;color:#fff}mat-slider.mat-slider#informationRetainedSlider[_ngcontent-%COMP%]{width:76%}"]}),t})();function Di(t,e){if(1&t&&(u.Tb(0,"mat-option",19),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t.modelKey),u.Bb(1),u.Mc(" ",t.modelName," ")}}function Ii(t,e){1&t&&(u.Tb(0,"mat-error"),u.Kc(1,"Model is required."),u.Sb())}function Oi(t,e){1&t&&(u.Tb(0,"div",20),u.Kc(1," Select dataset and feature or enter the text to generate the output "),u.Sb())}function Ei(t,e){1&t&&(u.Tb(0,"th",30),u.Kc(1,"Sentiment"),u.Sb())}function Bi(t,e){if(1&t&&(u.Tb(0,"td",31),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.Bb(1),u.Lc(t.sentiment)}}function Ni(t,e){1&t&&(u.Tb(0,"th",30),u.Kc(1,"Subjectivity Score"),u.Sb())}function Mi(t,e){if(1&t&&(u.Tb(0,"td",31),u.Kc(1),u.fc(2,"number"),u.Sb()),2&t){const t=e.$implicit;u.Bb(1),u.Mc(" ",u.hc(2,1,t.subjectivity,"1.0-2")," ")}}function Pi(t,e){1&t&&u.Ob(0,"tr",32)}function Ai(t,e){1&t&&u.Ob(0,"tr",33)}function Fi(t,e){if(1&t&&(u.Tb(0,"mat-card",21),u.Tb(1,"mat-card-header"),u.Tb(2,"mat-card-title"),u.Kc(3,"Output"),u.Sb(),u.Sb(),u.Tb(4,"mat-card-content",22),u.Tb(5,"table",23),u.Rb(6,24),u.Ic(7,Ei,2,0,"th",25),u.Ic(8,Bi,2,1,"td",26),u.Qb(),u.Rb(9,27),u.Ic(10,Ni,2,0,"th",25),u.Ic(11,Mi,3,4,"td",26),u.Qb(),u.Ic(12,Pi,1,0,"tr",28),u.Ic(13,Ai,1,0,"tr",29),u.Sb(),u.Sb(),u.Sb()),2&t){const t=u.ec();u.Bb(5),u.kc("dataSource",t.dataSource),u.Bb(7),u.kc("matHeaderRowDef",t.displayedColumns),u.Bb(1),u.kc("matRowDefColumns",t.displayedColumns)}}let Ki=(()=>{class t{constructor(t,e,o,i,a,n,r){this._dialog=t,this._toaster=e,this._localStorage=o,this._spinner=i,this._taDataStore=a,this._textAnalysis=n,this._utils=r,this.onRemove=new u.o,this.modelsList=[{modelName:"Polarized Model",modelKey:"polarizedmodel"}],this.binColor="basic",this.unsubscribe$=new l.b,this.showTextError=!1,this.showOutput=!1,this.dataSource=new s.p,this.displayedColumns=[],this.sentimentAnalysisModelControl=new et.i("",et.I.required),this.pipelineSetting={removeFeatureCheckBoxVal:!1,setSubjectivityAsFeature:!1,setSentimentAsFeature:!1},this.sentimentAnalysisPipelineSettingsList=[{pipeSettingName:"Create sentiment as a new feature",pipeSettingTag:"sentiment"},{pipeSettingName:"Create subjectivity as a new feature",pipeSettingTag:"subjectivity"}],this.onSubmit=function(t){this._spinner.showSpinner(),this.showTextError=!1;let e=this._taDataStore.getInputData(this.operation);if(e=null==e?void 0:e.output,!e)return this.showTextError=!0,void this._spinner.stopSpinner();var o={data:e,taskConfig:[{operationName:"sentimentAnalysis",operationParameters:{model:t.value,addFeature:this.sentimentAnalysisPipelineSettingValue||[]}}]};this._textAnalysis.sentimentAnalysis(o).pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{this.showOutput=!0,this.output=t.data.data,this.dataSource.data=[t.data.data],this.dataSource._updateChangeSubscription(),this._taDataStore.saveOperationOutput({uid:this.operation.uid,operation:"sentimentAnalysis",output:this.output,taskConfig:o.taskConfig}),this._spinner.stopSpinner(),this._taDataStore.broadcastSubmitEvent("updateInputBar")},t=>{this.showOutput=!1,this._spinner.stopSpinner(),this._toaster.error("Server Error","Error performing sentiment analysis")})},this.project=this._localStorage.getItem("project"),this.user=this._localStorage.getItem("user"),this.displayedColumns=["sentiment","subjectivity"]}ngOnInit(){this.inputData=this._taDataStore.getInputData(this.operation),this.setData(),this._taDataStore.onSubmitEventSubject.subscribe(t=>{this.inputData=this._taDataStore.getInputData(this.operation)})}setData(){this._taDataStore.getAllOperationData().forEach(t=>{t.uid==this.operation.uid&&t.taskConfig.operationParameters&&(this.sentimentAnalysisModelControl.setValue(t.taskConfig.operationParameters.model),t.taskConfig.operationParameters.addFeature.length&&(this.sentimentAnalysisPipelineSettingValue=t.taskConfig.operationParameters.addFeature),this.pipelineSetting.removeFeatureCheckBoxVal=t.taskConfig.operationParameters.removeFeature)})}mouseOverBin(){this.binColor="warn"}mouseLeaveBin(){this.binColor="basic"}removeOperation(){this._taDataStore.removeOperation(this.operation),this.onRemove.emit(this.operation)}showPipelineSetting(){this._dialog.open(ti,{minWidth:"50vw",data:{list:this.sentimentAnalysisPipelineSettingsList,selectedVal:this.sentimentAnalysisPipelineSettingValue}}).afterClosed().subscribe(t=>{if(t&&void 0!==this.output){this.sentimentAnalysisPipelineSettingValue=t.featureArray;let e=this._taDataStore.getSavedOperationOutput(this.operation.uid);e.taskConfig[0].operationParameters.addFeature=this.sentimentAnalysisPipelineSettingValue,this._taDataStore.saveOperationOutput({uid:this.operation.uid,operation:this.operation.operation,output:this.output,taskConfig:e.taskConfig})}else t&&(this.sentimentAnalysisPipelineSettingValue=t.featureArray)})}ngOnDestroy(){this.unsubscribe$.next(!1),this.unsubscribe$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(h.c),u.Nb(d.c),u.Nb(p.a),u.Nb(b.a),u.Nb(v),u.Nb(f.a),u.Nb(oi.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-sentiment-analysis"]],inputs:{operation:"operation"},outputs:{onRemove:"onRemove"},decls:32,vars:12,consts:[[3,"expanded"],[2,"color","black",3,"matTooltip"],[1,"fa","fa-trash",2,"margin-left","95%","cursor","pointer","font-size","16px",3,"color","mouseover","mouseleave","click"],[2,"border-left","7px solid green","display","flex"],["inputInfoCard",""],[1,"d-flex","flex-row",2,"margin","auto"],[2,"width","min-content","margin","auto"],[1,"fas","fa-info-circle","fa-2x",2,"color","green"],[2,"width","max-content","margin","auto"],["appearance","fill"],[3,"innerText"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","taOperationsSentimentSubmitBtn","mat-raised-button","",3,"disabled","click"],[1,"linkText",3,"click"],[1,"form-group","row"],["class","text-danger offset-2 mt-2",4,"ngIf"],["class","mt-3","style","background-color: #f5f5f5",4,"ngIf"],[3,"value"],[1,"text-danger","offset-2","mt-2"],[1,"mt-3",2,"background-color","#f5f5f5"],[1,"mt-2"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","sentiment"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","subjectivity"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(u.Tb(0,"mat-expansion-panel",0),u.Tb(1,"mat-expansion-panel-header"),u.Tb(2,"mat-panel-title",1),u.Kc(3),u.Sb(),u.Tb(4,"mat-panel-description"),u.Tb(5,"mat-icon",2),u.ac("mouseover",(function(){return e.mouseOverBin()}))("mouseleave",(function(){return e.mouseLeaveBin()}))("click",(function(){return e.removeOperation()})),u.Sb(),u.Sb(),u.Sb(),u.Tb(6,"mat-card",3,4),u.Tb(8,"mat-card-content"),u.Tb(9,"div",5),u.Tb(10,"div",6),u.Ob(11,"mat-icon",7),u.Sb(),u.Tb(12,"div",8),u.Tb(13,"b"),u.Kc(14),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Ob(15,"br"),u.Tb(16,"mat-form-field",9),u.Ob(17,"mat-label",10),u.Tb(18,"mat-select",11),u.Ic(19,Di,2,2,"mat-option",12),u.Sb(),u.Ic(20,Ii,2,0,"mat-error",13),u.Sb(),u.Ob(21,"br"),u.Tb(22,"span"),u.Tb(23,"button",14),u.ac("click",(function(){return e.onSubmit(e.sentimentAnalysisModelControl)})),u.Kc(24," Submit"),u.Sb(),u.Kc(25,"\xa0\xa0"),u.Tb(26,"span",15),u.ac("click",(function(){return e.showPipelineSetting()})),u.Kc(27,"Settings"),u.Sb(),u.Sb(),u.Tb(28,"div",16),u.Ic(29,Oi,2,0,"div",17),u.Sb(),u.Ob(30,"br"),u.Ic(31,Fi,14,3,"mat-card",18),u.Sb()),2&t&&(u.kc("expanded",e.operation.isPanelExpanded),u.Bb(2),u.kc("matTooltip",e._utils.getTootip("sentimentAnalysis")),u.Bb(1),u.Mc(" ",e.operation.title," "),u.Bb(2),u.kc("color",e.binColor),u.Bb(9),u.Mc("\xa0\xa0\xa0Data is taken from ",e.inputData?e.inputData.operation:"inputData",""),u.Bb(3),u.kc("innerText",e.sentimentAnalysisModelControl.value?"Model":"Select a model"),u.Bb(1),u.kc("formControl",e.sentimentAnalysisModelControl),u.Bb(1),u.kc("ngForOf",e.modelsList),u.Bb(1),u.kc("ngIf",e.sentimentAnalysisModelControl.touched&&e.sentimentAnalysisModelControl.hasError("required")),u.Bb(3),u.kc("disabled",e.sentimentAnalysisModelControl.hasError("required")),u.Bb(6),u.kc("ngIf",e.showTextError),u.Bb(2),u.kc("ngIf",e.showOutput))},directives:[r.c,r.g,r.h,x.b,r.f,w.a,T.a,T.d,y.c,y.g,ft.a,et.u,et.j,i.s,i.t,C.b,gt.o,y.b,T.f,T.m,s.o,s.c,s.i,s.b,s.k,s.n,s.h,s.a,s.j,s.m],pipes:[i.g],styles:["button#taOperationsSentimentSubmitBtn[_ngcontent-%COMP%]:enabled{margin-top:10px;background-color:#08509d;color:#fff}span.linkText[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:pointer}"]}),t})();var Ri=o("D5lK");function Li(t,e){if(1&t&&(u.Tb(0,"mat-option",21),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t),u.Bb(1),u.Mc(" ",t.modelName," ")}}function ji(t,e){1&t&&(u.Tb(0,"mat-error"),u.Kc(1,"Model is required."),u.Sb())}function Vi(t,e){if(1&t&&(u.Tb(0,"mat-option",21),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t),u.Bb(1),u.Mc(" ",t," ")}}function qi(t,e){1&t&&(u.Tb(0,"mat-error"),u.Kc(1,"Atleast choose one tag"),u.Sb())}function zi(t,e){1&t&&(u.Tb(0,"div",22),u.Kc(1," Select dataset and feature or enter the text to generate the output "),u.Sb())}function $i(t,e){1&t&&(u.Tb(0,"th",35),u.Kc(1,"Word"),u.Sb())}function Ui(t,e){if(1&t&&(u.Tb(0,"td",36),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.Bb(1),u.Lc(t.word)}}function Wi(t,e){1&t&&(u.Tb(0,"th",35),u.Kc(1,"Tag"),u.Sb())}function Gi(t,e){if(1&t&&(u.Tb(0,"td",36),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.Bb(1),u.Lc(t.tag)}}function Hi(t,e){1&t&&u.Ob(0,"tr",37)}function Xi(t,e){1&t&&u.Ob(0,"tr",38)}function Yi(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-card",23),u.Tb(1,"mat-card-header"),u.Tb(2,"mat-card-title-group"),u.Tb(3,"mat-card-title"),u.Kc(4,"Output"),u.Sb(),u.Sb(),u.Tb(5,"div",24),u.Tb(6,"mat-icon",25,26),u.ac("mouseover",(function(){return u.wc(t),u.ec().mouseOverGraph()}))("mouseleave",(function(){return u.wc(t),u.ec().mouseLeaveGraph()}))("click",(function(){u.wc(t);const e=u.ec();return e.onSubmit("html",e.nerModelControl,e.nerTagsControl)})),u.Sb(),u.Sb(),u.Sb(),u.Tb(8,"mat-card-content",27),u.Tb(9,"table",28),u.Rb(10,29),u.Ic(11,$i,2,0,"th",30),u.Ic(12,Ui,2,1,"td",31),u.Qb(),u.Rb(13,32),u.Ic(14,Wi,2,0,"th",30),u.Ic(15,Gi,2,1,"td",31),u.Qb(),u.Ic(16,Hi,1,0,"tr",33),u.Ic(17,Xi,1,0,"tr",34),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=u.ec();u.Bb(6),u.kc("color",t.graphIconColor),u.Bb(3),u.kc("dataSource",t.dataSource),u.Bb(7),u.kc("matHeaderRowDef",t.displayedColumns),u.Bb(1),u.kc("matRowDefColumns",t.displayedColumns)}}let Qi=(()=>{class t{constructor(t,e,o,i,a,n,r,d,p,b){this._dialog=t,this._dashboardService=e,this._toaster=o,this._localStorage=i,this._spinner=a,this._taDataStore=n,this._textAnalysis=r,this._router=d,this._guideDetails=p,this._utils=b,this.onRemove=new u.o,this.unsubscribe$=new l.b,this.dataSource=new s.p,this.displayedColumns=[],this.showSpinner=!1,this.showOutput=!1,this.showTextError=!1,this.nerUploadModelIssueMsg=!1,this.tags=[],this.binColor="basic",this.isDisabled=!1,this.nerModelControl=new et.i("",et.I.required),this.nerTagsControl=new et.i("",et.I.required),this.graphIconColor="basic",this.guideList=[],this.pipelineSetting={removeFeatureCheckBoxVal:!1,setConcatenate:!1,setCountTag:!1},this.nerPipelineSettingsList=[{pipeSettingName:"Count the words that matched the tags",pipeSettingTag:"count"},{pipeSettingName:"Concatenate all the words with matched tags",pipeSettingTag:"concat"}],this.onSubmit=function(t,e,o){let i=null;t?i=t:(this._spinner.showSpinner(),i="table");let a=this._taDataStore.getInputData(this.operation);if(a=null==a?void 0:a.output,!a)return this.showTextError=!0,void this._spinner.stopSpinner();this.showTextError=!1;let n=e.value;"spacy-en_core_web_sm"!=n&&(n=e.value);let r=[{operationName:"ner",renderType:"table",operationParameters:{model:n.modelName||e.value,keepTags:o.value||[],addFeature:this.pipelineSettingValue||[],modelPath:"./textanalysis/models/"+n.modelName,framework:n.frameWork}}];this._textAnalysis.ner(a,r,i).pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{this.showOutput=!0,"html"==i?this._dialog.open(ht,{height:"auto",width:"60%",data:{data:t.data.data,showGraph:"ner"}}).afterClosed().subscribe(t=>{}):(this.output=t.data.data,this.dataSource.data=t.data.data,this.dataSource._updateChangeSubscription()),this._taDataStore.saveOperationOutput({uid:this.operation.uid,operation:this.operation.operation,output:this.output,taskConfig:r}),this._spinner.stopSpinner(),this._taDataStore.broadcastSubmitEvent("updateInputBar")},t=>{this.showOutput=!1,this._spinner.stopSpinner(),this._toaster.error("Server Error","Error performing ner")})},this.project=this._localStorage.getItem("project"),this.user=this._localStorage.getItem("user"),this.displayedColumns=["Word","Tag"],this.nerModelControl.valueChanges.subscribe(t=>{this.setNerLabels(t)})}ngOnInit(){this.gettaModelsList("ner"),this.setData(),this.inputData=this._taDataStore.getInputData(this.operation),this._taDataStore.onSubmitEventSubject.subscribe(t=>{this.inputData=this._taDataStore.getInputData(this.operation)})}setDefaults(){this.tags=["PERSON","NORP","ORG","GPE","LOC","PRODUCT","EVENT","WORK OF ART","LANGUAGE","DATE","TIME","PERCENT","MONEY","QUANTITY","ORDINAL","CARDINAL"]}setData(){this._taDataStore.getAllOperationData().forEach(t=>{t.uid==this.operation.uid&&t.taskConfig.operationParameters&&(this.nerTagsControl.setValue(t.taskConfig.operationParameters.keepTags),t.taskConfig.operationParameters.addFeature.length&&(this.pipelineSettingValue=t.taskConfig.operationParameters.addFeature),this.nerModelControl.setValue(t.taskConfig.operationParameters.model))})}gettaModelsList(t){let e=!1;this._dashboardService.taModel(t).pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{this.modelList=t,this.nerModelControl.value&&"spacy-en_core_web_sm"!=this.nerModelControl.value&&(this.modelList.forEach(t=>{t.modelName!==this.nerModelControl.value&&t.oldModelFileName!==this.nerModelControl.value||(this.nerModelControl.setValue(t),e=!0)}),e||(this.nerUploadModelIssueMsg=!0)),this._spinner.stopSpinner()},t=>{this._toaster.error("Server Error","Text Analysis"),this._spinner.stopSpinner()})}setNerLabels(t){t?(this.tags.length=0,"spacy-en_core_web_sm"!=t?setTimeout(()=>{this.tags=t.nerLabels,this._spinner.stopSpinner()},1e3):setTimeout(()=>{this.setDefaults(),this._spinner.stopSpinner()},1e3)):this._spinner.stopSpinner()}mouseOverBin(){this.binColor="warn"}mouseLeaveBin(){this.binColor="basic"}removeOperation(){this._taDataStore.removeOperation(this.operation),this.onRemove.emit(this.operation)}showPipelineSetting(){this._dialog.open(ti,{minWidth:"50vw",data:{list:this.nerPipelineSettingsList,selectedVal:this.pipelineSettingValue}}).afterClosed().subscribe(t=>{if(t&&void 0!==this.output){this.pipelineSettingValue=t.featureArray;let e=this._taDataStore.getSavedOperationOutput(this.operation.uid);e.taskConfig[0].operationParameters.addFeature=this.pipelineSettingValue,this._taDataStore.saveOperationOutput({uid:this.operation.uid,operation:this.operation.operation,output:this.output,taskConfig:e.taskConfig})}else t&&(this.pipelineSettingValue=t.featureArray)})}mouseOverGraph(){this.graphIconColor="primary"}mouseLeaveGraph(){this.graphIconColor="basic"}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(h.c),u.Nb(ei.a),u.Nb(d.c),u.Nb(p.a),u.Nb(b.a),u.Nb(v),u.Nb(f.a),u.Nb(a.e),u.Nb(Ri.a),u.Nb(oi.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-ner"]],inputs:{operation:"operation"},outputs:{onRemove:"onRemove"},decls:38,vars:17,consts:[[3,"expanded","disabled"],[2,"color","black",3,"matTooltip"],[1,"fa","fa-trash",2,"margin-left","95%","cursor","pointer","font-size","16px",3,"color","mouseover","mouseleave","click"],[2,"border-left","7px solid green","display","flex"],["inputInfoCard",""],[1,"d-flex","flex-row",2,"margin","auto"],[2,"width","min-content","margin","auto"],[1,"fas","fa-info-circle","fa-2x",2,"color","green"],[2,"width","max-content","margin","auto"],["appearance","fill"],[3,"innerText"],[3,"formControl"],["value","spacy-en_core_web_sm"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["required","","multiple","",3,"formControl"],["id","taOperationsNerSubmitBtn","mat-raised-button","",3,"disabled","click"],[1,"linkText",3,"click"],[1,"form-group","row"],["class","text-danger offset-2 mt-2",4,"ngIf"],["class","mt-3","style","background-color: #f5f5f5",4,"ngIf"],[3,"value"],[1,"text-danger","offset-2","mt-2"],[1,"mt-3",2,"background-color","#f5f5f5"],[2,"margin-left","85%"],["matTooltip","Named Entity Visualization","matTooltipPosition","above","matTooltipHideDelay","1000",1,"far","fa-chart-bar",2,"cursor","pointer","font-size","16px",3,"color","mouseover","mouseleave","click"],["tooltip","matTooltip"],[1,"mt-2"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Word"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Tag"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(u.Tb(0,"mat-expansion-panel",0),u.Tb(1,"mat-expansion-panel-header"),u.Tb(2,"mat-panel-title",1),u.Kc(3),u.Sb(),u.Tb(4,"mat-panel-description"),u.Tb(5,"mat-icon",2),u.ac("mouseover",(function(){return e.mouseOverBin()}))("mouseleave",(function(){return e.mouseLeaveBin()}))("click",(function(){return e.removeOperation()})),u.Sb(),u.Sb(),u.Sb(),u.Tb(6,"mat-card",3,4),u.Tb(8,"mat-card-content"),u.Tb(9,"div",5),u.Tb(10,"div",6),u.Ob(11,"mat-icon",7),u.Sb(),u.Tb(12,"div",8),u.Tb(13,"b"),u.Kc(14),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Ob(15,"br"),u.Tb(16,"mat-form-field",9),u.Ob(17,"mat-label",10),u.Tb(18,"mat-select",11),u.Tb(19,"mat-option",12),u.Kc(20,"spacy-en_core_web_sm"),u.Sb(),u.Ic(21,Li,2,2,"mat-option",13),u.Sb(),u.Ic(22,ji,2,0,"mat-error",14),u.Sb(),u.Tb(23,"mat-form-field",9),u.Ob(24,"mat-label",10),u.Tb(25,"mat-select",15),u.Ic(26,Vi,2,2,"mat-option",13),u.Sb(),u.Ic(27,qi,2,0,"mat-error",14),u.Sb(),u.Tb(28,"span"),u.Tb(29,"button",16),u.ac("click",(function(){return e.onSubmit(null,e.nerModelControl,e.nerTagsControl)})),u.Kc(30," Submit"),u.Sb(),u.Kc(31,"\xa0\xa0"),u.Tb(32,"span",17),u.ac("click",(function(){return e.showPipelineSetting()})),u.Kc(33,"Settings"),u.Sb(),u.Sb(),u.Tb(34,"div",18),u.Ic(35,zi,2,0,"div",19),u.Sb(),u.Ob(36,"br"),u.Ic(37,Yi,18,4,"mat-card",20),u.Sb()),2&t&&(u.kc("expanded",e.operation.isPanelExpanded)("disabled",e.isDisabled),u.Bb(2),u.kc("matTooltip",e._utils.getTootip("ner")),u.Bb(1),u.Mc(" ",e.operation.title," "),u.Bb(2),u.kc("color",e.binColor),u.Bb(9),u.Mc("\xa0\xa0\xa0Data is taken from ",e.inputData?e.inputData.operation:"inputData",""),u.Bb(3),u.kc("innerText",e.nerModelControl.value?"Model":"Select a model"),u.Bb(1),u.kc("formControl",e.nerModelControl),u.Bb(3),u.kc("ngForOf",e.modelList),u.Bb(1),u.kc("ngIf",e.nerModelControl.touched&&e.nerModelControl.hasError("required")),u.Bb(2),u.kc("innerText",e.nerTagsControl.value?"Tags Selected":"Choose some tags"),u.Bb(1),u.kc("formControl",e.nerTagsControl),u.Bb(1),u.kc("ngForOf",e.tags),u.Bb(1),u.kc("ngIf",e.nerTagsControl.touched&&e.nerTagsControl.hasError("required")),u.Bb(2),u.kc("disabled",e.nerModelControl.hasError("required")&&e.nerTagsControl.hasError("required")),u.Bb(6),u.kc("ngIf",e.showTextError),u.Bb(2),u.kc("ngIf",e.showOutput))},directives:[r.c,r.g,r.h,x.b,r.f,w.a,T.a,T.d,y.c,y.g,ft.a,et.u,et.j,gt.o,i.s,i.t,et.F,C.b,y.b,T.f,T.n,T.m,s.o,s.c,s.i,s.b,s.k,s.n,s.h,s.a,s.j,s.m],styles:["button#taOperationsNerSubmitBtn[_ngcontent-%COMP%]:enabled{margin-top:10px;background-color:#08509d;color:#fff}span.linkText[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:pointer}"]}),t})();function Ji(t,e){1&t&&(u.Tb(0,"div",14),u.Kc(1," Select dataset and feature or enter the text to generate the output "),u.Sb())}function Zi(t,e){1&t&&(u.Tb(0,"mat-card",15),u.Tb(1,"mat-card-header",16),u.Tb(2,"mat-card-title"),u.Kc(3,"Output"),u.Sb(),u.Sb(),u.Ob(4,"mat-card-content",17),u.Sb())}const ta=o("Ycxt");let ea=(()=>{class t{constructor(t,e,o,i,a,n){this._toaster=t,this._localStorage=e,this._spinner=o,this._taDataStore=i,this._textAnalysis=a,this._utils=n,this.onRemove=new u.o,this.unsubscribe$=new l.b,this.wordFrequency=20,this.showOutput=!1,this.showValidationError=!1,this.showTextError=!1,this.binColor="basic",this.onSubmit=function(t){if(this._spinner.showSpinner(),this.showOutput=!1,null==t)return this.showValidationError=!0,void this._spinner.stopSpinner();if(t<10)return this.showValidationError=!0,void this._spinner.stopSpinner();this.showValidationError=!1;let e=this._taDataStore.getFirstInputData();if(!e)return this.showTextError=!0,void this._spinner.stopSpinner();this.showTextError=!1;let o=this._taDataStore.getInputData(this.operation),i=null==o?void 0:o.output;if(!i)return this.showTextError=!0,void this._spinner.stopSpinner();let a=e.fileName,n=e.featureName,r={};a&&n?(r.colName=n,r.fileName=a,r.maxWords=t,r.projectId=this.project._id):(r.data=i,r.maxWords=t);let s=[{operationName:"wordFrequency",operationParameters:r}];this.showOutput=!0,this._textAnalysis.wordFrequency(r).pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{this.output=t.data;let e=document.getElementById("wordFrequencyPlot");for(;e.data&&e.data.length>0;)ta.deleteTraces(e,[0]);this.output.layout.template.layout.title.xanchor="center",this.output.layout.template.layout.title.y=.9,this.output.layout.template.layout.title.x=.5,this.output.layout.template.layout.title.yanchor="top",this.output.layout.autosize=!0,ta.plot(e,this.output.data,this.output.layout),this._taDataStore.saveOperationOutput({uid:this.operation.uid,operation:this.operation.operation,output:this.output,taskConfig:s}),this._spinner.stopSpinner(),this._taDataStore.broadcastSubmitEvent("updateInputBar")},t=>{this.showOutput=!1,this._spinner.stopSpinner(),this._toaster.error("Server Error","Error performing word frequency")})},this.project=this._localStorage.getItem("project"),this.user=this._localStorage.getItem("user")}ngOnInit(){this.inputData=this._taDataStore.getInputData(this.operation),this.setData(),this._taDataStore.onSubmitEventSubject.subscribe(t=>{this.inputData=this._taDataStore.getInputData(this.operation)})}setData(){this._taDataStore.getAllOperationData().forEach(t=>{t.uid==this.operation.uid&&t.taskConfig.operationParameters&&(this.wordFrequency=t.taskConfig.operationParameters.maxWords)})}wordFrequencySliderLabel(t){return t}mouseOverBin(){this.binColor="warn"}mouseLeaveBin(){this.binColor="basic"}removeOperation(){this._taDataStore.removeOperation(this.operation),this.onRemove.emit(this.operation)}ngOnDestroy(){this.unsubscribe$.next(!1),this.unsubscribe$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(d.c),u.Nb(p.a),u.Nb(b.a),u.Nb(v),u.Nb(f.a),u.Nb(oi.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-word-frequency"]],inputs:{operation:"operation"},outputs:{onRemove:"onRemove"},decls:29,vars:11,consts:[[3,"expanded"],[2,"color","black",3,"matTooltip"],[1,"fa","fa-trash",2,"margin-left","95%","cursor","pointer","font-size","16px",3,"color","mouseover","mouseleave","click"],[2,"border-left","7px solid green","display","flex"],["inputInfoCard",""],[1,"d-flex","flex-row",2,"margin","auto"],[2,"width","min-content","margin","auto"],[1,"fas","fa-info-circle","fa-2x",2,"color","green"],[2,"width","max-content","margin","auto"],["id","wordFrequencySlider","thumbLabel","","min","0","max","100","step","1","value","50","color","primary",3,"displayWith","ngModel","ngModelChange"],["id","taOperationsWordFrequencySubmitBtn","mat-raised-button","",3,"disabled","click"],[1,"form-group","row"],["class","text-danger offset-2 mt-2",4,"ngIf"],["class","mt-3","style","background-color: #f5f5f5",4,"ngIf"],[1,"text-danger","offset-2","mt-2"],[1,"mt-3",2,"background-color","#f5f5f5"],[2,"border-bottom","1px solid #3c3c3c"],["id","wordFrequencyPlot",1,"mt-2"]],template:function(t,e){1&t&&(u.Tb(0,"mat-expansion-panel",0),u.Tb(1,"mat-expansion-panel-header"),u.Tb(2,"mat-panel-title",1),u.Kc(3),u.Sb(),u.Tb(4,"mat-panel-description"),u.Tb(5,"mat-icon",2),u.ac("mouseover",(function(){return e.mouseOverBin()}))("mouseleave",(function(){return e.mouseLeaveBin()}))("click",(function(){return e.removeOperation()})),u.Sb(),u.Sb(),u.Sb(),u.Tb(6,"mat-card",3,4),u.Tb(8,"mat-card-content"),u.Tb(9,"div",5),u.Tb(10,"div",6),u.Ob(11,"mat-icon",7),u.Sb(),u.Tb(12,"div",8),u.Tb(13,"b"),u.Kc(14),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Ob(15,"br"),u.Tb(16,"span"),u.Kc(17,"Select Word Frequency : "),u.Tb(18,"mat-slider",9),u.ac("ngModelChange",(function(t){return e.wordFrequency=t})),u.Sb(),u.Kc(19,"\xa0\xa0"),u.Tb(20,"b"),u.Kc(21),u.Sb(),u.Sb(),u.Ob(22,"br"),u.Tb(23,"button",10),u.ac("click",(function(){return e.onSubmit(e.wordFrequency)})),u.Kc(24," Submit "),u.Sb(),u.Tb(25,"div",11),u.Ic(26,Ji,2,0,"div",12),u.Sb(),u.Ob(27,"br"),u.Ic(28,Zi,5,0,"mat-card",13),u.Sb()),2&t&&(u.kc("expanded",e.operation.isPanelExpanded),u.Bb(2),u.kc("matTooltip",e._utils.getTootip("wordFrequency")),u.Bb(1),u.Mc(" ",e.operation.title," "),u.Bb(2),u.kc("color",e.binColor),u.Bb(9),u.Mc("\xa0\xa0\xa0Data is taken from ",e.inputData?e.inputData.operation:"inputData",""),u.Bb(4),u.kc("displayWith",e.wordFrequencySliderLabel)("ngModel",e.wordFrequency),u.Bb(3),u.Lc(e.wordFrequency),u.Bb(2),u.kc("disabled",!e.wordFrequency),u.Bb(3),u.kc("ngIf",e.showTextError),u.Bb(2),u.kc("ngIf",e.showOutput))},directives:[r.c,r.g,r.h,x.b,r.f,w.a,T.a,T.d,fi.a,et.u,et.x,C.b,i.t,T.f,T.m],styles:["button#taOperationsWordFrequencySubmitBtn[_ngcontent-%COMP%]:enabled{margin-top:10px;background-color:#08509d;color:#fff}mat-slider.mat-slider#wordFrequencySlider[_ngcontent-%COMP%]{width:74%}"]}),t})();function oa(t,e){if(1&t&&(u.Tb(0,"mat-option",22),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t.modelKey),u.Bb(1),u.Mc(" ",t.modelName," ")}}function ia(t,e){1&t&&(u.Tb(0,"mat-error"),u.Kc(1,"Model is required."),u.Sb())}function aa(t,e){if(1&t){const t=u.Ub();u.Tb(0,"span"),u.Kc(1,"Word vectors : "),u.Tb(2,"mat-slider",23),u.ac("ngModelChange",(function(e){return u.wc(t),u.ec().wordVectorSliderVal=e})),u.Sb(),u.Kc(3,"\xa0\xa0"),u.Tb(4,"b"),u.Kc(5),u.Sb(),u.Sb()}if(2&t){const t=u.ec();u.Bb(2),u.kc("displayWith",t.wordVectorSliderLabel)("ngModel",t.wordVectorSliderVal),u.Bb(3),u.Lc(t.wordVectorSliderVal)}}function na(t,e){if(1&t){const t=u.Ub();u.Tb(0,"span"),u.Kc(1,"Learning Rate : "),u.Tb(2,"mat-slider",24),u.ac("ngModelChange",(function(e){return u.wc(t),u.ec().learningRate=e})),u.Sb(),u.Kc(3,"\xa0\xa0"),u.Tb(4,"b"),u.Kc(5),u.Sb(),u.Sb()}if(2&t){const t=u.ec();u.Bb(2),u.kc("displayWith",t.wordVectorSliderLabel)("ngModel",t.learningRate),u.Bb(3),u.Lc(t.learningRate)}}function ra(t,e){if(1&t&&(u.Tb(0,"mat-option",22),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t.value),u.Bb(1),u.Mc(" ",t.algorithmName," ")}}function sa(t,e){1&t&&(u.Tb(0,"mat-error"),u.Kc(1,"Training algorithm is required."),u.Sb())}function la(t,e){if(1&t&&(u.Tb(0,"mat-form-field",9),u.Ob(1,"mat-label",10),u.Tb(2,"mat-select",25),u.Ic(3,ra,2,2,"mat-option",12),u.Sb(),u.Ic(4,sa,2,0,"mat-error",13),u.Sb()),2&t){const t=u.ec();u.Bb(1),u.kc("innerText",t.wordEmbeddingTrainingAlgoControl.value?"Training Algorithm":"Select a training algorithm"),u.Bb(1),u.kc("formControl",t.wordEmbeddingTrainingAlgoControl),u.Bb(1),u.kc("ngForOf",t.trainingAlgorithmList),u.Bb(1),u.kc("ngIf",t.wordEmbeddingTrainingAlgoControl.touched&&t.wordEmbeddingTrainingAlgoControl.hasError("required"))}}function ca(t,e){if(1&t&&(u.Tb(0,"mat-option",22),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t.value),u.Bb(1),u.Mc(" ",t.functionName," ")}}function ua(t,e){1&t&&(u.Tb(0,"mat-error"),u.Kc(1,"Method is required."),u.Sb())}function da(t,e){if(1&t&&(u.Tb(0,"mat-form-field",9),u.Ob(1,"mat-label",10),u.Tb(2,"mat-select",25),u.Ic(3,ca,2,2,"mat-option",12),u.Sb(),u.Ic(4,ua,2,0,"mat-error",13),u.Sb()),2&t){const t=u.ec();u.Bb(1),u.kc("innerText",t.wordEmbeddingFunctionsControl.value?"Method":"Select a method"),u.Bb(1),u.kc("formControl",t.wordEmbeddingFunctionsControl),u.Bb(1),u.kc("ngForOf",t.functions),u.Bb(1),u.kc("ngIf",t.wordEmbeddingFunctionsControl.touched&&t.wordEmbeddingFunctionsControl.hasError("required"))}}function pa(t,e){1&t&&(u.Tb(0,"mat-error"),u.Kc(1," Input is "),u.Tb(2,"strong"),u.Kc(3,"required"),u.Sb(),u.Sb())}function ba(t,e){if(1&t&&(u.Tb(0,"mat-form-field"),u.Tb(1,"mat-label"),u.Kc(2,"Input 1"),u.Sb(),u.Ob(3,"input",26),u.Ic(4,pa,4,0,"mat-error",13),u.Sb()),2&t){const t=u.ec();u.Bb(3),u.kc("formControl",t.input1FormControl),u.Bb(1),u.kc("ngIf",t.input1FormControl.hasError("required"))}}function ha(t,e){1&t&&(u.Tb(0,"mat-error"),u.Kc(1," Input is "),u.Tb(2,"strong"),u.Kc(3,"required"),u.Sb(),u.Sb())}function ma(t,e){if(1&t&&(u.Tb(0,"mat-form-field"),u.Tb(1,"mat-label"),u.Kc(2,"Input 2"),u.Sb(),u.Ob(3,"input",26),u.Ic(4,ha,4,0,"mat-error",13),u.Sb()),2&t){const t=u.ec();u.Bb(3),u.kc("formControl",t.input2FormControl),u.Bb(1),u.kc("ngIf",t.input2FormControl.hasError("required"))}}function fa(t,e){1&t&&(u.Tb(0,"div",27),u.Kc(1," Select dataset and feature or enter the text to generate the output "),u.Sb())}function ga(t,e){if(1&t&&(u.Tb(0,"mat-card-content",31),u.Tb(1,"p"),u.Kc(2),u.Sb(),u.Sb()),2&t){const t=u.ec(2);u.Bb(2),u.Lc(t.output)}}function va(t,e){1&t&&(u.Tb(0,"th",40),u.Kc(1,"Word"),u.Sb())}function Sa(t,e){if(1&t&&(u.Tb(0,"td",41),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.Bb(1),u.Lc(t.word)}}function Ta(t,e){if(1&t&&(u.Tb(0,"th",40),u.Kc(1),u.Sb()),2&t){const t=u.ec(3);u.Bb(1),u.Lc(t.tableHeading)}}function wa(t,e){if(1&t&&(u.Tb(0,"td",41),u.Kc(1),u.fc(2,"number"),u.Sb()),2&t){const t=e.$implicit;u.Bb(1),u.Mc(" ",u.hc(2,1,t.score||t.probability,"1.0-2")," ")}}function Ca(t,e){1&t&&u.Ob(0,"tr",42)}function xa(t,e){1&t&&u.Ob(0,"tr",43)}function ya(t,e){if(1&t&&(u.Tb(0,"mat-card-content",32),u.Tb(1,"table",33),u.Rb(2,34),u.Ic(3,va,2,0,"th",35),u.Ic(4,Sa,2,1,"td",36),u.Qb(),u.Rb(5,37),u.Ic(6,Ta,2,1,"th",35),u.Ic(7,wa,3,4,"td",36),u.Qb(),u.Ic(8,Ca,1,0,"tr",38),u.Ic(9,xa,1,0,"tr",39),u.Sb(),u.Sb()),2&t){const t=u.ec(2);u.Bb(1),u.kc("dataSource",t.dataSource),u.Bb(7),u.kc("matHeaderRowDef",t.displayedColumns),u.Bb(1),u.kc("matRowDefColumns",t.displayedColumns)}}function ka(t,e){if(1&t&&(u.Tb(0,"mat-card",28),u.Tb(1,"mat-card-header"),u.Tb(2,"mat-card-title"),u.Kc(3,"Output"),u.Sb(),u.Sb(),u.Ic(4,ga,3,1,"mat-card-content",29),u.Ic(5,ya,10,3,"mat-card-content",30),u.Sb()),2&t){const t=u.ec();u.Bb(4),u.kc("ngIf",!t.showTableOutput&&t.showTextOutput),u.Bb(1),u.kc("ngIf",!t.showTextOutput&&t.showTableOutput)}}let _a=(()=>{class t{constructor(t,e,o,i,a,n,r){this._dialog=t,this._toaster=e,this._localStorage=o,this._spinner=i,this._taDataStore=a,this._textAnalysis=n,this._utils=r,this.onRemove=new u.o,this.modelsList=[{modelName:"Word2Vec",modelKey:"word2vec"},{modelName:"Glove",modelKey:"Glove"}],this.trainingAlgorithmList=[{algorithmName:"CBOW",value:"0"},{algorithmName:"skip-gram",value:"1"}],this.functionsList=[{functionName:"Similarity Score",value:"similarityscore"},{functionName:"Most Similar Word",value:"mostsimilarword"},{functionName:"Output Word",value:"outputword"}],this.binColor="basic",this.unsubscribe$=new l.b,this.dataSource=new s.p,this.displayedColumns=[],this.showTextError=!1,this.wordVectorSliderVal=100,this.learningRate=.05,this.wordEmbedding={input:null},this.showTableOutput=!1,this.showTextOutput=!1,this.tableHeading="Score",this.wordEmbeddingModelControl=new et.i("",et.I.required),this.wordEmbeddingTrainingAlgoControl=new et.i("",et.I.required),this.wordEmbeddingFunctionsControl=new et.i("",et.I.required),this.input1FormControl=new et.i("",et.I.required),this.input2FormControl=new et.i("",et.I.required),this.wordEmbeddingPipelineSettingsList=[{pipeSettingName:"Create vectors as new feature(s)",pipeSettingTag:"vector"}],this.onSubmit=(t,e,o,i,a,n)=>{this.showTableOutput=!1,this.showTextOutput=!1,this._spinner.showSpinner(),this.showTextError=!1;let r=this._taDataStore.getInputData(this.operation);if(r=null==r?void 0:r.output,!r)return this.showTextError=!0,void this._spinner.stopSpinner();this.wordEmbedding.input=a.value&&n.value?[a.value,n.value]:a.value?a.value:n.value;let s={data:r,taskConfig:[{operationName:"wordEmbedding",operationParameters:{model:t.value,wordVector:e||100,trainingAlgorithm:parseInt(o.value)||0,method:i.value,input:this.wordEmbedding.input||null,addFeature:this.wordEmbeddingPipelineSettingValue||[],learningRate:this.learningRate}}]};"Glove"==t.value?delete s.taskConfig[0].operationParameters.trainingAlgorithm:delete s.taskConfig[0].operationParameters.learningRate,this._textAnalysis.wordEmbedding(s).pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{var e;"string"==typeof t.data.data&&"word is not in vocab"===t.data.data?(this.showTableOutput=!1,this.showTextOutput=!0,this.output="word is not in vocab"):"similarityscore"==s.taskConfig[0].operationParameters.method?(this.showTextOutput=!0,this.output="The Similarity Score is "+t.data.data.toFixed(2)):(this.showTableOutput=!0,this.output=t.data.data,this.tableHeading=(null===(e=this.output[0])||void 0===e?void 0:e.score)?"Score":"Probability",this.dataSource.data=t.data.data,this.dataSource._updateChangeSubscription()),this._taDataStore.saveOperationOutput({uid:this.operation.uid,operation:"wordEmbedding",output:this.output,taskConfig:s.taskConfig}),this._spinner.stopSpinner(),this._taDataStore.broadcastSubmitEvent("updateInputBar")},t=>{this.showTableOutput=!1,this.showTextOutput=!1,this._spinner.stopSpinner(),this._toaster.error("Server Error","Error performing word embedding")}),this._spinner.stopSpinner()},this.project=this._localStorage.getItem("project"),this.user=this._localStorage.getItem("user"),this.displayedColumns=["word","score"],this.wordEmbeddingTrainingAlgoControl.valueChanges.subscribe(t=>{this.resetControls()}),this.wordEmbeddingFunctionsControl.valueChanges.subscribe(t=>{"similarityscore"!=t&&this.input2FormControl.reset()})}ngOnInit(){this.inputData=this._taDataStore.getInputData(this.operation),this.setData(),this._taDataStore.onSubmitEventSubject.subscribe(t=>{this.inputData=this._taDataStore.getInputData(this.operation)})}setData(){this._taDataStore.getAllOperationData().forEach(t=>{if(t.uid==this.operation.uid&&t.taskConfig.operationParameters){if(t.taskConfig.operationParameters.addFeature.length&&(this.wordEmbeddingPipelineSettingValue=t.taskConfig.operationParameters.addFeature),this.wordEmbeddingModelControl.setValue(t.taskConfig.operationParameters.model),this.wordVectorSliderVal=t.taskConfig.operationParameters.wordVector||100,t.taskConfig.operationParameters.hasOwnProperty("learningRate")&&(this.learningRate=t.taskConfig.operationParameters.learningRate),t.taskConfig.operationParameters.trainingAlgorithm){let e=this.trainingAlgorithmList.filter(e=>{if(t.taskConfig.operationParameters.trainingAlgorithm==e.value)return e});this.wordEmbeddingTrainingAlgoControl.setValue(e[0].value)}this.functions="Glove"===t.taskConfig.operationParameters.method?this.functionsList.filter(t=>"mostsimilarword"===t.value):this.functionsList,this.wordEmbeddingFunctionsControl.setValue(t.taskConfig.operationParameters.method),t.taskConfig.operationParameters.input&&"object"==typeof t.taskConfig.operationParameters.input?(this.input1FormControl.setValue(t.taskConfig.operationParameters.input[0]),this.input2FormControl.setValue(t.taskConfig.operationParameters.input[1])):this.input1FormControl.setValue(t.taskConfig.operationParameters.input)}})}onModelChange(t){this.functions="Glove"===t?this.functionsList.filter(t=>"mostsimilarword"===t.value):this.functionsList}resetControls(){this.wordEmbeddingFunctionsControl.reset(),this.input1FormControl.reset(),this.input2FormControl.reset()}wordVectorSliderLabel(t){return t}mouseOverBin(){this.binColor="warn"}mouseLeaveBin(){this.binColor="basic"}removeOperation(){this._taDataStore.removeOperation(this.operation),this.onRemove.emit(this.operation)}showPipelineSetting(){this._dialog.open(ti,{minWidth:"50vw",data:{list:this.wordEmbeddingPipelineSettingsList,selectedVal:this.wordEmbeddingPipelineSettingValue}}).afterClosed().subscribe(t=>{if(t&&void 0!==this.output){this.wordEmbeddingPipelineSettingValue=t.featureArray;let e=this._taDataStore.getSavedOperationOutput(this.operation.uid);e.taskConfig[0].operationParameters.addFeature=this.wordEmbeddingPipelineSettingValue,this._taDataStore.saveOperationOutput({uid:this.operation.uid,operation:this.operation.operation,output:this.output,taskConfig:e.taskConfig})}else t&&(this.wordEmbeddingPipelineSettingValue=t.featureArray)})}ngOnDestroy(){this.unsubscribe$.next(!1),this.unsubscribe$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(h.c),u.Nb(d.c),u.Nb(p.a),u.Nb(b.a),u.Nb(v),u.Nb(f.a),u.Nb(oi.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-word-embedding"]],inputs:{operation:"operation"},outputs:{onRemove:"onRemove"},decls:43,vars:18,consts:[[3,"expanded"],[2,"color","black",3,"matTooltip"],[1,"fa","fa-trash",2,"margin-left","95%","cursor","pointer","font-size","16px",3,"color","mouseover","mouseleave","click"],[2,"border-left","7px solid green","display","flex"],["inputInfoCard",""],[1,"d-flex","flex-row",2,"margin","auto"],[2,"width","min-content","margin","auto"],[1,"fas","fa-info-circle","fa-2x",2,"color","green"],[2,"width","max-content","margin","auto"],["appearance","fill"],[3,"innerText"],[3,"formControl","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["appearance","fill",4,"ngIf"],[1,"row"],[1,"col-md-6"],["id","taOperationsWordEmbeddingSubmitBtn","mat-raised-button","",3,"disabled","click"],[1,"linkText",3,"click"],[1,"form-group","row"],["class","text-danger offset-2 mt-2",4,"ngIf"],["class","mt-3","style","background-color: #f5f5f5",4,"ngIf"],[3,"value"],["id","informationRetainedSlider","thumbLabel","","min","0","max","500","step","1","value","100","color","primary",3,"displayWith","ngModel","ngModelChange"],["id","learningRate","thumbLabel","","min","0.01","max","0.1","step","0.01","value","0.05","color","primary",3,"displayWith","ngModel","ngModelChange"],[3,"formControl"],["type","text","matInput","","placeholder","write a word",3,"formControl"],[1,"text-danger","offset-2","mt-2"],[1,"mt-3",2,"background-color","#f5f5f5"],["class","mt-2","style","\n        border-top: 1px solid #3c3c3c;\n        margin-top: -10px;\n        padding-top: 10px;\n      ",4,"ngIf"],["class","mt-2",4,"ngIf"],[1,"mt-2",2,"border-top","1px solid #3c3c3c","margin-top","-10px","padding-top","10px"],[1,"mt-2"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","word"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","score"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(u.Tb(0,"mat-expansion-panel",0),u.Tb(1,"mat-expansion-panel-header"),u.Tb(2,"mat-panel-title",1),u.Kc(3),u.Sb(),u.Tb(4,"mat-panel-description"),u.Tb(5,"mat-icon",2),u.ac("mouseover",(function(){return e.mouseOverBin()}))("mouseleave",(function(){return e.mouseLeaveBin()}))("click",(function(){return e.removeOperation()})),u.Sb(),u.Sb(),u.Sb(),u.Tb(6,"mat-card",3,4),u.Tb(8,"mat-card-content"),u.Tb(9,"div",5),u.Tb(10,"div",6),u.Ob(11,"mat-icon",7),u.Sb(),u.Tb(12,"div",8),u.Tb(13,"b"),u.Kc(14),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Ob(15,"br"),u.Tb(16,"mat-form-field",9),u.Ob(17,"mat-label",10),u.Tb(18,"mat-select",11),u.ac("selectionChange",(function(){return e.onModelChange(e.wordEmbeddingModelControl.value)})),u.Ic(19,oa,2,2,"mat-option",12),u.Sb(),u.Ic(20,ia,2,0,"mat-error",13),u.Sb(),u.Ic(21,aa,6,3,"span",13),u.Ob(22,"br"),u.Ic(23,na,6,3,"span",13),u.Ob(24,"br"),u.Ic(25,la,5,4,"mat-form-field",14),u.Ic(26,da,5,4,"mat-form-field",14),u.Tb(27,"div",15),u.Tb(28,"div",16),u.Ic(29,ba,5,2,"mat-form-field",13),u.Sb(),u.Tb(30,"div",16),u.Ic(31,ma,5,2,"mat-form-field",13),u.Sb(),u.Sb(),u.Ob(32,"br"),u.Tb(33,"span"),u.Tb(34,"button",17),u.ac("click",(function(){return e.onSubmit(e.wordEmbeddingModelControl,e.wordVectorSliderVal,e.wordEmbeddingTrainingAlgoControl,e.wordEmbeddingFunctionsControl,e.input1FormControl,e.input2FormControl)})),u.Kc(35," Submit"),u.Sb(),u.Kc(36,"\xa0\xa0"),u.Tb(37,"span",18),u.ac("click",(function(){return e.showPipelineSetting()})),u.Kc(38,"Settings"),u.Sb(),u.Sb(),u.Tb(39,"div",19),u.Ic(40,fa,2,0,"div",20),u.Sb(),u.Ob(41,"br"),u.Ic(42,ka,6,2,"mat-card",21),u.Sb()),2&t&&(u.kc("expanded",e.operation.isPanelExpanded),u.Bb(2),u.kc("matTooltip",e._utils.getTootip("wordEmbedding")),u.Bb(1),u.Mc(" ",e.operation.title," "),u.Bb(2),u.kc("color",e.binColor),u.Bb(9),u.Mc("\xa0\xa0\xa0Data is taken from ",e.inputData?e.inputData.operation:"inputData",""),u.Bb(3),u.kc("innerText",e.wordEmbeddingModelControl.value?"Model":"Select a model"),u.Bb(1),u.kc("formControl",e.wordEmbeddingModelControl),u.Bb(1),u.kc("ngForOf",e.modelsList),u.Bb(1),u.kc("ngIf",e.wordEmbeddingModelControl.touched&&e.wordEmbeddingModelControl.hasError("required")),u.Bb(1),u.kc("ngIf",e.wordEmbeddingModelControl.value),u.Bb(2),u.kc("ngIf","Glove"==e.wordEmbeddingModelControl.value),u.Bb(2),u.kc("ngIf",e.wordEmbeddingModelControl.value&&"Glove"!=e.wordEmbeddingModelControl.value),u.Bb(1),u.kc("ngIf",e.wordEmbeddingModelControl.value),u.Bb(3),u.kc("ngIf",e.wordEmbeddingModelControl.value&&e.wordEmbeddingFunctionsControl.value),u.Bb(2),u.kc("ngIf",e.wordEmbeddingModelControl.value&&"similarityscore"===e.wordEmbeddingFunctionsControl.value),u.Bb(3),u.kc("disabled",e.wordEmbeddingModelControl.hasError("required")&&e.wordEmbeddingTrainingAlgoControl.hasError("required")&&e.wordEmbeddingFunctionsControl.hasError("required")),u.Bb(6),u.kc("ngIf",e.showTextError),u.Bb(2),u.kc("ngIf",e.showTableOutput||e.showTextOutput))},directives:[r.c,r.g,r.h,x.b,r.f,w.a,T.a,T.d,y.c,y.g,ft.a,et.u,et.j,i.s,i.t,C.b,gt.o,y.b,fi.a,et.x,k.b,et.d,T.f,T.m,s.o,s.c,s.i,s.b,s.k,s.n,s.h,s.a,s.j,s.m],pipes:[i.g],styles:["button#taOperationsWordEmbeddingSubmitBtn[_ngcontent-%COMP%]:enabled{margin-top:10px;background-color:#08509d;color:#fff}mat-slider.mat-slider#informationRetainedSlider[_ngcontent-%COMP%], mat-slider.mat-slider#learningRate[_ngcontent-%COMP%]{width:85%}span.linkText[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:pointer}"]}),t})();function Da(t,e){if(1&t&&(u.Tb(0,"mat-option",18),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t.operationKey),u.Bb(1),u.Mc(" ",t.operationName," ")}}function Ia(t,e){1&t&&(u.Tb(0,"mat-error"),u.Kc(1,"Atleast one cleaning method is required."),u.Sb())}function Oa(t,e){if(1&t){const t=u.Ub();u.Tb(0,"span"),u.Kc(1,"Select threshold : "),u.Tb(2,"mat-slider",19),u.ac("ngModelChange",(function(e){return u.wc(t),u.ec().countOfWordsToRemove=e})),u.Sb(),u.Kc(3,"\xa0\xa0"),u.Tb(4,"b"),u.Kc(5),u.Sb(),u.Sb()}if(2&t){const t=u.ec();u.Bb(2),u.kc("displayWith",t.removeWordsSliderLabel)("ngModel",t.countOfWordsToRemove),u.Bb(3),u.Lc(t.countOfWordsToRemove)}}function Ea(t,e){1&t&&(u.Tb(0,"div",20),u.Kc(1," Select dataset and feature or enter the text to generate the output "),u.Sb())}function Ba(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-card",21),u.Tb(1,"mat-card-header",22),u.Tb(2,"mat-card-title-group"),u.Tb(3,"mat-card-title"),u.Kc(4,"Output"),u.Sb(),u.Sb(),u.Tb(5,"div",23),u.Tb(6,"mat-icon",24,25),u.ac("mouseover",(function(){return u.wc(t),u.ec().mouseOverCopy()}))("mouseleave",(function(){return u.wc(t),u.ec().mouseLeaveCopy()}))("click",(function(){return u.wc(t),u.ec().copyOutput()})),u.Sb(),u.Sb(),u.Sb(),u.Tb(8,"mat-card-content",26),u.Tb(9,"p",27),u.Kc(10),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=u.ec();u.Bb(6),u.kc("color",t.copyColor)("matTooltip",t.tooltipText),u.Bb(4),u.Lc(t.output)}}let Na=(()=>{class t{constructor(t,e,o,i,a){this._taDataStore=t,this._toaster=e,this._textAnalysis=o,this._spinner=i,this._utils=a,this.onRemove=new u.o,this.cleaningOperations=[{operationName:"Remove Numbers",operationKey:"removeNum"},{operationName:"Remove hyperlinks",operationKey:"removeHyper"},{operationName:"Remove emoticons/emojis",operationKey:"removeEmoticon"},{operationName:"Remove words",operationKey:"shortWord"},{operationName:"Expand contractions",operationKey:"expandCont"},{operationName:"Remove punctuations",operationKey:"removePunct"},{operationName:"Stemming",operationKey:"stemming"},{operationName:"Lemmatization",operationKey:"lemmatization"},{operationName:"Option To Delete Rows If Empty Ones Are Created After Cleaning",operationKey:"optionToDeleteRow"}],this.unsubscribe$=new l.b,this.testCleaningControl=new et.i("",et.I.required),this.showRemoveWordsSlider=!1,this.showTextError=!1,this.showOutput=!1,this.binColor="basic",this.copyColor="basic",this.tooltipText="Click to copy!",this.cleaningOperationsDbData=[],this.showValidationError=!1,this.countOfWordsToRemove=1,this.copyOutput=function(){let t=document.getElementById("cleaningOutput").innerText,e=document.createElement("textarea");document.body.appendChild(e),e.value=t,e.select(),document.execCommand("copy"),document.body.removeChild(e),this.tooltipText="Copied!"},this.testCleaningControl.valueChanges.subscribe(t=>{this.showRemoveWordsSlider=!!this.testCleaningControl.value.includes("shortWord")})}ngOnInit(){this.inputData=this._taDataStore.getInputData(this.operation),this.setData(),this._taDataStore.onSubmitEventSubject.subscribe(t=>{this.inputData=this._taDataStore.getInputData(this.operation)})}setData(){this._taDataStore.getAllOperationData().forEach(t=>{t.uid==this.operation.uid&&t.taskConfig.operationParameters&&(t.taskConfig.operationParameters.forEach(t=>{"shortWord"==t.operationKey&&(this.showRemoveWordsSlider=!0,this.countOfWordsToRemove=t.threshold),this.cleaningOperationsDbData.push(t.operationKey)}),this.testCleaningControl.setValue(this.cleaningOperationsDbData))})}removeWordsSliderLabel(t){return t}mouseOverBin(){this.binColor="warn"}mouseLeaveBin(){this.binColor="basic"}removeOperation(){this._taDataStore.removeOperation(this.operation),this.onRemove.emit(this.operation)}mouseOverCopy(){this.copyColor="primary"}mouseLeaveCopy(){this.copyColor="basic"}onSubmit(t,e){if(this._spinner.showSpinner(),this.showOutput=!1,null==e)return this.showValidationError=!0,void this._spinner.stopSpinner();if(e<1)return this.showValidationError=!0,void this._spinner.stopSpinner();this.showValidationError=!1;let o=this.cleaningOperations.filter((function(e){return t.value.some((function(t){return e.operationKey===t}))})).map((function(t){return"Remove words"==t.operationName?(t.threshold=Number(e),t):t})),i=this._taDataStore.getInputData(this.operation);if(i=null==i?void 0:i.output,!i)return this.showTextError=!0,void this._spinner.stopSpinner();this.showTextError=!1;var a=[{operationName:"textCleaning",operationParameters:o}];this._textAnalysis.textCleaning(i,a).subscribe(t=>{this.showOutput=!0,this.output=t.data.data,this._taDataStore.saveOperationOutput({uid:this.operation.uid,operation:this.operation.operation,output:this.output,taskConfig:a}),this._spinner.stopSpinner(),this._taDataStore.broadcastSubmitEvent("updateInputBar")},t=>{this.showOutput=!1,this._spinner.stopSpinner(),this._toaster.error("Server Error","Error performing text cleaning")})}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(v),u.Nb(d.c),u.Nb(f.a),u.Nb(b.a),u.Nb(oi.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-text-cleaning"]],inputs:{operation:"operation"},outputs:{onRemove:"onRemove"},decls:29,vars:13,consts:[[3,"expanded"],[2,"color","black",3,"matTooltip"],[1,"fa","fa-trash",2,"margin-left","95%","cursor","pointer","font-size","16px",3,"color","mouseover","mouseleave","click"],[2,"border-left","7px solid green","display","flex"],["inputInfoCard",""],[1,"d-flex","flex-row",2,"margin","auto"],[2,"width","min-content","margin","auto"],[1,"fas","fa-info-circle","fa-2x",2,"color","green"],[2,"width","max-content","margin","auto"],["appearance","fill"],[3,"innerText"],["required","","multiple","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["id","taOperationsTextCleaningSubmitBtn","mat-raised-button","",3,"disabled","click"],[1,"form-group","row"],["class","text-danger offset-2 mt-2",4,"ngIf"],["class","mt-3","style","background-color: #f5f5f5",4,"ngIf"],[3,"value"],["id","removeWordsSlider","thumbLabel","","min","0","max","5","step","1","value","1","color","primary",3,"displayWith","ngModel","ngModelChange"],[1,"text-danger","offset-2","mt-2"],[1,"mt-3",2,"background-color","#f5f5f5"],[2,"border-bottom","1px solid #3c3c3c"],[2,"margin-left","85%"],["matTooltipPosition","above",1,"far","fa-copy",2,"cursor","pointer","font-size","16px",3,"color","matTooltip","mouseover","mouseleave","click"],["tooltip","matTooltip"],[1,"mt-2"],["id","cleaningOutput"]],template:function(t,e){1&t&&(u.Tb(0,"mat-expansion-panel",0),u.Tb(1,"mat-expansion-panel-header"),u.Tb(2,"mat-panel-title",1),u.Kc(3),u.Sb(),u.Tb(4,"mat-panel-description"),u.Tb(5,"mat-icon",2),u.ac("mouseover",(function(){return e.mouseOverBin()}))("mouseleave",(function(){return e.mouseLeaveBin()}))("click",(function(){return e.removeOperation()})),u.Sb(),u.Sb(),u.Sb(),u.Tb(6,"mat-card",3,4),u.Tb(8,"mat-card-content"),u.Tb(9,"div",5),u.Tb(10,"div",6),u.Ob(11,"mat-icon",7),u.Sb(),u.Tb(12,"div",8),u.Tb(13,"b"),u.Kc(14),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Ob(15,"br"),u.Tb(16,"mat-form-field",9),u.Ob(17,"mat-label",10),u.Tb(18,"mat-select",11),u.Ic(19,Da,2,2,"mat-option",12),u.Sb(),u.Ic(20,Ia,2,0,"mat-error",13),u.Sb(),u.Ic(21,Oa,6,3,"span",13),u.Ob(22,"br"),u.Tb(23,"button",14),u.ac("click",(function(){return e.onSubmit(e.testCleaningControl,e.countOfWordsToRemove)})),u.Kc(24," Submit "),u.Sb(),u.Tb(25,"div",15),u.Ic(26,Ea,2,0,"div",16),u.Sb(),u.Ob(27,"br"),u.Ic(28,Ba,11,3,"mat-card",17),u.Sb()),2&t&&(u.kc("expanded",e.operation.isPanelExpanded),u.Bb(2),u.kc("matTooltip",e._utils.getTootip("textCleaning")),u.Bb(1),u.Mc(" ",e.operation.title," "),u.Bb(2),u.kc("color",e.binColor),u.Bb(9),u.Mc("\xa0\xa0\xa0Data is taken from ",e.inputData?e.inputData.operation:"inputData",""),u.Bb(3),u.kc("innerText",e.testCleaningControl.value?"Cleaning Methods":"Choose methods"),u.Bb(1),u.kc("formControl",e.testCleaningControl),u.Bb(1),u.kc("ngForOf",e.cleaningOperations),u.Bb(1),u.kc("ngIf",e.testCleaningControl.touched&&e.testCleaningControl.hasError("required")),u.Bb(1),u.kc("ngIf",e.showRemoveWordsSlider),u.Bb(2),u.kc("disabled",e.testCleaningControl.hasError("required")),u.Bb(3),u.kc("ngIf",e.showTextError),u.Bb(2),u.kc("ngIf",e.showOutput))},directives:[r.c,r.g,r.h,x.b,r.f,w.a,T.a,T.d,y.c,y.g,ft.a,et.F,et.u,et.j,i.s,i.t,C.b,gt.o,y.b,fi.a,et.x,T.f,T.n,T.m],styles:["button#taOperationsTextCleaningSubmitBtn[_ngcontent-%COMP%]:enabled{margin-top:10px;background-color:#08509d;color:#fff}mat-slider.mat-slider#removeWordsSlider[_ngcontent-%COMP%]{width:80%}"]}),t})();function Ma(t,e){if(1&t&&(u.Tb(0,"mat-option",25),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t),u.Bb(1),u.Mc(" ",t.modelName," ")}}function Pa(t,e){1&t&&(u.Tb(0,"mat-error"),u.Kc(1,"Model is required."),u.Sb())}function Aa(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",36),u.Tb(1,"mat-form-field",37),u.Tb(2,"mat-label"),u.Kc(3,"Phrase"),u.Sb(),u.Ob(4,"input",38),u.Sb(),u.Tb(5,"button",39),u.ac("click",(function(){u.wc(t);const o=e.index,i=u.ec().$implicit;return u.ec().deletePhrase(i,o)})),u.Tb(6,"mat-icon"),u.Kc(7,"close"),u.Sb(),u.Sb(),u.Sb()}2&t&&u.kc("formGroupName",e.index)}function Fa(t,e){if(1&t&&(u.Tb(0,"mat-option",25),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t),u.Bb(1),u.Mc(" ",t.attributeName," ")}}function Ka(t,e){1&t&&(u.Tb(0,"mat-form-field",47),u.Tb(1,"mat-label"),u.Kc(2,"Text"),u.Sb(),u.Ob(3,"input",48),u.Sb())}function Ra(t,e){1&t&&(u.Tb(0,"mat-checkbox",49),u.Kc(1,"Select Value"),u.Sb())}function La(t,e){if(1&t&&(u.Tb(0,"mat-option",25),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t.tagsValue),u.Bb(1),u.Mc(" ",t.tagsName," ")}}function ja(t,e){if(1&t&&(u.Tb(0,"mat-form-field",41),u.Ob(1,"mat-label",11),u.Tb(2,"mat-select",49),u.Ic(3,La,2,2,"mat-option",14),u.Sb(),u.Sb()),2&t){const t=u.ec().$implicit,e=u.ec(2);u.Bb(1),u.kc("innerText",t.get("attributeValue").value?"Tags":"Select Tag"),u.Bb(2),u.kc("ngForOf",e.posTagList)}}function Va(t,e){if(1&t&&(u.Tb(0,"mat-option",25),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.kc("value",t),u.Bb(1),u.Mc(" ",t," ")}}function qa(t,e){if(1&t){const t=u.Ub();u.Tb(0,"div",36),u.Ob(1,"br"),u.Tb(2,"mat-expansion-panel",0),u.Tb(3,"mat-expansion-panel-header"),u.Tb(4,"mat-panel-title",40),u.Tb(5,"b"),u.Kc(6,"Token"),u.Sb(),u.Sb(),u.Tb(7,"mat-panel-description"),u.Tb(8,"mat-icon",2),u.ac("mouseover",(function(){return u.wc(t),u.ec(2).tokenBinColor="warn"}))("mouseleave",(function(){return u.wc(t),u.ec(2).tokenBinColor="basic"}))("click",(function(){u.wc(t);const o=e.index,i=u.ec().$implicit;return u.ec().deleteToken(i,o)})),u.Sb(),u.Sb(),u.Sb(),u.Tb(9,"mat-form-field",41),u.Ob(10,"mat-label",11),u.Tb(11,"mat-select",42),u.Ic(12,Fa,2,2,"mat-option",14),u.Sb(),u.Sb(),u.Ic(13,Ka,4,0,"mat-form-field",43),u.Ic(14,Ra,2,0,"mat-checkbox",44),u.Ic(15,ja,4,2,"mat-form-field",45),u.Tb(16,"mat-form-field",41),u.Ob(17,"mat-label",11),u.Tb(18,"mat-select",46),u.Ic(19,Va,2,2,"mat-option",14),u.Sb(),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=e.$implicit,o=e.index,i=u.ec(2);u.kc("formGroupName",o),u.Bb(2),u.kc("expanded",!0),u.Bb(6),u.kc("color",i.tokenBinColor),u.Bb(2),u.kc("innerText",t.get("attributeLabel").value?"Attributes":"Select Attribute"),u.Bb(2),u.kc("ngForOf",i.attributesList),u.Bb(1),u.kc("ngIf","dropdown"!=t.get("attributeLabel").value.attributeType&&"textbox"==t.get("attributeLabel").value.attributeType),u.Bb(1),u.kc("ngIf","textbox"!=t.get("attributeLabel").value.attributeType&&"dropdown"!=t.get("attributeLabel").value.attributeType&&"checkbox"==t.get("attributeLabel").value.attributeType),u.Bb(1),u.kc("ngIf","textbox"!=t.get("attributeLabel").value.attributeType&&"dropdown"==t.get("attributeLabel").value.attributeType),u.Bb(2),u.kc("innerText",t.get("wildCard").value?"WildCard":"Select a wildcard"),u.Bb(2),u.kc("ngForOf",i.wildCard)}}function za(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-card",26),u.Tb(1,"mat-card-header",27),u.Tb(2,"mat-card-title-group"),u.Tb(3,"mat-card-title"),u.Kc(4,"Pattern"),u.Sb(),u.Sb(),u.Tb(5,"div",28),u.Tb(6,"mat-icon",29),u.ac("mouseover",(function(){return u.wc(t),u.ec().patternBinColor="warn"}))("mouseleave",(function(){return u.wc(t),u.ec().patternBinColor="basic"}))("click",(function(){u.wc(t);const o=e.index;return u.ec().deletePattern(o)})),u.Sb(),u.Sb(),u.Sb(),u.Tb(7,"mat-card-content",30),u.Tb(8,"mat-form-field"),u.Tb(9,"mat-label"),u.Kc(10,"Pattern Name"),u.Sb(),u.Ob(11,"input",31),u.Sb(),u.Tb(12,"div",32),u.Ic(13,Aa,8,1,"div",33),u.Sb(),u.Ob(14,"br"),u.Tb(15,"span"),u.Tb(16,"button",34),u.ac("click",(function(){u.wc(t);const o=e.$implicit;return u.ec().addPhrase(o)})),u.Ob(17,"i",19),u.Sb(),u.Kc(18," Add Phrase "),u.Sb(),u.Ob(19,"br"),u.Tb(20,"div",35),u.Ic(21,qa,20,10,"div",33),u.Sb(),u.Ob(22,"br"),u.Tb(23,"span"),u.Tb(24,"button",34),u.ac("click",(function(){u.wc(t);const o=e.$implicit;return u.ec().addToken(o)})),u.Ob(25,"i",19),u.Sb(),u.Kc(26," Add Token "),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=e.$implicit,o=e.index,i=u.ec();u.kc("formGroupName",o),u.Bb(6),u.kc("color",i.patternBinColor),u.Bb(7),u.kc("ngForOf",t.get("phrases").controls),u.Bb(8),u.kc("ngForOf",t.get("tokens").controls)}}function $a(t,e){1&t&&(u.Tb(0,"div",50),u.Kc(1," Select dataset and feature or enter the text to generate the output "),u.Sb())}function Ua(t,e){1&t&&(u.Tb(0,"div",50),u.Kc(1," Add some patterns to perform rule based matching. "),u.Sb())}function Wa(t,e){1&t&&(u.Tb(0,"th",63),u.Kc(1,"Matched By"),u.Sb())}function Ga(t,e){if(1&t&&(u.Tb(0,"td",64),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.Bb(1),u.Lc(t.matchedBy)}}function Ha(t,e){1&t&&(u.Tb(0,"th",63),u.Kc(1,"Pattern Name"),u.Sb())}function Xa(t,e){if(1&t&&(u.Tb(0,"td",64),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.Bb(1),u.Lc(t.matchId)}}function Ya(t,e){1&t&&(u.Tb(0,"th",63),u.Kc(1,"Matched Token/Phrase"),u.Sb())}function Qa(t,e){if(1&t&&(u.Tb(0,"td",64),u.Kc(1),u.Sb()),2&t){const t=e.$implicit;u.Bb(1),u.Lc(t.matchedText)}}function Ja(t,e){1&t&&u.Ob(0,"tr",65)}function Za(t,e){1&t&&u.Ob(0,"tr",66)}function tn(t,e){if(1&t){const t=u.Ub();u.Tb(0,"mat-card",51),u.Tb(1,"mat-card-header"),u.Tb(2,"mat-card-title-group"),u.Tb(3,"mat-card-title"),u.Kc(4,"Output"),u.Sb(),u.Sb(),u.Tb(5,"div",28),u.Tb(6,"mat-icon",52,53),u.ac("mouseover",(function(){return u.wc(t),u.ec().mouseOverGraph()}))("mouseleave",(function(){return u.wc(t),u.ec().mouseLeaveGraph()}))("click",(function(){u.wc(t);const e=u.ec();return e.onSubmit(e.rbmControl,"html")})),u.Sb(),u.Sb(),u.Sb(),u.Tb(8,"mat-card-content",54),u.Tb(9,"table",55),u.Rb(10,56),u.Ic(11,Wa,2,0,"th",57),u.Ic(12,Ga,2,1,"td",58),u.Qb(),u.Rb(13,59),u.Ic(14,Ha,2,0,"th",57),u.Ic(15,Xa,2,1,"td",58),u.Qb(),u.Rb(16,60),u.Ic(17,Ya,2,0,"th",57),u.Ic(18,Qa,2,1,"td",58),u.Qb(),u.Ic(19,Ja,1,0,"tr",61),u.Ic(20,Za,1,0,"tr",62),u.Sb(),u.Sb(),u.Sb()}if(2&t){const t=u.ec();u.Bb(6),u.kc("color",t.graphIconColor),u.Bb(3),u.kc("dataSource",t.dataSource),u.Bb(10),u.kc("matHeaderRowDef",t.displayedColumns),u.Bb(1),u.kc("matRowDefColumns",t.displayedColumns)}}let en=(()=>{class t{constructor(t,e,o,i,a,n,r,d,p){this._dialog=t,this._dashboardService=e,this._toaster=o,this._localStorage=i,this._spinner=a,this._taDataStore=n,this._textAnalysis=r,this.fb=d,this._utils=p,this.onRemove=new u.o,this.dataSource=new s.p,this.displayedColumns=[],this.unsubscribe$=new l.b,this.showOutput=!1,this.showTextError=!1,this.binColor="basic",this.modelsList=[],this.showPatternError=!1,this.uploadModelIssueMsg=!1,this.posTagList=[{tagsName:"Adjective",tagsValue:"ADJ"},{tagsName:"Adposition",tagsValue:"ADP"},{tagsName:"Adverb",tagsValue:"ADV"},{tagsName:"Auxiliary verb",tagsValue:"AUX"},{tagsName:"Coordinating conjunction",tagsValue:"CONJ"},{tagsName:"Determiner",tagsValue:"DET"},{tagsName:"Interjection",tagsValue:"INTJ"},{tagsName:"Noun",tagsValue:"NOUN"},{tagsName:"Numeral",tagsValue:"NUM"},{tagsName:"Particle",tagsValue:"PART"},{tagsName:"Pronoun",tagsValue:"PRON"},{tagsName:"Proper noun",tagsValue:"PROPN"},{tagsName:"Punctuation",tagsValue:"PUNCT"},{tagsName:"Subordinating conjunction",tagsValue:"SCONJ"},{tagsName:"Symbol",tagsValue:"SYM"},{tagsName:"Verb",tagsValue:"VERB"},{tagsName:"Other",tagsValue:"X"}],this.attributesList=[{attributeName:"TEXT",attributeType:"textbox"},{attributeName:"LOWER",attributeType:"textbox"},{attributeName:"IS_ALPHA",attributeType:"checkbox"},{attributeName:"IS_DIGIT",attributeType:"checkbox"},{attributeName:"IS_LOWER",attributeType:"checkbox"},{attributeName:"IS_UPPER",attributeType:"checkbox"},{attributeName:"IS_TITLE",attributeType:"checkbox"},{attributeName:"IS_PUNCT",attributeType:"checkbox"},{attributeName:"IS_SPACE",attributeType:"checkbox"},{attributeName:"IS_STOP",attributeType:"checkbox"},{attributeName:"IS_SENT_START",attributeType:"checkbox"},{attributeName:"LIKE_NUM",attributeType:"checkbox"},{attributeName:"LIKE_URL",attributeType:"checkbox"},{attributeName:"LIKE_EMAIL",attributeType:"checkbox"},{attributeName:"POS",attributeType:"dropdown"},{attributeName:"ENT_TYPE",attributeType:"textbox"}],this.wildCard=["!","?","+","*"],this.phrase=new et.i("",et.I.required),this.rbmPipelineSettingsList=[{pipeSettingName:"Count matches for each pattern",pipeSettingTag:"count"},{pipeSettingName:"Concatenate all the matched words for each patterns",pipeSettingTag:"concat"},{pipeSettingName:"Keep the sentences where a match was found",pipeSettingTag:"reduce"}],this.patternBinColor="basic",this.tokenBinColor="basic",this.graphIconColor="basic",this.gettaModelsList=t=>{let e=!1;this._dashboardService.taModel(t).pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{this.modelsList=t,this.rbmControl.value.rbmModel&&"spacy-en_core_web_sm"!=this.rbmControl.value.rbmModel&&(this.modelsList.forEach(t=>{t.modelName!==this.rbmControl.value.rbmModel&&t.oldModelFileName!==this.rbmControl.value.rbmModel||(this.rbmControl.value.rbmModel.setValue(JSON.stringify(t)),e=!0)}),e||(this.uploadModelIssueMsg=!0)),this._spinner.stopSpinner()},t=>{this._toaster.error("Server Error","Text Analysis"),this._spinner.stopSpinner()})},this.project=this._localStorage.getItem("project"),this.user=this._localStorage.getItem("user"),this.displayedColumns=["matchedBy","matchId","matchedText"]}ngOnInit(){this.rbmControl=this.fb.group({rbmModel:["",[et.I.required]],patternsArray:this.fb.array([])}),this.gettaModelsList("ruleBased"),this.setData(),this.inputData=this._taDataStore.getInputData(this.operation),this._taDataStore.onSubmitEventSubject.subscribe(t=>{this.inputData=this._taDataStore.getInputData(this.operation)})}setData(){this._taDataStore.getAllOperationData().forEach(t=>{t.uid==this.operation.uid&&t.taskConfig.operationParameters&&(t.taskConfig.operationParameters.addFeature.length&&(this.rbmPipelineSettingValue=t.taskConfig.operationParameters.addFeature),this.rbmControl.patchValue({rbmModel:t.taskConfig.operationParameters.model}),t.taskConfig.operationParameters.patterns.forEach(t=>{this.rbmControl.get("patternsArray").push(this.fb.group({name:t.name,phrases:this.fb.array([]),tokens:this.fb.array([])})),this.rbmControl.get("patternsArray").controls.forEach(e=>{e.value.name===t.name&&(t.phrases.forEach(t=>{e.get("phrases").push(this.fb.group({phrase:t}))}),t.tokens.forEach(t=>{let o=this.attributesList.filter(e=>e.attributeName===t.attributeLabel)||"";e.get("tokens").push(this.fb.group({attributeLabel:o,attributeValue:t.attributeValue,wildCard:t.wildCard}))}))})}))})}get patternList(){return this.rbmControl.get("patternsArray")}addPattern(){const t=this.fb.group({name:["",[et.I.required]],phrases:this.fb.array([]),tokens:this.fb.array([])});this.patternList.push(t)}deletePattern(t){this.patternList.removeAt(t)}addPhrase(t){const e=this.fb.group({phrase:""});t.get("phrases").push(e)}deletePhrase(t,e){t.get("phrases").removeAt(e)}addToken(t){const e=this.fb.group({attributeLabel:"",attributeValue:"",wildCard:""});t.get("tokens").push(e)}deleteToken(t,e){t.get("tokens").removeAt(e)}mouseOverBin(t){this.binColor="warn"}mouseLeaveBin(t){this.binColor="basic"}mouseOverGraph(){this.graphIconColor="primary"}mouseLeaveGraph(){this.graphIconColor="basic"}removeOperation(){this._taDataStore.removeOperation(this.operation),this.onRemove.emit(this.operation)}showPipelineSetting(){this._dialog.open(ti,{minWidth:"50vw",maxWidth:"50vw",data:{list:this.rbmPipelineSettingsList,selectedVal:this.rbmPipelineSettingValue}}).afterClosed().subscribe(t=>{if(t&&void 0!==this.output){this.rbmPipelineSettingValue=t.featureArray;let e=this._taDataStore.getSavedOperationOutput(this.operation.uid);e.taskConfig[0].operationParameters.addFeature=this.rbmPipelineSettingValue,this._taDataStore.saveOperationOutput({uid:this.operation.uid,operation:this.operation.operation,output:this.output,taskConfig:e.taskConfig})}else t&&(this.rbmPipelineSettingValue=t.featureArray)})}onSubmit(t,e){var o,i,a;if(!t.value.rbmModel)return void(this.showPatternError=!0);if(!(null===(i=null===(o=null==t?void 0:t.value)||void 0===o?void 0:o.patternsArray[0])||void 0===i?void 0:i.name))return void(this.showPatternError=!0);this.showPatternError=!1;let n=null===(a=null==t?void 0:t.value)||void 0===a?void 0:a.patternsArray.filter(t=>{if(""!=t.name)return t.phrases.length&&(t.phrases=t.phrases.map(t=>t.phrase||t)),t.tokens.length&&(t.tokens=t.tokens.map(t=>({attributeLabel:t.attributeLabel.attributeName||t.attributeLabel,attributeValue:t.attributeValue,wildCard:t.wildCard})),t.tokens.filter(t=>{if((""!=t.attributeLabel||t.attributeLabel.length)&&(""!=t.attributeValue||t.attributeValue.length))return t})),t});if(0==n)return this.showPatternError=!0,void(this.showOutput=!1);let r=null;e?r=e:(this._spinner.showSpinner(),r="table");let s=this._taDataStore.getInputData(this.operation);if(s=null==s?void 0:s.output,!s)return this.showTextError=!0,void this._spinner.stopSpinner();this.showTextError=!1;let l=t.value.rbmModel;"spacy-en_core_web_sm"!=l&&(l=t.value.rbmModel);let u=[{operationName:"ruleBasedMatching",operationParameters:{model:l.modelName||t.value.rbmModel,addFeature:this.rbmPipelineSettingValue||[],modelPath:"./textanalysis/models/"+l.modelName,framework:l.frameWork,patterns:n}}];this._textAnalysis.ruleBasedMatch(s,u,r).pipe(Object(c.a)(this.unsubscribe$)).subscribe(t=>{this.showOutput=!0,"html"==r?this._dialog.open(ht,{width:"60%",data:{data:t.data.data,showGraph:"rbm"}}).afterClosed().subscribe(t=>{}):(this.output=t.data.data,this.dataSource.data=t.data.data,this.dataSource._updateChangeSubscription()),this._taDataStore.saveOperationOutput({uid:this.operation.uid,operation:this.operation.operation,output:this.output,taskConfig:u}),this._spinner.stopSpinner(),this._taDataStore.broadcastSubmitEvent("updateInputBar")},t=>{this.showOutput=!1,this._spinner.stopSpinner(),this._toaster.error("Server Error","Error performing rule based matching")})}}return t.\u0275fac=function(e){return new(e||t)(u.Nb(h.c),u.Nb(ei.a),u.Nb(d.c),u.Nb(p.a),u.Nb(b.a),u.Nb(v),u.Nb(f.a),u.Nb(et.h),u.Nb(oi.a))},t.\u0275cmp=u.Hb({type:t,selectors:[["app-rule-based-matching"]],inputs:{operation:"operation"},outputs:{onRemove:"onRemove"},decls:43,vars:14,consts:[[3,"expanded"],[2,"color","black",3,"matTooltip"],[1,"fa","fa-trash",2,"margin-left","95%","cursor","pointer","font-size","16px",3,"color","mouseover","mouseleave","click"],[2,"border-left","7px solid green","display","flex"],["inputInfoCard",""],[1,"d-flex","flex-row",2,"margin","auto"],[2,"width","min-content","margin","auto"],[1,"fas","fa-info-circle","fa-2x",2,"color","green"],[2,"width","max-content","margin","auto"],[3,"formGroup"],["appearance","fill"],[3,"innerText"],["formControlName","rbmModel"],["value","spacy-en_core_web_sm"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formArrayName","patternsArray"],["class","mt-2","style","background-color: #fefefe",3,"formGroupName",4,"ngFor","ngForOf"],["mat-raised-button","",2,"border-radius","5px","background-color","#08509d","color","white","font-size","16px",3,"click"],[1,"fas","fa-plus","fa-1x","my-float"],["id","taOperationsRbmSubmitBtn","mat-raised-button","",3,"disabled","click"],[1,"linkText",3,"click"],[1,"form-group","row"],["class","text-danger offset-2 mt-2",4,"ngIf"],["class","mt-3","style","background-color: #f5f5f5",4,"ngIf"],[3,"value"],[1,"mt-2",2,"background-color","#fefefe",3,"formGroupName"],[2,"border-bottom","1px solid #3c3c3c"],[2,"margin-left","85%"],[1,"fa","fa-trash",2,"cursor","pointer","font-size","16px",3,"color","mouseover","mouseleave","click"],[1,"mt-2","p-3"],["matInput","","formControlName","name","placeholder","Add a name to pattern"],["formArrayName","phrases"],[3,"formGroupName",4,"ngFor","ngForOf"],["mat-raised-button","",2,"border-radius","5px","background-color","#08509d","color","white","font-size","20px",3,"click"],["formArrayName","tokens"],[3,"formGroupName"],[1,"col-md-9"],["matInput","","formControlName","phrase","placeholder","Enter the phrase to add"],["mat-icon-button","",3,"click"],[2,"color","black"],["appearance","fill",1,"col-md-3"],["formControlName","attributeLabel"],["class","col-md-3",4,"ngIf"],["formControlName","attributeValue",4,"ngIf"],["appearance","fill","class","col-md-3",4,"ngIf"],["formControlName","wildCard"],[1,"col-md-3"],["matInput","","formControlName","attributeValue","placeholder","Enter some text"],["formControlName","attributeValue"],[1,"text-danger","offset-2","mt-2"],[1,"mt-3",2,"background-color","#f5f5f5"],["matTooltip","Matching Visualization","matTooltipPosition","above","matTooltipHideDelay","1000",1,"far","fa-chart-bar",2,"cursor","pointer","font-size","16px",3,"color","mouseover","mouseleave","click"],["tooltip","matTooltip"],[1,"mt-2"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","matchedBy"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","matchId"],["matColumnDef","matchedText"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(u.Tb(0,"mat-expansion-panel",0),u.Tb(1,"mat-expansion-panel-header"),u.Tb(2,"mat-panel-title",1),u.Kc(3),u.Sb(),u.Tb(4,"mat-panel-description"),u.Tb(5,"mat-icon",2),u.ac("mouseover",(function(){return e.mouseOverBin(null)}))("mouseleave",(function(){return e.mouseLeaveBin(null)}))("click",(function(){return e.removeOperation()})),u.Sb(),u.Sb(),u.Sb(),u.Tb(6,"mat-card",3,4),u.Tb(8,"mat-card-content"),u.Tb(9,"div",5),u.Tb(10,"div",6),u.Ob(11,"mat-icon",7),u.Sb(),u.Tb(12,"div",8),u.Tb(13,"b"),u.Kc(14),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Ob(15,"br"),u.Tb(16,"form",9),u.Tb(17,"mat-form-field",10),u.Ob(18,"mat-label",11),u.Tb(19,"mat-select",12),u.Tb(20,"mat-option",13),u.Kc(21,"spacy-en_core_web_sm"),u.Sb(),u.Ic(22,Ma,2,2,"mat-option",14),u.Sb(),u.Ic(23,Pa,2,0,"mat-error",15),u.Sb(),u.Tb(24,"div",16),u.Ic(25,za,27,4,"mat-card",17),u.Sb(),u.Ob(26,"br"),u.Tb(27,"span"),u.Tb(28,"button",18),u.ac("click",(function(){return e.addPattern()})),u.Ob(29,"i",19),u.Sb(),u.Kc(30," Add Pattern "),u.Sb(),u.Sb(),u.Ob(31,"br"),u.Tb(32,"span"),u.Tb(33,"button",20),u.ac("click",(function(){return e.onSubmit(e.rbmControl)})),u.Kc(34," Submit"),u.Sb(),u.Kc(35,"\xa0\xa0"),u.Tb(36,"span",21),u.ac("click",(function(){return e.showPipelineSetting()})),u.Kc(37,"Settings"),u.Sb(),u.Sb(),u.Tb(38,"div",22),u.Ic(39,$a,2,0,"div",23),u.Ic(40,Ua,2,0,"div",23),u.Sb(),u.Ob(41,"br"),u.Ic(42,tn,21,4,"mat-card",24),u.Sb()),2&t&&(u.kc("expanded",e.operation.isPanelExpanded),u.Bb(2),u.kc("matTooltip",e._utils.getTootip("ruleBasedMatching")),u.Bb(1),u.Mc(" ",e.operation.title," "),u.Bb(2),u.kc("color",e.binColor),u.Bb(9),u.Mc("\xa0\xa0\xa0Data is taken from ",e.inputData?e.inputData.operation:"inputData",""),u.Bb(2),u.kc("formGroup",e.rbmControl),u.Bb(2),u.kc("innerText",e.rbmControl.get("rbmModel").value?"Model":"Select a model"),u.Bb(4),u.kc("ngForOf",e.modelsList),u.Bb(1),u.kc("ngIf",e.rbmControl.get("rbmModel").touched&&e.rbmControl.get("rbmModel").hasError("required")),u.Bb(2),u.kc("ngForOf",e.patternList.controls),u.Bb(8),u.kc("disabled",e.rbmControl.invalid),u.Bb(6),u.kc("ngIf",e.showTextError),u.Bb(1),u.kc("ngIf",e.showPatternError),u.Bb(2),u.kc("ngIf",e.showOutput))},directives:[r.c,r.g,r.h,x.b,r.f,w.a,T.a,T.d,et.K,et.v,et.m,y.c,y.g,ft.a,et.u,et.k,gt.o,i.s,i.t,et.g,C.b,y.b,et.n,T.f,T.n,T.m,k.b,et.d,Jo.b,s.o,s.c,s.i,s.b,s.k,s.n,s.h,s.a,s.j,s.m],styles:["button#taOperationsRbmSubmitBtn[_ngcontent-%COMP%]:enabled{margin-top:10px;background-color:#08509d;color:#fff}span.linkText[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:pointer}"]}),t})();var on=o("sYmb"),an=o("S8xs"),nn=o("psEu"),rn=o("s3T5"),sn=o("LYaK"),ln=o("+Cnu"),cn=o("hzby"),un=o("dZIy"),dn=o("K3ix"),pn=o("Lm2G"),bn=o("yyhP"),hn=o("jLjo"),mn=o("44PX"),fn=o("kUHs"),gn=o("Mfq2"),vn=o("EDFS"),Sn=o("qCdp"),Tn=o("NCSQ"),wn=o("SP0p"),Cn=o("wNA8"),xn=o("KI+Z"),yn=o("3M9v"),kn=o("SItC"),_n=o("MgAP"),Dn=o("zQvE"),In=o("x3Qb"),On=o("/1cH"),En=o("vxfF"),Bn=o("cH1L"),Nn=o("jaxi"),Mn=o("A5z7"),Pn=o("iadO"),An=o("zkoq"),Fn=o("ihCf"),Kn=o("MutI"),Rn=o("f0Cb"),Ln=o("STbY"),jn=o("bv9b"),Vn=o("Xa2L"),qn=o("QibW"),zn=o("XhcP"),$n=o("1jcm"),Un=o("dNgK"),Wn=o("wZkO"),Gn=o("/t3+"),Hn=o("xHqg"),Xn=o("8yBR"),Yn=o("WUEe"),Qn=o("biqx"),Jn=o("wKC1"),Zn=o("ia2u"),tr=o("jCJ1"),er=o("hi0L"),or=o("g+ir"),ir=o("mdW0"),ar=o("j0Ka"),nr=o("5uqF");const rr=[{path:"",component:tt},{path:"create-experiment",component:Qo}];let sr=(()=>{class t{}return t.\u0275mod=u.Lb({type:t}),t.\u0275inj=u.Kb({factory:function(e){return new(e||t)},imports:[[i.c,n.a,r.b,T.j,fi.b,h.h,Mo.forRoot({group:"test"}),a.i.forChild(rr)]]}),t})();u.Ac(Go,[i.q,i.r,i.s,i.t,i.A,i.w,i.x,i.y,i.z,i.u,i.v,et.K,et.z,et.J,et.d,et.A,et.D,et.a,et.G,et.H,et.C,et.u,et.v,et.F,et.q,et.p,et.B,et.b,et.e,et.x,et.y,et.w,et.j,et.m,et.k,et.n,et.g,on.a,a.j,a.f,a.h,a.g,a.k,an.a,an.c,nn.a,rn.a,rn.b,rn.c,sn.c,sn.a,ln.a,cn.l,cn.m,cn.o,cn.p,cn.q,cn.a,cn.b,cn.c,cn.d,cn.e,cn.g,cn.h,cn.i,cn.j,cn.k,un.b,un.d,un.a,dn.a,dn.b,pn.a,pn.b,bn.a,bn.b,hn.a,mn.b,mn.e,mn.c,mn.a,fn.a,gn.a,vn.a,Sn.a,Sn.b,d.a,Tn.a,wn.a,Cn.a,xn.a,yn.a,kn.a,_n.a,Dn.a,In.a,On.a,On.d,On.c,En.a,gt.o,gt.n,Bn.b,C.b,C.a,Nn.b,Nn.a,T.a,T.f,T.n,T.d,T.m,T.l,T.b,T.e,T.k,T.i,T.h,T.g,T.o,T.c,Jo.b,Jo.d,Mn.d,Mn.a,Mn.c,Mn.e,Mn.b,Mn.f,s.o,s.i,s.k,s.c,s.b,s.n,s.e,s.g,s.h,s.a,s.d,s.j,s.m,s.f,s.l,s.r,Pn.a,Pn.b,Pn.f,Pn.g,Pn.h,Pn.j,Pn.k,Pn.m,Pn.p,Pn.n,Pn.c,Pn.d,Pn.o,Pn.l,Pn.e,h.f,h.e,h.j,h.g,h.d,r.a,r.c,r.d,r.g,r.h,r.f,r.e,y.b,y.c,y.f,y.g,y.h,y.i,y.j,An.b,An.d,An.g,gt.k,An.f,An.e,An.a,w.a,Fn.b,Fn.c,k.b,k.d,Kn.a,Kn.h,Kn.d,Kn.b,Kn.c,Kn.g,gt.r,Kn.i,Kn.f,Rn.a,Ln.e,Ln.b,Ln.d,Ln.a,D.a,jn.a,Vn.a,Vn.c,qn.c,qn.b,gt.t,ft.a,ft.c,zn.a,zn.b,zn.c,zn.d,zn.e,zn.f,$n.c,$n.a,fi.a,Un.d,_.a,_.b,Wn.c,Wn.d,Wn.a,Wn.f,Wn.e,Wn.b,Gn.a,Gn.c,x.b,x.d,Hn.a,Hn.j,Hn.b,Hn.d,Hn.e,Hn.h,Hn.i,Hn.c,Hn.f,Xn.a,Xn.f,Xn.h,Xn.i,Xn.b,Xn.e,Xn.g,Yn.a,I.a,Qn.a,Jn.a,Zn.a,tr.b,tr.f,No,tt,Qo,yt,Fo,Go,mi,_i,Ki,Qi,ea,_a,Na,en,ht,ti],[i.b,i.G,i.p,i.k,i.E,i.g,i.C,i.F,i.d,i.f,i.i,i.j,i.l,on.d,vt.a,er.a,or.a,ir.a,ar.a,nr.a])},WUEe:function(t,e,o){"use strict";o.d(e,"a",(function(){return p}));var i=o("0IaG"),a=o("AytR"),n=o("fXoL"),r=o("jhN1"),s=o("ofXK"),l=o("bTqV"),c=o("/3uh");function u(t,e){1&t&&n.Ob(0,"app-progress-spinner",4)}function d(t,e){if(1&t&&(n.Tb(0,"div"),n.Ob(1,"iframe",5),n.Sb()),2&t){const t=n.ec();n.Bb(1),n.kc("src",t.safeUrl,n.yc)}}let p=(()=>{class t{constructor(t,e){this.dialogData=t,this._sanitizer=e,this.serverBaseUrl=a.a.serverBaseUrl,this.showSpinner=!0}ngOnInit(){switch(this.showSpinner=!0,this.edaData=this.dialogData.edaReportData,this.dialogData.moduleName){case"data-set":this.safeUrl=this._sanitizer.bypassSecurityTrustResourceUrl(`${this.serverBaseUrl}/api/v2/projects/${this.edaData.projectId}/data/${this.edaData.dataId}/report`),this.showSpinner=!1;break;case"reports":case"eda":this.safeUrl=this._sanitizer.bypassSecurityTrustResourceUrl(`${this.serverBaseUrl}/api/v2/projects/${this.edaData.projectId}/eda/${this.edaData.edaId}/advedainfo?currentEdaId=${this.edaData.currentEdaId}&currentPipelineFilename=${this.edaData.currentPipelineFilename}`),this.showSpinner=!1;break;case"cluster":this.safeUrl=this._sanitizer.bypassSecurityTrustResourceUrl(`${this.serverBaseUrl}/api/projects/${this.edaData.projectId}/clustering/visualize/scatterplot?filename=${this.edaData.fileName}`),this.showSpinner=!1;break;default:this.safeUrl=""}}}return t.\u0275fac=function(e){return new(e||t)(n.Nb(i.a),n.Nb(r.b))},t.\u0275cmp=n.Hb({type:t,selectors:[["app-eda-report"]],decls:6,vars:2,consts:[[2,"max-height","78vh !important"],["class","spinner",4,"ngIf"],[4,"ngIf"],["mat-stroked-button","","mat-dialog-close","",1,"close-btn"],[1,"spinner"],[1,"ps-iframe-loader",3,"src"]],template:function(t,e){1&t&&(n.Tb(0,"mat-dialog-content",0),n.Ic(1,u,1,0,"app-progress-spinner",1),n.Ic(2,d,2,1,"div",2),n.Sb(),n.Tb(3,"mat-dialog-actions"),n.Tb(4,"button",3),n.Kc(5,"Close"),n.Sb(),n.Sb()),2&t&&(n.Bb(1),n.kc("ngIf",e.showSpinner),n.Bb(1),n.kc("ngIf",e.safeUrl))},directives:[i.g,s.t,i.d,l.b,i.e,c.a],styles:['.spinner[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%}iframe[_ngcontent-%COMP%]{width:100%;height:900px}.ps-iframe-loader[_ngcontent-%COMP%]{background:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 100% 100%"><text fill="blue" x="50%" y="50%" font-family="Lucida Grande, sans-serif" font-size="24" text-anchor="middle">This may take some time. Please wait...</text></svg>\') 0 0 no-repeat}.close-btn[_ngcontent-%COMP%]{font-size:16px!important;margin-left:auto!important;border:1px solid #07509d!important;padding:0 20px!important;line-height:34px!important;color:#07509d!important;background-color:unset}[_nghost-%COMP%]     .footer-text>p{display:none!important}']}),t})()},tagK:function(t,e,o){"use strict";o.d(e,"a",(function(){return r}));var i=o("AytR"),a=o("fXoL"),n=o("tk/3");let r=(()=>{class t{constructor(t){this._http=t,this.serverBaseUrl=i.a.serverBaseUrl}experimentList(t){return this._http.get(`${this.serverBaseUrl}/api/v2/projects/${t}/textAnalysis/experiments`)}listFeatureDetails(t,e,o){return this._http.get(`${this.serverBaseUrl}/api/v2/projects/${t}/textAnalysis/feature`,{params:{featureName:e,fileName:o}})}deleteExperiment(t,e){return this._http.delete(`${this.serverBaseUrl}/api/v2/projects/${t}/textAnalysis/experiments`,{params:{experimentId:e}})}taExperiment(t){return this._http.get(`${this.serverBaseUrl}/api/v2/textAnalysis/${t}`)}textCleaning(t,e){return this._http.post(this.serverBaseUrl+"/api/v2/textAnalysis/textCleaning",{data:t,taskConfig:e})}pos(t,e,o){return this._http.post(this.serverBaseUrl+"/api/v2/textAnalysis/pos",{data:t,taskConfig:e,renderType:o})}ner(t,e,o){return this._http.post(this.serverBaseUrl+"/api/v2/textAnalysis/ner",{data:t,taskConfig:e,renderType:o})}sentimentAnalysis(t){return this._http.post(this.serverBaseUrl+"/api/v2/textAnalysis/sentimentAnalysis",{data:t.data,taskConfig:t.taskConfig})}textSummarization(t){return this._http.post(this.serverBaseUrl+"/api/v2/textAnalysis/textSummarization",{data:t.data,taskConfig:t.taskConfig})}wordFrequency(t){return this._http.post(this.serverBaseUrl+"/api/v2/textAnalysis/wordFrequency",{data:t})}wordEmbedding(t){return this._http.post(this.serverBaseUrl+"/api/v2/textAnalysis/wordEmbedding",{data:t.data,taskConfig:t.taskConfig})}ruleBasedMatch(t,e,o){return this._http.post(this.serverBaseUrl+"/api/v2/textAnalysis/ruleBasedMatch",{data:t,taskConfig:e,renderType:o})}saveTextAnalysis(t){return this._http.post(this.serverBaseUrl+"/api/v2/textAnalysis/saveAnalysis",Object.assign({},t))}saveApplyTextAnalysis(t){return this._http.post(this.serverBaseUrl+"/api/v2/textAnalysis/apply/saveAnalysis",Object.assign({},t))}}return t.\u0275fac=function(e){return new(e||t)(a.Xb(n.b))},t.\u0275prov=a.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},wNA8:function(t,e,o){"use strict";o.d(e,"a",(function(){return n}));var i=o("fXoL");const a=o("9PQl");let n=(()=>{class t{constructor(t){this.element=t,this.defaultOptions={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,size:110,rotate:0,animate:{duration:1e3,enabled:!0}},this.percent=this.percent||0,this.options=$.extend({},this.defaultOptions,this.options)}ngOnInit(){a&&(this.pieChart=new a(this.element.nativeElement,this.options),this.pieChart.update(this.percent))}ngOnChanges(t){this.pieChart&&t.percent&&this.pieChart.update(this.percent)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(i.l))},t.\u0275dir=i.Ib({type:t,selectors:[["","easypiechart",""]],inputs:{percent:"percent",options:"options"},features:[i.zb]}),t})()}}]);
//# sourceMappingURL=12-es2015.27d246420a9815c12562.js.map