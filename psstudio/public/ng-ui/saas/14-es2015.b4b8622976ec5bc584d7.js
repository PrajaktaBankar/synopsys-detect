(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"2QPx":function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var i=r("AytR"),a=r("fXoL"),s=r("tk/3");let o=(()=>{class t{constructor(t){this._http=t,this.serverBaseUrl=i.a.serverBaseUrl}generateMultiUniVariatePlot(t,e){return this._http.post(`${this.serverBaseUrl}/api/v2/projects/${t}/report/trainmodel/multiunivariate`,e)}shareReport(t,e){return this._http.post(`${this.serverBaseUrl}/api/v2/projects/${t}/output`,e)}startEda(t,e){return this._http.post(`${this.serverBaseUrl}/api/v2/projects/${t}/eda`,e)}getEdaData(t){return this._http.get(`${this.serverBaseUrl}/api/v2/eda/${t}/info`)}readUploadedData(t,e){return this._http.post(`${this.serverBaseUrl}/api/projects/${t}/data/read`,e)}getUniqueClass(t){return this._http.post(this.serverBaseUrl+"/api/v2/training/feature/unique_categories",t)}getConditionalFilter(t){return this._http.post(this.serverBaseUrl+"/api/v2/conditionalFiltering",t)}getTargetList(t){return this._http.post(this.serverBaseUrl+"/api/v2/eda/targetList",t)}getEdaByFileId(t,e){return this._http.get(`${this.serverBaseUrl}/api/v2/projects/${t}/eda/edaByFile?fileId=${e}`)}dateFormatValidator(t){return this._http.post(this.serverBaseUrl+"/api/v2/eda/dateFormat",t,{responseType:"text"})}multiTimeseriesCheck(t){return this._http.post(this.serverBaseUrl+"/api/v2/eda/multiTimeseries",t,{responseType:"text"})}getresamplingPreview(t){return this._http.post(this.serverBaseUrl+"/api/v2/resamplingPreview",t)}calculateTimeseriesFrequency(t){return this._http.post(this.serverBaseUrl+"/api/v2/multiple/calculateFrequency",t)}getTimeseriesGroup(t){return this._http.post(this.serverBaseUrl+"/api/v2/eda/timeseriesGroupList",t)}}return t.\u0275fac=function(e){return new(e||t)(a.Xb(s.b))},t.\u0275prov=a.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},WUEe:function(t,e,r){"use strict";r.d(e,"a",(function(){return b}));var i=r("0IaG"),a=r("AytR"),s=r("fXoL"),o=r("jhN1"),n=r("ofXK"),c=r("bTqV"),p=r("/3uh");function u(t,e){1&t&&s.Ob(0,"app-progress-spinner",4)}function l(t,e){if(1&t&&(s.Tb(0,"div"),s.Ob(1,"iframe",5),s.Sb()),2&t){const t=s.ec();s.Bb(1),s.kc("src",t.safeUrl,s.yc)}}let b=(()=>{class t{constructor(t,e){this.dialogData=t,this._sanitizer=e,this.serverBaseUrl=a.a.serverBaseUrl,this.showSpinner=!0}ngOnInit(){switch(this.showSpinner=!0,this.edaData=this.dialogData.edaReportData,this.dialogData.moduleName){case"data-set":this.safeUrl=this._sanitizer.bypassSecurityTrustResourceUrl(`${this.serverBaseUrl}/api/v2/projects/${this.edaData.projectId}/data/${this.edaData.dataId}/report`),this.showSpinner=!1;break;case"reports":case"eda":this.safeUrl=this._sanitizer.bypassSecurityTrustResourceUrl(`${this.serverBaseUrl}/api/v2/projects/${this.edaData.projectId}/eda/${this.edaData.edaId}/advedainfo?currentEdaId=${this.edaData.currentEdaId}&currentPipelineFilename=${this.edaData.currentPipelineFilename}`),this.showSpinner=!1;break;case"cluster":this.safeUrl=this._sanitizer.bypassSecurityTrustResourceUrl(`${this.serverBaseUrl}/api/projects/${this.edaData.projectId}/clustering/visualize/scatterplot?filename=${this.edaData.fileName}`),this.showSpinner=!1;break;default:this.safeUrl=""}}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(i.a),s.Nb(o.b))},t.\u0275cmp=s.Hb({type:t,selectors:[["app-eda-report"]],decls:6,vars:2,consts:[[2,"max-height","78vh !important"],["class","spinner",4,"ngIf"],[4,"ngIf"],["mat-stroked-button","","mat-dialog-close","",1,"close-btn"],[1,"spinner"],[1,"ps-iframe-loader",3,"src"]],template:function(t,e){1&t&&(s.Tb(0,"mat-dialog-content",0),s.Ic(1,u,1,0,"app-progress-spinner",1),s.Ic(2,l,2,1,"div",2),s.Sb(),s.Tb(3,"mat-dialog-actions"),s.Tb(4,"button",3),s.Kc(5,"Close"),s.Sb(),s.Sb()),2&t&&(s.Bb(1),s.kc("ngIf",e.showSpinner),s.Bb(1),s.kc("ngIf",e.safeUrl))},directives:[i.g,n.t,i.d,c.b,i.e,p.a],styles:['.spinner[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%}iframe[_ngcontent-%COMP%]{width:100%;height:900px}.ps-iframe-loader[_ngcontent-%COMP%]{background:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 100% 100%"><text fill="blue" x="50%" y="50%" font-family="Lucida Grande, sans-serif" font-size="24" text-anchor="middle">This may take some time. Please wait...</text></svg>\') 0 0 no-repeat}.close-btn[_ngcontent-%COMP%]{font-size:16px!important;margin-left:auto!important;border:1px solid #07509d!important;padding:0 20px!important;line-height:34px!important;color:#07509d!important;background-color:unset}[_nghost-%COMP%]     .footer-text>p{display:none!important}']}),t})()},gJGz:function(t,e,r){"use strict";r.r(e),r.d(e,"OutputModule",(function(){return $t}));var i=r("PCNd"),a=r("+0xr"),s=r("XNiG"),o=r("1G5W"),n=r("WUEe"),c=r("3Pt+"),p=r("fXoL"),u=r("5eHb"),l=r("mLz/"),b=r("/mf7"),d=r("0IaG"),h=r("AytR"),m=r("tk/3");let f=(()=>{class t{constructor(t){this._http=t,this.serverBaseUrl=h.a.serverBaseUrl,this.formData=new FormData}reportOutputList(t){return this._http.get(`${this.serverBaseUrl}/api/v2/projects/${t}/output`)}deleteOutput(t,e){return this._http.delete(`${this.serverBaseUrl}/api/v2/projects/${t}/output/${e}`)}shareEmail(t,e){return this._http.post(`${this.serverBaseUrl}/api/v2/projects/${t}/shareOutput`,e)}getUsersList(t,e){return this._http.post(`${this.serverBaseUrl}/api/v2/projects/${t}/shareOutput/list`,e)}deleteUser(t,e){return this._http.delete(`${this.serverBaseUrl}/api/v2/projects/${t}/shareOutput/${e}`)}}return t.\u0275fac=function(e){return new(e||t)(p.Xb(m.b))},t.\u0275prov=p.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var S=r("x/NU"),g=r("jhN1"),v=r("2QPx"),I=r("Wp6s"),T=r("NFeN"),_=r("ofXK"),w=r("kmnG"),y=r("qFsG"),B=r("Dh3D"),D=r("M9IT"),U=r("/3uh"),k=r("bTqV"),C=r("Qu3c");const R=["reportPaginator"],O=["reportSort"],$=["userPaginator"],x=["userSort"],j=["reportTemplate"];function K(t,e){1&t&&(p.Tb(0,"h4",10),p.Kc(1," You don't have any report shared yet. "),p.Sb())}function N(t,e){1&t&&p.Ob(0,"app-progress-spinner",32)}function E(t,e){1&t&&(p.Tb(0,"th",33),p.Kc(1,"Sr. No."),p.Sb())}function F(t,e){if(1&t&&(p.Tb(0,"td",34),p.Kc(1),p.Sb()),2&t){const t=e.index;p.Bb(1),p.Mc(" ",t+1," ")}}function P(t,e){1&t&&(p.Tb(0,"th",35),p.Kc(1,"Name"),p.Sb())}function M(t,e){if(1&t&&(p.Tb(0,"td",34),p.Kc(1),p.Sb()),2&t){const t=e.$implicit;p.Bb(1),p.Mc(" ",t.outputName," ")}}function A(t,e){1&t&&(p.Tb(0,"th",35),p.Kc(1,"Description"),p.Sb())}function z(t,e){if(1&t&&(p.Tb(0,"td",34),p.Kc(1),p.Sb()),2&t){const t=e.$implicit;p.Bb(1),p.Mc(" ",t.outputDescription," ")}}function L(t,e){1&t&&(p.Tb(0,"th",35),p.Kc(1,"File Name"),p.Sb())}function Q(t,e){if(1&t&&(p.Tb(0,"td",34),p.Kc(1),p.Sb()),2&t){const t=e.$implicit;p.Bb(1),p.Mc(" ",t.filename," ")}}function q(t,e){1&t&&(p.Tb(0,"th",35),p.Kc(1,"Created At"),p.Sb())}function H(t,e){if(1&t&&(p.Tb(0,"td",34),p.Kc(1),p.fc(2,"date"),p.Sb()),2&t){const t=e.$implicit;p.Bb(1),p.Mc(" ",p.hc(2,1,t.createdAt,"medium")," ")}}function G(t,e){1&t&&(p.Tb(0,"th",33),p.Kc(1,"Actions"),p.Sb())}function J(t,e){if(1&t){const t=p.Ub();p.Tb(0,"td",34),p.Tb(1,"div",36),p.Tb(2,"button",37),p.ac("click",(function(){p.wc(t);const r=e.$implicit;return p.ec(2).handleReportPreview(r)})),p.Ob(3,"i",38),p.Sb(),p.Tb(4,"button",39),p.ac("click",(function(){p.wc(t);const r=e.$implicit,i=p.ec(2),a=p.tc(14);return i.openAddUserModal(r,a)})),p.Ob(5,"i",40),p.Sb(),p.Tb(6,"button",41),p.ac("click",(function(){p.wc(t);const r=e.$implicit,i=p.ec(2),a=p.tc(16);return i.manageUser(r,a)})),p.Ob(7,"i",42),p.Sb(),p.Tb(8,"button",43),p.ac("click",(function(){p.wc(t);const r=e.$implicit;return p.ec(2).deleteHandler(r,"file")})),p.Ob(9,"i",44),p.Sb(),p.Sb(),p.Sb()}}function X(t,e){1&t&&p.Ob(0,"tr",45)}function W(t,e){1&t&&p.Ob(0,"tr",46)}function V(t,e){if(1&t&&(p.Tb(0,"td",49),p.Kc(1),p.Sb()),2&t){p.ec(2);const t=p.tc(6);p.Bb(1),p.Mc(' No data matching the filter "',t.value,'" ')}}function Y(t,e){1&t&&(p.Tb(0,"td",49),p.Kc(1,"No data available in table"),p.Sb())}function Z(t,e){if(1&t&&(p.Tb(0,"tr",47),p.Ic(1,V,2,1,"td",48),p.Ic(2,Y,2,0,"td",48),p.Sb()),2&t){p.ec();const t=p.tc(6);p.Bb(1),p.kc("ngIf",""!=t.value),p.Bb(1),p.kc("ngIf",""==t.value)}}function tt(t,e){if(1&t){const t=p.Ub();p.Tb(0,"mat-card",11),p.Tb(1,"mat-card-content"),p.Tb(2,"mat-form-field",12),p.Tb(3,"mat-label"),p.Kc(4,"Search"),p.Sb(),p.Tb(5,"input",13,14),p.ac("keyup",(function(e){return p.wc(t),p.ec().applyFilter(e)})),p.Sb(),p.Sb(),p.Ic(7,N,1,0,"app-progress-spinner",15),p.Tb(8,"table",16,17),p.Rb(10,18),p.Ic(11,E,2,0,"th",19),p.Ic(12,F,2,1,"td",20),p.Qb(),p.Rb(13,21),p.Ic(14,P,2,0,"th",22),p.Ic(15,M,2,1,"td",20),p.Qb(),p.Rb(16,23),p.Ic(17,A,2,0,"th",22),p.Ic(18,z,2,1,"td",20),p.Qb(),p.Rb(19,24),p.Ic(20,L,2,0,"th",22),p.Ic(21,Q,2,1,"td",20),p.Qb(),p.Rb(22,25),p.Ic(23,q,2,0,"th",22),p.Ic(24,H,3,4,"td",20),p.Qb(),p.Rb(25,26),p.Ic(26,G,2,0,"th",19),p.Ic(27,J,10,0,"td",20),p.Qb(),p.Ic(28,X,1,0,"tr",27),p.Ic(29,W,1,0,"tr",28),p.Ic(30,Z,3,2,"tr",29),p.Sb(),p.Ob(31,"mat-paginator",30,31),p.Sb(),p.Sb()}if(2&t){const t=p.ec();p.Bb(7),p.kc("ngIf",t.showSpinner),p.Bb(1),p.kc("dataSource",t.dataSource),p.Bb(20),p.kc("matHeaderRowDef",t.displayedColumns),p.Bb(1),p.kc("matRowDefColumns",t.displayedColumns),p.Bb(2),p.kc("pageSizeOptions",t.pageSizeOptions)}}function et(t,e){if(1&t&&(p.Tb(0,"div",56),p.Ob(1,"img",57),p.Sb()),2&t){const t=p.ec(2);p.Bb(1),p.kc("src",t.reportImage,p.zc)}}function rt(t,e){if(1&t&&(p.Tb(0,"div",56),p.Ob(1,"iframe",58),p.Sb()),2&t){const t=p.ec(2);p.Bb(1),p.kc("src",t.imageData,p.yc)}}function it(t,e){if(1&t&&(p.Tb(0,"th",35),p.Kc(1),p.Sb()),2&t){const t=p.ec().$implicit;p.Bb(1),p.Lc(t)}}function at(t,e){if(1&t&&(p.Tb(0,"td",34),p.Kc(1),p.Sb()),2&t){const t=e.$implicit,r=p.ec().$implicit;p.Bb(1),p.Lc(t[r])}}function st(t,e){1&t&&(p.Rb(0,63),p.Ic(1,it,2,1,"th",22),p.Ic(2,at,2,1,"td",20),p.Qb()),2&t&&p.kc("matColumnDef",e.$implicit)}function ot(t,e){1&t&&p.Ob(0,"tr",45)}function nt(t,e){1&t&&p.Ob(0,"tr",46)}function ct(t,e){if(1&t&&(p.Tb(0,"td",49),p.Kc(1),p.Sb()),2&t){p.ec(2);const t=p.tc(5);p.Bb(1),p.Mc(' No data matching the filter "',t.value,'" ')}}function pt(t,e){1&t&&(p.Tb(0,"td",49),p.Kc(1," No data available in table "),p.Sb())}function ut(t,e){if(1&t&&(p.Tb(0,"tr",47),p.Ic(1,ct,2,1,"td",48),p.Ic(2,pt,2,0,"td",48),p.Sb()),2&t){p.ec();const t=p.tc(5);p.Bb(1),p.kc("ngIf",""!=t.value),p.Bb(1),p.kc("ngIf",""==t.value)}}function lt(t,e){if(1&t){const t=p.Ub();p.Tb(0,"div"),p.Tb(1,"mat-form-field",12),p.Tb(2,"mat-label"),p.Kc(3,"Search"),p.Sb(),p.Tb(4,"input",59,14),p.ac("keyup",(function(e){return p.wc(t),p.ec(2).applyFilter(e)})),p.Sb(),p.Sb(),p.Tb(6,"div",60),p.Tb(7,"table",61),p.Ic(8,st,3,1,"ng-container",62),p.Ic(9,ot,1,0,"tr",27),p.Ic(10,nt,1,0,"tr",28),p.Ic(11,ut,3,2,"tr",29),p.Sb(),p.Sb(),p.Sb()}if(2&t){const t=p.ec(2);p.Bb(7),p.kc("dataSource",t.fileDataSource),p.Bb(1),p.kc("ngForOf",t.fileColumnsToDisplay),p.Bb(1),p.kc("matHeaderRowDef",t.fileColumnsToDisplay),p.Bb(1),p.kc("matRowDefColumns",t.fileColumnsToDisplay)}}function bt(t,e){if(1&t&&(p.Tb(0,"h2",50),p.Kc(1),p.fc(2,"titlecase"),p.Sb(),p.Tb(3,"mat-dialog-content",51),p.Tb(4,"h3"),p.Kc(5),p.fc(6,"titlecase"),p.Sb(),p.Tb(7,"h3"),p.Kc(8),p.Sb(),p.Tb(9,"h2"),p.Kc(10,"Report"),p.Sb(),p.Ic(11,et,2,1,"div",52),p.Ic(12,rt,2,1,"div",52),p.Ic(13,lt,12,4,"div",53),p.Sb(),p.Tb(14,"mat-dialog-actions",54),p.Tb(15,"button",55),p.Kc(16,"Close"),p.Sb(),p.Sb()),2&t){const t=p.ec();p.Bb(1),p.Mc(" ",p.gc(2,6,t.selectedReportData.outputName)," "),p.Bb(4),p.Mc("Name : ",p.gc(6,8,t.selectedReportData.outputName),""),p.Bb(3),p.Mc("Description : ",t.selectedReportData.outputDescription,""),p.Bb(3),p.kc("ngIf","jpg"===t.outputExt||"png"===t.outputExt||"tiff"===t.outputExt),p.Bb(1),p.kc("ngIf","pdf"===t.outputExt),p.Bb(1),p.kc("ngIf","csv"===t.outputExt||"xls"===t.outputExt||"xlsx"===t.outputExt)}}function dt(t,e){1&t&&(p.Tb(0,"mat-error"),p.Kc(1,"Email id is required."),p.Sb())}function ht(t,e){1&t&&(p.Tb(0,"mat-error"),p.Kc(1,"Invalid email id."),p.Sb())}function mt(t,e){if(1&t){const t=p.Ub();p.Tb(0,"h2",50),p.Kc(1,"Share with"),p.Sb(),p.Tb(2,"mat-dialog-content",51),p.Tb(3,"mat-form-field",64),p.Tb(4,"mat-label",65),p.Kc(5,"Enter email id"),p.Sb(),p.Ob(6,"input",66),p.Ic(7,dt,2,0,"mat-error",53),p.Ic(8,ht,2,0,"mat-error",53),p.Sb(),p.Sb(),p.Tb(9,"mat-dialog-actions",54),p.Tb(10,"button",55),p.Kc(11,"Close"),p.Sb(),p.Tb(12,"button",67),p.ac("click",(function(){p.wc(t);const e=p.ec();return e.onSubmitUser(e.addUserControl.value)})),p.Kc(13," Share "),p.Sb(),p.Sb()}if(2&t){const t=p.ec();p.Bb(6),p.kc("formControl",t.addUserControl),p.Bb(1),p.kc("ngIf",t.addUserControl.hasError("required")&&(t.addUserControl.dirty||t.addUserControl.touched)),p.Bb(1),p.kc("ngIf",t.addUserControl.hasError("email")),p.Bb(4),p.kc("disabled",t.addUserControl.invalid)}}function ft(t,e){1&t&&p.Ob(0,"app-progress-spinner",32)}function St(t,e){1&t&&(p.Tb(0,"th",33),p.Kc(1,"Sr. No."),p.Sb())}function gt(t,e){if(1&t&&(p.Tb(0,"td",34),p.Kc(1),p.Sb()),2&t){const t=e.index;p.Bb(1),p.Mc(" ",t+1," ")}}function vt(t,e){1&t&&(p.Tb(0,"th",35),p.Kc(1,"User Id"),p.Sb())}function It(t,e){if(1&t&&(p.Tb(0,"td",34),p.Kc(1),p.Sb()),2&t){const t=e.$implicit;p.Bb(1),p.Mc(" ",t.sharedTo.email," ")}}function Tt(t,e){1&t&&(p.Tb(0,"th",33),p.Kc(1,"Actions"),p.Sb())}function _t(t,e){if(1&t){const t=p.Ub();p.Tb(0,"td",34),p.Tb(1,"div",36),p.Tb(2,"button",43),p.ac("click",(function(){p.wc(t);const r=e.$implicit;return p.ec(2).deleteHandler(r,"user")})),p.Ob(3,"i",44),p.Sb(),p.Sb(),p.Sb()}}function wt(t,e){1&t&&p.Ob(0,"tr",45)}function yt(t,e){1&t&&p.Ob(0,"tr",46)}function Bt(t,e){if(1&t&&(p.Tb(0,"td",49),p.Kc(1),p.Sb()),2&t){p.ec(2);const t=p.tc(7);p.Bb(1),p.Mc(' No data matching the filter "',t.value,'" ')}}function Dt(t,e){1&t&&(p.Tb(0,"td",49),p.Kc(1,"No data available in table"),p.Sb())}function Ut(t,e){if(1&t&&(p.Tb(0,"tr",47),p.Ic(1,Bt,2,1,"td",48),p.Ic(2,Dt,2,0,"td",48),p.Sb()),2&t){p.ec();const t=p.tc(7);p.Bb(1),p.kc("ngIf",""!=t.value),p.Bb(1),p.kc("ngIf",""==t.value)}}function kt(t,e){if(1&t){const t=p.Ub();p.Tb(0,"h2",50),p.Kc(1,"Manage Access"),p.Sb(),p.Tb(2,"mat-dialog-content",51),p.Tb(3,"mat-form-field",12),p.Tb(4,"mat-label"),p.Kc(5,"Search"),p.Sb(),p.Tb(6,"input",59,14),p.ac("keyup",(function(e){return p.wc(t),p.ec().applyFilter(e)})),p.Sb(),p.Sb(),p.Ic(8,ft,1,0,"app-progress-spinner",15),p.Tb(9,"table",68),p.Rb(10,18),p.Ic(11,St,2,0,"th",19),p.Ic(12,gt,2,1,"td",20),p.Qb(),p.Rb(13,69),p.Ic(14,vt,2,0,"th",22),p.Ic(15,It,2,1,"td",20),p.Qb(),p.Rb(16,26),p.Ic(17,Tt,2,0,"th",19),p.Ic(18,_t,4,0,"td",20),p.Qb(),p.Ic(19,wt,1,0,"tr",27),p.Ic(20,yt,1,0,"tr",28),p.Ic(21,Ut,3,2,"tr",29),p.Sb(),p.Sb(),p.Tb(22,"mat-dialog-actions",54),p.Tb(23,"button",70),p.Kc(24,"Close"),p.Sb(),p.Sb()}if(2&t){const t=p.ec();p.Bb(8),p.kc("ngIf",t.showSpinner),p.Bb(1),p.kc("dataSource",t.userDataSource),p.Bb(10),p.kc("matHeaderRowDef",t.userColumns),p.Bb(1),p.kc("matRowDefColumns",t.userColumns)}}const Ct=r("GUC0");let Rt=(()=>{class t{constructor(t,e,r,i,o,n,p,u){this._toaster=t,this._localStorage=e,this._spinner=r,this._dialog=i,this._output=o,this._report=n,this._sanitizer=p,this._eda=u,this.dataSource=new a.p,this.userDataSource=new a.p,this.pageSizeOptions=[3,5,10,15,20],this.pageSizeOptionsFile=[100,150,250,500],this.displayedColumns=[],this.fileColumnsToDisplay=[],this.userColumns=[],this.unsubscribe$=new s.b,this.addUserControl=new c.i("",[c.I.required,c.I.email]),this.showSpinner=!1,this.project=this._localStorage.getItem("project"),this.user=this._localStorage.getItem("user"),this.displayedColumns=["srNo","name","desc","fileName","createdAt","actions"],this.userColumns=["srNo","userId","actions"]}set paginator(t){this.dataSource.paginator=t}set sort(t){this.dataSource.sort=t}ngOnInit(){this._spinner.showSpinner(),this.getReportsList()}getReportsList(){this._output.reportOutputList(this.project._id).pipe(Object(o.a)(this.unsubscribe$)).subscribe(t=>{this._spinner.stopSpinner(),t?(this.outputsArray=t,this.dataSource.data=t,this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort):this._toaster.error("Cannot fetch outputs list","Reports")},t=>{this._spinner.stopSpinner(),this._toaster.error("Server Error","Reports")})}openReportModal(){this._dialog.open(this.template,{minWidth:"50vw"}).afterOpened().subscribe(t=>{this._spinner.stopSpinner()})}handleReportPreview(t){this._spinner.showSpinner();let e=t.filename;this.outputExt=e.substring(e.lastIndexOf(".")+1),"EDA"===t.outputType?this._eda.getEdaData(t.edaId).pipe(Object(o.a)(this.unsubscribe$)).subscribe(e=>{let r=e;t.currentEdaId=r._id,t.currentPipelineFilename=r.tasks[0].currentPipelineFilename,this.openEdaReport(t)},t=>{this._spinner.stopSpinner(),this._toaster.error("Server Error","EDA")}):"pdf"===this.outputExt||"png"===this.outputExt||"jpg"===this.outputExt||"tiff"===this.outputExt?this.openPreview(t):"csv"!==this.outputExt&&"xls"!==this.outputExt&&"xlsx"!==this.outputExt||this.openFilePreview(t)}openEdaReport(t){this._dialog.open(n.a,{data:{moduleName:"reports",edaReportData:t}}).afterOpened().subscribe(t=>{this._spinner.stopSpinner()})}openPreview(t){this.showSpinner=!0,this.getImageBase(t),this.selectedReportData=t,this.openReportModal()}openFilePreview(t){this.showSpinner=!0,this.selectedReportData=t,this.openReportModal(),this._report.getFilePreview({isDataTypeRequired:!0,projectId:t.projectId,filename:t.filename,createdBy:t.createdBy},t.projectId,t._id).subscribe(t=>{t?(this.showSpinner=!1,Object.keys(t.preview[0]).forEach(t=>{this.fileColumnsToDisplay.push(t)}),this.fileDataSource=new a.p(t.preview),this._spinner.stopSpinner()):(this.showSpinner=!1,this._toaster.error("Cannot fetch the file preview details","Report"),this._spinner.stopSpinner())},t=>{this.showSpinner=!1,this._spinner.stopSpinner(),this._toaster.error("Server Error","Report")})}getImageBase(t){this._report.getImageEncode({projectId:t.projectId,filename:t.filename,createdBy:t.createdBy},t.projectId).subscribe(t=>{let e,r;switch(this.outputExt){case"pdf":e="data:application/pdf;base64,"+t.data,r=this._sanitizer.bypassSecurityTrustResourceUrl(e),this.imageData=r;break;case"png":e="data:image/png;base64,"+t.data,r=this._sanitizer.bypassSecurityTrustResourceUrl(e),this.reportImage=r;break;case"jpg":e="data:image/jpg;base64,"+t.data,r=this._sanitizer.bypassSecurityTrustResourceUrl(e),this.reportImage=r;break;case"tiff":e="data:image/tiff;base64,"+t.data,r=this._sanitizer.bypassSecurityTrustResourceUrl(e),this.reportImage=r}this.showSpinner=!1},t=>{this.showSpinner=!1,this._toaster.error("Server Error","Report")})}deleteHandler(t,e){Ct({title:"Are you sure?",text:"You will not be able to recover this file!",icon:"warning",buttons:{cancel:{text:"Cancel",value:null,visible:!0,className:""},confirm:{text:"Yes, delete it!",value:!0,visible:!0,className:"bg-danger"}}}).then(r=>{r&&(this.showSpinner=!0,"file"===e?this.deleteFile(t):this.deleteUser(t))})}deleteFile(t){this._output.deleteOutput(this.project._id,t._id).subscribe(e=>{e?(this.outputsArray=this.outputsArray.filter(e=>e._id!==t._id),this.dataSource.data=this.outputsArray,this.dataSource._updateChangeSubscription(),this._toaster.success(t.fileName+" deleted successfully","Reports")):this._toaster.error("Cannot delete the output","Reports"),this.showSpinner=!1},t=>{this.showSpinner=!1,this._toaster.error("Server Error","Reports")})}deleteUser(t){this._output.deleteUser(this.project._id,t._id).subscribe(e=>{e?(this.userArray=this.userArray.filter(e=>e._id!==t._id),this.userDataSource.data=this.userArray,this.userDataSource._updateChangeSubscription(),this._toaster.success(t.sharedTo.email+" removed successfully","Reports")):this._toaster.error("Cannot removed the user.","Reports"),this.showSpinner=!1},t=>{this.showSpinner=!1,this._toaster.error("Server Error","Reports")})}onSubmitUser(t){this._output.shareEmail(this.project._id,{_id:this.project._id,testId:this.selectedOutput._id,email:t}).pipe(Object(o.a)(this.unsubscribe$)).subscribe(t=>{this.addUserControl.reset(),this._toaster.success("Sharing user added successfully","Reports")},t=>{console.log(t),this._spinner.stopSpinner(),this._toaster.error(t.error.message,"Reports")})}openAddUserModal(t,e){this.selectedOutput=t,this.dialogRef=this._dialog.open(e,{minWidth:"50vw"})}manageUser(t,e){this._output.getUsersList(this.project._id,{_id:this.project._id,outputId:t._id}).pipe(Object(o.a)(this.unsubscribe$)).subscribe(t=>{t?(this.dialogRef=this._dialog.open(e,{height:"auto",width:"50%"}),this.userArray=t,this.userDataSource.data=t,this.userDataSource._updateChangeSubscription(),this.userDataSource.paginator=this.userPaginator,this.userDataSource.sort=this.userSort):this._toaster.error("Cannot fetch users list","Reports")},t=>{this._toaster.error(t.error.message,"Reports")})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}ngOnDestroy(){this.unsubscribe$.next(!1),this.unsubscribe$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(p.Nb(u.c),p.Nb(l.a),p.Nb(b.a),p.Nb(d.c),p.Nb(f),p.Nb(S.a),p.Nb(g.b),p.Nb(v.a))},t.\u0275cmp=p.Hb({type:t,selectors:[["app-output"]],viewQuery:function(t,e){var r;1&t&&(p.Oc(R,!0),p.Oc(O,!0),p.Oc($,!0),p.Oc(x,!0),p.Dc(j,!0)),2&t&&(p.sc(r=p.bc())&&(e.paginator=r.first),p.sc(r=p.bc())&&(e.sort=r.first),p.sc(r=p.bc())&&(e.userPaginator=r.first),p.sc(r=p.bc())&&(e.userSort=r.first),p.sc(r=p.bc())&&(e.template=r.first))},decls:17,vars:2,consts:[[1,"fluid-container"],[1,"heading"],["mat-card-avatar",""],[1,"folder-icon"],[1,"heading-title"],["class","text-center mt-5 font-weight-normal",4,"ngIf"],["class","reports-listing mt-5 p-4",4,"ngIf"],["reportTemplate",""],["addUserTemplate",""],["manageAccessTemplate",""],[1,"text-center","mt-5","font-weight-normal"],[1,"reports-listing","mt-5","p-4"],[1,"search-input"],["matInput","",3,"keyup"],["input",""],["class","spinner",4,"ngIf"],["mat-table","","matSort","","matSortActive","createdAt","matSortDirection","desc","matSortDisableClear","",1,"mt-2",3,"dataSource"],["reportSort","matSort"],["matColumnDef","srNo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","desc"],["matColumnDef","fileName"],["matColumnDef","createdAt"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[1,"mt-2",3,"pageSizeOptions"],["reportPaginator",""],[1,"spinner"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],[1,"action-buttons","d-flex"],["mat-icon-button","",3,"click"],[1,"fa","fa-eye"],["mat-icon-button","","matTooltip","Share with user",3,"click"],[1,"fa","fa-user-plus"],["mat-icon-button","","matTooltip","Manage user access",3,"click"],[1,"fa","fa-users"],["mat-icon-button","",1,"delete-button",3,"click"],[1,"fa","fa-trash"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"],["mat-dialog-title",""],[1,"mat-typography"],["class","text-center",4,"ngIf"],[4,"ngIf"],[1,"justify-content-end","m-auto"],["mat-stroked-button","","mat-dialog-close",""],[1,"text-center"],["width","90%",1,"imgbor",3,"src"],[1,"iframe",3,"src"],["matInput","","placeholder","Search",3,"keyup"],[1,"mat-elevation-z8",2,"box-shadow","none"],["mat-table","","matSort","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],[3,"matColumnDef"],["appearance","outline"],["for","configName"],["matInput","","type","email","name","email","id","configName","placeholder","Enter email id","autocomplete","","required","",3,"formControl"],["mat-flat-button","","type","submit","mat-dialog-close","",1,"btn-primary",3,"disabled","click"],["mat-table","","matSort","","matSortActive","createdAt","matSortDirection","desc","matSortDisableClear","",3,"dataSource"],["matColumnDef","userId"],["mat-stroked-button","","mat-dialog-close","",1,"mt-4"]],template:function(t,e){1&t&&(p.Tb(0,"div",0),p.Tb(1,"mat-card",1),p.Tb(2,"mat-card-header"),p.Tb(3,"div",2),p.Tb(4,"mat-icon",3),p.Kc(5,"content_paste"),p.Sb(),p.Sb(),p.Tb(6,"mat-card-title"),p.Tb(7,"h3",4),p.Kc(8,"Reports"),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Ic(9,K,2,0,"h4",5),p.Ic(10,tt,33,5,"mat-card",6),p.Sb(),p.Ic(11,bt,17,10,"ng-template",null,7,p.Jc),p.Ic(13,mt,14,4,"ng-template",null,8,p.Jc),p.Ic(15,kt,25,4,"ng-template",null,9,p.Jc)),2&t&&(p.Bb(9),p.kc("ngIf",!e.dataSource.data.length),p.Bb(1),p.kc("ngIf",e.dataSource.data.length))},directives:[I.a,I.f,I.c,T.a,I.m,_.t,I.d,w.c,w.g,y.b,a.o,B.a,a.c,a.i,a.b,a.k,a.n,a.l,D.a,U.a,a.h,a.a,B.b,k.b,C.b,a.j,a.m,d.j,d.g,d.d,d.e,_.s,c.d,c.F,c.u,c.j,w.b],pipes:[_.f,_.F],styles:[".iframe[_ngcontent-%COMP%]{height:700px;width:-webkit-fill-available}"]}),t})();var Ot=r("tyNb");let $t=(()=>{class t{}return t.\u0275mod=p.Lb({type:t}),t.\u0275inj=p.Kb({factory:function(e){return new(e||t)},imports:[[_.c,i.a,Ot.i.forChild([{path:"",component:Rt}])]]}),t})()}}]);
//# sourceMappingURL=14-es2015.b4b8622976ec5bc584d7.js.map