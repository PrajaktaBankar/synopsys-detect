"use strict";var ApplicationConfiguration={applicationModuleName:"mean",applicationModuleVendorDependencies:["ngResource","ngAnimate","ngMessages","ui.router","ui.bootstrap","ui.utils","angularFileUpload","ngRoute","ngStorage","ngTouch","ngCookies","pascalprecht.translate","oc.lazyLoad","cfp.loadingBar","ngSanitize","tmh.dynamicLocale","angularjs-gauge"],registerModule:function(moduleName,dependencies){angular.module(moduleName,dependencies||[]),angular.module("mean").requires.push(moduleName)}};
"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}angular.module(ApplicationConfiguration.applicationModuleName,ApplicationConfiguration.applicationModuleVendorDependencies),angular.module(ApplicationConfiguration.applicationModuleName).config(["$locationProvider","$httpProvider",function($locationProvider,$httpProvider){$locationProvider.html5Mode(!0).hashPrefix("!"),$httpProvider.interceptors.push("authInterceptor")}]),angular.module(ApplicationConfiguration.applicationModuleName).run(["$rootScope","$state","Authentication",function($rootScope,$state,Authentication){function storePreviousState(state,params){state.data&&state.data.ignoreState||($state.previous={state:state,params:params,href:$state.href(state,params)})}$rootScope.$on("$stateChangeStart",function(event,toState,toParams,fromState,fromParams){var allowed;toState.data&&toState.data.roles&&0<toState.data.roles.length&&(allowed=!1,toState.data.roles.forEach(function(role){if(void 0!==Authentication.user.roles&&-1!==Authentication.user.roles.indexOf(role))return allowed=!0}),allowed||(event.preventDefault(),void 0!==Authentication.user&&"object"===_typeof(Authentication.user)?$state.go("forbidden"):$state.go("authentication.signin").then(function(){storePreviousState(toState,toParams)})))}),$rootScope.$on("$stateChangeSuccess",function(event,toState,toParams,fromState,fromParams){storePreviousState(fromState,fromParams)})}]),angular.element(document).ready(function(){var scroll;window.location.hash&&"#_=_"===window.location.hash&&(window.history&&history.pushState?window.history.pushState("",document.title,window.location.pathname):(scroll={top:document.body.scrollTop,left:document.body.scrollLeft},window.location.hash="",document.body.scrollTop=scroll.top,document.body.scrollLeft=scroll.left)),angular.bootstrap(document,[ApplicationConfiguration.applicationModuleName])});
"use strict";ApplicationConfiguration.registerModule("articles");
"use strict";ApplicationConfiguration.registerModule("app.blog",["app.routes"]);
"use strict";ApplicationConfiguration.registerModule("app.bootstrapui");
"use strict";ApplicationConfiguration.registerModule("app.charts",["app.routes"]);
"use strict";ApplicationConfiguration.registerModule("chat");
"use strict";ApplicationConfiguration.registerModule("app.colors");
"use strict";ApplicationConfiguration.registerModule("app.datas");
"use strict";ApplicationConfiguration.registerModule("app.dashboard");
"use strict";ApplicationConfiguration.registerModule("core",["app.routes","app.sidebar","app.loadingbar","app.utils"]),ApplicationConfiguration.registerModule("core.admin",["core"]),ApplicationConfiguration.registerModule("core.admin.routes",["ui.router"]);
"use strict";ApplicationConfiguration.registerModule("app.datadrift");
"use strict";ApplicationConfiguration.registerModule("app.dataset");
"use strict";ApplicationConfiguration.registerModule("app.eda");
"use strict";ApplicationConfiguration.registerModule("app.elements");
"use strict";ApplicationConfiguration.registerModule("app.extras");
"use strict";ApplicationConfiguration.registerModule("app.featurerepository");
"use strict";ApplicationConfiguration.registerModule("app.flatdoc");
"use strict";ApplicationConfiguration.registerModule("app.forms");
"use strict";ApplicationConfiguration.registerModule("app.help",["app.routes"]);
"use strict";ApplicationConfiguration.registerModule("app.icons");
"use strict";ApplicationConfiguration.registerModule("app.landing");
"use strict";ApplicationConfiguration.registerModule("app.lazyload");
"use strict";ApplicationConfiguration.registerModule("app.loadingbar");
"use strict";ApplicationConfiguration.registerModule("app.locale");
"use strict";ApplicationConfiguration.registerModule("app.mailbox");
"use strict";ApplicationConfiguration.registerModule("app.maps");
"use strict";ApplicationConfiguration.registerModule("app.models",["nvd3","ui.grid","ui.grid.pagination","ui.grid.resizeColumns"]);
"use strict";ApplicationConfiguration.registerModule("app.navsearch");
"use strict";ApplicationConfiguration.registerModule("app.notebook");
"use strict";ApplicationConfiguration.registerModule("app.notify");
"use strict";ApplicationConfiguration.registerModule("app.output");
"use strict";ApplicationConfiguration.registerModule("page");
"use strict";ApplicationConfiguration.registerModule("app.panels");
"use strict";ApplicationConfiguration.registerModule("app.preloader");
"use strict";ApplicationConfiguration.registerModule("app.projects",["ui.bootstrap"]);
"use strict";ApplicationConfiguration.registerModule("app.routes",["app.lazyload"]);
"use strict";ApplicationConfiguration.registerModule("app.settings",["daterangepicker"]);
"use strict";ApplicationConfiguration.registerModule("app.sidebar");
"use strict";ApplicationConfiguration.registerModule("app.tables");
"use strict";ApplicationConfiguration.registerModule("app.textanalysis");
"use strict";ApplicationConfiguration.registerModule("app.toolkit");
"use strict";ApplicationConfiguration.registerModule("app.training");
"use strict";ApplicationConfiguration.registerModule("app.translate");
"use strict";ApplicationConfiguration.registerModule("app.udd",["app.routes"]);
"use strict";ApplicationConfiguration.registerModule("app.usecase",["ui.bootstrap"]);
"use strict";ApplicationConfiguration.registerModule("app.usermanagement",["app.routes"]);
"use strict";ApplicationConfiguration.registerModule("app.reports");
"use strict";ApplicationConfiguration.registerModule("users",["core"]),ApplicationConfiguration.registerModule("users.admin",["core.admin"]),ApplicationConfiguration.registerModule("users.admin.routes",["core.admin.routes"]);
"use strict";ApplicationConfiguration.registerModule("app.utils",["app.colors"]);
"use strict";ApplicationConfiguration.registerModule("app.widgets");
"use strict";angular.module("articles").run(["Menus",function(Menus){Menus.addMenuItem("topbar",{title:"Articles",state:"articles",type:"dropdown",roles:["*"]}),Menus.addSubMenuItem("topbar","articles",{title:"List Articles",state:"articles.list"}),Menus.addSubMenuItem("topbar","articles",{title:"Create Articles",state:"articles.create",roles:["report_user"]})}]);
"use strict";angular.module("articles").config(["$stateProvider",function($stateProvider){$stateProvider.state("articles",{abstract:!0,url:"/articles",template:"<ui-view/>"}).state("articles.list",{url:"",templateUrl:"modules/articles/client/views/list-articles.client.view.html"}).state("articles.create",{url:"/create",templateUrl:"modules/articles/client/views/create-article.client.view.html",data:{roles:["report_user","admin","developer","super_admin"]}}).state("articles.view",{url:"/:articleId",templateUrl:"modules/articles/client/views/view-article.client.view.html"}).state("articles.edit",{url:"/:articleId/edit",templateUrl:"modules/articles/client/views/edit-article.client.view.html",data:{roles:["report_user","admin","developer","super_admin"]}})}]);
"use strict";angular.module("articles").controller("ArticlesController",["$scope","$stateParams","$location","Authentication","Articles",function($scope,$stateParams,$location,Authentication,Articles){$scope.authentication=Authentication,$scope.create=function(isValid){if($scope.error=null,!isValid)return $scope.$broadcast("show-errors-check-validity","articleForm"),!1;new Articles({title:this.title,content:this.content}).$save(function(response){$location.path("articles/"+response._id),$scope.title="",$scope.content=""},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.remove=function(article){if(article)for(var i in article.$remove(),$scope.articles)$scope.articles[i]===article&&$scope.articles.splice(i,1);else $scope.article.$remove(function(){$location.path("articles")})},$scope.update=function(isValid){if($scope.error=null,!isValid)return $scope.$broadcast("show-errors-check-validity","articleForm"),!1;var article=$scope.article;article.$update(function(){$location.path("articles/"+article._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.articles=Articles.query()},$scope.findOne=function(){$scope.article=Articles.get({articleId:$stateParams.articleId})}}]);
"use strict";angular.module("articles").factory("Articles",["$resource",function($resource){return $resource("api/articles/:articleId",{articleId:"@_id"},{update:{method:"PUT"}})}]);
"use strict";
"use strict";!function(){function appRoutes($stateProvider,helper){$stateProvider.state("app.blog",{url:"/blog/list",title:"Blog",templateUrl:"modules/blog/client/views/blog.client.view.html",resolve:helper.resolveFor("angular-jqcloud")}).state("app.blog-post",{url:"/blog/post",title:"Post",templateUrl:"modules/blog/client/views/blog-post.client.view.html",resolve:helper.resolveFor("angular-jqcloud")}).state("app.articles",{url:"/blog/articles",title:"Articles",templateUrl:"modules/blog/client/views/blog-articles.client.view.html",resolve:helper.resolveFor("datatables")}).state("app.article-view",{url:"/blog/article/:id",title:"Article View",templateUrl:"modules/blog/client/views/blog-article-view.client.view.html",resolve:helper.resolveFor("ui.select","summernote")})}angular.module("app.blog").config(appRoutes),appRoutes.$inject=["$stateProvider","RouteHelpersProvider"]}();
"use strict";angular.module("app.blog").controller("ArticleController",function(){var vm=this;vm.htmlContent="Article content...",vm.postDemo={},vm.postDemo.tags=["coding","less"],vm.availableTags=["coding","less","sass","angularjs","node","expressJS"],vm.postDemo.categories=["JAVASCRIPT","WEB"],vm.availableCategories=["JAVASCRIPT","WEB","BOOTSTRAP","SERVER","HTML5","CSS"],vm.reviewers=[{name:"Adam",email:"adam@email.com",age:10},{name:"Amalie",email:"amalie@email.com",age:12},{name:"Wladimir",email:"wladimir@email.com",age:30},{name:"Samantha",email:"samantha@email.com",age:31},{name:"Estefanía",email:"estefanía@email.com",age:16},{name:"Natasha",email:"natasha@email.com",age:54},{name:"Nicole",email:"nicole@email.com",age:43},{name:"Adrian",email:"adrian@email.com",age:21}],vm.alerts=[{type:"info",msg:'There is an autosaved version of this article that is more recent than the version below. <a href="#" class="text-white">Restore</a>'}],vm.closeAlert=function(index){vm.alerts.splice(index,1)}});
"use strict";angular.module("app.blog").controller("WordCloudController",function(){var vm=this;vm.words=[{text:"Lorem",weight:13},{text:"Ipsum",weight:10.5},{text:"Dolor",weight:9.4},{text:"Sit",weight:8},{text:"Amet",weight:6.2},{text:"Consectetur",weight:5},{text:"Adipiscing",weight:5},{text:"Sit",weight:8},{text:"Amet",weight:6.2},{text:"Consectetur",weight:5},{text:"Adipiscing",weight:5}]});
"use strict";!function(){function bootstrapuiConfig($uibTooltipProvider){$uibTooltipProvider.options({appendToBody:!0})}angular.module("app.bootstrapui").config(bootstrapuiConfig),bootstrapuiConfig.$inject=["$uibTooltipProvider"]}();
"use strict";angular.module("app.bootstrapui").controller("AlertDemoCtrl",function(){var vm=this;vm.alerts=[{type:"danger",msg:"Oh snap! Change a few things up and try submitting again."},{type:"warning",msg:"Well done! You successfully read this important alert message."}],vm.addAlert=function(){vm.alerts.push({msg:"Another alert!"})},vm.closeAlert=function(index){vm.alerts.splice(index,1)}});
"use strict";angular.module("app.bootstrapui").controller("ButtonsCtrl",function(){var vm=this;vm.singleModel=1,vm.radioModel="Middle",vm.checkModel={left:!1,middle:!0,right:!1}});
"use strict";angular.module("app.bootstrapui").controller("CarouselDemoCtrl",function(){var vm=this;vm.myInterval=5e3,vm.slides=[],vm.addSlide=function(id){id=id||8,vm.slides.push({id:id,image:"app/img/bg"+id+".jpg",text:["More","Extra","Lots of","Surplus"][vm.slides.length%2]+" "+["Cats","Kittys","Felines","Cutes"][vm.slides.length%2]})},vm.addSlide(4),vm.addSlide(7),vm.addSlide(8)});
"use strict";angular.module("app.bootstrapui").controller("DatepickerDemoCtrl",function(){var vm=this;vm.today=function(){vm.dt=new Date},vm.today(),vm.clear=function(){vm.dt=null},vm.disabled=function(date,mode){return"day"===mode&&(0===date.getDay()||6===date.getDay())},vm.toggleMin=function(){vm.minDate=vm.minDate?null:new Date},vm.toggleMin(),vm.open=function($event){$event.preventDefault(),$event.stopPropagation(),vm.opened=!0},vm.dateOptions={formatYear:"yy",startingDay:1},vm.initDate=new Date("2019-10-20"),vm.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],vm.format=vm.formats[0]});
"use strict";!function(){function ModalController($uibModal){function ModalInstanceCtrl($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close("closed")},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}}this.open=function(modalInstance){var modalInstance=$uibModal.open({templateUrl:"/myModalContent.html",controller:ModalInstanceCtrl,size:modalInstance}),state=$("#modal-state");modalInstance.result.then(function(){state.text("Modal dismissed with OK status")},function(){state.text("Modal dismissed with Cancel status")})},ModalInstanceCtrl.$inject=["$scope","$uibModalInstance"]}angular.module("app.bootstrapui").controller("ModalController",ModalController),ModalController.$inject=["$uibModal"]}();
"use strict";angular.module("app.bootstrapui").controller("PaginationDemoCtrl",function(){var vm=this;vm.totalItems=64,vm.currentPage=4,vm.setPage=function(pageNo){vm.currentPage=pageNo},vm.pageChanged=function(){console.log("Page changed to: "+vm.currentPage)},vm.maxSize=5,vm.bigTotalItems=175,vm.bigCurrentPage=1});
"use strict";angular.module("app.bootstrapui").controller("PopoverDemoCtrl",function(){var vm=this;vm.dynamicPopover="Hello, World!",vm.dynamicPopoverTitle="Title"});
"use strict";angular.module("app.bootstrapui").controller("ProgressDemoCtrl",function(){var vm=this;vm.max=200,vm.random=function(){var value=Math.floor(100*Math.random()+1),type=value<25?"success":value<50?"info":value<75?"warning":"danger";vm.showWarning="danger"===type||"warning"===type,vm.dynamic=value,vm.type=type},vm.random(),vm.randomStacked=function(){vm.stacked=[];for(var types=["success","info","warning","danger"],i=0,n=Math.floor(4*Math.random()+1);i<n;i++){var index=Math.floor(4*Math.random());vm.stacked.push({value:Math.floor(30*Math.random()+1),type:types[index]})}},vm.randomStacked()});
"use strict";angular.module("app.bootstrapui").controller("RatingDemoCtrl",function(){var vm=this;vm.rate=7,vm.max=10,vm.isReadonly=!1,vm.hoveringOver=function(value){vm.overStar=value,vm.percent=value/vm.max*100},vm.ratingStates=[{stateOn:"fa fa-check",stateOff:"fa fa-check-circle"},{stateOn:"fa fa-star",stateOff:"fa fa-star-o"},{stateOn:"fa fa-heart",stateOff:"fa fa-ban"},{stateOn:"fa fa-heart"},{stateOff:"fa fa-power-off"}]});
"use strict";angular.module("app.bootstrapui").controller("TimepickerDemoCtrl",function(){var vm=this;vm.mytime=new Date,vm.hstep=1,vm.mstep=15,vm.options={hstep:[1,2,3],mstep:[1,5,10,15,25,30]},vm.ismeridian=!0,vm.toggleMode=function(){vm.ismeridian=!vm.ismeridian},vm.update=function(){var d=new Date;d.setHours(14),d.setMinutes(0),vm.mytime=d},vm.changed=function(){console.log("Time changed to: "+vm.mytime)},vm.clear=function(){vm.mytime=null}});
"use strict";angular.module("app.bootstrapui").controller("TooltipDemoCtrl",function(){var vm=this;vm.dynamicTooltip="Hello, World!",vm.dynamicTooltipText="dynamic",vm.htmlTooltip="I've been made <b>bold</b>!",vm.autoplace=function(context,source){var pos="top";return function(el){var top=el.offsetTop;for(;el.offsetParent;)el=el.offsetParent,top+=el.offsetTop;return top-40-window.pageYOffset}(source)<0&&(pos="bottom"),function(el){var left=el.offsetLeft,width=el.offsetWidth;for(;el.offsetParent;)el=el.offsetParent,left+=el.offsetLeft;return left-width-window.pageXOffset}(source)<0&&(pos="right"),pos}});
"use strict";!function(){function TypeaheadCtrl($http){var vm=this;vm.selected=void 0,vm.states=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Dakota","North Carolina","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],vm.getLocation=function(val){return $http.get("//maps.googleapis.com/maps/api/geocode/json",{params:{address:val,sensor:!1}}).then(function(res){var addresses=[];return angular.forEach(res.data.results,function(item){addresses.push(item.formatted_address)}),addresses})},vm.statesWithFlags=[{name:"Alabama",flag:"5/5c/Flag_of_Alabama.svg/45px-Flag_of_Alabama.svg.png"},{name:"Alaska",flag:"e/e6/Flag_of_Alaska.svg/43px-Flag_of_Alaska.svg.png"},{name:"Arizona",flag:"9/9d/Flag_of_Arizona.svg/45px-Flag_of_Arizona.svg.png"},{name:"Arkansas",flag:"9/9d/Flag_of_Arkansas.svg/45px-Flag_of_Arkansas.svg.png"},{name:"California",flag:"0/01/Flag_of_California.svg/45px-Flag_of_California.svg.png"},{name:"Colorado",flag:"4/46/Flag_of_Colorado.svg/45px-Flag_of_Colorado.svg.png"},{name:"Connecticut",flag:"9/96/Flag_of_Connecticut.svg/39px-Flag_of_Connecticut.svg.png"},{name:"Delaware",flag:"c/c6/Flag_of_Delaware.svg/45px-Flag_of_Delaware.svg.png"},{name:"Florida",flag:"f/f7/Flag_of_Florida.svg/45px-Flag_of_Florida.svg.png"},{name:"Georgia",flag:"5/54/Flag_of_Georgia_%28U.S._state%29.svg/46px-Flag_of_Georgia_%28U.S._state%29.svg.png"},{name:"Hawaii",flag:"e/ef/Flag_of_Hawaii.svg/46px-Flag_of_Hawaii.svg.png"},{name:"Idaho",flag:"a/a4/Flag_of_Idaho.svg/38px-Flag_of_Idaho.svg.png"},{name:"Illinois",flag:"0/01/Flag_of_Illinois.svg/46px-Flag_of_Illinois.svg.png"},{name:"Indiana",flag:"a/ac/Flag_of_Indiana.svg/45px-Flag_of_Indiana.svg.png"},{name:"Iowa",flag:"a/aa/Flag_of_Iowa.svg/44px-Flag_of_Iowa.svg.png"},{name:"Kansas",flag:"d/da/Flag_of_Kansas.svg/46px-Flag_of_Kansas.svg.png"},{name:"Kentucky",flag:"8/8d/Flag_of_Kentucky.svg/46px-Flag_of_Kentucky.svg.png"},{name:"Louisiana",flag:"e/e0/Flag_of_Louisiana.svg/46px-Flag_of_Louisiana.svg.png"},{name:"Maine",flag:"3/35/Flag_of_Maine.svg/45px-Flag_of_Maine.svg.png"},{name:"Maryland",flag:"a/a0/Flag_of_Maryland.svg/45px-Flag_of_Maryland.svg.png"},{name:"Massachusetts",flag:"f/f2/Flag_of_Massachusetts.svg/46px-Flag_of_Massachusetts.svg.png"},{name:"Michigan",flag:"b/b5/Flag_of_Michigan.svg/45px-Flag_of_Michigan.svg.png"},{name:"Minnesota",flag:"b/b9/Flag_of_Minnesota.svg/46px-Flag_of_Minnesota.svg.png"},{name:"Mississippi",flag:"4/42/Flag_of_Mississippi.svg/45px-Flag_of_Mississippi.svg.png"},{name:"Missouri",flag:"5/5a/Flag_of_Missouri.svg/46px-Flag_of_Missouri.svg.png"},{name:"Montana",flag:"c/cb/Flag_of_Montana.svg/45px-Flag_of_Montana.svg.png"},{name:"Nebraska",flag:"4/4d/Flag_of_Nebraska.svg/46px-Flag_of_Nebraska.svg.png"},{name:"Nevada",flag:"f/f1/Flag_of_Nevada.svg/45px-Flag_of_Nevada.svg.png"},{name:"New Hampshire",flag:"2/28/Flag_of_New_Hampshire.svg/45px-Flag_of_New_Hampshire.svg.png"},{name:"New Jersey",flag:"9/92/Flag_of_New_Jersey.svg/45px-Flag_of_New_Jersey.svg.png"},{name:"New Mexico",flag:"c/c3/Flag_of_New_Mexico.svg/45px-Flag_of_New_Mexico.svg.png"},{name:"New York",flag:"1/1a/Flag_of_New_York.svg/46px-Flag_of_New_York.svg.png"},{name:"North Carolina",flag:"b/bb/Flag_of_North_Carolina.svg/45px-Flag_of_North_Carolina.svg.png"},{name:"North Dakota",flag:"e/ee/Flag_of_North_Dakota.svg/38px-Flag_of_North_Dakota.svg.png"},{name:"Ohio",flag:"4/4c/Flag_of_Ohio.svg/46px-Flag_of_Ohio.svg.png"},{name:"Oklahoma",flag:"6/6e/Flag_of_Oklahoma.svg/45px-Flag_of_Oklahoma.svg.png"},{name:"Oregon",flag:"b/b9/Flag_of_Oregon.svg/46px-Flag_of_Oregon.svg.png"},{name:"Pennsylvania",flag:"f/f7/Flag_of_Pennsylvania.svg/45px-Flag_of_Pennsylvania.svg.png"},{name:"Rhode Island",flag:"f/f3/Flag_of_Rhode_Island.svg/32px-Flag_of_Rhode_Island.svg.png"},{name:"South Carolina",flag:"6/69/Flag_of_South_Carolina.svg/45px-Flag_of_South_Carolina.svg.png"},{name:"South Dakota",flag:"1/1a/Flag_of_South_Dakota.svg/46px-Flag_of_South_Dakota.svg.png"},{name:"Tennessee",flag:"9/9e/Flag_of_Tennessee.svg/46px-Flag_of_Tennessee.svg.png"},{name:"Texas",flag:"f/f7/Flag_of_Texas.svg/45px-Flag_of_Texas.svg.png"},{name:"Utah",flag:"f/f6/Flag_of_Utah.svg/45px-Flag_of_Utah.svg.png"},{name:"Vermont",flag:"4/49/Flag_of_Vermont.svg/46px-Flag_of_Vermont.svg.png"},{name:"Virginia",flag:"4/47/Flag_of_Virginia.svg/44px-Flag_of_Virginia.svg.png"},{name:"Washington",flag:"5/54/Flag_of_Washington.svg/46px-Flag_of_Washington.svg.png"},{name:"West Virginia",flag:"2/22/Flag_of_West_Virginia.svg/46px-Flag_of_West_Virginia.svg.png"},{name:"Wisconsin",flag:"2/22/Flag_of_Wisconsin.svg/45px-Flag_of_Wisconsin.svg.png"},{name:"Wyoming",flag:"b/bc/Flag_of_Wyoming.svg/43px-Flag_of_Wyoming.svg.png"}]}angular.module("app.bootstrapui").controller("TypeaheadCtrl",TypeaheadCtrl),TypeaheadCtrl.$inject=["$http"]}();
"use strict";
"use strict";!function(){function appRoutes($stateProvider,helper){$stateProvider.state("app.chart-flot",{url:"/chart/flot",title:"Chart Flot",templateUrl:"modules/charts/client/views/chart-flot.client.view.html",resolve:helper.resolveFor("flot-chart","flot-chart-plugins")}).state("app.chart-radial",{url:"/chart/radial",title:"Chart Radial",templateUrl:"modules/charts/client/views/chart-radial.client.view.html",resolve:helper.resolveFor("ui.knob","easypiechart")}).state("app.chart-js",{url:"/chart/chartjs",title:"Chart JS",templateUrl:"modules/charts/client/views/chart-js.client.view.html",resolve:helper.resolveFor("chart.js")}).state("app.chart-rickshaw",{url:"/chart/rickshaw",title:"Chart Rickshaw",templateUrl:"modules/charts/client/views/chart-rickshaw.client.view.html",resolve:helper.resolveFor("angular-rickshaw")}).state("app.chart-morris",{url:"/chart/morris",title:"Chart Morris",templateUrl:"modules/charts/client/views/chart-morris.client.view.html",resolve:helper.resolveFor("morris")}).state("app.chart-chartist",{url:"/chart/chartist",title:"Chart Chartist",templateUrl:"modules/charts/client/views/chart-chartist.client.view.html",resolve:helper.resolveFor("angular-chartist")})}angular.module("app.charts").config(appRoutes),appRoutes.$inject=["$stateProvider","RouteHelpersProvider"]}();
"use strict";angular.module("app.charts").controller("ChartistController",function(){var vm=this;!function(){vm.lineData={labels:["Monday","Tuesday","Wednesday","Thursday","Friday"],series:[[12,9,7,8,5],[2,1,3.5,7,3],[1,3,4,5,6]]},vm.lineOptions={fullWidth:!0,height:220,chartPadding:{right:40}},vm.barBipolarOptions={high:10,low:-10,height:220,axisX:{labelInterpolationFnc:function(value,index){return index%2==0?value:null}}},vm.barBipolarData={labels:["W1","W2","W3","W4","W5","W6","W7","W8","W9","W10"],series:[[1,2,4,8,6,-2,-1,-4,-6,-2]]},vm.barHorizontalData={labels:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],series:[[5,4,3,7,5,10,3],[3,2,9,5,4,6,4]]},vm.barHorizontalOptions={seriesBarDistance:10,reverseData:!0,horizontalBars:!0,height:220,axisY:{offset:70}};var seq=0;vm.smilData={labels:["1","2","3","4","5","6","7","8","9","10","11","12"],series:[[12,9,7,8,5,4,6,2,3,3,4,6],[4,5,3,7,3,5,5,3,4,4,5,5],[5,3,4,5,6,3,3,4,5,6,3,4],[3,4,5,6,7,6,4,5,6,7,6,3]]},vm.smilOptions={low:0,height:260},vm.smilEvents={created:function(){seq=0},draw:function(data){seq++,"line"===data.type?data.element.animate({opacity:{begin:80*seq+1e3,dur:500,from:0,to:1}}):"label"===data.type&&"x"===data.axis?data.element.animate({y:{begin:80*seq,dur:500,from:data.y+100,to:data.y,easing:"easeOutQuart"}}):"label"===data.type&&"y"===data.axis?data.element.animate({x:{begin:80*seq,dur:500,from:data.x-100,to:data.x,easing:"easeOutQuart"}}):"point"===data.type&&data.element.animate({x1:{begin:80*seq,dur:500,from:data.x-10,to:data.x,easing:"easeOutQuart"},x2:{begin:80*seq,dur:500,from:data.x-10,to:data.x,easing:"easeOutQuart"},opacity:{begin:80*seq,dur:500,from:0,to:1,easing:"easeOutQuart"}})}},vm.pathData={labels:["Mon","Tue","Wed","Thu","Fri","Sat"],series:[[1,5,2,5,4,3],[2,3,4,8,1,2],[5,4,3,2,1,.5]]},vm.pathOptions={low:0,showArea:!0,showPoint:!1,fullWidth:!0,height:260},vm.pathEvents={draw:function(data){"line"!==data.type&&"area"!==data.type||data.element.animate({d:{begin:2e3*data.index,dur:2e3,from:data.path.clone().scale(1,0).translate(0,data.chartRect.height()).stringify(),to:data.path.clone().stringify(),easing:Chartist.Svg.Easing.easeOutQuint}})}}}()});
"use strict";!function(){function ChartJSController(Colors){var vm=this;vm.lineLabels=["January","February","March","April","May","June","July"],vm.lineSeries=["Series A","Series B"],vm.lineData=[[65,59,80,81,56,55,40],[28,48,40,19,86,27,90]],vm.lineOnClick=function(points,evt){console.log(points,evt)},vm.lineDatasetOverride=[{yAxisID:"y-axis-1"},{yAxisID:"y-axis-2"}],vm.lineOptions={scales:{yAxes:[{id:"y-axis-1",type:"linear",display:!0,position:"left"},{id:"y-axis-2",type:"linear",display:!0,position:"right"}]}},vm.lineColors=[Colors.byName("info"),Colors.byName("purple")],vm.barLabels=["2006","2007","2008","2009","2010","2011","2012"],vm.barSeries=["Series A","Series B"],vm.barData=[[65,59,80,81,56,55,40],[28,48,40,19,86,27,90]],vm.barColors=[{backgroundColor:Colors.byName("primary"),borderColor:Colors.byName("primary")},{backgroundColor:Colors.byName("info"),borderColor:Colors.byName("info")}],vm.polarLabels=["Download Sales","In-Store Sales","Mail-Order Sales","Tele Sales"],vm.polarData=[300,500,100,40],vm.polarColors=[Colors.byName("pink"),Colors.byName("purple"),Colors.byName("pink"),Colors.byName("purple")],vm.radarLabels=["Eating","Drinking","Sleeping","Designing","Coding","Cycling","Running"],vm.radarData=[[65,59,90,81,56,55,40],[28,48,40,19,96,27,100]],vm.radarColors=[Colors.byName("purple"),Colors.byName("info")],vm.pieLabels=["Download Sales","In-Store Sales","Mail-Order Sales"],vm.pieData=[300,500,100],vm.pieColors=[Colors.byName("info"),Colors.byName("purple"),Colors.byName("yellow")],vm.douLabels=["Download Sales","In-Store Sales","Mail-Order Sales"],vm.douData=[300,500,100],vm.douColors=[Colors.byName("info"),Colors.byName("purple"),Colors.byName("yellow")]}angular.module("app.charts").controller("ChartJSController",ChartJSController),ChartJSController.$inject=["Colors"]}();
"use strict";!function(){function FlotChartController($scope,ChartData,$timeout){var vm=this;!function(){vm.barData=ChartData.load("server/chart/bar.json"),vm.barOptions={series:{bars:{align:"center",lineWidth:0,show:!0,barWidth:.6,fill:.9}},grid:{borderColor:"#eee",borderWidth:1,hoverable:!0,backgroundColor:"#fcfcfc"},tooltip:!0,tooltipOpts:{content:function(label,x,y){return x+" : "+y}},xaxis:{tickColor:"#fcfcfc",mode:"categories"},yaxis:{position:$scope.app.layout.isRTL?"right":"left",tickColor:"#eee"},shadowSize:0},vm.barStackeData=ChartData.load("server/chart/barstacked.json"),vm.barStackedOptions={series:{stack:!0,bars:{align:"center",lineWidth:0,show:!0,barWidth:.6,fill:.9}},grid:{borderColor:"#eee",borderWidth:1,hoverable:!0,backgroundColor:"#fcfcfc"},tooltip:!0,tooltipOpts:{content:function(label,x,y){return x+" : "+y}},xaxis:{tickColor:"#fcfcfc",mode:"categories"},yaxis:{min:0,max:200,position:$scope.app.layout.isRTL?"right":"left",tickColor:"#eee"},shadowSize:0},vm.splineData=ChartData.load("server/chart/spline.json"),vm.splineOptions={series:{lines:{show:!1},points:{show:!0,radius:4},splines:{show:!0,tension:.4,lineWidth:1,fill:.5}},grid:{borderColor:"#eee",borderWidth:1,hoverable:!0,backgroundColor:"#fcfcfc"},tooltip:!0,tooltipOpts:{content:function(label,x,y){return x+" : "+y}},xaxis:{tickColor:"#fcfcfc",mode:"categories"},yaxis:{min:0,max:150,tickColor:"#eee",position:$scope.app.layout.isRTL?"right":"left",tickFormatter:function(v){return v}},shadowSize:0},vm.areaData=ChartData.load("server/chart/area.json"),vm.areaOptions={series:{lines:{show:!0,fill:.8},points:{show:!0,radius:4}},grid:{borderColor:"#eee",borderWidth:1,hoverable:!0,backgroundColor:"#fcfcfc"},tooltip:!0,tooltipOpts:{content:function(label,x,y){return x+" : "+y}},xaxis:{tickColor:"#fcfcfc",mode:"categories"},yaxis:{min:0,tickColor:"#eee",position:$scope.app.layout.isRTL?"right":"left",tickFormatter:function(v){return v+" visitors"}},shadowSize:0},vm.lineData=ChartData.load("server/chart/line.json"),vm.lineOptions={series:{lines:{show:!0,fill:.01},points:{show:!0,radius:4}},grid:{borderColor:"#eee",borderWidth:1,hoverable:!0,backgroundColor:"#fcfcfc"},tooltip:!0,tooltipOpts:{content:function(label,x,y){return x+" : "+y}},xaxis:{tickColor:"#eee",mode:"categories"},yaxis:{position:$scope.app.layout.isRTL?"right":"left",tickColor:"#eee"},shadowSize:0},vm.pieData=[{label:"jQuery",color:"#4acab4",data:30},{label:"CSS",color:"#ffea88",data:40},{label:"LESS",color:"#ff8153",data:90},{label:"SASS",color:"#878bb6",data:75},{label:"Jade",color:"#b2d767",data:120}],vm.pieOptions={series:{pie:{show:!0,innerRadius:0,label:{show:!0,radius:.8,formatter:function(label,series){return'<div class="flot-pie-label">'+Math.round(series.percent)+"%</div>"},background:{opacity:.8,color:"#222"}}}}},vm.donutData=[{color:"#39C558",data:60,label:"Coffee"},{color:"#00b4ff",data:90,label:"CSS"},{color:"#FFBE41",data:50,label:"LESS"},{color:"#ff3e43",data:80,label:"Jade"},{color:"#937fc7",data:116,label:"AngularJS"}],vm.donutOptions={series:{pie:{show:!0,innerRadius:.5}}},vm.realTimeOptions={series:{lines:{show:!0,fill:!0,fillColor:{colors:["#a0e0f3","#23b7e5"]}},shadowSize:0},grid:{show:!1,borderWidth:0,minBorderMargin:20,labelMargin:10},xaxis:{tickFormatter:function(){return""}},yaxis:{min:0,max:110},legend:{show:!0},colors:["#23b7e5"]};var data=[],totalPoints=300;(function update(){vm.realTimeData=function(){for(0<data.length&&(data=data.slice(1));data.length<totalPoints;){var y=(0<data.length?data[data.length-1]:50)+10*Math.random()-5;y<0?y=0:100<y&&(y=100),data.push(y)}for(var res=[],i=0;i<data.length;++i)res.push([i,data[i]]);return[res]}(),$timeout(update,30)})(),$scope.$on("panel-refresh",function(event,id){console.log("Simulating chart refresh during 3s on #"+id),$timeout(function(){$scope.$broadcast("removeSpinner",id),console.log("Refreshed #"+id)},3e3)}),$scope.$on("panel-remove",function(event,id,deferred){console.log("Panel #"+id+" removing"),deferred.resolve()}),$scope.$on("panel-removed",function(event,id){console.log("Panel #"+id+" removed")})}()}angular.module("app.charts").controller("FlotChartController",FlotChartController),FlotChartController.$inject=["$scope","ChartData","$timeout"]}();
"use strict";!function(){function ChartMorrisController($timeout,Colors){var vm=this;vm.chartdata=[{y:"2006",a:100,b:90},{y:"2007",a:75,b:65},{y:"2008",a:50,b:40},{y:"2009",a:75,b:65},{y:"2010",a:50,b:40},{y:"2011",a:75,b:65},{y:"2012",a:100,b:90}],vm.donutdata=[{label:"Download Sales",value:12},{label:"In-Store Sales",value:30},{label:"Mail-Order Sales",value:20}],vm.donutOptions={Colors:[Colors.byName("danger"),Colors.byName("yellow"),Colors.byName("warning")],resize:!0},vm.barOptions={xkey:"y",ykeys:["a","b"],labels:["Series A","Series B"],xLabelMargin:2,barColors:[Colors.byName("info"),Colors.byName("danger")],resize:!0},vm.lineOptions={xkey:"y",ykeys:["a","b"],labels:["Serie A","Serie B"],lineColors:["#31C0BE","#7a92a3"],resize:!0},vm.areaOptions={xkey:"y",ykeys:["a","b"],labels:["Serie A","Serie B"],lineColors:[Colors.byName("purple"),Colors.byName("info")],resize:!0}}angular.module("app.charts").controller("ChartMorrisController",ChartMorrisController),ChartMorrisController.$inject=["$timeout","Colors"]}();
"use strict";!function(){function PieChartsController(Colors){var vm=this;function random(){return Math.floor(100*Math.random()+1)}vm.knobLoaderData1=80,vm.knobLoaderOptions1={width:"50%",displayInput:!0,fgColor:Colors.byName("info")},vm.knobLoaderData2=45,vm.knobLoaderOptions2={width:"50%",displayInput:!0,fgColor:Colors.byName("purple"),readOnly:!0},vm.knobLoaderData3=30,vm.knobLoaderOptions3={width:"50%",displayInput:!0,fgColor:Colors.byName("pink"),displayPrevious:!0,thickness:.1,lineCap:"round"},vm.knobLoaderData4=20,vm.knobLoaderOptions4={width:"50%",displayInput:!0,fgColor:Colors.byName("info"),bgColor:Colors.byName("gray"),angleOffset:-125,angleArc:250},vm.piePercent1=85,vm.piePercent2=45,vm.piePercent3=25,vm.piePercent4=60,vm.pieOptions1={animate:{duration:800,enabled:!0},barColor:Colors.byName("success"),trackColor:!1,scaleColor:!1,lineWidth:10,lineCap:"circle"},vm.pieOptions2={animate:{duration:800,enabled:!0},barColor:Colors.byName("warning"),trackColor:!1,scaleColor:!1,lineWidth:4,lineCap:"circle"},vm.pieOptions3={animate:{duration:800,enabled:!0},barColor:Colors.byName("danger"),trackColor:!1,scaleColor:Colors.byName("gray"),lineWidth:15,lineCap:"circle"},vm.pieOptions4={animate:{duration:800,enabled:!0},barColor:Colors.byName("danger"),trackColor:Colors.byName("yellow"),scaleColor:Colors.byName("gray-dark"),lineWidth:15,lineCap:"circle"},vm.randomize=function(type){"easy"===type&&(vm.piePercent1=random(),vm.piePercent2=random(),vm.piePercent3=random(),vm.piePercent4=random()),"knob"===type&&(vm.knobLoaderData1=random(),vm.knobLoaderData2=random(),vm.knobLoaderData3=random(),vm.knobLoaderData4=random())}}angular.module("app.charts").controller("PieChartsController",PieChartsController),PieChartsController.$inject=["Colors"]}();
"use strict";angular.module("app.charts").controller("ChartRickshawController",function(){var vm=this;!function(){vm.renderers=[{id:"area",name:"Area"},{id:"line",name:"Line"},{id:"bar",name:"Bar"},{id:"scatterplot",name:"Scatterplot"}],vm.palettes=["spectrum14","spectrum2000","spectrum2001","colorwheel","cool","classic9","munin"],vm.rendererChanged=function(id){vm["options"+id]={renderer:vm["renderer"+id].id}},vm.paletteChanged=function(id){vm["features"+id]={palette:vm["palette"+id]}},vm.changeSeriesData=function(id){for(var seriesList=[],i=0;i<3;i++){for(var series={name:"Series "+(i+1),data:[]},j=0;j<10;j++)series.data.push({x:j,y:20*Math.random()});seriesList.push(series),vm["series"+id][i]=series}},vm.series0=[],vm.options0={renderer:"area"},vm.renderer0=vm.renderers[0],vm.palette0=vm.palettes[0],vm.rendererChanged(0),vm.paletteChanged(0),vm.changeSeriesData(0);for(var seriesData=[[],[],[]],random=new Rickshaw.Fixtures.RandomData(150),i=0;i<150;i++)random.addData(seriesData);vm.series2=[{color:"#c05020",data:seriesData[0],name:"New York"},{color:"#30c020",data:seriesData[1],name:"London"},{color:"#6060c0",data:seriesData[2],name:"Tokyo"}],vm.options2={renderer:"area"}}()});
"use strict";!function(){function flot($http,$timeout){return{restrict:"EA",template:"<div></div>",scope:{dataset:"=?",options:"=",series:"=",callback:"=",src:"="},link:function(scope,element,height){var plot,plotArea,width;plot=null,width=height.width||"100%",height=height.height||220,(plotArea=$(element.children()[0])).css({width:width,height:height});var $watchOff1=scope.$watchCollection("dataset",function(dataset){return plot?(plot.setData(dataset),plot.setupGrid(),plot.draw()):(plot=function(){var plotObj;if(scope.dataset&&scope.options)return plotObj=$.plot(plotArea,scope.dataset,scope.options),scope.$emit("plotReady",plotObj),scope.callback&&scope.callback(plotObj,scope),plotObj}(),onSerieToggled(scope.series),plot)},!0);function onSerieToggled(series){if(plot&&series){var sName,someData=plot.getData();for(sName in series)angular.forEach(series[sName],function(sName){return function(s,i){someData[i]&&someData[i][sName]&&(someData[i][sName].show=s)}}(sName));plot.setData(someData),plot.draw()}}var $watchOff2=scope.$watch("series",onSerieToggled,!0);var $watchOff3=scope.$watch("src",function(src){src&&$http.get(src).then(function(data){$timeout(function(){scope.dataset=data.data})},function(){$.error("Flot chart: Bad request.")})});scope.$on("$destroy",function(){$watchOff1(),$watchOff2(),$watchOff3(),plot.destroy()})}}}angular.module("app.charts").directive("flot",flot),flot.$inject=["$http","$timeout"]}();
"use strict";!function(){function morrisChart(type){return function(){return{restrict:"EA",scope:{morrisData:"=",morrisOptions:"="},link:function($scope,element){$scope.$watch("morrisData",function(newVal){newVal&&($scope.morrisInstance.setData(newVal),$scope.morrisInstance.redraw())},!0),$scope.morrisOptions.element=element,$scope.morrisData&&($scope.morrisOptions.data=$scope.morrisData),$scope.morrisInstance=new Morris[type]($scope.morrisOptions)}}}}angular.module("app.charts").directive("morrisBar",morrisChart("Bar")).directive("morrisDonut",morrisChart("Donut")).directive("morrisLine",morrisChart("Line")).directive("morrisArea",morrisChart("Area"))}();
"use strict";!function(){function Controller($scope,$element,$timeout,$window){var resizeEventId="resize.sparkline"+$scope.$id;$timeout(function(){var options,data;options=$scope.sparkline,data=$element.data(),options?data&&(options=angular.extend({},options,data)):options=data,options.type=options.type||"bar",options.disableHiddenCheck=!0,$element.sparkline("html",options),options.resize&&$($window).on(resizeEventId,function(){$element.sparkline("html",options)})}),$scope.$on("$destroy",function(){$($window).off(resizeEventId)})}angular.module("app.charts").directive("sparkline",function(){return{restrict:"EA",scope:{sparkline:"="},controller:Controller}}),Controller.$inject=["$scope","$element","$timeout","$window"]}();
"use strict";!function(){function ChartData($resource){this.load=function(source){return $resource(source,{},opts).get()};var opts={get:{method:"GET",isArray:!0}}}angular.module("app.charts").service("ChartData",ChartData),ChartData.$inject=["$resource"]}();
"use strict";angular.module("chat").run(["Menus",function(Menus){Menus.addMenuItem("topbar",{title:"Chat",state:"chat"})}]);
"use strict";angular.module("chat").config(["$stateProvider",function($stateProvider){$stateProvider.state("chat",{url:"/chat",templateUrl:"modules/chat/client/views/chat.client.view.html",data:{roles:["report_user","admin","developer","super_admin"]}})}]);
"use strict";angular.module("chat").controller("ChatController",["$scope","$location","Authentication","Socket",function($scope,$location,Authentication,Socket){$scope.messages=[],Authentication.user||$location.path("/"),Socket.on("chatMessage",function(message){$scope.messages.unshift(message)}),$scope.sendMessage=function(){var message={text:this.messageText};Socket.emit("chatMessage",message),this.messageText=""},$scope.$on("$destroy",function(){Socket.removeListener("chatMessage")})}]);
"use strict";angular.module("app.colors").constant("APP_COLORS",{primary:"#5d9cec",success:"#27c24c",info:"#23b7e5",warning:"#ff902b",danger:"#f05050",inverse:"#131e26",green:"#37bc9b",pink:"#f532e5",purple:"#7266ba",dark:"#3a3f51",yellow:"#fad732","gray-darker":"#232735","gray-dark":"#3a3f51",gray:"#dde6e9","gray-light":"#e4eaec","gray-lighter":"#edf1f2"});
"use strict";!function(){function Colors(APP_COLORS){this.byName=function(name){return APP_COLORS[name]||"#fff"}}angular.module("app.colors").service("Colors",Colors),Colors.$inject=["APP_COLORS"]}();
"use strict";!function(){function coreMenu(Menus){Menus.addMenuItem("sidebar",{title:"Data",state:"app.datamanagement",type:"dropdown",iconClass:"fa fa-sitemap",position:2,roles:["*"]}),Menus.addSubMenuItem("sidebar","app.datamanagement",{title:"Data Connection",state:"app.datas"}),Menus.addSubMenuItem("sidebar","app.datamanagement",{title:"Data Set",state:"app.dataset"}),Menus.addSubMenuItem("sidebar","app.datamanagement",{title:"Data Flow",state:"app.udd-view"})}angular.module("app.datas").run(coreMenu),coreMenu.$inject=["Menus"]}();
"use strict";angular.module("app.datas").config(["$stateProvider","RouteHelpersProvider",function($stateProvider,helper){$stateProvider.state("app.datas",{url:"datas",templateUrl:"modules/data/client/views/data.client.view.html",resolve:helper.resolveFor("datatables","angularFileUpload","taginput","inputmask","angularBootstrapNavTree","localytics.directives","ui.bootstrap-slider","ngWig","filestyle","summernote","ui.select","oitozero.ngSweetAlert"),controller:"DataController as vm",authorization:{allowedRoles:["report_user","admin","super_admin","developer"]}})}]);
"use strict";
"use strict";!function(){function DataController(FileUploader,Project,DTOptionsBuilder,DTColumnDefBuilder,DTColumnBuilder,$compile,$scope,ProjectCore,$uibModal,Socket,toaster,$q,Authentication,NVD3Config,TooltipData,DataService,DBConnService,SweetAlert,OutputService){var vm=this;vm.isedited=!0;var modalInstance,rawfilesList,td3=d3;vm.result=!1;var breadArray=[],dataFilterArray=[],dataListArray=[];vm.my_tree={},vm.uploadFileSize=500,NVD3Config.setD3Object(td3),vm.showConnectionForm=!1,vm.showConnectionsTypes=!0;var api;function setMessage(message){vm.loaderText=message}function getAllConnectionData(type){vm.currentDataGroupId=null,vm.showLoading=!0;var oldBreadArray=breadArray;breadArray=[],vm.crumb=breadArray,dataListArray=[],DataService.dataGroupList.query({projectId:vm.project._id}).$promise.then(function(currentFolder){vm.dataconnectionDetails=currentFolder[0],vm.t=currentFolder[0].datagroupList,vm.r=currentFolder[0].connection,vm.rawFile=currentFolder[0].filesdata,vm.filesdata=currentFolder[0].pklfilesdata,rawfilesList=currentFolder[0].filesdata,dataListArray=dataListArray.concat(currentFolder[0].datagroupList).concat(currentFolder[0].connection).concat(currentFolder[0].filesdata),dataFilterArray=(dataFilterArray=dataListArray.filter(function(temp){if(!Object.keys(temp).includes("parentId")&&!Object.keys(temp).includes("datagroup_id"))return temp}))[0]._id;currentFolder=dataListArray.filter(function(temp){if(temp.parentId==dataFilterArray||temp.datagroup_id==dataFilterArray)return temp}).filter(function(temp){if(!Object.keys(temp).includes("connId"))return temp});vm.parentFolderData=currentFolder,vm.fArr=currentFolder,"createConnection"==type&&(currentFolder=oldBreadArray.pop(),breadArray=oldBreadArray,void 0!==currentFolder&&vm.getdataGroup(currentFolder.id,currentFolder.name)),vm.showLoading=!1},function(){})}function getDataGroupList(){return vm.dataList=DataService.dataGroup.query({projectId:vm.project._id}),vm.dataList.$promise}vm.my_data=[],vm.authentication=Authentication,vm.currentDataGroupId=null,vm.dataFlowFailed=!1,vm.showCheckbox=!1,vm.deleteArray=[],vm.deleteArrayFile=[],vm.showCheck=!1,vm.initPopover=function(){vm.popoverTemplate={content:"Click here to see the logs",templateUrl:"nodeRedError.html",title:"Data Flow Execution Failed"},vm.setPopoverToTrue=!1,vm.callFromStartFlow=!1,vm.flowIdCheck=""},vm.closePopover=function(){vm.setPopoverToTrue=!1},vm.SftpFileTypes=[{name:"XLS",value:".xls",type:"xls"},{name:"XLSX",value:".xlsx",type:"xlsx"},{name:"CSV",value:".csv",type:"csv"},{name:"PDF",value:".pdf",type:"pdf"},{name:"EDI",value:".edi",type:"edi"},{name:"HTML",value:".html",type:"html"}],vm.urlSources=[{name:"HTML",value:"html",type:"html"},{name:"URL",value:"url",type:"url"}],vm.status=[],vm.showLoading=!1,vm.getToolTipData=function(tooltip){return TooltipData.getTootipInfo(tooltip)[0]},vm.getdetails=function(){"null"==vm.groupData.parent_id?vm.result=!0:vm.result=!1},vm.dtColumnsUpldPreview=[],vm.dtInstanceUpldPreview={},vm.backGround="#ffffff",vm.foreGround="#08509d",vm.project=ProjectCore.getProject(),getAllConnectionData(),vm.selectedFileEncoding="utf_8",vm.fileEncodings=[],vm.fileEncodings=Project.getFileEncodings.filter(function(encoding){return encoding}),vm.dataGroupIdstring="null",vm.getDataGroupdetails=function($id,parent_Id){$id?"Add"==$id&&null==parent_Id?vm.result=!0:vm.dataGroupIdstring=$id:vm.dataGroupIdstring="null",api=""!=parent_Id&&null!=parent_Id?"/api/v2/projects/"+vm.project._id+"/data/upload/"+vm.dataGroupIdstring+"?encoding="+vm.selectedFileEncoding+"&dataFolderName="+vm.dataGroupIdstring+"&parentFolderName="+parent_Id:"/api/v2/projects/"+vm.project._id+"/data/upload/"+vm.dataGroupIdstring+"?encoding="+vm.selectedFileEncoding+"&dataFolderName="+vm.dataGroupIdstring,vm.uploadOptions={url:api}},api="/api/v2/projects/"+vm.project._id+"/data/upload/"+vm.dataGroupIdstring+"?encoding="+vm.selectedFileEncoding,vm.onFileEncodingChange=function(selectedFileEncoding){api="/api/v2/projects/"+vm.project._id+"/data/upload/"+vm.dataGroupIdstring+"?encoding="+vm.selectedFileEncoding,vm.uploadOptions={url:api}},function(api){vm.uploadOptions={url:api};var uploader=vm.uploader=new FileUploader({removeAfterUpload:!0});uploader.filters.push({name:"fileTypeChecker",fn:function(temp){var type=null;return type=temp.type?"|"+temp.type.slice(temp.type.lastIndexOf("/")+1)+"|":(temp=temp.name.split("."))[temp.length-1],-1!=="|csv|vnd.ms-excel|zip|x-zip-compressed|vnd.openxmlformats-officedocument.spreadsheetml.sheet|pkl|pk|pl|pickle|json|html|pdf|".indexOf(type)}}),uploader.filters.push({name:"maxFileSizeChecker",fn:function(item){return item.size<=1024*vm.uploadFileSize*1024}}),uploader.onWhenAddingFileFailed=function(item,filter,options){"maxFileSizeChecker"==filter.name?toaster.pop("error",$scope.app.name,"Max file size supported for this instance is "+vm.uploadFileSize+"MB",3e3):"fileTypeChecker"==filter.name?toaster.pop("error",$scope.app.name,"Supported file types are CSV,PKL,ZIP and XLSX",3e3):toaster.pop("error",$scope.app.name,"Failed to upload",3e3)},vm.goBack=function(){vm.showConnectionsTypes=!0,vm.showConnectionForm=!1},vm.changeSchedule=function(data){vm.dataschedule="",null==vm.schedulerId?vm.dataschedule="new":vm.schedulerId!=data?vm.dataschedule="update":vm.dataschedule="noupdate"},vm.pullConnectionData=function(item){vm.selectedConnectionId=item._id,vm.fArr=vm.fArr.map(function(doc){return doc._id===vm.selectedConnectionId?doc.isPulling=!0:doc.isPulling=!1,doc}),DataService.pullSingleData.query({connectionId:vm.selectedConnectionId}).$promise.then(function(res){},function(err){vm.fArr=vm.fArr.map(function(doc){return doc._id===vm.selectedConnectionId&&(doc.isPulling=!1),doc}),toaster.pop("error",$scope.app.name,"Oops!, something went wrong!",3e3)})},vm.openDataSourceOptions=function(){var modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"dataSourceOptionsModal.html",size:"lg",scope:modalScope});vm.showConnectionsTypes=!0,vm.showConnectionForm=!1,modalScope.cancel=function(){modalInstance.close(modalScope.selected)},vm.openConnectionForm=function(type){vm.showConnectionsTypes=!1,vm.showConnectionForm=!0,vm.result=!1,modalScope.type=type,modalScope.data={},modalScope.data.dataFormat="csv","upload"!=type&&"url"!=type&&(modalScope.dbConns=DBConnService.settings.query({source:type})),modalScope.pullData=function(data,source){if((modalScope.cancel(),vm.showLoading=!0,data.source=source,"url"!=data.source&&"sftp"!=data.source)&&(data.query.includes("delete")||data.query.includes("insert")||data.query.includes("update")))return void alert("Only select query is allowed!");data.connection&&("sftp"==data.source?(data.connection=data.connection,data.folderpath=vm.folderpath):data.connection=JSON.parse(data.connection)),data.isPulling?toaster.pop("success",$scope.app.name,"Started pulling the data...",3e3):toaster.pop("success",$scope.app.name,"Connection created successfully.",3e3),data.dataGroupId||(data.dataGroupId=dataFilterArray),""===data.scheduleId&&delete data.scheduleId,new DataService.pullData(data).$save({projectId:vm.project._id},function(resp){0==data.isPulling&&getAllConnectionData("createConnection"),data=null,vm.showLoading=!1},function(err){toaster.pop("error",$scope.app.name,"Oops!, something went wrong!",3e3),vm.showLoading=!1})},uploader.onAfterAddingFile=function(fileItem,filter,options){var uploader,callback;vm.showLoading=!0,setMessage("Uploading..."),uploader=vm.uploader,callback=function(err,data){err&&(vm.showLoading=!1,vm.uploader.queue.length=0),modalInstance.close(modalScope.selected)},uploader.queue[0]&&(ga("send","event","Project","File uploading started",!0),uploader.queue[0].upload(),uploader.onCompleteItem=function(fileItem,response,status,headers){setMessage("Upload completed, analysing the data.");var fileElement=angular.element("#dataset");if(angular.element(fileElement).val(null),$scope.$apply(),400==status)return toaster.pop("error",$scope.app.name,response.message,4e3),vm.showLoading=!1,callback({error:"file upload failed"},null),0;"flow_start"==response.status?(toaster.pop("success",$scope.app.name,"Flow execution started, please wait!",3e3),vm.status[0].title="File uploaded",vm.status[0].key="uploaded"):(ga("send","event","Project","File uploading completed",!0),vm.showLoading=!1,uploader.queue.length=0,callback(null,{message:"file uploaded"}))})}}},vm.dataFormat=function(dataSource){vm.showdataFormat=dataSource.hasOwnProperty("dataFormat")},vm.openDataDownloaderModalEdit=function(type,id){var modalInstance;DataService.singledataconnection.get({projectId:vm.project._id,dataId:id}).$promise.then(function(dbConn){vm.dataSource=dbConn,vm.schedulerId=vm.dataSource.scheduleId,vm.dataFormat(vm.dataSource)});var modalScope=$scope.$new();modalScope.type=type,modalScope.data={},modalScope.data.dataFormat="csv","upload"!=type&&"url"!=type&&(modalScope.dbConns=DBConnService.settings.query({source:type})),modalInstance=$uibModal.open({templateUrl:"dataDownloaderPopUpEdit.html",size:"md",scope:modalScope}),modalScope.cancel=function(){modalInstance.close(modalScope.selected)},modalScope.submit=function(groupData){modalInstance.close(modalScope.selected),vm.showLoading=!0,"None"==groupData.scheduleId&&(groupData.statusData="None"),void 0===vm.dataschedule?groupData.scheduledata="noupdate":groupData.scheduledata=vm.dataschedule,groupData.oldScheduleId=vm.schedulerId,groupData.projectId=vm.project._id,(groupData=new DataService.updateDataConnection(groupData)).$update(function(resp){getAllConnectionData("createConnection"),vm.showLoading=!1,toaster.pop("success",$scope.app.name,"Data Connection Update...",3e3),vm.showLoading=!1},function(err){vm.showLoading=!1,toaster.pop("error",$scope.app.name,err.data.message||"Failed to Update data Connection!",4e3)})}}}(api),getDataGroupList(),vm.schedulerLists=DataService.schedulerList.query(),vm.schedulerLists.$promise,vm.sftpLists=DataService.sftpList.query({}),vm.sftpLists.$promise,vm.dtOptions=DTOptionsBuilder.newOptions().withOption("destroy",!0).withOption("processing",!0).withOption("deferRender",!0).withPaginationType("full_numbers"),vm.dtColumnDefs=[DTColumnDefBuilder.newColumnDef(0),DTColumnDefBuilder.newColumnDef(1),DTColumnDefBuilder.newColumnDef(2),DTColumnDefBuilder.newColumnDef(3),DTColumnDefBuilder.newColumnDef(4).notSortable()],vm.initialstage=function(id){vm.currentDataGroupId=id,vm.getDataGroupdetails(id),vm.showLoading=!0;breadArray.indexOf("id");var filesFilter=breadArray.findIndex(function(x){return x.id==id});breadArray.splice(filesFilter+1);filesFilter=dataListArray.filter(function(temp){if(temp.parentId==id||temp.datagroup_id==id)return temp}).filter(function(temp){if(!Object.keys(temp).includes("connId"))return temp});vm.fArr=filesFilter,vm.showLoading=!1},vm.getdataGroup=function(data,filesFilter){vm.currentDataGroupId=data,vm.getDataGroupdetails(data),vm.showLoading=!0,breadArray.push({id:data,name:filesFilter}),vm.crumb=breadArray;filesFilter=(data=dataListArray.filter(function(temp){if(temp.parentId==data||temp.datagroup_id==data)return temp})).filter(function(temp){if(!Object.keys(temp).includes("connId"))return temp});vm.fArr=filesFilter,vm.showLoading=!1},vm.startstage=function(){vm.currentDataGroupId=null,breadArray=[],vm.crumb=breadArray,vm.fArr=vm.parentFolderData},vm.addDataGroup=function(selected_id){vm.result=!1,vm.result="Add"===selected_id},vm.findDbConn=function(projectid,id){return DataService.getDataconnection.get({projectId:projectid,dataId:id}).$promise.then(function(dbConn){vm.dbConn=dbConn}),vm.dbconn},vm.remove=function(id,type){null==type&&vm.removeDataGroup(id),"mysql"!=type&&"mssql"!=type&&"postgresql"!=type&&"sftp"!=type&&"url"!=type||SweetAlert.swal({title:"Are you sure?",text:"You will not be able to recover this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete!",closeOnConfirm:!0},function(isConfirm){isConfirm&&DataService.dataConnectionDelete.remove({projectId:vm.project._id,dataId:id}).$promise.then(function(){vm.fArr=vm.fArr.filter(function(item){return item._id!=id})},function(err){toaster.pop("error",$scope.app.name,"Oops!, something went wrong while deleting the data connection!",3e3)})}),"upload"!=type&&"notebook"!=type||vm.deleteRawFile(id)},vm.edit=function(id,type){null==type&&vm.openGroupDataEdit(id),"postgresql"==type&&vm.openDataDownloaderModalEdit("postgresql",id),"mssql"==type&&vm.openDataDownloaderModalEdit("mssql",id),"mysql"==type&&vm.openDataDownloaderModalEdit("mysql",id),"sftp"==type&&vm.openDataDownloaderModalEdit("sftp",id),"url"==type&&vm.openDataDownloaderModalEdit("url",id)},vm.toggleOne=function(item,selectedItems){delete item.fileSchema,delete item.descriptiveStatistics,1==selectedItems?vm.deleteArray.push(item):vm.deleteArray=vm.deleteArray.filter(function(doc){return doc._id!=item._id})},vm.toggleSelect=function(event,data){("upload"==data.type||"notebook"==data.type)&&1<vm.fArr.length&&(vm.showCheckbox=!0)},vm.toggleUnselect=function(){vm.showCheckbox=!1,vm.deleteArray=[]},vm.toggleSelectfile=function(){vm.showCheck=!0},vm.toggleOneFile=function(item,selectedItems){1==selectedItems?vm.deleteArrayFile.push(item):vm.deleteArrayFile=vm.deleteArrayFile.filter(function(doc){return doc._id!=item._id})},vm.toggleUnselectFile=function(){vm.showCheck=!1,vm.deleteArrayFile=[]};var a=[];function filterDataGroup(id){for(var i=0;i<id.length;i++)!function(d){0<d.length&&filterDataGroup(d)}(vm.t.filter(function(item){return item.parentId==id[i]._id&&a.push(item),item.parentId==id[i]._id}))}vm.removeDataGroup=function(dataId){a=[],filterDataGroup(vm.t.filter(function(item){return item.parentId!==dataId&&item._id!==dataId||a.push(item),item.parentId===dataId}));var b=[];vm.r.map(function(item){void 0!==a.find(function(docs){return item.datagroup_id==docs._id})&&b.push(item)});var rFiles=[];vm.rawFile.map(function(data){void 0!==a.find(function(docs){return data.datagroup_id==docs._id})&&rFiles.push(data)});var pFiles=[];vm.filesdata.map(function(data){void 0!==a.find(function(docs){return data.datagroup_id==docs._id})&&pFiles.push(data)}),SweetAlert.swal({title:"Are you sure?",text:"You will not be able to recover this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete!",closeOnConfirm:!0},function(isConfirm){isConfirm&&DataService.dataGroupDelete.remove({projectId:vm.project._id,dataId:dataId,datagroup:a,dataconnection:b,rawFiles:rFiles,files:pFiles}).$promise.then(function(){vm.fArr=vm.fArr.filter(function(item){return item._id!=dataId}),vm.dataList=vm.dataList.filter(function(item){return item._id!=dataId}),vm.showCheckbox=!1,toaster.pop("success",$scope.app.name,"Folder Deleted Successfully",3e3)},function(err){toaster.pop("error",$scope.app.name,"Oops!, something went wrong while deleting the dataset!",3e3)})})},vm.openGroupData=function(){vm.groupData=null;var modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"groupData.html",scope:modalScope});modalScope.cancel=function($modalInstance){modalInstance.close(modalScope.selected)},modalScope.submit=function(groupData){modalInstance.close(modalScope.selected),vm.showLoading=!0,groupData.projectId=vm.project._id,(groupData=new DataService.dataGroup(groupData)).$save(function(resp){getDataGroupList(),getAllConnectionData("createConnection"),toaster.pop("success",$scope.app.name,"Folder Inserted Successfully",3e3),vm.showLoading=!1},function(err){vm.showLoading=!1,toaster.pop("error",$scope.app.name,err.data.message||"Failed to insert Folder!",4e3)})}},vm.openGroupDataEdit=function(id){DataService.singledataGroup.get({projectId:vm.project._id,dataid:id}).$promise.then(function(dbConn){vm.groupData=dbConn}),vm.groupData=null;var modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"DataGroupEditForm.html",scope:modalScope});modalScope.cancel=function($modalInstance){modalInstance.close(modalScope.selected)},modalScope.submit=function(groupData){modalInstance.close(modalScope.selected),vm.showLoading=!0,groupData.projectId=vm.project._id,(groupData=new DataService.updategroupData(groupData)).$update(function(resp){getDataGroupList(),getAllConnectionData("createConnection"),toaster.pop("success",$scope.app.name,"Folder Updated Successfully",3e3),vm.showLoading=!1},function(err){vm.showLoading=!1,toaster.pop("error",$scope.app.name,err.data.message||"Failed to Update Folder!",4e3)})}},vm.openFileData=function(dataId,data){vm.dataflow=data,function(data){vm.dataflowresult=!1,vm.dataflowresult=null!=data}(vm.dataflow),vm.groupData=null;data=rawfilesList.filter(function(temp){if(temp.connId==dataId)return temp});vm.list=data;var modalScope=$scope.$new();modalInstance=$uibModal.open({templateUrl:"openFileData.html",size:"lg",scope:modalScope}),modalScope.cancel=function($modalInstance){modalInstance.close(modalScope.selected)}},vm.downloadFile=function(item){ga("send","event","Models","Downloading File",!0),window.open("/api/project/"+vm.project._id+"/download/"+item.name)},vm.deleteRawFile=function(id,type){return"deleteAll"==id&&0==vm.deleteArray.length||"deleteAllRaw"==id&&0==vm.deleteArrayFile.length?(toaster.pop("error",$scope.app.name,"select a file",3e3),!1):void SweetAlert.swal({title:"Are you sure?",text:"You will not be able to recover this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete!",closeOnConfirm:!0},function(isConfirm){isConfirm&&("deleteAll"==id?DataService.deleteAllRawfile.query({projectId:vm.project._id,data:vm.deleteArray}).$promise.then(function(){getAllConnectionData("createConnection"),vm.deleteArray=[],vm.showCheckbox=!1},function(err){toaster.pop("error",$scope.app.name,"Oops!, something went wrong while deleting the file!",3e3)}):"deleteAllRaw"==id?DataService.deleteAllRawfile.remove({projectId:vm.project._id,data:vm.deleteArrayFile}).$promise.then(function(){vm.list=vm.list.filter(function(item){return!vm.deleteArrayFile.some(function(doc){return item._id===doc._id})}),vm.deleteArrayFile=[],vm.showCheck=!1,vm.showCheckbox=!1},function(err){toaster.pop("error",$scope.app.name,"Oops!, something went wrong while deleting the file!",3e3)}):DataService.rawFileDelete.remove({projectId:vm.project._id,dataId:id}).$promise.then(function(){"confile"==type?vm.list=vm.list.filter(function(item){return item._id!=id}):vm.fArr=vm.fArr.filter(function(item){return item._id!=id}),vm.showCheckbox=!1},function(err){toaster.pop("error",$scope.app.name,"Oops!, something went wrong while deleting the file!",3e3)}))})},vm.my_tree_handler=function(branch){var item=[],parent=branch;if(null!=parent.parent_uid){for(;parent=vm.my_tree.get_parent_branch(parent),item.push(parent.label),null!=parent.parent_uid;);item.reverse(),item.push(branch.label)}else item.push(branch.label);vm.folderpath=item.toString().split(",").join("/")};vm.getSftpDetails=function(sftp){vm.showLoading=!0,setMessage("Loading..."),vm.ShowPaths=!0,vm.doing_async=!0,vm.sftpUserId=sftp._id,DataService.sftpFolderStructure.query({sftpId:sftp._id,path:"first"}).$promise.then(function(res){vm.my_data=res,vm.doing_async=!1,vm.showLoading=!1},function(){})},vm.doing_async=!1,vm.doubleClick=function(){vm.showLoading=!0,setMessage("loading."),vm.ShowSave=!0,vm.doing_async=!0,DataService.sftpFolderStructure.query({sftpId:vm.sftpUserId,path:vm.folderpath}).$promise.then(function(res){vm.my_data=res,vm.doing_async=!1,vm.showLoading=!1},function(){})},vm.previousNode=function(){vm.ShowSave=!0;var finalRec,src=vm.folderpath.replace("//","/"),lastword=src.lastIndexOf("/"),m=src.substring(lastword+1);0==lastword?(finalRec="first",vm.folderpath="/",vm.ShowSave=!1):(vm.ShowSave=!0,finalRec=src.replace("/"+m,""),finalRec=(vm.folderpath=finalRec).replace("//","/")),vm.sftpFolderStructure=DataService.sftpFolderStructure.query({sftpId:vm.sftpUserId,path:finalRec}),vm.my_data=vm.sftpFolderStructure},vm.openStartFlow=function(item){vm.initPopover(),vm.callFromStartFlow=!0,vm.flowIdCheck=item.name,DataService.execute.get({projectId:vm.project._id,dataConnId:item.connId,filepath:item.name}).$promise.then(function(res){toaster.pop("success",$scope.app.name,"flow started...",3e3)},function(err){toaster.pop("error",$scope.app.name,err.data.message||"Could not execute the flow!",4e3)})},vm.fileEncodings=[],vm.fileEncodings=Project.getFileEncodings.filter(function(encoding){return encoding}),Socket.on("pullData",function(message){"pull_success"==message.status?(vm.initPopover(),setMessage("Saved the metadata and file."),vm.showLoading=!1,toaster.pop("success",$scope.app.name,"Data uploaded successfully.",3e3),getAllConnectionData("createConnection")):(vm.fArr=vm.fArr.map(function(doc){return doc._id===vm.selectedConnectionId&&(doc.isPulling=!1,"sftp"===doc.type&&toaster.pop("error",$scope.app.name,message.status,3e3)),doc}),setMessage("Error while saving the metadata and file."),vm.showLoading=!1,"No updated files"!=message.status&&toaster.pop("error",$scope.app.name,message.status.message||message.status||"Could not complete the operation!!",3e3)),vm.loaderText=""}),Socket.on("nodeRedFlowExecution",function(message){"flow_execution_failed"==message.status&&(vm.dataFlowFailed=!0)}),$scope.$on("$destroy",function(){Socket.removeListener("pullData"),Socket.removeListener("nodeRedFlowExecution")})}angular.module("app.datas").controller("DataController",DataController),DataController.$inject=["FileUploader","Project","DTOptionsBuilder","DTColumnDefBuilder","DTColumnBuilder","$compile","$scope","ProjectCore","$uibModal","Socket","toaster","$q","Authentication","NVD3Config","TooltipData","DataService","DBConnService","SweetAlert","OutputService"]}(),angular.module("app.datas").filter("bytes",function(){return function(bytes,precision){if(isNaN(parseFloat(bytes))||!isFinite(bytes))return"-";void 0===precision&&(precision=1);var number=Math.floor(Math.log(bytes)/Math.log(1024));return(bytes/Math.pow(1024,Math.floor(number))).toFixed(precision)+" "+["bytes","kB","MB","GB","TB","PB"][number]}}),angular.module("app.datas").directive("restrictInput",function(){return{restrict:"A",require:"ngModel",link:function(scope,element,attr,ctrl){ctrl.$parsers.unshift(function(viewValue){var overrideValue=new RegExp("^[a-zA-Z0-9 ]*$");if(overrideValue.test(viewValue))return viewValue;overrideValue=overrideValue.test(ctrl.$modelValue)?ctrl.$modelValue:"";return element.val(overrideValue),overrideValue})}}}),angular.module("app.datas").filter("shortNumber",function(){return function(number){if(number){var abs=Math.abs(number);return abs>=Math.pow(10,12)?number=(number/Math.pow(10,12)).toFixed(1)+"T":abs<Math.pow(10,12)&&abs>=Math.pow(10,9)?number=(number/Math.pow(10,9)).toFixed(1)+"B":abs<Math.pow(10,9)&&abs>=Math.pow(10,6)?number=(number/Math.pow(10,6)).toFixed(1)+"M":abs<Math.pow(10,6)&&abs>=Math.pow(10,3)&&(number=(number/Math.pow(10,3)).toFixed(1)+"K"),number}}}),angular.module("app.projects").filter("displayType",function(){return function(type){return"timeseries"==type?"Timeseries":"predictive_modeling"==type?"Predictive Modeling":"Clustering"}}),angular.module("app.datas").directive("clickAndDisable",function(){return{scope:{clickAndDisable:"&"},link:function(scope,iElement){iElement.bind("click",function(){iElement.prop("disabled",!0),scope.clickAndDisable().finally(function(){iElement.prop("disabled",!1)})})}}}),angular.module("app.projects").directive("myDir",function(){return{controller:["$scope",function(){}],link:function(scope,element){element.on("submit",function(){})}}}),angular.module("app.projects").filter("filterStrategies",function(){return function(strategies,sharedObj){return"Numeric"==sharedObj.dataType?["Min","Median","Max","Mean","Mode","St.Dev"]:["Mode"]}});
"use strict";angular.module("app.datas").factory("DataService",["$resource",function($resource){return this.listAllProjectDatas=$resource("api/v2/projects/:projectId/data",{projectId:"@_id"},{query:{isArray:!0,method:"GET"}}),this.myFile=$resource("/api/v2/projects/:projectId/data/:dataId",{projectId:"@pid",dataId:"@dataId"},{query:{isArray:!1,method:"GET"}}),this.pullData=$resource("/api/v2/projects/:projectId/data/pull",{projectId:"@pid"}),this.getChildDatasets=$resource("/api/v2/projects/:projectId/data/:dataId/child",{projectId:"@pid"}),this.mergeData=$resource("/api/v2/projects/:projectId/data/merge",{projectId:"@pid"}),this.dataGroup=$resource("api/v2/projects/:projectId/dataGroup",{projectId:"@_id"}),this.dataGroupList=$resource("api/v2/projects/:projectId/dataGroup/allData",{projectId:"@_id"},{query:{isArray:!0,method:"GET"}}),this.singledataGroup=$resource("api/v2/projects/:projectId/dataGroup/:dataid",{projectId:"@_id"},{query:{method:"GET"}}),this.dataGroupDelete=$resource("api/v2/projects/:projectId/dataGroup/:dataId",{projectId:"@pid",dataId:"@dataId",query:{method:"DELETE"}}),this.groupData=$resource("api/v2/projects/dataGroup",{projectId:"@_id"},{save:{method:"GET"}}),this.schedulerList=$resource("api/v2/scheduler",{save:{method:"GET"}}),this.sftpList=$resource("api/v2/sftp",{get:{method:"GET"}}),this.sftpFolderStructure=$resource("api/v2/sftp/folderStructure/:sftpId/:path",{sftpId:"@sftpId",path:"@path"},{query:{isArray:!0,method:"GET"}}),this.dataConnectionDelete=$resource("api/v2/projects/:projectId/dataConnection/:dataId",{projectId:"@pid",dataId:"@dataId"}),this.singledataconnection=$resource("/api/v2/projects/:projectId/dataConnection/:dataId",{projectId:"@_id",dataId:"@dataId"},{query:{method:"GET"}}),this.updategroupData=$resource("/api/v2/projects/:projectId/dataGroup",{projectId:"@pid"},{update:{method:"PUT"}}),this.updateDataConnection=$resource("/api/v2/projects/:projectId/dataConnection/:connectionId",{projectId:"@projectId",connectionId:"@_id"},{update:{method:"PUT"}}),this.listAllProjectFileList=$resource("api/v2/projects/:projectId/data/fileList",{projectId:"@projectId"},{update:{method:"PUT"}}),this.rawFilesList=$resource("/api/v2/projects/:projectId/rawFiles",{projectId:"@_id"},{query:{isArray:!0,method:"GET"}}),this.rawFileDelete=$resource("/api/v2/projects/:projectId/rawFiles/:dataId",{projectId:"@pid",dataId:"@dataId"}),this.myRawFile=$resource("/api/v2/projects/:projectId/rawFiles/:dataId",{projectId:"@pid",dataId:"@dataId"}),this.execute=$resource("/api/project/:projectId/udd/execute",{projectId:"@pid"}),this.pullSingleData=$resource("/api/v2/projects/pull/:connectionId",{connectionId:"@databaseConnectionId"},{query:{isArray:!1,method:"GET"}}),this.listAllDataConnections=$resource("api/v2/projects/:projectId/dataConnections/:source",{projectId:"@projectId",source:"@sourceType"},{query:{isArray:!0,method:"GET"}}),this.deleteAllFile=$resource("/api/v2/projects/deleteFile",{},{query:{method:"POST"}}),this.deleteAllRawfile=$resource("api/v2/projects/deleteAllRawfiles",{},{query:{method:"POST"}}),this}]);
"use strict";(function(){angular.module("angularBootstrapNavTree",[]).directive("abnTree",["$timeout",function($timeout){return{restrict:"E",template:'<ul class="nav nav-list nav-pills nav-stacked abn-tree">\n  <li ng-repeat="row in tree_rows | filter:{visible:true} track by row.branch.uid" ng-animate="\'abn-tree-animate\'" ng-class="\'level-\' + {{ row.level }} + (row.branch.selected ? \' active\':\'\')" class="abn-tree-row">\n    <a ng-click="user_clicks_branch(row.branch)">\n      <i ng-class="row.tree_icon" ng-click="row.branch.expanded = !row.branch.expanded" class="indented tree-icon"> </i>\n      <span class="indented tree-label">{{ row.label }} </span>\n    </a>\n  </li>\n</ul>',replace:!0,scope:{treeData:"=",onSelect:"&",initialSelection:"@",treeControl:"="},link:function(scope,element,attrs){var expand_all_parents,expand_level,_for_all_ancestors,for_each_branch,get_parent,n,on_treeData_change,select_branch,selected_branch,tree;if(null==attrs.iconExpand&&(attrs.iconExpand="icon-plus  glyphicon glyphicon-plus  fa fa-plus"),null==attrs.iconCollapse&&(attrs.iconCollapse="icon-minus glyphicon glyphicon-minus fa fa-minus"),null==attrs.iconLeaf&&(attrs.iconLeaf="icon-file  glyphicon glyphicon-file  fa fa-file"),null==attrs.expandLevel&&(attrs.expandLevel="3"),expand_level=parseInt(attrs.expandLevel,10),scope.treeData){if(null==scope.treeData.length){if(null==treeData.label)return void alert("treeData should be an array of root branches");scope.treeData=[treeData]}return for_each_branch=function(f){for(var root_branch,_do_f=function(branch,level){var child,_i,_len,_ref,_results;if(f(branch,level),null!=branch.children){for(_results=[],_i=0,_len=(_ref=branch.children).length;_i<_len;_i++)child=_ref[_i],_results.push(_do_f(child,level+1));return _results}},_ref=scope.treeData,_results=[],_i=0,_len=_ref.length;_i<_len;_i++)root_branch=_ref[_i],_results.push(_do_f(root_branch,1));return _results},selected_branch=null,select_branch=function(branch){return branch?branch!==selected_branch?(null!=selected_branch&&(selected_branch.selected=!1),branch.selected=!0,expand_all_parents(selected_branch=branch),null!=branch.onSelect?$timeout(function(){return branch.onSelect(branch)}):null!=scope.onSelect?$timeout(function(){return scope.onSelect({branch:branch})}):void 0):void 0:(null!=selected_branch&&(selected_branch.selected=!1),void(selected_branch=null))},scope.user_clicks_branch=function(branch){if(branch!==selected_branch)return select_branch(branch)},get_parent=function(child){var parent=void 0;return child.parent_uid&&for_each_branch(function(b){return b.uid===child.parent_uid&&(parent=b)}),parent},_for_all_ancestors=function(parent,fn){parent=get_parent(parent);if(null!=parent)return fn(parent),_for_all_ancestors(parent,fn)},expand_all_parents=function(child){return _for_all_ancestors(child,function(b){return b.expanded=!0})},scope.tree_rows=[],on_treeData_change=function(){var _add_branch_to_list,root_branch,_i,_len,_ref,_results;for(for_each_branch(function(b,level){return!b.uid&&(b.uid=""+Math.random())}),console.log("UIDs are set."),for_each_branch(function(b){var child,_i,_len,_ref,_results;if(angular.isArray(b.children)){for(_results=[],_i=0,_len=(_ref=b.children).length;_i<_len;_i++)child=_ref[_i],_results.push(child.parent_uid=b.uid);return _results}}),scope.tree_rows=[],for_each_branch(function(branch){var child,f;return branch.children?0<branch.children.length&&(f=function(e){return"string"==typeof e?{label:e,children:[]}:e},branch.children=function(){for(var _ref=branch.children,_results=[],_i=0,_len=_ref.length;_i<_len;_i++)child=_ref[_i],_results.push(f(child));return _results}()):branch.children=[]}),_add_branch_to_list=function(level,branch,visible){var child,child_visible,tree_icon,_i,_len,_ref,_results;if(null==branch.expanded&&(branch.expanded=!1),tree_icon=branch.children&&0!==branch.children.length?branch.expanded?attrs.iconCollapse:attrs.iconExpand:attrs.iconLeaf,scope.tree_rows.push({level:level,branch:branch,label:branch.label,tree_icon:tree_icon,visible:visible}),null!=branch.children){for(_results=[],_i=0,_len=(_ref=branch.children).length;_i<_len;_i++)child=_ref[_i],child_visible=visible&&branch.expanded,_results.push(_add_branch_to_list(level+1,child,child_visible));return _results}},_results=[],_i=0,_len=(_ref=scope.treeData).length;_i<_len;_i++)root_branch=_ref[_i],_results.push(_add_branch_to_list(1,root_branch,!0));return _results},scope.$watch("treeData",on_treeData_change,!0),null!=attrs.initialSelection&&for_each_branch(function(b){return b.label===attrs.initialSelection&&$timeout(function(){return select_branch(b)})}),n=scope.treeData.length,console.log("num root branches = "+n),for_each_branch(function(b,level){return b.level=level,b.expanded=b.level<expand_level}),null!=scope.treeControl&&angular.isObject(scope.treeControl)?((tree=scope.treeControl).expand_all=function(){return for_each_branch(function(b,level){return b.expanded=!0})},tree.collapse_all=function(){return for_each_branch(function(b,level){return b.expanded=!1})},tree.get_first_branch=function(){if(0<(n=scope.treeData.length))return scope.treeData[0]},tree.select_first_branch=function(){var b=tree.get_first_branch();return tree.select_branch(b)},tree.get_selected_branch=function(){return selected_branch},tree.get_parent_branch=get_parent,tree.select_branch=function(b){return select_branch(b),b},tree.get_children=function(b){return b.children},tree.select_parent_branch=function(b){var p;if(null==b&&(b=tree.get_selected_branch()),null!=b&&null!=(p=tree.get_parent_branch(b)))return tree.select_branch(p),p},tree.add_branch=function(parent,new_branch){return null!=parent?(parent.children.push(new_branch),parent.expanded=!0):scope.treeData.push(new_branch),new_branch},tree.add_root_branch=function(new_branch){return tree.add_branch(null,new_branch),new_branch},tree.expand_branch=function(b){if(null==b&&(b=tree.get_selected_branch()),null!=b)return b.expanded=!0,b},tree.collapse_branch=function(b){if(null==b&&(b=selected_branch),null!=b)return b.expanded=!1,b},tree.get_siblings=function(p){if(null==p&&(p=selected_branch),null!=p)return(p=tree.get_parent_branch(p))?p.children:scope.treeData},tree.get_next_sibling=function(b){var i,siblings;if(null==b&&(b=selected_branch),null!=b&&(siblings=tree.get_siblings(b),n=siblings.length,(i=siblings.indexOf(b))<n))return siblings[i+1]},tree.get_prev_sibling=function(i){var siblings;if(null==i&&(i=selected_branch),siblings=tree.get_siblings(i),n=siblings.length,0<(i=siblings.indexOf(i)))return siblings[i-1]},tree.select_next_sibling=function(b){var next;if(null==b&&(b=selected_branch),null!=b&&null!=(next=tree.get_next_sibling(b)))return tree.select_branch(next)},tree.select_prev_sibling=function(b){var prev;if(null==b&&(b=selected_branch),null!=b&&null!=(prev=tree.get_prev_sibling(b)))return tree.select_branch(prev)},tree.get_first_child=function(b){var _ref;if(null==b&&(b=selected_branch),null!=b&&0<(null!=(_ref=b.children)?_ref.length:void 0))return b.children[0]},tree.get_closest_ancestor_next_sibling=function(parent){var next=tree.get_next_sibling(parent);return null!=next?next:(parent=tree.get_parent_branch(parent),tree.get_closest_ancestor_next_sibling(parent))},tree.get_next_branch=function(b){var next;if(null==b&&(b=selected_branch),null!=b)return null!=(next=tree.get_first_child(b))?next:next=tree.get_closest_ancestor_next_sibling(b)},tree.select_next_branch=function(b){var next;if(null==b&&(b=selected_branch),null!=b&&null!=(next=tree.get_next_branch(b)))return tree.select_branch(next),next},tree.last_descendant=function(last_child){return 0===(n=last_child.children.length)?last_child:(last_child=last_child.children[n-1],tree.last_descendant(last_child))},tree.get_prev_branch=function(b){var prev_sibling;if(null==b&&(b=selected_branch),null!=b)return null!=(prev_sibling=tree.get_prev_sibling(b))?tree.last_descendant(prev_sibling):tree.get_parent_branch(b)},tree.select_prev_branch=function(b){var prev;if(null==b&&(b=selected_branch),null!=b&&null!=(prev=tree.get_prev_branch(b)))return tree.select_branch(prev),prev}):void 0}alert("no treeData defined for the tree!")}}}])}).call(void 0);
"use strict";!function(){function coreMenu(Menus){Menus.addMenuItem("sidebar",{title:"Home",state:"app.dash",iconClass:"fa fa-home",position:1,roles:["*"]})}angular.module("app.dashboard").run(coreMenu),coreMenu.$inject=["Menus"]}();
"use strict";!function(){function appRoutes($stateProvider,helper){$stateProvider.state("app.dash",{url:"dashboard",templateUrl:"modules/dashboard/client/views/home.client.view.html",resolve:helper.resolveFor("flot-chart","flot-chart-plugins","weather-icons")}).state("app.dashboard",{url:"/dashboard1",templateUrl:"modules/dashboard/client/views/dashboard.client.view.html",resolve:helper.resolveFor("flot-chart","flot-chart-plugins","weather-icons")}).state("app.dashboard_v2",{url:"/dashboard/v2",title:"Dashboard v2",templateUrl:"modules/dashboard/client/views/dashboard_v2.client.view.html",controller:"DashboardV2Controller",controllerAs:"dash2",resolve:helper.resolveFor("flot-chart","flot-chart-plugins")}).state("app.dashboard_v3",{url:"/dashboard/v3",title:"Dashboard v3",controller:"DashboardV3Controller",controllerAs:"dash3",templateUrl:"modules/dashboard/client/views/dashboard_v3.client.view.html",resolve:helper.resolveFor("flot-chart","flot-chart-plugins","vector-map","vector-map-maps")})}angular.module("app.dashboard").config(appRoutes),appRoutes.$inject=["$stateProvider","RouteHelpersProvider"]}();
"use strict";!function(){function DashboardController($scope,ChartData,$timeout,Colors){var vm=this;vm.easyPiePercent=70,vm.pieOptions={animate:{duration:800,enabled:!0},barColor:Colors.byName("info"),trackColor:"rgba(200,200,200,0.4)",scaleColor:!1,lineWidth:10,lineCap:"round",size:145},vm.splineData=ChartData.load("server/chart/spline.json"),vm.splineOptions={series:{lines:{show:!1},points:{show:!0,radius:4},splines:{show:!0,tension:.4,lineWidth:1,fill:.5}},grid:{borderColor:"#eee",borderWidth:1,hoverable:!0,backgroundColor:"#fcfcfc"},tooltip:!0,tooltipOpts:{content:function(label,x,y){return x+" : "+y}},xaxis:{tickColor:"#fcfcfc",mode:"categories"},yaxis:{min:0,max:150,tickColor:"#eee",position:$scope.app.layout.isRTL?"right":"left",tickFormatter:function(v){return v}},shadowSize:0},$scope.$on("panel-refresh",function(event,id){console.log("Simulating chart refresh during 3s on #"+id),$timeout(function(){$scope.$broadcast("removeSpinner",id),console.log("Refreshed #"+id)},3e3)}),$scope.$on("panel-remove",function(event,id,deferred){console.log("Panel #"+id+" removing"),deferred.resolve()}),$scope.$on("panel-removed",function(event,id){console.log("Panel #"+id+" removed")})}angular.module("app.dashboard").controller("DashboardController",DashboardController),DashboardController.$inject=["$scope","ChartData","$timeout","Colors"]}();
"use strict";!function(){function DashboardV2Controller($rootScope,$scope,$state,Colors){var vm=this;$state.includes("app-h")?($rootScope.app.layout.horizontal=!0,$scope.$on("$destroy",function(){$rootScope.app.layout.horizontal=!1})):$rootScope.app.layout.isCollapsedText||($rootScope.app.layout.isCollapsed=!0),vm.barStackedOptions={series:{stack:!0,bars:{align:"center",lineWidth:0,show:!0,barWidth:.6,fill:.9}},grid:{borderColor:"#eee",borderWidth:1,hoverable:!0,backgroundColor:"#fcfcfc"},tooltip:!0,tooltipOpts:{content:function(label,x,y){return x+" : "+y}},xaxis:{tickColor:"#fcfcfc",mode:"categories"},yaxis:{min:0,max:200,position:$rootScope.app.layout.isRTL?"right":"left",tickColor:"#eee"},shadowSize:0},vm.splineOptions={series:{lines:{show:!1},points:{show:!0,radius:4},splines:{show:!0,tension:.4,lineWidth:1,fill:.5}},grid:{borderColor:"#eee",borderWidth:1,hoverable:!0,backgroundColor:"#fcfcfc"},tooltip:!0,tooltipOpts:{content:function(label,x,y){return x+" : "+y}},xaxis:{tickColor:"#fcfcfc",mode:"categories"},yaxis:{min:0,max:150,tickColor:"#eee",position:$rootScope.app.layout.isRTL?"right":"left",tickFormatter:function(v){return v}},shadowSize:0},vm.easyPiePercent1=60,vm.easyPiePercent2=30,vm.easyPiePercent3=50,vm.easyPiePercent4=75,vm.pieOptions1={animate:{duration:800,enabled:!0},barColor:Colors.byName("info"),trackColor:"#edf2f6",scaleColor:!1,lineWidth:2,lineCap:"round",size:130},vm.pieOptions2={animate:{duration:800,enabled:!0},barColor:Colors.byName("pink"),trackColor:"#edf2f6",scaleColor:!1,lineWidth:2,lineCap:"round",size:130},vm.pieOptions3={animate:{duration:800,enabled:!0},barColor:Colors.byName("purple"),trackColor:"#edf2f6",scaleColor:!1,lineWidth:2,lineCap:"round",size:130},vm.pieOptions4={animate:{duration:800,enabled:!0},barColor:Colors.byName("warning"),trackColor:"#edf2f6",scaleColor:!1,lineWidth:2,lineCap:"round",size:130}}angular.module("app.dashboard").controller("DashboardV2Controller",DashboardV2Controller),DashboardV2Controller.$inject=["$rootScope","$scope","$state","Colors"]}();
"use strict";!function(){function DashboardV3Controller($rootScope,Colors){var vm=this;vm.easyPiePercent=70,vm.pieOptions={animate:{duration:800,enabled:!0},barColor:Colors.byName("info"),trackColor:"rgba(200,200,200,0.4)",scaleColor:!1,lineWidth:10,lineCap:"round",size:145},vm.splineOptions={series:{lines:{show:!1},points:{show:!0,radius:4},splines:{show:!0,tension:.4,lineWidth:1,fill:.5}},grid:{borderColor:"#eee",borderWidth:1,hoverable:!0,backgroundColor:"#fcfcfc"},tooltip:!0,tooltipOpts:{content:function(label,x,y){return x+" : "+y}},xaxis:{tickColor:"#fcfcfc",mode:"categories"},yaxis:{min:0,max:150,tickColor:"#eee",position:$rootScope.app.layout.isRTL?"right":"left",tickFormatter:function(v){return v}},shadowSize:0},vm.seriesData={CA:11100,DE:2510,FR:3710,AU:5710,GB:8310,RU:9310,BR:6610,IN:7810,CN:4310,US:839,SA:410},vm.markersData=[{latLng:[41.9,12.45],name:"Vatican City"},{latLng:[43.73,7.41],name:"Monaco"},{latLng:[-.52,166.93],name:"Nauru"},{latLng:[-8.51,179.21],name:"Tuvalu"},{latLng:[7.11,171.06],name:"Marshall Islands"},{latLng:[17.3,-62.73],name:"Saint Kitts and Nevis"},{latLng:[3.2,73.22],name:"Maldives"},{latLng:[35.88,14.5],name:"Malta"},{latLng:[41,-71.06],name:"New England"},{latLng:[12.05,-61.75],name:"Grenada"},{latLng:[13.16,-59.55],name:"Barbados"},{latLng:[17.11,-61.85],name:"Antigua and Barbuda"},{latLng:[-4.61,55.45],name:"Seychelles"},{latLng:[7.35,134.46],name:"Palau"},{latLng:[42.5,1.51],name:"Andorra"}]}angular.module("app.dashboard").controller("DashboardV3Controller",DashboardV3Controller),DashboardV3Controller.$inject=["$rootScope","Colors"]}();
"use strict";angular.module("core.admin").run(["Menus",function(Menus){}]);
"use strict";angular.module("core.admin.routes").config(["$stateProvider",function($stateProvider){$stateProvider.state("admin",{abstract:!0,url:"/admin",template:"<ui-view/>",data:{roles:["admin"]}})}]);
"use strict";!function(){function coreConfig($controllerProvider,$compileProvider,$filterProvider,$provide,$animateProvider){var core=angular.module("core");core.controller=$controllerProvider.register,core.directive=$compileProvider.directive,core.filter=$filterProvider.register,core.factory=$provide.factory,core.service=$provide.service,core.constant=$provide.constant,core.value=$provide.value,$animateProvider.classNameFilter(/^((?!(ng-no-animation)).)*$/)}angular.module("core").config(coreConfig),coreConfig.$inject=["$controllerProvider","$compileProvider","$filterProvider","$provide","$animateProvider"]}();
"use strict";angular.module("core").constant("APP_MEDIAQUERY",{desktopLG:1200,desktop:992,tablet:768,mobile:480});
"use strict";angular.module("core").config(["$stateProvider","$urlRouterProvider","$locationProvider","RouteHelpersProvider",function($stateProvider,$urlRouterProvider,$locationProvider,helper){$urlRouterProvider.otherwise(function($injector,$location){$injector.get("$state").transitionTo("not-found",null,{location:!1})}),$locationProvider.html5Mode(!1),$urlRouterProvider.when("","/home/projects"),$urlRouterProvider.when("/","/home/projects"),$urlRouterProvider.otherwise("/"),$stateProvider.state("app",{url:"/",abstract:!0,templateUrl:"modules/core/client/views/core.client.view.html",resolve:helper.resolveFor("fastclick","modernizr","icons","screenfull","animo","sparklines","slimscroll","easypiechart","toaster","whirl")}).state("app.home",{url:"/home",templateUrl:"modules/core/client/views/home.client.view.html"}).state("app.not-found",{url:"/not-found",templateUrl:"modules/core/client/views/404.client.view.html",data:{ignoreState:!0}}).state("app.bad-request",{url:"/bad-request",templateUrl:"modules/core/client/views/400.client.view.html",data:{ignoreState:!0}}).state("app.forbidden",{url:"/forbidden",templateUrl:"modules/core/client/views/403.client.view.html",data:{ignoreState:!0}})}]);
"use strict";!function(){function appRun($rootScope,$state,$stateParams,$window,$templateCache,Colors,Authorization,ProjectCore){var offevent=$rootScope.$on("ocLazyLoad.fileLoaded",function(e,file){-1<file.indexOf("ag-grid.js")&&(agGrid.initialiseAgGridWithAngular1(angular),offevent())});$rootScope.$state=$state,$rootScope.$stateParams=$stateParams,$rootScope.$storage=$window.localStorage,$rootScope.colorByName=Colors.byName,$rootScope.cancel=function($event){$event.stopPropagation()},$rootScope.$on("$stateNotFound",function(event,unfoundState){console.log(unfoundState.to),console.log(unfoundState.toParams),console.log(unfoundState.options)}),$rootScope.$on("$stateChangeError",function(event,toState,toParams,fromState,fromParams,error){console.log(error)}),$rootScope.$on("$stateChangeSuccess",function(event,toState,toParams,fromState,fromParams){$state.current.authorization&&(Authorization.isAuthorized()?Authorization.go(toState):Authorization.go(fromState)),"app.data"!=toState.name&&"app.models"!=toState.name||ProjectCore.getProject()||$state.go("projects"),$window.scrollTo(0,0),$rootScope.currTitle=$state.current.title}),$rootScope.currTitle=$state.current.title,$rootScope.pageTitle=function(){var title=$rootScope.app.name+" - "+($rootScope.currTitle||$rootScope.app.description);return document.title=title}}angular.module("core").run(appRun),appRun.$inject=["$rootScope","$state","$stateParams","$window","$templateCache","Colors","Authorization","ProjectCore"]}();
"use strict";angular.module("core").controller("HeaderController",["$scope","$state","Authentication","Menus","ProjectCore","Socket","LayoutSettings","toaster",function($scope,$state,Authentication,Menus,ProjectCore,Socket,LayoutSettings,toaster){$scope.$state=$state,$scope.authentication=Authentication,$scope.projectName=ProjectCore.getProject().name,Authentication.user.layout&&($scope.app.layout.theme=Authentication.user.layout.theme),$scope.onChangeTheme=function(theme){new LayoutSettings({layout:{theme:theme}}).$save({userId:$scope.authentication.user._id},function(res){window.user.layout.theme=theme},function(err){})},$scope.copyProjectId=function(projectId){ProjectCore.copyProjectId(ProjectCore.getProject()._id)?toaster.pop("success",$scope.app.name,"Project Id is copied to clipboard!",3e3):toaster.pop("error",$scope.app.name,"Could not copy project Id!",3e3)},Socket.socket||Socket.connect(),Socket.emit("leave",ProjectCore.getProject()),Socket.emit("join",ProjectCore.getProject()),$scope.menu=Menus.getMenu("topbar"),$scope.isCollapsed=!1,$scope.toggleCollapsibleMenu=function(){$scope.isCollapsed=!$scope.isCollapsed},$scope.$on("$stateChangeSuccess",function(){$scope.isCollapsed=!1})}]);
"use strict";angular.module("core").controller("HomeController",["$scope","Authentication",function($scope,Authentication){$scope.authentication=Authentication}]);
"use strict";angular.module("core").directive("showErrors",["$timeout","$interpolate",function($timeout,$interpolate){var linkFn=function(scope,el,inputNgEl,formCtrl){var toggleClasses,showValidationMessages=!1,showSuccess=(scope.$eval(inputNgEl.showErrors)||{}).showSuccess||!1,inputNgEl=el[0].querySelector(".form-control[name]")||el[0].querySelector("[name]"),inputNgEl=angular.element(inputNgEl),inputName=$interpolate(inputNgEl.attr("name")||"")(scope);if(!inputName)throw"show-errors element has no child input elements with a 'name' attribute class";scope.$watch(function(){return formCtrl[inputName]&&formCtrl[inputName].$invalid},function(invalid){return toggleClasses(invalid)}),scope.$on("show-errors-check-validity",function(event,name){if(angular.isUndefined(name)||formCtrl.$name===name)return showValidationMessages=!0,toggleClasses(formCtrl[inputName].$invalid)}),scope.$on("show-errors-reset",function(event,name){if(angular.isUndefined(name)||formCtrl.$name===name)return $timeout(function(){el.removeClass("has-error"),el.removeClass("has-success"),showValidationMessages=!1},0,!1)}),toggleClasses=function(invalid){if(el.toggleClass("has-error",showValidationMessages&&invalid),showSuccess)return el.toggleClass("has-success",showValidationMessages&&!invalid)}};return{restrict:"A",require:"^form",compile:function(elem,attrs){if(-1===attrs.showErrors.indexOf("skipFormGroupCheck")&&!elem.hasClass("form-group")&&!elem.hasClass("input-group"))throw"show-errors element does not have the 'form-group' or 'input-group' class";return linkFn}}}]);
"use strict";angular.module("core").service("Menus",[function(){this.defaultRoles=["user","admin"],this.menus={};var shouldRender=function(user){if(~this.roles.indexOf("*"))return!0;if(!user)return!1;for(var userRoleIndex in user.roles)for(var roleIndex in this.roles)if(this.roles[roleIndex]===user.roles[userRoleIndex])return!0;return!1};this.validateMenuExistance=function(menuId){if(menuId&&menuId.length){if(this.menus[menuId])return!0;throw new Error("Menu does not exist")}throw new Error("MenuId was not provided")},this.getMenu=function(menuId){return this.validateMenuExistance(menuId),this.menus[menuId]},this.addMenu=function(menuId,options){return options=options||{},this.menus[menuId]={roles:options.roles||this.defaultRoles,items:options.items||[],shouldRender:shouldRender},this.menus[menuId]},this.removeMenu=function(menuId){this.validateMenuExistance(menuId),delete this.menus[menuId]},this.addMenuItem=function(menuId,options){if(options=options||{},this.validateMenuExistance(menuId),this.menus[menuId].items.push({title:options.title||"",state:options.state||"",type:options.type||"item",class:options.class,roles:null===options.roles||void 0===options.roles?this.defaultRoles:options.roles,position:options.position||0,items:[],shouldRender:shouldRender,iconClass:options.iconClass||"fa fa-file-o",translate:options.translateKey,alert:options.alert}),options.items)for(var i in options.items)this.addSubMenuItem(menuId,options.state,options.items[i]);return this.menus[menuId]},this.addSubMenuItem=function(menuId,parentItemState,options){for(var itemIndex in options=options||{},this.validateMenuExistance(menuId),this.menus[menuId].items)this.menus[menuId].items[itemIndex].state===parentItemState&&this.menus[menuId].items[itemIndex].items.push({title:options.title||"",state:options.state||"",roles:(null===options.roles||void 0===options.roles?this.menus[menuId].items[itemIndex]:options).roles,position:options.position||0,shouldRender:shouldRender});return this.menus[menuId]},this.removeMenuItem=function(menuId,menuItemState){for(var itemIndex in this.validateMenuExistance(menuId),this.menus[menuId].items)this.menus[menuId].items[itemIndex].state===menuItemState&&this.menus[menuId].items.splice(itemIndex,1);return this.menus[menuId]},this.removeSubMenuItem=function(menuId,submenuItemState){for(var itemIndex in this.validateMenuExistance(menuId),this.menus[menuId].items)for(var subitemIndex in this.menus[menuId].items[itemIndex].items)this.menus[menuId].items[itemIndex].items[subitemIndex].state===submenuItemState&&this.menus[menuId].items[itemIndex].items.splice(subitemIndex,1);return this.menus[menuId]},this.addMenu("topbar",{roles:["*"]}),this.addMenu("sidebar",{roles:["*"]})}]);
"use strict";angular.module("core").service("Socket",["Authentication","$state","$timeout",function(Authentication,$state,$timeout){this.connect=function(){Authentication.user&&(this.socket=io())},this.connect(),this.on=function(eventName,callback){this.socket&&this.socket.on(eventName,function(data){$timeout(function(){callback(data)})})},this.emit=function(eventName,data){this.socket&&this.socket.emit(eventName,data)},this.removeListener=function(eventName){this.socket&&this.socket.removeListener(eventName)}}]);
"use strict";!function(){function coreMenu(Menus){Menus.addMenuItem("sidebar",{title:"Data Drift",state:"app.datadrift",iconClass:"fa fa-flask",position:4,type:"dropdown",roles:["*"]}),Menus.addSubMenuItem("sidebar","app.datadrift",{title:"Drift Report",state:"app.datadrift"}),Menus.addSubMenuItem("sidebar","app.datadrift",{title:"Drift Settings",state:"app.datadrift-settings"})}angular.module("app.datadrift").run(coreMenu),coreMenu.$inject=["Menus"]}();
"use strict";angular.module("app.datadrift").config(["$stateProvider","RouteHelpersProvider",function($stateProvider,helper){$stateProvider.state("app.datadrift",{url:"data-drift",templateUrl:"modules/datadrift/client/views/list.client.view.html",resolve:helper.resolveFor("datatables","angularFileUpload","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle","summernote","ui.select","oitozero.ngSweetAlert"),controller:"DataDriftController as vm",authorization:{allowedRoles:["report_user","admin","developer","super_admin"]}}).state("app.datadrift-report",{url:"data-drift-report",templateUrl:"modules/datadrift/client/views/drift-report.client.view.html",resolve:helper.resolveFor("datatables","angularFileUpload","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle","summernote","ui.select","oitozero.ngSweetAlert"),controller:"DataDriftController as vm",authorization:{allowedRoles:["report_user","admin","developer","super_admin"]},params:{id:null}}).state("app.datadrift-settings",{url:"data-drift-settings",templateUrl:"modules/datadrift/client/views/drift-settings.client.view.html",resolve:helper.resolveFor("datatables","angularFileUpload","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle","summernote","ui.select","oitozero.ngSweetAlert"),controller:"DataDriftController as vm",authorization:{allowedRoles:["report_user","admin","developer","super_admin"]}})}]);
"use strict";!function(){function DataDriftController(Project,DTOptionsBuilder,DTColumnBuilder,$compile,$scope,ProjectCore,$state,Socket,toaster,$sce,Authentication,NVD3Config,TooltipData,SweetAlert,DataDriftService,$stateParams,$uibModal,TrainingService,DataService){var projectId,vm=this,td3=d3;function setMessage(message){vm.loaderText=message}function formatDate(data,type,full,meta){return"<span>"+moment(full.createdAt).format("lll")+"</span>"}function previewDataLink(data,type,full,meta){return'<a uib-tooltip="Click to preview the data." tooltip-placement="bottom" ui-sref="app.datadrift-report({id:\''+full._id+"'})\">"+full.reportName+"</a>"}function listAllDDReports(projectId){return vm.ddReportsList=DataDriftService.listAllDDReports.query({projectId:projectId}),vm.ddReportsList.$promise}function dataSetActions(data,type,full,meta){return'<button uib-tooltip="Click to remove the file." tooltip-placement="bottom" class="fa fa-trash btn btn-danger btn-sm" ng-click="vm.removeReport(\''+data._id+"','"+data.projectId+"')\"></button></div>"}function createdRow(row,data,dataIndex){$compile(angular.element(row).contents())($scope)}vm.uploadFileSize=500,NVD3Config.setD3Object(td3),vm.isEdit=!1,vm.isDriftType=!1,vm.algoType="classification",vm.conceptDriftType="distribution",vm.conceptDrift=!1,vm.dataDrift=!1,vm.status=[],vm.showLoading=!1,vm.numericFeatures=!1,vm.categoricalFeatures=!1,vm.textFeatures=!1,vm.modelPerformanceType=!1,vm.classificationMetricArray=[{name:"Accurracy",value:"accuracy"},{name:"F1 score",value:"f1_score"}],vm.regressionMetricArray=[{name:"RMSE",value:"rmse"},{name:"MAE",value:"mae"},{name:"R2",value:"r2"}],vm.metricArray=[{name:"Population Stability Index (PSI)",value:"psi"},{name:"Standard Deviation",value:"std"}],vm.psiThresholdArray=[{name:"Less than 0.1 (No change in population)",value:"<0.1"},{name:"0.1 – 0.20 (Some minor change in population)",value:"0.1-0.20"},{name:"Greater than 0.20 (Significant change in population)",value:">0.20"}],vm.stdThresholdArray=[{name:"1 STD (covers 68% of data)",value:"1"},{name:"2 STD (covers 95% of data)",value:"2"},{name:"3 STD (covers 99.7% of data)",value:"3"}],vm.getToolTipData=function(tooltip){return TooltipData.getTootipInfo(tooltip)[0]},vm.dtColumnsDDReports=[],vm.dtInstanceDDReports={},vm.showDatasetInfo=!0,vm.showConceptDrift=!1,vm.showDriftSummary=!1,vm.showDataDrift=!1,vm.showFeatureWise=!1,vm.backGround="#ffffff",vm.foreGround="#08509d",vm.toggleSectionsView=function(type){if("conceptDrift"===type){var graphDiv1=document.getElementById("distributionPlot");if(graphDiv1)for(;graphDiv1.data&&0<graphDiv1.data.length;)Plotly.deleteTraces(graphDiv1,[0]);var graphDiv2=document.getElementById("modelPerformancePlot");if(graphDiv2)for(;graphDiv2.data&&0<graphDiv2.data.length;)Plotly.deleteTraces(graphDiv2,[0]);vm.getDriftReport(),!1===vm.showConceptDrift?vm.showConceptDrift=!0:vm.showConceptDrift=!1}else"datasetInfo"===type?!1===vm.showDatasetInfo?vm.showDatasetInfo=!0:vm.showDatasetInfo=!1:"dataDrift"===type?!1===vm.showDataDrift?vm.showDataDrift=!0:vm.showDataDrift=!1:"summary"===type?!1===vm.showDriftSummary?vm.showDriftSummary=!0:vm.showDriftSummary=!1:!1===vm.showFeatureWise?vm.showFeatureWise=!0:vm.showFeatureWise=!1},vm.project=ProjectCore.getProject(),vm.stdThreshold=vm.project.stdThreshold||3,vm.selectedFileEncoding="utf_8",vm.fileEncodings=[],vm.fileEncodings=Project.getFileEncodings.filter(function(encoding){return encoding}),vm.getDriftReport=function(){$stateParams||"app.datadrift-settings"===$state.previous.state.name?$stateParams.id&&DataDriftService.getDDReport.query({projectId:vm.project._id,ddReportId:$stateParams.id}).$promise.then(function(res){vm.reportData=res,vm.inputFeatures=res.featureList,vm.incomingFileDetails=res.incomingFileId,res.conceptDrift.distributionPlot&&(res.conceptDrift.distributionPlot.layout.template.layout.plot_bgcolor="white",res.conceptDrift.distributionPlot.layout.xaxis.showgrid=!1,res.conceptDrift.distributionPlot.layout.yaxis.showgrid=!1,res.conceptDrift.distributionPlot.layout.yaxis.showline=!0,res.conceptDrift.distributionPlot.layout.yaxis.showline=!0,res.conceptDrift.distributionPlot.layout.xaxis.linecolor="black",res.conceptDrift.distributionPlot.layout.yaxis.linecolor="black",Plotly.plot(document.getElementById("distributionPlot"),res.conceptDrift.distributionPlot.data,res.conceptDrift.distributionPlot.layout)),res.conceptDrift.distribution&&(vm.distributionDetails=res.conceptDrift.distribution),res.conceptDrift.performancePlot&&(res.conceptDrift.performancePlot.layout.template.layout.plot_bgcolor="white",res.conceptDrift.performancePlot.layout.xaxis.showgrid=!1,res.conceptDrift.performancePlot.layout.yaxis.showgrid=!1,res.conceptDrift.performancePlot.layout.yaxis.showline=!0,res.conceptDrift.performancePlot.layout.yaxis.showline=!0,res.conceptDrift.performancePlot.layout.xaxis.linecolor="black",res.conceptDrift.performancePlot.layout.yaxis.linecolor="black",Plotly.plot(document.getElementById("modelPerformancePlot"),res.conceptDrift.performancePlot.data,res.conceptDrift.performancePlot.layout))},function(err){}):$state.go("app.datadrift")},vm.getDriftReport(),DataDriftService.getDriftConfigs.query({projectId:vm.project._id}).$promise.then(function(res){vm.driftConfigList=res},function(err){toaster.pop("error",$scope.app.name,"Could not list the configurations.",3e3)}),vm.algoTypeChanged=function(type){var isMultilabel="classification"===(vm.algoType=type);"classification"==vm.algoType?vm.modelPerformanceMetric="f1_score":vm.modelPerformanceMetric="rmse","rmse"===vm.modelPerformanceMetric||"mae"===vm.modelPerformanceMetric?vm.modelPerformanceThreshold=0:vm.modelPerformanceThreshold=50,getModelAlgorithms(type,isMultilabel)},vm.driftTypeChanged=function(){vm.isDriftType=!1,vm.conceptDrift&&(vm.distributionMetric="psi",vm.distributionThreshold=">0.20"),vm.dataDrift&&(vm.numericFeaturesMetric="psi",vm.numericFeaturesThreshold=">0.20"),vm.dataDrift&&(vm.categoricalFeaturesMetric="psi",vm.categoricalFeaturesThreshold=">0.20"),vm.dataDrift&&(vm.textFeaturesMetric="psi",vm.textFeaturesThreshold=">0.20")},vm.changeConceptDrift=function(){vm.modelPerformanceType&&("classification"==vm.algoType?vm.modelPerformanceMetric="f1_score":vm.modelPerformanceMetric="rmse","rmse"===vm.modelPerformanceMetric||"mae"===vm.modelPerformanceMetric?vm.modelPerformanceThreshold=0:vm.modelPerformanceThreshold=50)},vm.metricChanged=function(){"psi"===vm.distributionMetric?vm.distributionThreshold=">0.20":vm.distributionThreshold="3","psi"===vm.numericFeaturesMetric?vm.numericFeaturesThreshold=">0.20":vm.numericFeaturesThreshold="3","rmse"===vm.modelPerformanceMetric||"mae"===vm.modelPerformanceMetric?vm.modelPerformanceThreshold=0:vm.modelPerformanceThreshold=50},vm.openDriftSettingModal=function(config,edit){var modalInstance,modalScope=$scope.$new();vm.newConfig=config,edit?(vm.isEdit=!0,function(config){vm.algoType=config.algoType,vm.configName=config.configName,vm.conceptDrift=config.conceptDrift.isSelected,vm.dataDrift=config.dataDrift.isSelected,vm.conceptDrift&&(vm.modelPerformanceType=config.conceptDrift.modelPerformance.isSelected,vm.modelPerformanceMetric=config.conceptDrift.modelPerformance.metric,vm.modelPerformanceThreshold=config.conceptDrift.modelPerformance.threshold||config.conceptDrift.modelPerformance.threshold,vm.distributionType=config.conceptDrift.distribution.isSelected,vm.distributionMetric=config.conceptDrift.distribution.metric,vm.distributionThreshold=config.conceptDrift.distribution.threshold||config.conceptDrift.distribution.threshold,vm.distributionDriftThreshold=config.conceptDrift.distribution.driftThreshold),vm.dataDrift&&(vm.numericFeatures=config.dataDrift.numericFeatures.isSelected,vm.numericFeaturesMetric=config.dataDrift.numericFeatures.metric,vm.numericFeaturesThreshold=config.dataDrift.numericFeatures.threshold||config.dataDrift.numericFeatures.threshold,vm.numericFeaturesDriftThreshold=config.dataDrift.numericFeatures.driftThreshold,vm.categoricalFeatures=config.dataDrift.categoricalFeatures.isSelected,vm.categoricalFeaturesMetric=config.dataDrift.categoricalFeatures.metric,vm.categoricalFeaturesThreshold=config.dataDrift.categoricalFeatures.threshold&&config.dataDrift.categoricalFeatures.threshold.toString(),vm.textFeatures=config.dataDrift.textFeatures.isSelected,vm.textFeaturesMetric=config.dataDrift.textFeatures.metric,vm.textFeaturesThreshold=config.dataDrift.textFeatures.threshold&&config.dataDrift.textFeatures.threshold.toString())}(config)):(vm.isEdit=!1,vm.configName=null,vm.conceptDrift=!1,vm.dataDrift=!1,vm.algoType="classification"),modalInstance=$uibModal.open({templateUrl:"newDriftSettingModal.html",size:"lg",scope:modalScope}),modalScope.cancel=function(){modalInstance.close(modalScope.selected)},vm.submitDriftConfig=function(){var conceptDrift,finalConfig;vm.conceptDrift||vm.dataDrift?(vm.isDriftType=!1,vm.showLoading=!0,modalInstance.close(modalScope.selected),conceptDrift={isSelected:vm.conceptDrift,modelPerformance:{isSelected:vm.modelPerformanceType,metric:vm.modelPerformanceMetric,threshold:vm.modelPerformanceThreshold},distribution:{isSelected:vm.distributionType,metric:vm.distributionMetric,threshold:"1"===vm.distributionThreshold||"2"===vm.distributionThreshold||"3"===vm.distributionThreshold?parseInt(vm.distributionThreshold):vm.distributionThreshold,driftThreshold:vm.distributionDriftThreshold}},finalConfig={isSelected:vm.dataDrift,numericFeatures:{isSelected:vm.numericFeatures,metric:vm.numericFeaturesMetric,threshold:"1"===vm.numericFeaturesThreshold||"2"===vm.numericFeaturesThreshold||"3"===vm.numericFeaturesThreshold?parseInt(vm.numericFeaturesThreshold):vm.numericFeaturesThreshold,driftThreshold:vm.numericFeaturesDriftThreshold},categoricalFeatures:{isSelected:vm.categoricalFeatures,newCategories:!0,metric:vm.categoricalFeaturesMetric,threshold:vm.categoricalFeaturesThreshold},textFeatures:{isSelected:vm.textFeatures,metric:vm.textFeaturesMetric,threshold:vm.textFeaturesThreshold}},finalConfig={configName:vm.configName,algoType:vm.algoType,conceptDrift:conceptDrift,dataDrift:finalConfig,createdBy:vm.project.createdBy,projectId:vm.project._id},(vm.isEdit?function(finalConfig){new DataDriftService.updateConfig(finalConfig).$update({projectId:vm.project._id,configId:vm.newConfig._id},function(resp){vm.showLoading=!1,toaster.pop("success",$scope.app.name,"Settings updated successfully.",3e3),vm.driftConfigList=vm.driftConfigList.map(function(item){return item._id===vm.newConfig._id&&(item=resp),item})},function(err){vm.showLoading=!1,toaster.pop("error",$scope.app.name,"Could not update the configurations.",3e3)})}:function(finalConfig){new DataDriftService.insertDriftConfig(finalConfig).$save({projectId:vm.project._id},function(resp){vm.showLoading=!1,vm.driftConfigList.push(resp),toaster.pop("success",$scope.app.name,"Settings saved successfully.",3e3)},function(err){vm.showLoading=!1,toaster.pop("error",$scope.app.name,"Could not save the configurations.",3e3)})})(finalConfig)):vm.isDriftType=!0}},vm.removeConfig=function(configId,projectId){var id=configId;DataDriftService.deleteConfig.remove({projectId:projectId,configId:configId},function(res){vm.driftConfigList=vm.driftConfigList.filter(function(item){return item._id!=id}),toaster.pop("success",$scope.app.name,"Deleted successfully.",3e3)},function(err){vm.showLoading=!1,toaster.pop("error",$scope.app.name,"Could not delete the configuration.",3e3)})},vm.removeReport=function(reportId,projectId){SweetAlert.swal({title:"Are you sure?",text:"You will not be able to recover this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete!",closeOnConfirm:!0},function(isConfirm){isConfirm&&DataDriftService.deleteReport.query({projectId:projectId,driftReportId:reportId},function(res){0<res.deletedCount?(toaster.pop("success",$scope.app.name,"Deleted successfully.",3e3),vm.ddReportsList=vm.ddReportsList.filter(function(item){return item._id!==reportId}),vm.dtInstanceDDReports.reloadData(!1)):toaster.pop("error",$scope.app.name,"File not found",4e3)},function(err){vm.showLoading=!1,toaster.pop("error",$scope.app.name,err.data.message||"Failed to delete the report!",4e3)})})},vm.dataFiltering=function(item){return 0===item.hasDrifted||"false"===item.hasDrifted?"false":1===item.hasDrifted||"true"===item.hasDrifted?"true":"-"},vm.metricValue=function(item){return null==item.message?item.metricValue:"-"},vm.convertToMessage=function(threshodType){var msg="";return">0.20"===threshodType||"<0.1"===threshodType||"0.1-0.20"===threshodType?vm.psiThresholdArray.filter(function(item){item.value===threshodType&&(msg=item.name)}):vm.stdThresholdArray.filter(function(item){item.value===threshodType.toString()&&(msg=item.name)}),msg},vm.doFeatureWiseDA=function(){vm.showLoading=!0;var data={algoType:vm.reportData.algoType,type:"feature_wise",stdThreshold:vm.project.stdThreshold||3,reportName:vm.reportData.reportName,inputFeature:vm.inputFeature,incomingFileId:vm.reportData.incomingFileId};DataService.listAllProjectDatas.query({projectId:vm.project._id},function(res){var selectedDataSet=res[0].filesList.find(function(item){return item._id==vm.reportData.incomingFileId._id});DataService.getChildDatasets.query({projectId:vm.project._id,dataId:selectedDataSet._id}).$promise.then(function(resp){vm.originalFileWithEdaDetails=resp[0],data.incomingFilepath=selectedDataSet.name,data.incomingSchema=selectedDataSet.fileSchema.map(function(item){return{colName:item.colName,dataType:item.dataType}}),void 0!==vm.originalFileWithEdaDetails?data.edaSummary=vm.originalFileWithEdaDetails.edaId.edaSummary:data.edaSummary=null,new DataDriftService.startDriftAnalysis(data).$save({trainingId:vm.reportData.trainingId._id,modelId:vm.reportData.modelId},function(resp){vm.showLoading=!1,setMessage("Feature wise drift analysis started.")},function(err){vm.showLoading=!1,toaster.pop("error",$scope.app.name,"Could not start drift analysis.",3e3)})})})},projectId=vm.project._id,vm.dtColumnsDDReports=[],vm.dtInstanceDDReports={},vm.dtInstanceDDReports.hasOwnProperty("DataTable")&&(vm.dtInstanceDDReports.DataTable.destroy(),vm.dtColumnsDDReports.length=0),vm.dtOptionsDDReports=DTOptionsBuilder.fromFnPromise(function(){return vm.ddReportsList=DataDriftService.listAllDDReports.query({projectId:projectId}),vm.ddReportsList.$promise}).withOption("processing",!0).withOption("deferRender",!0).withPaginationType("full_numbers").withOption("createdRow",createdRow).withOption("fnRowCallback",function(nRow,aData,iDisplayIndex){return $("td:first",nRow).html(iDisplayIndex+1),nRow}),vm.dtColumnsDDReports=[DTColumnBuilder.newColumn(null).withTitle("Sr No.").withOption("defaultContent"," ").notSortable(),DTColumnBuilder.newColumn("reportName").withTitle("Name").notSortable().renderWith(previewDataLink),DTColumnBuilder.newColumn("createdAt").withTitle("Created At").renderWith(formatDate),DTColumnBuilder.newColumn(null).withTitle("Actions").notSortable().renderWith(dataSetActions)],vm.listAllDDReportsPromise=listAllDDReports,Socket.on("dataDrift",function(data){for(var graphDiv=document.getElementById("featureWiseDistribution");graphDiv.data&&0<graphDiv.data.length;)Plotly.deleteTraces(graphDiv,[0]);if("datadrift_failed"==data.status)toaster.pop("danger",$scope.app.name,data.data,3e3);else{var propName,data=data.data;for(propName in vm.bstats=data.baselineStats,vm.istats=data.incomingStats,vm.bstats)""===vm.bstats[propName]&&delete vm.bstats[propName];for(propName in vm.istats)""===vm.istats[propName]&&delete vm.istats[propName];vm.baselineStats=vm.bstats,vm.incomingStats=vm.istats,data.hasOwnProperty("featureWiseDistribution")&&data.featureWiseDistribution.data.length&&(data.featureWiseDistribution.layout.template.layout.plot_bgcolor="white",data.featureWiseDistribution.layout.xaxis.showgrid=!1,data.featureWiseDistribution.layout.yaxis.showgrid=!1,data.featureWiseDistribution.layout.yaxis.showline=!0,data.featureWiseDistribution.layout.yaxis.showline=!0,data.featureWiseDistribution.layout.xaxis.linecolor="black",data.featureWiseDistribution.layout.yaxis.linecolor="black",Plotly.plot(graphDiv,data.featureWiseDistribution.data,data.featureWiseDistribution.layout)),setMessage("Drift analysis completed."),toaster.pop("success",$scope.app.name,"Data drift analysis completed.",3e3)}vm.showLoading=!1}),$scope.$on("$destroy",function(){Socket.removeListener("dataDrift")})}angular.module("app.datadrift").controller("DataDriftController",DataDriftController),DataDriftController.$inject=["Project","DTOptionsBuilder","DTColumnBuilder","$compile","$scope","ProjectCore","$state","Socket","toaster","$sce","Authentication","NVD3Config","TooltipData","SweetAlert","DataDriftService","$stateParams","$uibModal","TrainingService","DataService"]}();
"use strict";angular.module("app.datadrift").factory("DataDriftService",["$resource",function($resource){return this.listAllDDReports=$resource("/api/v2/projects/:projectId/datadrift/list",{projectId:"@projectId"},{query:{method:"GET",isArray:!0}}),this.startDriftAnalysis=$resource("/api/v2/training/:trainingId/models/:modelId/datadrift/start",{trainingId:"@trainingId",modelId:"@modelId"}),this.getDDReport=$resource("/api/v2/projects/:projectId/datadrift/:ddReportId",{projectId:"@_id"},{query:{method:"GET",isArray:!1}}),this.insertDriftConfig=$resource("/api/v2/projects/:projectId/driftConfig",{projectId:"@projectId"},{query:{method:"POST"}}),this.getDriftConfigs=$resource("/api/v2/projects/:projectId/config",{projectId:"@_id"},{query:{method:"GET",isArray:!0}}),this.deleteConfig=$resource("/api/v2/projects/:projectId/delete/:configId",{projectId:"@_id",configId:"@configId"},{query:{method:"DELETE",isArray:!1}}),this.updateConfig=$resource("/api/v2/projects/:projectId/update/:configId",{projectId:"@projectId",configId:"@configId"},{update:{method:"PUT"}}),this.deleteReport=$resource("/api/v2/projects/:projectId/datadrift/:driftReportId",{projectId:"@projectId",driftReportId:"@driftReportId"},{query:{method:"DELETE",isArray:!1}}),this}]);
"use strict";
"use strict";angular.module("app.dataset").config(["$stateProvider","RouteHelpersProvider",function($stateProvider,helper){$stateProvider.state("app.dataset",{url:"dataset",templateUrl:"modules/dataset/client/views/dataset.client.view.html",resolve:helper.resolveFor("datatables","angularFileUpload","taginput","inputmask","angularBootstrapNavTree","localytics.directives","ui.bootstrap-slider","ngWig","filestyle","summernote","ui.select","oitozero.ngSweetAlert"),controller:"DatasetController as vm",authorization:{allowedRoles:["report_user","admin","developer","super_admin"]}})}]);
"use strict";!function(){function DatasetController(FileUploader,Project,$http,DataService,DTOptionsBuilder,DTColumnBuilder,DTColumnDefBuilder,$compile,$scope,ProjectCore,$uibModal,Socket,toaster,$q,$sce,Authentication,NVD3Config,TooltipData,SweetAlert){var vm=this,td3=d3,dataListArray=[],filterArray=[],breadArray=[];vm.uploadFileSize=500,NVD3Config.setD3Object(td3),vm.status=[],vm.showLoading=!1,vm.showCheckbox=!1,vm.deleteArray=[],vm.joinTypes=["inner","left","right","outer"],vm.getToolTipData=function(tooltip){return TooltipData.getTootipInfo(tooltip)[0]},vm.dtColumnsUpldPreview=[],vm.dtInstanceUpldPreview={},vm.project=ProjectCore.getProject(),DataService.listAllProjectFileList.query({projectId:vm.project._id}).$promise.then(function(res){vm.dataSetsList=res},function(){}),vm.selectedFileEncoding="utf_8",vm.fileEncodings=[],vm.fileEncodings=Project.getFileEncodings.filter(function(encoding){return encoding});var uploader,api="/api/v2/projects/"+vm.project._id+"/data/upload?encoding="+vm.selectedFileEncoding;function datasetsList(){vm.showLoading=!0,breadArray=[],vm.crumb=breadArray,filterArray=[],DataService.listAllProjectDatas.query({projectId:vm.project._id}).$promise.then(function(data){filterArray=filterArray.concat(data[0].dataGroupList).concat(data[0].filesList),dataListArray=(dataListArray=filterArray.filter(function(temp){if(!Object.keys(temp).includes("parentId")&&!Object.keys(temp).includes("datagroup_id"))return temp}))[0]._id;data=filterArray.filter(function(temp){if(temp.parentId==dataListArray||temp.datagroup_id==dataListArray)return temp});vm.fArr=data,vm.showLoading=!1},function(err){})}function filterDataset(dataSet,idTocheck){return dataSet.find(function(data){if(data._id==idTocheck)return!0})}function getHeadCols(data){return Object.keys(data)}vm.onFileEncodingChange=function(selectedFileEncoding){api="/api/v2/projects/"+vm.project._id+"/data/upload?encoding="+selectedFileEncoding,vm.uploadOptions={url:api}},uploader=api,vm.uploadOptions={url:uploader},(uploader=vm.uploader=new FileUploader({removeAfterUpload:!0})).filters.push({name:"fileTypeChecker",fn:function(temp){var type=null;return type=temp.type?"|"+temp.type.slice(temp.type.lastIndexOf("/")+1)+"|":(temp=temp.name.split("."))[temp.length-1],-1!=="|csv|vnd.ms-excel|zip|x-zip-compressed|vnd.openxmlformats-officedocument.spreadsheetml.sheet|pkl|pk|pl|pickle|json|".indexOf(type)}}),uploader.filters.push({name:"maxFileSizeChecker",fn:function(item){return item.size<=1024*vm.uploadFileSize*1024}}),uploader.onWhenAddingFileFailed=function(item,filter,options){"maxFileSizeChecker"==filter.name?toaster.pop("error",$scope.app.name,"Max file size supported for this instance is "+vm.uploadFileSize+"MB",3e3):"fileTypeChecker"==filter.name?toaster.pop("error",$scope.app.name,"Supported file types are CSV,PKL,ZIP and XLSX",3e3):toaster.pop("error",$scope.app.name,"Failed to upload",3e3)},vm.onMergeSelectionChange=function(){var api=null,api=vm.isMerge?"/api/projects/"+vm.project._id+"/merge?mtype=file&encoding=utf-8&from=psense":"/api/v2/projects/"+vm.project._id+"/data/upload?encoding="+vm.selectedFileEncoding;vm.uploadOptions={url:api}},vm.dtOptions=DTOptionsBuilder.newOptions().withOption("processing",!0).withOption("deferRender",!0).withPaginationType("full_numbers"),vm.dtColumnDefs=[DTColumnDefBuilder.newColumnDef(0).notSortable(),DTColumnDefBuilder.newColumnDef(1),DTColumnDefBuilder.newColumnDef(2),DTColumnDefBuilder.newColumnDef(3),DTColumnDefBuilder.newColumnDef(4),DTColumnDefBuilder.newColumnDef(5),DTColumnDefBuilder.newColumnDef(6).notSortable()],vm.toggleOne=function(item,selectedItems){delete item.fileSchema,delete item.descriptiveStatistics,1==selectedItems?vm.deleteArray.push(item):vm.deleteArray=vm.deleteArray.filter(function(doc){return doc._id!=item._id})},vm.toggleSelect=function(selected,data){data.fileSource&&1<vm.fArr.length?vm.showCheckbox=!0:vm.showCheckbox=!1},vm.toggleUnselect=function(){vm.showCheckbox=!1,vm.deleteArray=[]},datasetsList(),vm.removeDataSet=function(dataId){SweetAlert.swal({title:"Are you sure?",text:"You will not be able to recover this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete!",closeOnConfirm:!0},function(isConfirm){if(isConfirm)if("deleteAll"==dataId){if(0==vm.deleteArray.length)return toaster.pop("error",$scope.app.name,"select a dataset",3e3),!1;DataService.deleteAllFile.query({pid:vm.project._id,data:vm.deleteArray}).$promise.then(function(){vm.deleteArray=[],vm.showCheckbox=!1,datasetsList()},function(err){toaster.pop("error",$scope.app.name,"Oops!, something went wrong while deleting the dataset!",3e3)})}else DataService.myFile.remove({projectId:vm.project._id,dataId:dataId}).$promise.then(function(){var data;0<vm.crumb.length?(filterArray.splice(filterArray.findIndex(function(temp){if(temp.parentId==dataId||temp.datagroup_id==dataId)return temp},1)),data=filterArray.filter(function(temp){if(temp.parentId==vm.datasGroupID||temp.datagroup_id==vm.datasGroupID)return temp}),vm.fArr=data):datasetsList(),vm.showCheckbox=!1},function(err){toaster.pop("error",$scope.app.name,"Oops!, something went wrong while deleting the dataset!",3e3)})})},vm.getdataGroup=function(data,name){vm.showLoading=!0,breadArray.push({id:data,name:name}),vm.datasGroupID=data,vm.all="test",vm.crumb=breadArray;data=filterArray.filter(function(temp){if(temp.parentId==data||temp.datagroup_id==data)return temp});vm.fArr=data,vm.showLoading=!1},vm.initialstage=function(id,name){vm.showLoading=!0;breadArray.indexOf("id");var data1=breadArray.findIndex(function(x){if(x.id==id)return x});breadArray.splice(data1+1);data1=filterArray.filter(function(temp){if(temp.parentId==id||temp.datagroup_id==id)return temp});vm.fArr=data1,vm.showLoading=!1},vm.startstage=function(){datasetsList()},vm.openMergeData=function(parentDataSetId,datagroup){vm.mergeData=null,vm.selectedDataSetId=parentDataSetId;var modalInstance,parentFile=filterDataset(vm.dataSetsList,parentDataSetId),modalScope=$scope.$new();modalScope.selectedFileName=parentFile.filename,modalInstance=$uibModal.open({templateUrl:"mergeDataModel.html",size:"lg",scope:modalScope}),modalScope.cancel=function(){vm.mergeData.selectedDataset=null,modalInstance.close(modalScope.selected)};var mergeDataSet=null;modalScope.onChangeDataset=function(dataSetId){mergeDataSet=filterDataset(vm.dataSetsList,dataSetId),vm.avalialbleColumnsToMerge=mergeDataSet.fileSchema,modalScope.commonColumns=parentFile.fileSchema.filter(function(value){return mergeDataSet.fileSchema.find(function(item){return item.colName==value.colName})})},modalScope.submit=function(mergeData){vm.showCheckbox=!1,vm.showLoading=!0,mergeData.originalFilePath=parentFile.filename,mergeData.pid=vm.project._id,mergeData.dataGroupId=datagroup,mergeData.mergeFilePath=mergeDataSet.filename,mergeData.parentDatasetTasks=parentFile.tasks,mergeData.mergeDatasetTasks=mergeDataSet.tasks,(mergeData=new DataService.mergeData(mergeData)).$save(function(resp){modalInstance.close(modalScope.selected),vm.mergeData.selectedDataset=null,toaster.pop("success",$scope.app.name,"Data merge started...",3e3),datasetsList()},function(err){vm.showLoading=!1,toaster.pop("error",$scope.app.name,err.data.message||"Failed to merge!",3e3)})}},vm.openPreviewDataModal=function(dataId){vm.dtColumnsUpldPreview=[],vm.dtInstanceUpldPreview={},vm.featureList=[],vm.showPreviewTable=!1;var modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"buildDataPreviewTable.html",size:"lg",scope:modalScope});modalScope.cancel=function(){modalInstance.close(modalScope.selected)},modalScope.buildPreviewTable=function(){vm.show=!1,vm.showLoading=!0,new DataService.myFile({pid:vm.project._id,dataId:dataId}).$save({isDataTypeRequired:!0},function(response){var head=[];if(vm.dtInstanceUpldPreview.hasOwnProperty("DataTable")){vm.dtInstanceUpldPreview.DataTable.destroy(),vm.dtColumnsUpldPreview.length=0,vm.dtOptionsUpldPreview=DTOptionsBuilder.fromFnPromise(function(){var defer=$q.defer();return defer.resolve(response.preview),defer.promise}).withOption("processing",!0).withOption("deferRender",!0).withPaginationType("full_numbers");for(var head=getHeadCols(response.preview[0]),i=0;i<head.length;i++)vm.dtColumnsUpldPreview.push(DTColumnBuilder.newColumn(head[i]).withTitle(head[i]))}else{vm.featureList.length=0,vm.dtOptionsUpldPreview=DTOptionsBuilder.fromFnPromise(function(){var defer=$q.defer();return defer.resolve(response.preview),defer.promise}).withOption("processing",!0).withOption("lengthChange",!1).withOption("paging",!1).withOption("deferRender",!0);for(head=getHeadCols(response.preview[0]),i=0;i<head.length;i++)vm.dtColumnsUpldPreview.push(DTColumnBuilder.newColumn(head[i]).withTitle(head[i]));vm.edaAutoFeatureList=angular.copy(vm.featureList)}vm.showLoading=!1,vm.showPreviewTable=!0,ga("send","event","Projects","Read uploaded file for preview",!0)},function(errorResponse){vm.showLoading=!1,vm.show=!1,toaster.pop("error",$scope.app.name,"Oops!, something went wrong while generating preview table",3e3)})},modalScope.buildPreviewTable()},vm.openDataReport=function(dataId){$scope.contentAdvEda=$sce.trustAsHtml("<div class='text-center'><h3>Generating EDA report...</h3><h6>This may take some time, please wait.</h6></div>");var modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"modules/eda/client/views/pp.html",size:"xl",scope:modalScope});modalScope.cancel=function(){modalInstance.close(modalScope.selected)},$http.get("/api/v2/projects/"+vm.project._id+"/data/"+dataId+"/report").then(function(resp){$scope.contentAdvEda=$sce.trustAsHtml(resp.data)},function(err){$scope.contentAdvEda=$sce.trustAsHtml("<h5 class='text-center'>Oops!, something went wrong while generating advanced EDA report.</h5>"),toaster.pop("error",$scope.app.name,"Oops!, something went wrong while generating advanced EDA report",3e3)})},vm.fileEncodings=[],vm.fileEncodings=Project.getFileEncodings.filter(function(encoding){return encoding}),Socket.on("pullData",function(message){"pull_success"===message.status?(vm.showLoading=!1,toaster.pop("success",$scope.app.name,"Data uploaded successfully.",3e3),datasetsList()):(vm.showLoading=!1,toaster.pop("error",$scope.app.name,message.status,3e3))}),$scope.$on("$destroy",function(){Socket.removeListener("pullData")})}angular.module("app.dataset").controller("DatasetController",DatasetController),DatasetController.$inject=["FileUploader","Project","$http","DataService","DTOptionsBuilder","DTColumnBuilder","DTColumnDefBuilder","$compile","$scope","ProjectCore","$uibModal","Socket","toaster","$q","$sce","Authentication","NVD3Config","TooltipData","SweetAlert"]}(),angular.module("app.datas").filter("bytes",function(){return function(bytes,precision){if(isNaN(parseFloat(bytes))||!isFinite(bytes))return"-";void 0===precision&&(precision=1);var number=Math.floor(Math.log(bytes)/Math.log(1024));return(bytes/Math.pow(1024,Math.floor(number))).toFixed(precision)+" "+["bytes","kB","MB","GB","TB","PB"][number]}}),angular.module("app.datas").directive("restrictInput",function(){return{restrict:"A",require:"ngModel",link:function(scope,element,attr,ctrl){ctrl.$parsers.unshift(function(viewValue){var overrideValue=new RegExp("^[a-zA-Z0-9 ]*$");if(overrideValue.test(viewValue))return viewValue;overrideValue=overrideValue.test(ctrl.$modelValue)?ctrl.$modelValue:"";return element.val(overrideValue),overrideValue})}}}),angular.module("app.datas").filter("shortNumber",function(){return function(number){if(number){var abs=Math.abs(number);return abs>=Math.pow(10,12)?number=(number/Math.pow(10,12)).toFixed(1)+"T":abs<Math.pow(10,12)&&abs>=Math.pow(10,9)?number=(number/Math.pow(10,9)).toFixed(1)+"B":abs<Math.pow(10,9)&&abs>=Math.pow(10,6)?number=(number/Math.pow(10,6)).toFixed(1)+"M":abs<Math.pow(10,6)&&abs>=Math.pow(10,3)&&(number=(number/Math.pow(10,3)).toFixed(1)+"K"),number}}}),angular.module("app.projects").filter("displayType",function(){return function(type){return"timeseries"==type?"Timeseries":"predictive_modeling"==type?"Predictive Modeling":"Clustering"}}),angular.module("app.datas").directive("clickAndDisable",function(){return{scope:{clickAndDisable:"&"},link:function(scope,iElement){iElement.bind("click",function(){iElement.prop("disabled",!0),scope.clickAndDisable().finally(function(){iElement.prop("disabled",!1)})})}}}),angular.module("app.projects").directive("myDir",function(){return{controller:["$scope",function(){}],link:function(scope,element){element.on("submit",function(){})}}}),angular.module("app.projects").filter("filterStrategies",function(){return function(strategies,sharedObj){return"Numeric"==sharedObj.dataType?["Min","Median","Max","Mean","Mode","St.Dev"]:["Mode"]}});
"use strict";angular.module("app.dataset").factory("DataflowService",["$resource",function($resource){return this.listAllProjectDatas=$resource("api/v2/projects/:projectId/data",{projectId:"@_id"},{update:{method:"PUT"}}),this.myFile=$resource("/api/v2/projects/:projectId/data/:dataId",{projectId:"@pid",dataId:"@dataId"}),this.pullData=$resource("/api/v2/projects/:projectId/data/pull",{projectId:"@pid"}),this.getChildDatasets=$resource("/api/v2/projects/:projectId/data/:dataId/child",{projectId:"@pid"}),this.mergeData=$resource("/api/v2/projects/:projectId/data/merge",{projectId:"@pid"}),this}]);
"use strict";!function(){function coreMenu(Menus){Menus.addMenuItem("sidebar",{title:"EDA",state:"app.eda",iconClass:"fa fa-line-chart",position:2,roles:["*"]})}angular.module("app.eda").run(coreMenu),coreMenu.$inject=["Menus"]}();
"use strict";angular.module("app.eda").config(["$stateProvider","RouteHelpersProvider",function($stateProvider,helper){$stateProvider.state("app.eda",{url:"eda",templateUrl:"modules/eda/client/views/eda.client.view.html",resolve:helper.resolveFor("datatables","angularFileUpload","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle","summernote","ui.select","oitozero.ngSweetAlert"),controller:"EdaController as vm",authorization:{allowedRoles:["report_user","admin","developer","super_admin"]}})}]);
"use strict";!function(){function EdaController(Project,$http,DTOptionsBuilder,DTColumnBuilder,$compile,$scope,ProjectCore,$uibModal,Socket,toaster,$q,$sce,Authentication,NVD3Config,TooltipData,DataService,EdaService,$timeout,$location,TrainingService){var vm=this,td3=d3;function checkEmptyCustomValues(data){var k,isEmptyPresent=!1;for(k in data)null!=data[k]&&""!==data[k]||(isEmptyPresent=!0);return isEmptyPresent}function buildEdaPreviewTable(edaData){vm.dtInstanceEdaPreview.hasOwnProperty("DataTable")&&(vm.dtInstanceEdaPreview.DataTable.destroy(),vm.dtColumnsEdaPreview.length=0),vm.dtOptionsEdaPreview=DTOptionsBuilder.fromFnPromise(function(){var defer=$q.defer();try{new Project.readUploadedData({filepath:edaData.correctedData,pid:vm.project._id}).$save(function(res){defer.resolve(res.preview)},function(err){})}catch(e){defer.resolve(edaData.edaSummary)}return defer.promise}).withOption("processing",!0).withPaginationType("full_numbers").withOption("deferRender",!0);for(var i=0;i<vm.correctedDataHeading.length;i++)vm.dtColumnsEdaPreview.push(DTColumnBuilder.newColumn(vm.correctedDataHeading[i]).withTitle(vm.correctedDataHeading[i]))}function buildOutlierPreviewTable(edaData){vm.dtInstanceOutlierPreview.hasOwnProperty("DataTable")&&(vm.dtInstanceOutlierPreview.DataTable.destroy(),vm.dtColumnsOutlierPreview.length=0),vm.dtOptionsOutlierPreview=DTOptionsBuilder.fromFnPromise(function(){var defer=$q.defer();try{new Project.readUploadedData({filepath:edaData.outlierPreviewFilepath,pid:vm.project._id}).$save(function(res){defer.resolve(res.preview)},function(err){})}catch(e){}return defer.promise}).withOption("processing",!0).withPaginationType("full_numbers").withOption("deferRender",!0);for(var i=0;i<vm.correctedDataHeading.length;i++)vm.dtColumnsOutlierPreview.push(DTColumnBuilder.newColumn(vm.correctedDataHeading[i]).withTitle(vm.correctedDataHeading[i]))}function buildEdaStrategyTable(finalFeatureList,temp){listfiles(),vm.finalFeatureList=finalFeatureList,vm.dtOptionsEdaTable=DTOptionsBuilder.fromFnPromise(function(){var defer=$q.defer();return defer.resolve(vm.finalFeatureList),defer.promise}).withOption("processing",!0).withOption("deferRender",!0).withPaginationType("full_numbers").withOption("createdRow",createdRow),vm.dtColumnsEdaTable=[DTColumnBuilder.newColumn(null).withTitle("Feature Name").renderWith(checkAutoGenFeature).notSortable(),DTColumnBuilder.newColumn(null).withTitle("Var Type").notSortable().renderWith(varTypeSelection),DTColumnBuilder.newColumn(null).withTitle("Imputation Strategy").notSortable().renderWith(actionsHtml),DTColumnBuilder.newColumn("missing").withTitle("Missing").notSortable(),DTColumnBuilder.newColumn("unique").withTitle("Unique").notSortable(),DTColumnBuilder.newColumn("mean").withTitle("Mean").notSortable(),DTColumnBuilder.newColumn("std").withTitle("SD").notSortable(),DTColumnBuilder.newColumn("min").withTitle("Min").notSortable(),DTColumnBuilder.newColumn("median").withTitle("Median").notSortable(),DTColumnBuilder.newColumn("max").withTitle("Max").notSortable(),DTColumnBuilder.newColumn(null).withTitle("Outlier Detection Strategy").notSortable().renderWith(detectionHtml),DTColumnBuilder.newColumn(null).withTitle("Outlier Correction Strategy").notSortable().renderWith(correctionHtml)],"after_eda"==temp&&vm.dtColumnsEdaTable.push(DTColumnBuilder.newColumn("outlierCount").withTitle("Outlier").notSortable()),"timeseries"==vm.project.type&&(temp=DTColumnBuilder.newColumn("frequency").withTitle("Frequency").notSortable(),vm.dtColumnsEdaTable.splice(3,0,temp)),vm.showEdaTable=!0}function createdRow(row,data,dataIndex){$compile(angular.element(row).contents())($scope)}function checkAutoGenFeature(data,type,full,meta){var customStyle="";return data.constantFeature?'<div uib-tooltip="Rejected, constant feature.This feature contains only one value for all the outputs in the dataset." tooltip-placement="bottom" style="'+(customStyle+="text-decoration:line-through;color:red")+'">'+data.colName+"</div>":data.highCardinalityFeature?'<div uib-tooltip="Rejected, high cardinality feature.This feature contains values that are very uncommon or unique,are typically identification numbers, email addresses, or user names." tooltip-placement="bottom" style="'+(customStyle+="text-decoration:line-through;color:red")+'">'+data.colName+"</div>":data.mostlyMissing?(customStyle+="text-decoration:line-through;color:red",'<div uib-tooltip="Rejected, feature contains '+100*data.missingProportion+'% of missing data." tooltip-placement="bottom" style="'+customStyle+'">'+data.colName+"</div>"):data.colName}vm.uploadFileSize=500,NVD3Config.setD3Object(td3),vm.showLoading=!1,vm.showValue=!0,vm.showClassDropdown=!1,vm.getToolTipData=function(tooltip){return TooltipData.getTootipInfo(tooltip)[0]},vm.class=[],vm.dtInstanceEdaTable={},vm.dtColumnsEdaTable=[],vm.dtColumnsEdaPreview=[],vm.dtInstanceEdaPreview={},vm.dtColumnsOutlierPreview=[],vm.dtInstanceOutlierPreview={},vm.correctedDataHeading=[],vm.FeatureTransform=[{featureName:"",fromText:"",toText:""}],vm.conditionalFilter=[{featureName:"",method:"",value:""}],$scope.feature=[],vm.backGround="#ffffff",vm.foreGround="#08509d",vm.graphTypes={Numeric:["Barplot","Boxplot","Scatterplot"],Categorical:["Barplot","Pieplot"]},vm.Numeric=[{name:"Equal To",value:"equalTo"},{name:"Greater Than",value:"greaterThan"},{name:"Less Than",value:"lessThan"},{name:"Greater Than Equal",value:"greaterThanEqual"},{name:"Less Than Equal",value:"lessThanEqual"},{name:"Remove Number",value:"removeNumber"}],vm.DateTime=[{name:"Date Equal To",value:"dateEqualTo"},{name:"Date Greater Than Equal",value:"dateGreaterThanEqual"},{name:"Date Less Than Equal",value:"dateLessThanEqual"},{name:"Date Greater Than",value:"dateGreaterThan"},{name:"Date Less Than",value:"dateLessThan"}],vm.Text=[{name:"Remove Text",value:"removeText"}],vm.Categorical=[{name:"Equal Class",value:"equalClass"},{name:"Remove Class",value:"removeClass"}],vm.project=ProjectCore.getProject(),listfiles(),vm.isGPUAvailable=ProjectCore.getGPUDetails(),vm.outlierDetectionStrategies=EdaService.outlierDetectionStrategies,vm.outlierCorrectionStrategies=EdaService.outlierCorrectionStrategies,vm.customCorrectionStrategy=null,vm.customEdaStrategy=null,vm.polynomialOrder=null,vm.splineOrder=null,vm.edaData=null,vm.displayMessage=null,vm.missingThreshold=50,vm.eda_stages=[{stageTitle:"Calculating missing values",status:!1,stage:0},{stageTitle:"Calculating statistical details",status:!1,stage:0},{stageTitle:"Implementing strategies for missing values",status:!1,stage:0},{stageTitle:"Handling outliers",status:!1,stage:0},{stageTitle:"Generating EDA summary",status:!1,stage:0},{stageTitle:"Finalizing EDA...",status:!1,stage:0}],vm.graphTypes={Integer:["Barplot","Boxplot","Scatterplot"],Decimal:["Barplot","Boxplot","Scatterplot"],Categorical:["Barplot","Pieplot"]},vm.graphType="Barplot",vm.imputationFeature=[],vm.startEda=function(selectedDataset){if(checkEmptyCustomValues(vm.customEdaStrategy))return alert("Custom field value cannot be empty!"),0;if(checkEmptyCustomValues(vm.customCorrectionStrategy))return alert("Custom Outlier Correction Strategy field value cannot be empty!"),0;vm.edaStages=[{stageTitle:"Calculating missing values",status:!1}],vm.showLoading=!0,vm.edaStarted=!0;var arr,edaParams={edaMode:vm.edaMode,strategies:vm.finalFeatureList,missingThreshold:vm.missingThreshold,pId:vm.project._id,stringTransformation:vm.FeatureTransform,edaCondtionalFiltering:vm.conditionalFilter,customEdaStrategy:vm.customEdaStrategy,customCorrectionStrategy:vm.customCorrectionStrategy,imputationFeature:vm.imputationFeature.length?vm.imputationFeature[0]:null,featuresToImpute:vm.featuresToImpute||null,afterEdaDataFilePath:vm.edaData?vm.edaData.afterEdaDataFilePath:null,filePath:vm.selectedDataSet.name,fileEncoding:vm.selectedDataSet.fileEncoding||"utf_8",parentPipelineFilename:vm.selectedDataSet.tasks[0].currentPipelineFilename||null,parentFileId:vm.selectedDataSet._id,usingGPU:vm.project.useGPU||!1};""==vm.FeatureTransform[0].featureName?delete edaParams.stringTransformation:(vm.FeatureTransform=vm.FeatureTransform.filter(function(temp){if(""!=temp.featureName)return temp}),edaParams.stringTransformation=vm.FeatureTransform),""==vm.conditionalFilter[0].featureName||""==vm.conditionalFilter[0].method||""==vm.conditionalFilter[0].value?(delete edaParams.edaCondtionalFiltering,$scope.feature=[]):(vm.conditionalFilter=vm.conditionalFilter.filter(function(temp){if(""!=temp.featureName&&""!=temp.method&&""!==temp.value)return"equalClass"!=temp.method&&"equalClass"!=temp.method||temp.value[0],temp}),arr=[],vm.conditionalFilter.map(function(item){var itemFound=$scope.feature.find(function(feature){return feature.colName==item.featureName});itemFound&&arr.push(itemFound)}),$scope.feature=[],$scope.feature=arr,edaParams.edaCondtionalFiltering=vm.conditionalFilter),edaParams.imputationFeature||(edaParams.featuresToImpute=null),"timeseries"==vm.project.type&&(edaParams.timeseriesInfo={datetimeIndex:vm.datetimeIndex},vm.polynomialOrder&&(edaParams.polynomialOrder=vm.polynomialOrder),vm.splineOrder&&(edaParams.splineOrder=vm.splineOrder)),new EdaService.startEda(edaParams).$save(function(response){vm.eda=response,vm.displayMessage="",ga("send","event","Projects","Eda started",!0)},function(errorResponse){vm.edaStarted=!1,vm.showLoading=!1,toaster.pop("error",$scope.app.name,errorResponse.data.message,3e3)})},vm.hideEdaProgress=function(){vm.edaStarted=!1},vm.addOption=function(){vm.FeatureTransform.push({featureName:"",fromText:"",toText:""})},vm.removeFeatureOption=function(option){vm.FeatureTransform.splice(vm.FeatureTransform.indexOf(option),1)},vm.customStyles={};var m=0,s=0;function actionsHtml(data,type,full,meta){s++;var initVal=data.imputationCustomValue||"",initPolynomialOrder=data.polynomialOrder||2,initSplineOrder=data.splineOrder||2,actionHtml='<div class="col-md-12"><div class="col-md-5"><select class="alignrow" id="imputation" ng-change="vm.changeStrategy({colName:\''+data.colName+"'},str["+s+'])" ng-model="str['+s+']" ng-init="str['+s+"]='"+data.imputationStrategy+"';vm.strategies"+s+" = vm.getStrategy('"+data.customVarType+'\')"><option value="" disabled selected>Select strategy</option><option ng-repeat="strategy in vm.strategies'+s+'">{{strategy}}</option></select></div>';return actionHtml="Integer"==data.dataType||"Decimal"==data.dataType?actionHtml+'&nbsp;<div class="col-md-8"><input class="form-control " class="alignrow" type="number" id="custom" placeholder="Custom value" ng-if="str['+s+']==\'Custom\'" type="text" ng-model="vm.customEdaStrategy[\''+data.colName+"']\" ng-init=\"vm.customEdaStrategy['"+data.colName+"']="+initVal+'"/><input class="form-control " class="alignrow" type="number" id="polynomial" placeholder="Order value" ng-if="(str['+s+']==\'Polynomial\')" type="text" ng-model="vm.polynomialOrder[\''+data.colName+"']\" ng-init=\"vm.polynomialOrder['"+data.colName+"']="+initPolynomialOrder+'"/><input class="form-control " class="alignrow" type="number" id="spline"  placeholder="Order value" ng-if="(str['+s+']==\'Spline\')" type="text" ng-model="vm.splineOrder[\''+data.colName+"']\" ng-init=\"vm.splineOrder['"+data.colName+"']="+initSplineOrder+'"/></div></div>':actionHtml+'&nbsp;<div class="col-md-8"><input id="custom" class="form-control alignrow" type="text" restrict-input placeholder="Custom value" ng-if="str['+s+']==\'Custom\'" type="text" ng-model="vm.customEdaStrategy[\''+data.colName+"']\" ng-init=\"vm.customEdaStrategy['"+data.colName+"']='"+initVal+"'\"/></div></div>"}function detectionHtml(data,type,full,meta){return"Integer"==data.dataType||"Decimal"==data.dataType?(m++,'<div class="col-md-3"><select id="numeric" ng-change="vm.changeOutDetectionStrategy({colName:\''+data.colName+"'},st["+m+'])" ng-model="st['+m+']" ng-init="st['+m+"]='"+data.outlierDetectionStrategy+'\'"><option value="" disabled>Select strategy</option><option value="{{strategy}}" ng-repeat="strategy in vm.outlierDetectionStrategies">{{strategy}}</option></select></div>'):"<div>Supported for numeric feature only</div>"}function correctionHtml(data,type,full,meta){if("Integer"!=data.dataType&&"Decimal"!=data.dataType)return"<div>Supported for numeric feature only</div>";m++;var initVal=data.ocsCustomValues||"";return'<div class="col-md-12><div class="col-md-8"><select id="numeric1" ng-change="vm.changeOutCorrectionStrategy({colName:\''+data.colName+"'},st["+m+'])" ng-model="st['+m+']" ng-init="st['+m+"]='"+data.outlierCorrectionStrategy+'\'"><option value="" disabled selected>Select strategy</option><option value="{{strategy}}" ng-repeat="strategy in vm.outlierCorrectionStrategies">{{strategy}}</option></select></div><div class="col-md-8"><input class="form-control" id="customstragey" restrict-input placeholder="Custom value" ng-if="st['+m+']==\'Custom\'" type="text" ng-model="vm.customCorrectionStrategy[\''+data.colName+"']\" ng-init=\"vm.customCorrectionStrategy['"+data.colName+"']='"+initVal+"'\"/></div></div>"}vm.changeStrategy=function(column,strategy){vm.indx=myIndexOf(column),"Custom"!=(vm.finalFeatureList[vm.indx].imputationStrategy=strategy)&&vm.customEdaStrategy&&vm.customEdaStrategy.hasOwnProperty([column.colName])&&delete vm.customEdaStrategy[column.colName],"timeseries"==vm.project.type&&("Polynomial"!=strategy&&vm.polynomialOrder&&vm.polynomialOrder.hasOwnProperty([column.colName])&&delete vm.polynomialOrder[column.colName],"Spline"!=strategy&&vm.polynomialOrder&&vm.splineOrder.hasOwnProperty([column.colName])&&delete vm.splineOrder[column.colName]),detectChanges()};var v=0;function varTypeSelection(data,type,full,meta){return v++,'<div class="col-md-3"><select ng-change="vm.changeVarType({colName:\''+data.colName+"'},vt["+v+"],"+v+')" ng-model="vt['+v+']" ng-init="vt['+v+"]='"+data.customVarType+'\'"><option value="" disabled>Select var type</option><option value="{{vartype}}" ng-repeat="vartype in vm.getCustomVarTypes(\''+data.dataType+"')\">{{vartype}}</option></select></div>"}function myIndexOf(o){for(var i=0;i<vm.finalFeatureList.length;i++)if(vm.finalFeatureList[i].colName==o.colName)return i;return-1}function listfiles(){DataService.listAllProjectDatas.query({projectId:vm.project._id}).$promise.then(function(res){vm.dataSetsList=res[0].filesList},function(){})}function mergeArrays(dataSet,callback){dataSet.descriptiveStatistics&&dataSet.descriptiveStatistics.length?dataSet.fileSchema.forEach(function(schema){dataSet.descriptiveStatistics.forEach(function(ds){ds.colName==schema.colName&&(schema.unique=ds.unique,schema.max=ds.max,schema.median=ds.median,schema.min=ds.min,schema.std=ds.std,schema.mean=ds.mean,schema.missing=ds.missing,"timeseries"==vm.project.type&&(schema.frequency=ds.frequency||"NA"))})}):dataSet.fileSchema.forEach(function(schema){schema.unique="",schema.max="",schema.median="",schema.min="",schema.std="",schema.mean="",schema.missing="",schema.frequency=""}),callback(dataSet)}function detectChanges(){vm.edaData?vm.displayMessage=isEqual(vm.originalObject,vm.edaData.edaSummary)?"":"We have detected some changes, please do eda again.":vm.displayMessage=isEqual(vm.originalObject,vm.finalFeatureList)?"":"We have detected some changes, please do eda again."}function isEqual(object1,object2){return JSON.stringify(object1)===JSON.stringify(object2)}function buildHeaderColumns(edaSummary){edaSummary.forEach(function(data){data.isSharedFeature=!1,"Datetime"!=data.data_type&&vm.correctedDataHeading.push(data.colName)})}function findTheDataType(targetVar){return vm.featureDataTypes.find(function(e){return e.colName==targetVar})}function filterArray(myArray,itemToRemove){return myArray.filter(function(arrayItem){return arrayItem!=itemToRemove})}function uniqueBy(arr,prop){return arr.reduce(function(a,d){return a.includes(d[prop])||a.push(d),a},[])}function getHeadCols(data){return Object.keys(data)}vm.getCustomVarTypes=function(customVarType){switch(customVarType){case"Integer":case"Decimal":return["Categorical","Integer","Decimal"];case"Categorical":return["Text","Categorical"];case"Text":return["Text"];case"Datetime":return["Datetime"];case"URL":return["URL"];case"Boolean":return["Integer","Decimal","Categorical","Boolean"]}},vm.changeOutDetectionStrategy=function(column,strategy){vm.indx=myIndexOf(column),"Custom"!=(vm.finalFeatureList[vm.indx].outlierDetectionStrategy=strategy)&&vm.customEdaStrategy&&vm.customEdaStrategy.hasOwnProperty([column.colName])&&delete vm.customEdaStrategy[column.colName],detectChanges()},vm.changeOutCorrectionStrategy=function(column,strategy){vm.indx=myIndexOf(column),"Custom"!=(vm.finalFeatureList[vm.indx].outlierCorrectionStrategy=strategy)&&vm.customCorrectionStrategy&&vm.customCorrectionStrategy.hasOwnProperty([column.colName])&&delete vm.customCorrectionStrategy[column.colName],detectChanges()},vm.changeVarType=function(column,vartype,v){vm.showEdaTable=!1;var defaultimputationDataType=null,defaultimputationDataType="timeseries"==vm.project.type?{Integer:"Linear",Decimal:"Linear",Categorical:"Mode",Datetime:"Delete",Boolean:"Mode",Text:"Mode",URL:"Mode"}:{Integer:"Median",Decimal:"Mean",Categorical:"Mode",Datetime:"Delete",Boolean:"Mode",Text:"Mode",URL:"Mode"};vm.indx=myIndexOf(column);var t="strategies"+v;vm[t]=vm.getStrategy(vartype),vm["str["+v+"]"]=vm[t][0],vm.finalFeatureList.forEach(function(data){return data.colName==column.colName&&(data.customVarType=vartype,data.isVarTypeChanged=!0,data.imputationStrategy=defaultimputationDataType[vartype],vm.dtInstanceEdaTable.reloadData(!1),!0)}),vm.showEdaTable=!0,detectChanges()},vm.getStrategy=function(dataType){var startegies=[],startegies="timeseries"==vm.project.type?["Linear","Time","Index","Values","Nearest","Zero","Slinear","Quadratic","Cubic","Barycentric","Krogh","Polynomial","Spline","Piecewise_polynomial","Pchip","Mode","Custom","Delete"]:["Min","Median","Max","Mean","Mode","St.Dev","Custom","Delete"];return"Integer"==dataType||"Decimal"==dataType?startegies:["Mode","Custom","Delete"]},vm.onIndexColumnChange=function(){vm.edaData&&(vm.showLoading=!0,vm.showEdaTable=!1,$timeout(function(){mergeArrays(vm.tempObj,function(mergedData){buildEdaStrategyTable(mergedData.fileSchema,"before_eda"),vm.showLoading=!1})},1e3))},vm.shareReport=function(usersets){usersets.outputName=usersets.fileSource,usersets.outputType="EDA",usersets.filename=usersets.name,usersets.projectId=usersets.ProjectId,usersets.edaId=vm.edaData._id,$http.post("/api/v2/projects/"+vm.project._id+"/output",usersets).success(function(response){$location.path("output")})},vm.onChangeFeature=function(colName,index){vm.feature=vm.conditionalFeature.filter(function(item){return item.colName==colName});var data=$scope.feature[index];data&&data.colName!=colName&&$scope.feature.splice(index,1),vm.conditionalFilter[index].value="",vm.conditionalFilter[index].method="",$scope.feature.push(vm.feature[0]),"Categorical"==vm.feature[0].dataType&&(vm.showLoading=!0,new TrainingService.uniqueCategories({afterEdaDataFilePath:vm.selectedDataSet.name,colName:colName,projectId:vm.project._id}).$save(function(res){$timeout(function(){vm.class[index]=res.data,vm.showLoading=!1},1e3)},function(err){vm.showLoading=!1}))},vm.removeFilter=function(option){vm.conditionalFilter.splice(vm.FeatureTransform.indexOf(option),1);var indexArray=$scope.feature.findIndex(function(x){return x.colName==option.featureName});$scope.feature.splice(indexArray,1)},vm.addFilterOption=function(){vm.conditionalFilter.push({featureName:"",method:"",value:""})},vm.preview=function(){var arr,modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"openConditionalFilter.html",size:"lg",scope:modalScope});modalScope.cancel=function($modalInstance){modalInstance.close(modalScope.selected)},""!=vm.conditionalFilter[0].featureName&&""!=vm.conditionalFilter[0].method&&""!=vm.conditionalFilter[0].value?(vm.conditionalFilter=vm.conditionalFilter.filter(function(temp){if(""!=temp.featureName&&""!=temp.method&&""!==temp.value)return"equalClass"!=temp.method&&"equalClass"!=temp.method||temp.value[0],temp}),arr=[],vm.conditionalFilter.map(function(item){var itemFound=$scope.feature.find(function(feature){return feature.colName==item.featureName});itemFound&&arr.push(itemFound)}),$scope.feature=[],$scope.feature=arr,modalScope.buildPreviewTable=function(){EdaService.conditionalFilter.query({projectId:vm.project._id,fileName:vm.selectedDataSet.name,edaCondtionalFiltering:vm.conditionalFilter}).$promise.then(function(res){vm.conditionalPreviewData=res,vm.dtColumnsUpldPreview=[],vm.dtInstanceUpldPreview={};vm.dtOptionsUpldPreview=DTOptionsBuilder.fromFnPromise(function(){var defer=$q.defer();return defer.resolve(res.descriptiveStatistics),defer.promise}).withOption("processing",!0).withOption("lengthChange",!1).withOption("paging",!0).withOption("deferRender",!0);for(var head=getHeadCols(res.descriptiveStatistics[0]),i=0;i<head.length;i++)vm.dtColumnsUpldPreview.push(DTColumnBuilder.newColumn(head[i]).withTitle(head[i]));vm.showLoading=!1,vm.showPreviewTable=!0,ga("send","event","Projects","Read uploaded file for preview",!0)},function(errorResponse){vm.showLoading=!1,vm.show=!1,toaster.pop("error",$scope.app.name,"Oops!, something went wrong while generating preview table",3e3)})},modalScope.buildPreviewTable()):$scope.feature=[]},vm.onChangeDataset=function(dataSetId){vm.edaData=null,vm.showLoading=!0,vm.showEdaTable=!1,vm.selectedDataSet=vm.dataSetsList.find(function(data){return data._id==dataSetId}),vm.finalFeatureList=vm.selectedDataSet.fileSchema,vm.conditionalFeature=vm.finalFeatureList.filter(function(item){if("Categorical"==item.dataType||"Text"==item.dataType||"Decimal"==item.dataType||"Datetime"==item.dataType||"Integer"==item.dataType)return item}),vm.feature=[],vm.list=vm.finalFeatureList.filter(function(temp){if("Categorical"==temp.dataType||"Text"==temp.dataType)return temp}),vm.list.forEach(function(data){vm.feature.push(data.colName)}),vm.imputationFeatures=[],vm.numericFeatures=[];var projectType=vm.project.type;vm.FeatureTransform=[{featureName:"",fromText:"",toText:""}],vm.conditionalFilter=[{featureName:"",method:"",value:""}],vm.finalFeatureList.map(function(feature){return feature.outlierDetectionStrategy="Inter-Quartile Range",feature.outlierCorrectionStrategy="Ignore outlier",feature.isVarTypeChanged=!1,feature.customVarType=feature.dataType,"Decimal"==feature.dataType?(feature.imputationStrategy="timeseries"==projectType?"Linear":"Mean",vm.numericFeatures.push({numericFeature:feature.colName})):"Integer"==feature.dataType?(feature.imputationStrategy="timeseries"==projectType?"Linear":"Median",vm.numericFeatures.push({numericFeature:feature.colName})):"DatetimeDatetime"==feature.dataType||"Text"==feature.dataType?feature.imputationStrategy="Delete":feature.imputationStrategy="Mode","Categorical"!=feature.dataType&&"Boolean"!=feature.dataType||vm.imputationFeatures.push({imputationFeature:feature.colName}),feature}),vm.tempObj=angular.copy(vm.selectedDataSet),DataService.getChildDatasets.query({projectId:vm.selectedDataSet.ProjectId,dataId:dataSetId}).$promise.then(function(resp){vm.originalObject=null,resp.length?(vm.edaData=resp[0].edaId,vm.correctedDataHeading=[],"timeseries"==vm.project.type&&(vm.datetimeIndex=vm.edaData.timeseriesInfo?vm.edaData.timeseriesInfo.datetimeIndex:null),buildHeaderColumns(vm.edaData.edaSummary),vm.edaData.edaSummary[0].hasOwnProperty("isVarTypeChanged")||vm.edaData.edaSummary.map(function(item){return item.isVarTypeChanged=!1,item.missing=item.hasOwnProperty("missingCount")?item.missingCount:item.missing,item}),vm.originalObject=angular.copy(vm.edaData.edaSummary),buildEdaStrategyTable(vm.edaData.edaSummary,"after_eda"),buildEdaPreviewTable(vm.edaData),vm.edaData.outlierPreviewFilepath&&buildOutlierPreviewTable(vm.edaData)):(vm.edaMode="auto",vm.selectedDataSet.fileSchema=vm.finalFeatureList,mergeArrays(vm.selectedDataSet,function(finalData){vm.originalObject=angular.copy(finalData.fileSchema),buildEdaStrategyTable(finalData.fileSchema,"before_eda")})),vm.showLoading=!1},function(err){vm.showLoading=!1})},vm.downloadAdvEdaReport=function(){ga("send","event","Models","Downloading eda report",!0),window.open("/api/v2/eda/"+vm.edaData._id+"/adv-eda-report/download")},vm.downloadEdaSummary=function(){ga("send","event","Models","Downloading eda summary",!0),window.open("/api/v2/eda/"+vm.edaData._id+"/edaSummary/download")},vm.downloadOutlierPreview=function(){ga("send","event","Models","Downloading eda summary",!0),window.open("/api/v2/eda/"+vm.edaData._id+"/outlierPreview/download")},vm.openEdaReport=function(){vm.showEDAReportDownloadoption=!1,$scope.contentAdvEda=$sce.trustAsHtml("<div class='text-center'><h3>Generating EDA report...</h3><h6>This may take some time, please wait.</h6></div>");var modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"modules/eda/client/views/pp.html",size:"xl",scope:modalScope});modalScope.cancel=function(){modalInstance.close(modalScope.selected)},$http.get("/api/v2/projects/"+vm.project._id+"/eda/"+vm.edaData._id+"/advedainfo").then(function(resp){vm.showEDAReportDownloadoption=!0,$scope.contentAdvEda=$sce.trustAsHtml(resp.data),vm.showLoading=!1},function(err){vm.showEDAReportDownloadoption=!1,$scope.contentAdvEda=$sce.trustAsHtml("<h5 class='text-center'>"+$scope.app.name,err.data.message+"</h5>")})},vm.initAllFeatures=function(){vm.allFeatures=[],vm.featureDataTypes.forEach(function(data){vm.allFeatures.push(data.colName)}),1==vm.multiUniFeatures.length&&(vm.ftype=findTheDataType(vm.multiUniFeatures[0]),vm.graphTypesSelected=vm.graphTypes[vm.ftype.multivariateDataType],vm.featureSelectionChanged(),vm.graphTypesSelected&&(vm.graphTypesSelected=filterArray(vm.graphTypesSelected,"Scatterplot")),vm.graphType="Barplot")},vm.featureSelectionChanged=function(){vm.allFeatures=[];var temp,dt=[];1==vm.multiUniFeatures.length?(vm.ftype=findTheDataType(vm.multiUniFeatures[0]),vm.graphTypesSelected=vm.graphTypes[vm.ftype.multivariateDataType],"Integer"==vm.ftype.multivariateDataType||"Decimal"==vm.ftype.multivariateDataType?dt=["Integer","Decimal","Datetime","Categorical","Boolean"]:"Datetime"==vm.ftype.multivariateDataType?dt=["Integer","Decimal"]:"Categorical"==vm.ftype.multivariateDataType||"Boolean"==vm.ftype.multivariateDataType?dt=["Integer","Decimal","Categorical","Boolean"]:"Text"!=vm.ftype.multivariateDataType&&"URL"!=vm.ftype.multivariateDataType||(dt=[]),(temp=vm.graphTypes[vm.ftype.multivariateDataType])&&(vm.graphTypesSelected=filterArray(temp,"Scatterplot")),vm.graphType="Barplot"):2==vm.multiUniFeatures.length&&(vm.graphTypesSelected=[],vm.ftype=findTheDataType(vm.multiUniFeatures[0]),"Integer"==vm.ftype.multivariateDataType||"Decimal"==vm.ftype.multivariateDataType||"Boolean"==vm.ftype.multivariateDataType||"Categorical"==vm.ftype.multivariateDataType?(vm.sencondftype=findTheDataType(vm.multiUniFeatures[1]),"Integer"==vm.ftype.multivariateDataType&&"Integer"==vm.sencondftype.multivariateDataType&&(vm.graphTypesSelected=["Boxplot","Scatterplot"],vm.graphType="Boxplot"),"Decimal"==vm.ftype.multivariateDataType&&"Decimal"==vm.sencondftype.multivariateDataType&&(vm.graphTypesSelected=["Boxplot","Scatterplot"],vm.graphType="Boxplot"),"Integer"==vm.ftype.multivariateDataType&&"Decimal"==vm.sencondftype.multivariateDataType&&(vm.graphTypesSelected=["Boxplot","Scatterplot"],vm.graphType="Boxplot"),"Decimal"==vm.ftype.multivariateDataType&&"Integer"==vm.sencondftype.multivariateDataType&&(vm.graphTypesSelected=["Boxplot","Scatterplot"],vm.graphType="Boxplot"),"Integer"==vm.ftype.multivariateDataType&&"Numeric"==vm.sencondftype.multivariateDataType&&(vm.graphTypesSelected=["Boxplot","Scatterplot"],vm.graphType="Boxplot"),"Numeric"==vm.ftype.multivariateDataType&&"Integer"==vm.sencondftype.multivariateDataType&&(vm.graphTypesSelected=["Boxplot","Scatterplot"],vm.graphType="Boxplot"),"Numeric"==vm.ftype.multivariateDataType&&"Numeric"==vm.sencondftype.multivariateDataType&&(vm.graphTypesSelected=["Boxplot","Scatterplot"],vm.graphType="Boxplot"),("Integer"==vm.ftype.multivariateDataType&&"Boolean"==vm.sencondftype.multivariateDataType||"Boolean"==vm.ftype.multivariateDataType&&"Integer"==vm.sencondftype.multivariateDataType||"Boolean"==vm.ftype.multivariateDataType&&"Decimal"==vm.sencondftype.multivariateDataType||"Decimal"==vm.ftype.multivariateDataType&&"Boolean"==vm.sencondftype.multivariateDataType||"Boolean"==vm.ftype.multivariateDataType&&"Numeric"==vm.sencondftype.multivariateDataType||"Numeric"==vm.ftype.multivariateDataType&&"Boolean"==vm.sencondftype.multivariateDataType||"Categorical"==vm.ftype.multivariateDataType&&"Integer"==vm.sencondftype.multivariateDataType||"Integer"==vm.ftype.multivariateDataType&&"Categorical"==vm.sencondftype.multivariateDataType||"Categorical"==vm.ftype.multivariateDataType&&"Decimal"==vm.sencondftype.multivariateDataType||"Decimal"==vm.ftype.multivariateDataType&&"Categorical"==vm.sencondftype.multivariateDataType||"Categorical"==vm.ftype.multivariateDataType&&"Numeric"==vm.sencondftype.multivariateDataType||"Numeric"==vm.ftype.multivariateDataType&&"Categorical"==vm.sencondftype.multivariateDataType)&&(vm.graphTypesSelected=["Barplot","Boxplot","Histogram"],vm.graphType="Barplot"),dt=["Integer","Decimal","Categorical","Boolean"]):"Datetime"==vm.ftype.multivariateDataType?dt=[]:"Categorical"==vm.ftype.multivariateDataType||"Boolean"==vm.ftype.multivariateDataType?dt=["Integer","Decimal","Categorical","Boolean"]:"Text"!=vm.ftype.multivariateDataType&&"URL"!=vm.ftype.multivariateDataType||(dt=[])),vm.featureDataTypes.forEach(function(data){-1!==dt.indexOf(data.multivariateDataType)&&vm.allFeatures.push(data.colName)})},vm.showErrorMsg=!1,vm.Error="",vm.doMultiUniVariateAnalysis=function(){vm.featureDataTypes=[],NVD3Config.getMplD3Object()&&(window.d3=NVD3Config.getMplD3Object()),vm.multiUniFeatures=[],vm.allFeatures=[],$scope.multiUnivariateAnalysis="",vm.finalFeatureList.forEach(function(data){var obj={colName:data.colName,data:data.dataType,multivariateDataType:data.dataType};-1==vm.featureDataTypes.indexOf(obj)&&vm.featureDataTypes.push(obj),vm.allFeatures.push(data.colName)}),Authentication.user.layout&&"themes/theme-l.css"==Authentication.user.layout.theme?(vm.backGround="#252525",vm.foreGround="#be7024"):(vm.backGround="#ffffff",vm.foreGround="#08509d");var modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"multiUnivariateAnalysis.html",size:"lg",scope:modalScope});modalScope.cancel=function(){window.d3=td3,vm.allFeatures.length=0,modalInstance.close(modalScope.selected)},modalScope.submit=function(){vm.showErrorMsg=!1;var obj={backGround:vm.backGround,foreGround:vm.foreGround,selectedVariables:vm.multiUniFeatures,chartType:vm.graphType};vm.edaData?(obj.edaSummary=uniqueBy(vm.edaData.edaSummary,"colName"),obj.afterEdaDataFilePath=vm.edaData.afterEdaDataFilePath):(obj.featureDataTypes=uniqueBy(vm.featureDataTypes,"colName"),obj.originalFilePath=vm.selectedDataSet.name),obj.fileEncoding=vm.selectedDataSet.fileEncoding||"utf_8",$http.post("/api/v2/projects/"+vm.project._id+"/report/trainmodel/multiunivariate",obj).then(function(wordCloud){var res=wordCloud.data;vm.showwmultiUnivariateAnalysis=!1,vm.showwordCloud=!1;var wordCloud=document.getElementById("wordCloud"),graphDiv=document.getElementById("multiUnivariateAnalysis");if("Text"==vm.ftype.multivariateDataType||"URL"==vm.ftype.multivariateDataType)vm.showwordCloud=!0,vm.showwmultiUnivariateAnalysis=!1,wordCloud.setAttribute("src","data:application/pdf;base64,"+res.graphContent);else{for(vm.showwordCloud=!1,vm.showwmultiUnivariateAnalysis=!0;graphDiv.data&&0<graphDiv.data.length;)Plotly.deleteTraces(graphDiv,[0]);res.graphContent.layout.template.layout.plot_bgcolor="white",res.graphContent.layout.width=1138,res.graphContent.layout.height=450,res.graphContent.layout.template.layout.title.xanchor="center",res.graphContent.layout.template.layout.title.y=.9,res.graphContent.layout.template.layout.title.x=.5,res.graphContent.layout.template.layout.title.yanchor="top",res.graphContent.layout.xaxis.linecolor="black",res.graphContent.layout.yaxis.linecolor="black",Plotly.plot(graphDiv,res.graphContent.data,res.graphContent.layout)}},function(err){vm.showErrorMsg=!0,vm.Error=err.data.graphContent})}},vm.openPreviewDataModal=function(size,dataId){vm.dtColumnsUpldPreview=[],vm.dtInstanceUpldPreview={},vm.featureList=[],vm.showPreviewTable=!1;var modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"buildDataPreviewTable.html",size:size,scope:modalScope});modalScope.cancel=function(){modalInstance.close(modalScope.selected)},modalScope.buildPreviewTable=function(){vm.show=!1,vm.showLoading=!0,new DataService.myFile({pid:vm.project._id,dataId:dataId}).$save({isDataTypeRequired:!0},function(response){var head=[];if(vm.dtInstanceUpldPreview.hasOwnProperty("DataTable")){vm.dtInstanceUpldPreview.DataTable.destroy(),vm.dtColumnsUpldPreview.length=0,vm.dtOptionsUpldPreview=DTOptionsBuilder.fromFnPromise(function(){var defer=$q.defer();return defer.resolve(response.preview),defer.promise}).withOption("processing",!0).withOption("deferRender",!0).withPaginationType("full_numbers"),head=getHeadCols(response.preview[0]);for(var i=0;i<head.length;i++)vm.dtColumnsUpldPreview.push(DTColumnBuilder.newColumn(head[i]).withTitle(head[i]))}else{vm.featureList.length=0,vm.dtOptionsUpldPreview=DTOptionsBuilder.fromFnPromise(function(){var defer=$q.defer();return defer.resolve(response.preview),defer.promise}).withOption("processing",!0).withOption("lengthChange",!1).withOption("paging",!1).withOption("deferRender",!0);for(head=getHeadCols(response.preview[0]),i=0;i<head.length;i++)vm.dtColumnsUpldPreview.push(DTColumnBuilder.newColumn(head[i]).withTitle(head[i]));vm.edaAutoFeatureList=angular.copy(vm.featureList)}vm.showLoading=!1,vm.showPreviewTable=!0,ga("send","event","Projects","Read uploaded file for preview",!0)},function(errorResponse){vm.showLoading=!1,vm.show=!1,toaster.pop("error",$scope.app.name,"Oops!, something went wrong while generating preview table",3e3)})},modalScope.buildPreviewTable()},Socket.on("pullData",function(message){"pull_success"==message.status?toaster.pop("success",$scope.app.name,"Eda data saved successfully.",3e3):toaster.pop("error",$scope.app.name,"Error while saving data!",3e3)}),Socket.on("edaCompleted",function(edaId){var message=edaId.status;vm.showEdaTable=!1,"EDA Completed"==message?(edaId=edaId.edaData._id,EdaService.getEdaData.query({edaId:edaId}).$promise.then(function(edaData){vm.edaData=edaData,vm.correctedDataHeading=[],buildHeaderColumns(edaData.edaSummary),buildEdaStrategyTable(edaData.edaSummary,"after_eda"),buildEdaPreviewTable(edaData),buildOutlierPreviewTable(edaData),vm.edaCompleted=!0,vm.showLoading=!1,ga("send","event","Eda","Eda completed",!0),toaster.pop("success",$scope.app.name,"Eda completed now, you can start training.",3e3)},function(){vm.showEdaTable=!0,vm.edaCompleted=!0,vm.showLoading=!1,toaster.pop("error",$scope.app.name,"Could not fetch eda details!",3e3)})):"EDA Failed"==message&&(vm.showEdaTable=!1,vm.edaCompleted=!0,vm.showLoading=!1,toaster.pop("error",$scope.app.name,"EDA Failed!",3e3))}),Socket.on("edaProgressInfo",function(index){vm.edaStages.pop(),vm.edaStages.length<6&&(vm.edaStages.push(index),index=vm.edaStages.length,vm.eda_stages[index]&&vm.edaStages.push(vm.eda_stages[index]))}),$scope.$on("$destroy",function(){Socket.removeListener("edaCompleted"),Socket.removeListener("edaProgressInfo"),Socket.removeListener("pullData")})}angular.module("app.eda").controller("EdaController",EdaController),EdaController.$inject=["Project","$http","DTOptionsBuilder","DTColumnBuilder","$compile","$scope","ProjectCore","$uibModal","Socket","toaster","$q","$sce","Authentication","NVD3Config","TooltipData","DataService","EdaService","$timeout","$location","TrainingService"]}();
"use strict";angular.module("app.eda").factory("EdaService",["$resource",function($resource){this.startEda=$resource("/api/v2/projects/:projectId/eda",{projectId:"@pId"},{query:{method:"GET",isArray:!0}}),this.getFeatureInfo=$resource("/api/v2/projects/:projectId/eda/feature",{featureName:"@pId"},{query:{method:"GET",isArray:!0}}),this.getEdaProgress=$resource("/api/v2/projects/:projectId/edaprogress",{projectId:"@pId"},{query:{method:"GET",isArray:!0}}),this.getEdaData=$resource("/api/v2/eda/:edaId/info",{edaId:"@edaId"},{query:{method:"GET",isArray:!1}}),this.conditionalFilter=$resource("/api/v2/conditionalFiltering",{},{query:{method:"POST",isArray:!1}});this.outlierDetectionStrategies=["Z-score","Inter-Quartile Range","Factor Method"];this.outlierCorrectionStrategies=["Ignore outlier","Lower bound","Upper bound","Mean","Median","Custom","Delete data"];return this.edaVarTypes=["Numeric","Boolean","Categorical","Text","Datetime"],this}]);
"use strict";angular.module("app.eda").factory("EdaCore",[function(){var factory={setdataId:function(dataId){window.localStorage.data=JSON.stringify(dataId)},getDataId:function(){return angular.fromJson(window.localStorage.data)},setEda:function(eda){window.localStorage.eda=JSON.stringify(eda)},getProject:function(){return angular.fromJson(window.localStorage.eda)},clearProject:function(){delete window.localStorage.eda}};return factory}]);
"use strict";
"use strict";!function(){function appRoutes($stateProvider,helper){$stateProvider.state("app.buttons",{url:"/elements/buttons",title:"Buttons",templateUrl:"modules/elements/client/views/buttons.client.view.html"}).state("app.colors",{url:"/elements/colors",title:"Colors",templateUrl:"modules/elements/client/views/colors.client.view.html"}).state("app.localization",{url:"/elements/localization",title:"Localization",templateUrl:"modules/elements/client/views/localization.client.view.html"}).state("app.infinite-scroll",{url:"/elements/infinite-scroll",title:"Infinite Scroll",templateUrl:"modules/elements/client/views/infinite-scroll.client.view.html",resolve:helper.resolveFor("infinite-scroll")}).state("app.navtree",{url:"/elements/navtree",title:"Nav Tree",templateUrl:"modules/elements/client/views/nav-tree.client.view.html",resolve:helper.resolveFor("angularBootstrapNavTree")}).state("app.nestable",{url:"/elements/nestable",title:"Nestable",templateUrl:"modules/elements/client/views/nestable.client.view.html",resolve:helper.resolveFor("ng-nestable")}).state("app.sortable",{url:"/elements/sortable",title:"Sortable",templateUrl:"modules/elements/client/views/sortable.client.view.html",resolve:helper.resolveFor("ui.sortable")}).state("app.notifications",{url:"/elements/notifications",title:"Notifications",templateUrl:"modules/elements/client/views/notifications.client.view.html"}).state("app.carousel",{url:"/elements/carousel",title:"Carousel",templateUrl:"modules/elements/client/views/carousel.client.view.html",resolve:helper.resolveFor("angular-carousel")}).state("app.ngdialog",{url:"/elements/ngdialog",title:"ngDialog",templateUrl:"modules/elements/client/views/ngdialog.client.view.html",resolve:angular.extend(helper.resolveFor("ngDialog"),{tpl:function(){return{path:"modules/elements/client/views/ngdialog-template.client.view.html"}}}),controller:"DialogIntroCtrl"}).state("app.sweetalert",{url:"/elements/sweetalert",title:"SweetAlert",templateUrl:"modules/elements/client/views/sweetalert.client.view.html",resolve:helper.resolveFor("oitozero.ngSweetAlert")}).state("app.tour",{url:"/elements/tour",title:"Tour",templateUrl:"modules/elements/client/views/tour.client.view.html",resolve:helper.resolveFor("bm.bsTour")}).state("app.interaction",{url:"/elements/interaction",title:"Interaction",templateUrl:"modules/elements/client/views/interaction.client.view.html"}).state("app.spinners",{url:"/elements/spinners",title:"Spinners",templateUrl:"modules/elements/client/views/spinners.client.view.html",resolve:helper.resolveFor("loaders.css","spinkit")}).state("app.dropdown-animations",{url:"/elements/dropdown-animations",title:"Dropdown Animations",templateUrl:"modules/elements/client/views/dropdown-animations.client.view.html"}).state("app.panels",{url:"/elements/panels",title:"Panels",templateUrl:"modules/elements/client/views/panels.client.view.html"}).state("app.portlets",{url:"/elements/portlets",title:"Portlets",templateUrl:"modules/elements/client/views/portlets.client.view.html",resolve:helper.resolveFor("ui.sortable")}).state("app.grid",{url:"/elements/grid",title:"Grid",templateUrl:"modules/elements/client/views/grid.client.view.html"}).state("app.grid-masonry",{url:"/elements/grid-masonry",title:"Grid Masonry",templateUrl:"modules/elements/client/views/grid-masonry.client.view.html"}).state("app.grid-masonry-deck",{url:"/elements/grid-masonry-deck",title:"Grid Masonry",templateUrl:"modules/elements/client/views/grid-masonry-deck.client.view.html",resolve:helper.resolveFor("spinkit","akoenig.deckgrid")}).state("app.typo",{url:"/elements/typo",title:"Typo",templateUrl:"modules/elements/client/views/typo.client.view.html"}).state("app.icons-font",{url:"/elements/icons-font",title:"Icons Font",templateUrl:"modules/elements/client/views/icons-font.client.view.html",resolve:helper.resolveFor("icons")}).state("app.icons-weather",{url:"/elements/icons-weather",title:"Icons Weather",templateUrl:"modules/elements/client/views/icons-weather.client.view.html",resolve:helper.resolveFor("weather-icons","skycons")})}angular.module("app.dashboard").config(appRoutes),appRoutes.$inject=["$stateProvider","RouteHelpersProvider"]}();
"use strict";angular.module("app.elements").controller("AngularCarouselController",function(){var vm=this;!function(){function getSlide(i,style){i=i.length;return{id:i+1,label:"slide #"+(i+1),img:"http://lorempixel.com/1200/500/"+style+"/"+(i+1)%10,color:vm.colors[10*i%vm.colors.length],odd:i%2==0}}function addSlides(target,style,qty){for(var i=0;i<qty;i++)!function(target,style){target.push(getSlide(target,style))}(target,style)}vm.colors=["#fc0003","#f70008","#f2000d","#ed0012","#e80017","#e3001c","#de0021","#d90026","#d4002b","#cf0030","#c90036","#c4003b","#bf0040","#ba0045","#b5004a","#b0004f","#ab0054","#a60059","#a1005e","#9c0063","#960069","#91006e","#8c0073","#870078","#82007d","#7d0082","#780087","#73008c","#6e0091","#690096","#63009c","#5e00a1","#5900a6","#5400ab","#4f00b0","#4a00b5","#4500ba","#4000bf","#3b00c4","#3600c9","#3000cf","#2b00d4","#2600d9","#2100de","#1c00e3","#1700e8","#1200ed","#0d00f2","#0800f7","#0300fc"],vm.carouselIndex=3,vm.carouselIndex2=0,vm.carouselIndex2=1,vm.carouselIndex3=5,vm.carouselIndex4=5,vm.slides=[],addSlides(vm.slides,"sports",50),vm.slides2=[],addSlides(vm.slides2,"sports",10),vm.slides3=[],addSlides(vm.slides3,"people",50),vm.slides4=[],addSlides(vm.slides4,"city",50),vm.slides6=[],vm.carouselIndex6=0,addSlides(vm.slides6,"sports",10),vm.addSlide=function(at){"head"===at?vm.slides6.unshift(getSlide(vm.slides6,"people")):vm.slides6.push(getSlide(vm.slides6,"people"))}}()});
"use strict";!function(){function DialogIntroCtrl($scope,ngDialog,tpl){$scope.tpl=tpl}function DialogMainCtrl($scope,$rootScope,ngDialog){$rootScope.jsonData='{"foo": "bar"}',$rootScope.theme="ngdialog-theme-default",$scope.directivePreCloseCallback=function(value){return!!confirm("Close it? MainCtrl.Directive. (Value = "+value+")")},$scope.preCloseCallbackOnScope=function(value){return!!confirm("Close it? MainCtrl.OnScope (Value = "+value+")")},$scope.open=function(){ngDialog.open({template:"firstDialogId",controller:"InsideCtrl",data:{foo:"some data"}})},$scope.openDefault=function(){ngDialog.open({template:"firstDialogId",controller:"InsideCtrl",className:"ngdialog-theme-default"})},$scope.openDefaultWithPreCloseCallbackInlined=function(){ngDialog.open({template:"firstDialogId",controller:"InsideCtrl",className:"ngdialog-theme-default",preCloseCallback:function(value){return!!confirm("Close it?  (Value = "+value+")")}})},$scope.openConfirm=function(){ngDialog.openConfirm({template:"modalDialogId",className:"ngdialog-theme-default"}).then(function(value){console.log("Modal promise resolved. Value: ",value)},function(reason){console.log("Modal promise rejected. Reason: ",reason)})},$scope.openConfirmWithPreCloseCallbackOnScope=function(){ngDialog.openConfirm({template:"modalDialogId",className:"ngdialog-theme-default",preCloseCallback:"preCloseCallbackOnScope",scope:$scope}).then(function(value){console.log("Modal promise resolved. Value: ",value)},function(reason){console.log("Modal promise rejected. Reason: ",reason)})},$scope.openConfirmWithPreCloseCallbackInlinedWithNestedConfirm=function(){ngDialog.openConfirm({template:"dialogWithNestedConfirmDialogId",className:"ngdialog-theme-default",preCloseCallback:function(){return ngDialog.openConfirm({template:'<p>Are you sure you want to close the parent dialog?</p><div><button type="button" class="btn btn-default" ng-click="closeThisDialog(0)">No<button type="button" class="btn btn-primary" ng-click="confirm(1)">Yes</button></div>',plain:!0,className:"ngdialog-theme-default"})},scope:$scope}).then(function(value){console.log("resolved:"+value)},function(value){console.log("rejected:"+value)})},$scope.openInlineController=function(){$rootScope.theme="ngdialog-theme-default",ngDialog.open({template:"withInlineController",controller:["$scope","$timeout",function($scope,$timeout){var timeout,counter=0;!function count(){$scope.exampleExternalData="Counter "+counter++,timeout=$timeout(count,450)}(),$scope.$on("$destroy",function(){$timeout.cancel(timeout)})}],className:"ngdialog-theme-default"})},$scope.openTemplate=function(){$scope.value=!0,ngDialog.open({template:$scope.tpl.path,className:"ngdialog-theme-default",scope:$scope})},$scope.openTemplateNoCache=function(){$scope.value=!0,ngDialog.open({template:$scope.tpl.path,className:"ngdialog-theme-default",scope:$scope,cache:!1})},$scope.openTimed=function(){var dialog=ngDialog.open({template:"<p>Just passing through!</p>",plain:!0,closeByDocument:!1,closeByEscape:!1});setTimeout(function(){dialog.close()},2e3)},$scope.openNotify=function(){ngDialog.open({template:'<p>You can do whatever you want when I close, however that happens.</p><div><button type="button" class="btn btn-primary" ng-click="closeThisDialog(1)">Close Me</button></div>',plain:!0}).closePromise.then(function(data){console.log("ngDialog closed"+(1===data.value?" using the button":"")+" and notified by promise: "+data.id)})},$scope.openWithoutOverlay=function(){ngDialog.open({template:"<h2>Notice that there is no overlay!</h2>",className:"ngdialog-theme-default",plain:!0,overlay:!1})},$rootScope.$on("ngDialog.opened",function(e,$dialog){console.log("ngDialog opened: "+$dialog.attr("id"))}),$rootScope.$on("ngDialog.closed",function(e,$dialog){console.log("ngDialog closed: "+$dialog.attr("id"))}),$rootScope.$on("ngDialog.closing",function(e,$dialog){console.log("ngDialog closing: "+$dialog.attr("id"))})}function InsideCtrl($scope,ngDialog){$scope.dialogModel={message:"message from passed scope"},$scope.openSecond=function(){ngDialog.open({template:'<p class="lead m0"><a href="" ng-click="closeSecond()">Close all by click here!</a></h3>',plain:!0,closeByEscape:!1,controller:"SecondModalCtrl"})}}function SecondModalCtrl($scope,ngDialog){$scope.closeSecond=function(){ngDialog.close()}}angular.module("app.elements").controller("DialogIntroCtrl",DialogIntroCtrl).controller("DialogMainCtrl",DialogMainCtrl).controller("InsideCtrl",InsideCtrl).controller("SecondModalCtrl",SecondModalCtrl),DialogIntroCtrl.$inject=["$scope","ngDialog","tpl"],DialogMainCtrl.$inject=["$scope","$rootScope","ngDialog"],InsideCtrl.$inject=["$scope","ngDialog"],SecondModalCtrl.$inject=["$scope","ngDialog"]}();
"use strict";!function(){function datasource(console,$timeout){return{get:function(index,count,success){return $timeout(function(){for(var _i,result=[],i=_i=index,_ref=index+count-1;index<=_ref?_i<=_ref:_ref<=_i;i=index<=_ref?++_i:--_i)result.push("item #"+i);return success(result)},100)}}}angular.module("app.elements").controller("InfiniteScrollController",function(){var vm=this;vm.images=[1,2,3,4,5,6,7,8,9,10],vm.loadMore=function(){for(var last=vm.images[vm.images.length-1],i=1;i<=10;i++)vm.images.push(last+i)}}).factory("datasource",datasource),datasource.$inject=["$log","$timeout"]}();
"use strict";!function(){function MasonryDeckController(RouteHelpers){var vm=this;vm.basepath=RouteHelpers.basepath,vm.photos=[{id:"photo-1",name:"Awesome photo",src:"http://lorempixel.com/400/300/abstract"},{id:"photo-2",name:"Great photo",src:"http://lorempixel.com/450/400/city"},{id:"photo-3",name:"Strange photo",src:"http://lorempixel.com/400/300/people"},{id:"photo-4",name:"A photo?",src:"http://lorempixel.com/400/300/transport"},{id:"photo-5",name:"What a photo",src:"http://lorempixel.com/450/300/fashion"},{id:"photo-6",name:"Silly photo",src:"http://lorempixel.com/400/300/technics"},{id:"photo-7",name:"Weird photo",src:"http://lorempixel.com/410/350/sports"},{id:"photo-8",name:"Modern photo",src:"http://lorempixel.com/400/300/nightlife"},{id:"photo-9",name:"Classical photo",src:"http://lorempixel.com/400/300/nature"},{id:"photo-10",name:"Dynamic photo",src:"http://lorempixel.com/420/300/abstract"},{id:"photo-11",name:"Neat photo",src:"http://lorempixel.com/400/300/sports"},{id:"photo-12",name:"Bumpy photo",src:"http://lorempixel.com/400/300/nightlife"},{id:"photo-13",name:"Brilliant photo",src:"http://lorempixel.com/400/380/nature"},{id:"photo-14",name:"Excellent photo",src:"http://lorempixel.com/480/300/technics"},{id:"photo-15",name:"Gorgeous photo",src:"http://lorempixel.com/400/300/sports"},{id:"photo-16",name:"Lovely photo",src:"http://lorempixel.com/400/300/nightlife"},{id:"photo-17",name:'A "wow" photo',src:"http://lorempixel.com/400/300/nature"},{id:"photo-18",name:"Bodacious photo",src:"http://lorempixel.com/400/300/abstract"}]}angular.module("app.elements").controller("MasonryDeckController",MasonryDeckController).directive("imageloaded",function(){return{link:function(scope,element,attrs){var cssClass=attrs.loadedclass;element.bind("load",function(){angular.element(element).addClass(cssClass)})},restrict:"A"}}),MasonryDeckController.$inject=["RouteHelpers"]}();
"use strict";!function(){function AbnTestController($timeout,$resource){var tree,vm=this;vm.my_tree=tree={},vm.my_tree_handler=function(branch){if(vm.output="You selected: "+branch.label,branch.data&&branch.data.description)return vm.output+="("+branch.data.description+")",vm.output};var apple_selected=function(branch){return vm.output="APPLE! : "+branch.label,vm.output},treedata_avm=[{label:"Animal",children:[{label:"Dog",data:{description:"man's best friend"}},{label:"Cat",data:{description:"Felis catus"}},{label:"Hippopotamus",data:{description:"hungry, hungry"}},{label:"Chicken",children:["White Leghorn","Rhode Island Red","Jersey Giant"]}]},{label:"Vegetable",data:{definition:"A plant or part of a plant used as food, typically as accompaniment to meat or fish, such as a cabbage, potato, carrot, or bean.",data_can_contain_anything:!0},children:[{label:"Oranges"},{label:"Apples",children:[{label:"Granny Smith",onSelect:apple_selected},{label:"Red Delicous",onSelect:apple_selected},{label:"Fuji",onSelect:apple_selected}]}]},{label:"Mineral",children:[{label:"Rock",children:["Igneous","Sedimentary","Metamorphic"]},{label:"Metal",children:["Aluminum","Steel","Copper"]},{label:"Plastic",children:[{label:"Thermoplastic",children:["polyethylene","polypropylene","polystyrene"," polyvinyl chloride"]},{label:"Thermosetting Polymer",children:["polyester","polyurethane","vulcanized rubber","bakelite","urea-formaldehyde"]}]}]}];vm.my_data=treedata_avm,vm.try_changing_the_tree_data=function(){return vm.my_data===treedata_avm?vm.my_data=treedata_geography:vm.my_data=treedata_avm,vm.my_data},vm.try_async_load=function(){return vm.my_data=[],vm.doing_async=!0,$resource("server/treedata.json").get(function(res){return vm.my_data=res.data,vm.doing_async=!1,tree.expand_all()}).$promise},vm.try_adding_a_branch=function(){var b=tree.get_selected_branch();return tree.add_branch(b,{label:"New Branch",data:{something:42,else:43}})}}angular.module("app.elements").controller("AbnTestController",AbnTestController),AbnTestController.$inject=["$timeout","$resource"]}();
"use strict";angular.module("app.elements").controller("NestableController",function(){var vm=this;vm.items=[{item:{text:"a"},children:[]},{item:{text:"b"},children:[{item:{text:"c"},children:[]},{item:{text:"d"},children:[]}]},{item:{text:"e"},children:[]},{item:{text:"f"},children:[]}],vm.items2=[{item:{text:"1"},children:[]},{item:{text:"2"},children:[{item:{text:"3"},children:[]},{item:{text:"4"},children:[]}]},{item:{text:"5"},children:[]},{item:{text:"6"},children:[]}]});
"use strict";!function(){function SortableController($scope){$scope.data1=[{id:1,name:"Donald Hoffman"},{id:2,name:"Wallace Barrett"},{id:3,name:"Marsha Hicks"},{id:4,name:"Roland Brown"}],$scope.add=function(){$scope.data1.push({id:$scope.data1.length+1,name:"Earl Knight"})},$scope.sortableOptions={placeholder:"box-placeholder m0"}}angular.module("app.elements").controller("SortableController",SortableController),SortableController.$inject=["$scope"]}();
"use strict";!function(){function SweetAlertController(SweetAlert){var vm=this;vm.demo1=function(){SweetAlert.swal("Here's a message")},vm.demo2=function(){SweetAlert.swal("Here's a message!","It's pretty, isn't it?")},vm.demo3=function(){SweetAlert.swal("Good job!","You clicked the button!","success")},vm.demo4=function(){SweetAlert.swal({title:"Are you sure?",text:"Your will not be able to recover this imaginary file!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(){SweetAlert.swal("Booyah!")})},vm.demo5=function(){SweetAlert.swal({title:"Are you sure?",text:"Your will not be able to recover this imaginary file!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel plx!",closeOnConfirm:!1,closeOnCancel:!1},function(isConfirm){isConfirm?SweetAlert.swal("Deleted!","Your imaginary file has been deleted.","success"):SweetAlert.swal("Cancelled","Your imaginary file is safe :)","error")})},vm.demo6=function(){SweetAlert.swal({title:"Sweet!",text:"Here's a custom image.",imageUrl:"http://oitozero.com/img/avatar.jpg"})}}angular.module("app.elements").controller("SweetAlertController",SweetAlertController),SweetAlertController.$inject=["SweetAlert"]}();
"use strict";!function(){function ToasterDemoCtrl(toaster){var vm=this;vm.toaster={type:"success",title:"Title",text:"Message"},vm.pop=function(){toaster.pop(vm.toaster.type,vm.toaster.title,vm.toaster.text)}}angular.module("app.elements").controller("ToasterDemoCtrl",ToasterDemoCtrl),ToasterDemoCtrl.$inject=["toaster"]}();
"use strict";!function(){function TourCtrl($scope){var section;(section=angular.element(".wrapper > section")).css({position:"static"}),$scope.$on("$destroy",function(){section.css({position:""})})}angular.module("app.elements").controller("TourCtrl",TourCtrl),TourCtrl.$inject=["$scope"]}();
"use strict";angular.module("app.elements").directive("scrollable",function(){return{link:function(scope,element,attrs){element.slimScroll({height:attrs.height||250})},restrict:"EA"}});
"use strict";
"use strict";!function(){function appRoutes($stateProvider,helper){$stateProvider.state("app.timeline",{url:"/extras/timeline",title:"Timeline",templateUrl:"modules/extras/client/views/timeline.client.view.html"}).state("app.calendar",{url:"/extras/calendar",title:"Calendar",templateUrl:"modules/extras/client/views/calendar.client.view.html",resolve:helper.resolveFor("moment","ui.calendar")}).state("app.invoice",{url:"/extras/invoice",title:"Invoice",templateUrl:"modules/extras/client/views/invoice.client.view.html"}).state("app.search",{url:"/extras/search",title:"Search",templateUrl:"modules/extras/client/views/search.client.view.html",resolve:helper.resolveFor("moment","localytics.directives","ui.bootstrap-slider")}).state("app.todo",{url:"/extras/todo",title:"Todo List",templateUrl:"modules/extras/client/views/todo.client.view.html",controller:"TodoController",controllerAs:"todo"}).state("app.userprofile",{url:"/extras/profile",title:"Profile",templateUrl:"modules/extras/client/views/profile.client.view.html",resolve:helper.resolveFor("loadGoogleMapsJS",function(){return loadGoogleMaps()},"ui.map")}).state("app.code-editor",{url:"/extras/code-editor",templateUrl:"modules/extras/client/views/code-editor.client.view.html",controller:"CodeEditorController",controllerAs:"coder",resolve:{deps:helper.resolveFor("codemirror","ui.codemirror","codemirror-modes-web","angularBootstrapNavTree").deps,filetree:["LoadTreeService",function(LoadTreeService){return LoadTreeService.get().$promise.then(function(res){return res.data})}]}}).state("app.forum",{url:"/extras/forum",title:"Forum",templateUrl:"modules/extras/client/views/forum.client.view.html"}).state("app.forum-topics",{url:"/topics/:catid",title:"Forum Topics",parent:"app.forum",templateUrl:"modules/extras/client/views/forum-topics.client.view.html"}).state("app.forum-discussion",{url:"/discussion/:topid",title:"Forum Discussion",parent:"app.forum",templateUrl:"modules/extras/client/views/forum-discussion.client.view.html"}).state("app.mailbox",{url:"/extras/mailbox",title:"Mailbox",abstract:!0,templateUrl:"modules/extras/client/views/mailbox.client.view.html"}).state("app.mailbox.folder",{url:"/folder/:folder",title:"Mailbox",templateUrl:"modules/extras/client/views/mailbox-inbox.client.view.html"}).state("app.mailbox.view",{url:"/{mid:[0-9]{1,4}}",title:"View mail",templateUrl:"modules/extras/client/views/mailbox-view.client.view.html",resolve:helper.resolveFor("ngWig")}).state("app.mailbox.compose",{url:"/compose",title:"Mailbox",templateUrl:"modules/extras/client/views/mailbox-compose.client.view.html",resolve:helper.resolveFor("ngWig")}).state("app.bug-tracker",{url:"/bug-tracker",title:"Bug Tracker",templateUrl:"modules/extras/client/views/bug-tracker.client.view.html",resolve:helper.resolveFor("datatables")}).state("app.contact-details",{url:"/contact-details",title:"Contact Details",templateUrl:"modules/extras/client/views/contact-details.client.view.html"}).state("app.contacts",{url:"/contacts",title:"Contacts",templateUrl:"modules/extras/client/views/contacts.client.view.html"}).state("app.faq",{url:"/faq",title:"Faq",templateUrl:"modules/extras/client/views/faq.client.view.html",resolve:helper.resolveFor("datatables")}).state("app.file-manager",{url:"/file-manager",title:"File Manager",templateUrl:"modules/extras/client/views/file-manager.client.view.html",resolve:helper.resolveFor("filestyle")}).state("app.followers",{url:"/followers",title:"Followers",templateUrl:"modules/extras/client/views/followers.client.view.html"}).state("app.help-center",{url:"/help-center",title:"Help Center",templateUrl:"modules/extras/client/views/help-center.client.view.html"}).state("app.plans",{url:"/plans",title:"Plans",templateUrl:"modules/extras/client/views/plans.client.view.html"}).state("app.project-details",{url:"/project-details",title:"Project Details",templateUrl:"modules/extras/client/views/project-details.client.view.html"}).state("app.usersettings",{url:"/settings",title:"Settings",templateUrl:"modules/extras/client/views/settings.client.view.html",resolve:helper.resolveFor("filestyle")}).state("app.social-board",{url:"/social-board",title:"Social Board",templateUrl:"modules/extras/client/views/social-board.client.view.html"}).state("app.team-viewer",{url:"/team-viewer",title:"Team Viewer",templateUrl:"modules/extras/client/views/team-viewer.client.view.html"}).state("app.vote-links",{url:"/vote-links",title:"Vote Links",templateUrl:"modules/extras/client/views/vote-links.client.view.html"})}angular.module("app.extras").config(appRoutes),appRoutes.$inject=["$stateProvider","RouteHelpersProvider"]}();
"use strict";!function(){function CalendarController($scope,$compile,uiCalendarConfig){var date,d,m,y;this.title="CalendarController",date=new Date,d=date.getDate(),m=date.getMonth(),y=date.getFullYear(),$scope.changeTo="Hungarian",$scope.eventSource={url:"http://www.google.com/calendar/feeds/usa__en%40holiday.calendar.google.com/public/basic",className:"gcal-event",currentTimezone:"America/Chicago"},$scope.events=[{title:"All Day Event",start:new Date(y,m,1),backgroundColor:"#f56954",borderColor:"#f56954"},{title:"Long Event",start:new Date(y,m,d-5),end:new Date(y,m,d-2),backgroundColor:"#f39c12",borderColor:"#f39c12"},{id:999,title:"Repeating Event",start:new Date(y,m,d+4,16,0),allDay:!1,backgroundColor:"#00c0ef",borderColor:"#00c0ef"},{title:"Birthday Party",start:new Date(y,m,d+1,19,0),end:new Date(y,m,d+1,22,30),allDay:!1,backgroundColor:"#00a65a",borderColor:"#00a65a"},{title:"Click for Google",start:new Date(y,m,28),end:new Date(y,m,29),url:"http://google.com/",backgroundColor:"#2f80e7",borderColor:"#2f80e7"}],$scope.eventsF=function(start,end,timezone,callback){var s=new Date(start).getTime()/1e3;new Date(end).getTime();callback([{title:"Feed Me "+new Date(start).getMonth(),start:5e4+s,end:1e5+s,allDay:!1,className:["customFeed"]}])},$scope.calEventsExt={color:"#f00",textColor:"white",events:[{type:"party",title:"Lunch",start:new Date(y,m,d,12,0),end:new Date(y,m,d,14,0),allDay:!1,backgroundColor:"#9289ca",borderColor:"#9289ca"},{type:"party",title:"Lunch 2",start:new Date(y,m,d,12,0),end:new Date(y,m,d,14,0),allDay:!1,backgroundColor:"#9289ca",borderColor:"#9289ca"},{type:"party",title:"Click for Google",start:new Date(y,m,28),end:new Date(y,m,29),url:"http://google.com/",backgroundColor:"#9289ca",borderColor:"#9289ca"}]},$scope.alertOnEventClick=function(date,jsEvent,view){$scope.alertMessage=date.title+" was clicked "},$scope.alertOnDrop=function(event,delta,revertFunc,jsEvent,ui,view){$scope.alertMessage="Event Droped"},$scope.alertOnResize=function(event,delta,revertFunc,jsEvent,ui,view){$scope.alertMessage="Event Resized"},$scope.addRemoveEventSource=function(sources,source){var canAdd=0;angular.forEach(sources,function(value,key){sources[key]===source&&(sources.splice(key,1),canAdd=1)}),0===canAdd&&sources.push(source)},$scope.addEvent=function(){$scope.events.push({title:"Open Sesame",start:new Date(y,m,28),end:new Date(y,m,29),className:["openSesame"]})},$scope.remove=function(index){$scope.events.splice(index,1)},$scope.changeView=function(view,calendar){uiCalendarConfig.calendars[calendar].fullCalendar("changeView",view)},$scope.renderCalender=function(calendar){uiCalendarConfig.calendars[calendar]&&uiCalendarConfig.calendars[calendar].fullCalendar("render")},$scope.eventRender=function(event,element,view){element.attr({tooltip:event.title,"tooltip-append-to-body":!0}),$compile(element)($scope)},$scope.uiConfig={calendar:{height:450,editable:!0,header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},buttonIcons:{prev:" fa fa-caret-left",next:" fa fa-caret-right"},buttonText:{today:"today",month:"month",week:"week",day:"day"},eventClick:$scope.alertOnEventClick,eventDrop:$scope.alertOnDrop,eventResize:$scope.alertOnResize,eventRender:$scope.eventRender}},$scope.changeLang=function(){"Hungarian"===$scope.changeTo?($scope.uiConfig.calendar.dayNames=["Vasárnap","Hétfő","Kedd","Szerda","Csütörtök","Péntek","Szombat"],$scope.uiConfig.calendar.dayNamesShort=["Vas","Hét","Kedd","Sze","Csüt","Pén","Szo"],$scope.changeTo="English"):($scope.uiConfig.calendar.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],$scope.uiConfig.calendar.dayNamesShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],$scope.changeTo="Hungarian")},$scope.eventSources=[$scope.calEventsExt,$scope.eventsF,$scope.events]}angular.module("app.extras").controller("CalendarController",CalendarController),CalendarController.$inject=["$scope","$compile","uiCalendarConfig"]}();
"use strict";!function(){function CodeEditorController($rootScope,$scope,$http,$ocLazyLoad,filetree){var tree,vm=this;$rootScope.app.useFullLayout=!0,$rootScope.app.hiddenFooter=!0,$rootScope.app.layout.isCollapsed=!0,$scope.$on("$destroy",function(){$rootScope.app.useFullLayout=!1,$rootScope.app.hiddenFooter=!1}),vm.filetree_data=filetree,vm.editorThemes=["3024-day","3024-night","ambiance-mobile","ambiance","base16-dark","base16-light","blackboard","cobalt","eclipse","elegant","erlang-dark","lesser-dark","mbo","mdn-like","midnight","monokai","neat","neo","night","paraiso-dark","paraiso-light","pastel-on-dark","rubyblue","solarized","the-matrix","tomorrow-night-eighties","twilight","vibrant-ink","xq-dark","xq-light"],vm.editorOpts={mode:"javascript",lineNumbers:!0,matchBrackets:!0,theme:"mbo",viewportMargin:1/0},vm.refreshEditor=0,vm.loadTheme=function(){$ocLazyLoad.load("lib/codemirror/theme/"+vm.editorOpts.theme+".css"),vm.refreshEditor=!vm.refreshEditor},vm.loadTheme(vm.editorOpts.theme),vm.code="// Open a file from the left menu \n// It will be requested to the server and loaded into the editor\n// Also try adding a New File from the toolbar\n",vm.handle_filetree=function(branch){var isFolder=!!branch.children.length;console.log("You selected: "+branch.label+" - isFolder? "+isFolder),isFolder||$http.get("server/editor/"+branch.path).success(function(response){console.log("Loaded.. "+branch.path),vm.code=response,vm.editorOpts.mode=function(ext){switch(ext=(ext=ext.split("."))?ext[ext.length-1]:""){case"html":return"htmlmixed";case"css":return"css";default:return"javascript"}}(branch.path),console.log("Mode is: "+vm.editorOpts.mode)})},tree=vm.filetree={},vm.new_filetree=function(){var b=tree.get_selected_branch();return b&&0===b.children.length&&(b=tree.get_parent_branch(b)),tree.add_branch(b,{label:"another.html",path:"source/another.html"})}}angular.module("app.extras").controller("CodeEditorController",CodeEditorController),CodeEditorController.$inject=["$rootScope","$scope","$http","$ocLazyLoad","filetree"]}();
"use strict";!function(){function TodoController($filter){var vm=this;vm.items=[{todo:{title:"Meeting with Mark at 7am.",description:"Pellentesque convallis mauris eu elit imperdiet quis eleifend quam aliquet. "},complete:!0},{todo:{title:"Call Sonya. Talk about the new project.",description:""},complete:!1},{todo:{title:"Find a new place for vacations",description:""},complete:!1}],vm.editingTodo=!1,vm.todo={},vm.addTodo=function(){""!==vm.todo.title&&(vm.todo.description||(vm.todo.description=""),vm.editingTodo?(vm.todo={},vm.editingTodo=!1):(vm.items.push({todo:angular.copy(vm.todo),complete:!1}),vm.todo.title="",vm.todo.description=""))},vm.editTodo=function(index,$event){$event.preventDefault(),$event.stopPropagation(),vm.todo=vm.items[index].todo,vm.editingTodo=!0},vm.removeTodo=function(index){vm.items.splice(index,1)},vm.clearAll=function(){vm.items=[]},vm.totalCompleted=function(){return $filter("filter")(vm.items,function(item){return item.complete}).length},vm.totalPending=function(){return $filter("filter")(vm.items,function(item){return!item.complete}).length}}angular.module("app.extras").controller("TodoController",TodoController),TodoController.$inject=["$filter"]}();
"use strict";!function(){function LoadTreeService($resource){return $resource("server/editor/filetree.json")}angular.module("app.extras").service("LoadTreeService",LoadTreeService),LoadTreeService.$inject=["$resource"]}();
"use strict";!function(){function coreMenu(Menus){Menus.addMenuItem("sidebar",{title:"Feature Repo *",state:"app.featurerepository",iconClass:"fa fa-folder-open",position:4,roles:["*"]})}angular.module("app.featurerepository").run(coreMenu),coreMenu.$inject=["Menus"]}();
"use strict";!function(){function appRoutes($stateProvider,helper){$stateProvider.state("app.featurerepository",{url:"featurerepository",templateUrl:"modules/featurerepository/client/views/list-features.client.view.html",resolve:helper.resolveFor("flot-chart","flot-chart-plugins","weather-icons","datatables")}).state("app.featurerepository-share",{url:"featurerepository/share?type",templateUrl:"modules/featurerepository/client/views/share-features.client.view.html",resolve:helper.resolveFor("flot-chart","flot-chart-plugins","weather-icons","taginput","ui.select","inputmask","localytics.directives","ngWig")})}angular.module("app.featurerepository").config(appRoutes),appRoutes.$inject=["$stateProvider","RouteHelpersProvider"]}();
"use strict";!function(){function FeatureRepoController($scope,$state,$sce,ProjectCore,$http,FeatureRepo,toaster,$uibModal){var vm=this;vm.iframeUrl=null,vm.project=ProjectCore.getProject(),vm.featureType=$state.params.type,vm.featureType||$state.go("app.featurerepository"),vm.find=function(){vm.features=FeatureRepo.myFeatureRepo.query({projectId:vm.project._id})},vm.shareFeatures=function(value){vm.statusMessages="Sharing features...",new FeatureRepo.shareFeature(value).$save({projectId:vm.project._id,type:vm.featureType},function(resp){vm.statusMessages="Features shared successfully."},function(err){vm.statusMessages=err.data.message})},vm.removeFeature=function(feature){feature.isShared?alert("Shared feature, cannot delete!"):feature.$update(function(resp){vm.statusMessages="Feature deleted successfully.",vm.find()},function(err){vm.statusMessages="Cannot delete this feature"})},vm.showFeatureDetails=function(feature){var modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"featureDetailsModal.html",size:"md",scope:modalScope});modalScope.feature=feature,modalScope.cancel=function(){modalInstance.close(modalScope.selected)}}}angular.module("app.featurerepository").controller("FeatureRepoController",FeatureRepoController),FeatureRepoController.$inject=["$scope","$state","$sce","ProjectCore","$http","FeatureRepo","toaster","$uibModal"]}();
"use strict";angular.module("app.featurerepository").factory("FeatureRepo",["$resource",function($resource){return this.createFeatureRepo=$resource("/api/projects/:projectId/feature_repo/:edaId/share_features",{projectId:"@projectId",edaId:"@edaId"},{query:{method:"GET",isArray:!0},update:{method:"PUT"}}),this.myFeatureRepo=$resource("/api/projects/:projectId/feature_repo/share_features",{projectId:"@projectId"},{query:{method:"GET",isArray:!0},update:{method:"PUT"}}),this.shareFeature=$resource("/api/projects/:projectId/feature_repo/share_features/share",{projectId:"@_id"},{query:{method:"GET",isArray:!0}}),this.sharedFeature=$resource("/api/projects/:projectId/feature_repo/shared_features",{projectId:"@_id"},{query:{method:"GET",isArray:!1}}),this.useSharedFeature=$resource("/api/projects/:projectId/feature_repo/:edaId/use_shared_features/:featureId",{projectId:"@_id",featureId:"@_id",edaId:"@_id"},{query:{method:"GET",isArray:!1},update:{method:"PUT"}}),this}]);
"use strict";angular.module("app.flatdoc").directive("flatdoc",function(){return{template:'<div role="flatdoc"><div role="flatdoc-menu"></div><div role="flatdoc-content"></div></div>',link:function(scope,element,attrs){Flatdoc.run({fetcher:Flatdoc.file(attrs.src)});var menuLinks,$root=$("html, body"),$doc=$(document).on("flatdoc:ready",function(){var docMenu=$('[role="flatdoc-menu"]');menuLinks=docMenu.find("a").on("click",function($this){$this.preventDefault(),$this.stopPropagation();$this=$(this);docMenu.find("a.active").removeClass("active"),$this.addClass("active"),$root.animate({scrollTop:$(this.getAttribute("href")).offset().top-($(".topnavbar").height()+10)},800)})});scope.$on("$destroy",function(){menuLinks&&menuLinks.off(),$doc.off("flatdoc:ready")})},restrict:"EA"}});
"use strict";
"use strict";!function(){function appRoutes($stateProvider,helper){$stateProvider.state("app.form-standard",{url:"/form/standard",title:"Form Standard",templateUrl:"modules/forms/client/views/form-standard.client.view.html"}).state("app.form-extended",{url:"/form/extended",title:"Form Extended",templateUrl:"modules/forms/client/views/form-extended.client.view.html",resolve:helper.resolveFor("colorpicker.module","codemirror","moment","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle","summernote")}).state("app.form-validation",{url:"/form/validation",title:"Form Validation",templateUrl:"modules/forms/client/views/form-validation.client.view.html",resolve:helper.resolveFor("ui.select","taginput","inputmask","localytics.directives")}).state("app.form-wizard",{url:"/form/wizard",title:"Form Wizard",templateUrl:"modules/forms/client/views/form-wizard.client.view.html"}).state("app.form-upload",{url:"/form/upload",title:"Form upload",templateUrl:"modules/forms/client/views/form-upload.client.view.html",resolve:helper.resolveFor("angularFileUpload","filestyle")}).state("app.form-xeditable",{url:"/form/xeditable",templateUrl:"modules/forms/client/views/form-xeditable.client.view.html",resolve:helper.resolveFor("xeditable")}).state("app.form-imagecrop",{url:"/form/imagecrop",templateUrl:"modules/forms/client/views/form-imagecrop.client.view.html",resolve:helper.resolveFor("ngImgCrop","filestyle")}).state("app.form-uiselect",{url:"/form/uiselect",templateUrl:"modules/forms/client/views/form-uiselect.client.view.html",controller:"uiSelectController",controllerAs:"uisel",resolve:helper.resolveFor("ui.select")})}angular.module("app.forms").config(appRoutes),appRoutes.$inject=["$stateProvider","RouteHelpersProvider"]}();
"use strict";angular.module("app.forms").controller("ColorPickerController",function(){var vm=this;vm.hexPicker={color:""},vm.rgbPicker={color:""},vm.rgbaPicker={color:""},vm.nonInput={color:""},vm.resetColor=function(){vm.hexPicker={color:"#ff0000"}},vm.resetRBGColor=function(){vm.rgbPicker={color:"rgb(255,255,255)"}},vm.resetRBGAColor=function(){vm.rgbaPicker={color:"rgb(255,255,255, 0.25)"}},vm.resetNonInputColor=function(){vm.nonInput={color:"#ffffff"}}});
"use strict";!function(){function ImageCropController($scope){var vm=this;vm.reset=function(){vm.myImage="",vm.myCroppedImage="",vm.imgcropType="square"},vm.reset(),angular.element(document.querySelector("#fileInput")).on("change",function(reader){var file=reader.currentTarget.files[0],reader=new FileReader;reader.onload=function(evt){$scope.$apply(function(){vm.myImage=evt.target.result})},file&&reader.readAsDataURL(file)})}angular.module("app.forms").controller("ImageCropController",ImageCropController),ImageCropController.$inject=["$scope"]}();
"use strict";angular.module("app.forms").controller("FormValidationController",function(){var vm=this;vm.notBlackListed=function(value){return-1===["some@mail.com","another@email.com"].indexOf(value)},vm.words=function(value){return value&&value.split(" ").length},vm.submitted=!1,vm.validateInput=function(input,type){input=vm.formValidate[input];return(input.$dirty||vm.submitted)&&input.$error[type]},vm.submitForm=function(){if(vm.submitted=!0,!vm.formValidate.$valid)return console.log("Not valid!!"),!1;console.log("Submitted!!")}});
"use strict";!function(){function FormxEditableController($scope,editableOptions,editableThemes,$filter,$http){var vm=this;vm.title="Controller",editableOptions.theme="bs3",editableThemes.bs3.inputClass="input-sm",editableThemes.bs3.buttonsClass="btn-sm",editableThemes.bs3.submitTpl='<button type="submit" class="btn btn-success"><span class="fa fa-check"></span></button>',editableThemes.bs3.cancelTpl='<button type="button" class="btn btn-default" ng-click="$form.$cancel()"><span class="fa fa-times text-muted"></span></button>',vm.user={email:"email@example.com",tel:"123-45-67",number:29,range:10,url:"http://example.com",search:"blabla",color:"#6a4415",date:null,time:new Date,datetime:null,month:null,week:null,desc:"Sed pharetra euismod dolor, id feugiat ante volutpat eget. "},vm.user2={status:2},vm.statuses=[{value:1,text:"status1"},{value:2,text:"status2"},{value:3,text:"status3"},{value:4,text:"status4"}],vm.showStatus=function(){var selected=$filter("filter")(vm.statuses,{value:vm.user2.status});return vm.user2.status&&selected.length?selected[0].text:"Not set"},vm.user3={id:4,text:"admin"},vm.groups=[],vm.loadGroups=function(){return vm.groups.length?null:$http.get("server/xeditable-groups.json").then(function(data){vm.groups=data.data})},$scope.$watch("user3.id",function(newVal,selected){newVal!==selected&&(selected=$filter("filter")(vm.groups,{id:vm.user3.id}),vm.user3.text=selected.length?selected[0].text:null)}),vm.user4={state:"Arizona"},vm.states=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Dakota","North Carolina","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]}angular.module("app.forms").controller("FormxEditableController",FormxEditableController),FormxEditableController.$inject=["$scope","editableOptions","editableThemes","$filter","$http"]}();
"use strict";!function(){function FormDemoCtrl($resource){var vm=this;!function(){$resource("server/cities.json",{},{get:{method:"GET",isArray:!0}}).get(function(data){vm.cities=data}),vm.slider1=5,vm.slider2=10,vm.slider3=15,vm.slider4=20,vm.slider5=25,vm.slider6=30,vm.slider7=10,vm.slider8=[250,750];var States=$resource("server/chosen-states.json",{},{query:{method:"GET",isArray:!0}});vm.states=States.query(),vm.alertSubmit=function(){return alert("Form submitted!"),!1},vm.wysiwygContent="<p> Write something here.. </p>",vm.htmlContent='<h2>Try me!</h2><p>textAngular is a super cool WYSIWYG Text Editor directive for AngularJS</p><p><b>Features:</b></p><ol><li>Automatic Seamless Two-Way-Binding</li><li style="color: blue;">Super Easy <b>Theming</b> Options</li><li>Simple Editor Instance Creation</li><li>Safely Parses Html for Custom Toolbar Icons</li><li>Doesn&apos;t Use an iFrame</li><li>Works with Firefox, Chrome, and IE8+</li></ol><p><a href="https://github.com/fraywing/textAngular">Source</a> </p>'}()}angular.module("app.forms").controller("FormDemoCtrl",FormDemoCtrl),FormDemoCtrl.$inject=["$resource"]}();
"use strict";!function(){function uiSelectController($scope,$http){var vm=this;vm.disabled=void 0,vm.enable=function(){vm.disabled=!1},vm.disable=function(){vm.disabled=!0},vm.clear=function(){vm.person.selected=void 0,vm.address.selected=void 0,vm.country.selected=void 0},vm.person={},vm.people=[{name:"Adam",email:"adam@email.com",age:10},{name:"Amalie",email:"amalie@email.com",age:12},{name:"Wladimir",email:"wladimir@email.com",age:30},{name:"Samantha",email:"samantha@email.com",age:31},{name:"Estefanía",email:"estefanía@email.com",age:16},{name:"Natasha",email:"natasha@email.com",age:54},{name:"Nicole",email:"nicole@email.com",age:43},{name:"Adrian",email:"adrian@email.com",age:21}],vm.address={},vm.refreshAddresses=function(params){if(params){params={address:params};return $http.get("//maps.googleapis.com/maps/api/geocode/json",{params:params}).then(function(response){vm.addresses=response.data.results})}},vm.country={},vm.countries=[{name:"Afghanistan",code:"AF"},{name:"Åland Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"Andorra",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo, The Democratic Republic of the",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Cote D'Ivoire",code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and Mcdonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran, Islamic Republic Of",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"Korea, Democratic People's Republic of",code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Lao People's Democratic Republic",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libyan Arab Jamahiriya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia, The Former Yugoslav Republic of",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia, Federated States of",code:"FM"},{name:"Moldova, Republic of",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"Netherlands Antilles",code:"AN"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestinian Territory, Occupied",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russian Federation",code:"RU"},{name:"Rwanda",code:"RW"},{name:"Saint Helena",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia and Montenegro",code:"CS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",code:"SY"},{name:"Taiwan, Province of China",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania, United Republic of",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States",code:"US"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Vietnam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Virgin Islands, U.S.",code:"VI"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}],vm.someGroupFn=function(item){return"A"<=item.name[0]&&item.name[0]<="M"?"From A - M":"N"<=item.name[0]&&item.name[0]<="Z"?"From N - Z":void 0},vm.counter=0,vm.someFunction=function(item,model){vm.counter++,vm.eventResult={item:item,model:model}},vm.availableColors=["Red","Green","Blue","Yellow","Magenta","Maroon","Umbra","Turquoise"],vm.multipleDemo={},vm.multipleDemo.colors=["Blue","Red"],vm.multipleDemo.selectedPeople=[vm.people[5],vm.people[4]],vm.multipleDemo.selectedPeopleWithGroupBy=[vm.people[8],vm.people[6]],vm.multipleDemo.selectedPeopleSimple=["samantha@email.com","wladimir@email.com"]}angular.module("app.forms").controller("uiSelectController",uiSelectController),uiSelectController.$inject=["$scope","$http"]}();
"use strict";!function(){function FileUploadController(FileUploader){var uploader;(uploader=this.uploader=new FileUploader({url:"server/upload.php"})).filters.push({name:"customFilter",fn:function(){return this.queue.length<10}}),uploader.onWhenAddingFileFailed=function(item,filter,options){console.info("onWhenAddingFileFailed",item,filter,options)},uploader.onAfterAddingFile=function(fileItem){console.info("onAfterAddingFile",fileItem)},uploader.onAfterAddingAll=function(addedFileItems){console.info("onAfterAddingAll",addedFileItems)},uploader.onBeforeUploadItem=function(item){console.info("onBeforeUploadItem",item)},uploader.onProgressItem=function(fileItem,progress){console.info("onProgressItem",fileItem,progress)},uploader.onProgressAll=function(progress){console.info("onProgressAll",progress)},uploader.onSuccessItem=function(fileItem,response,status,headers){console.info("onSuccessItem",fileItem,response,status,headers)},uploader.onErrorItem=function(fileItem,response,status,headers){console.info("onErrorItem",fileItem,response,status,headers)},uploader.onCancelItem=function(fileItem,response,status,headers){console.info("onCancelItem",fileItem,response,status,headers)},uploader.onCompleteItem=function(fileItem,response,status,headers){console.info("onCompleteItem",fileItem,response,status,headers)},uploader.onCompleteAll=function(){console.info("onCompleteAll")},console.info("uploader",uploader)}angular.module("app.forms").controller("FileUploadController",FileUploadController),FileUploadController.$inject=["FileUploader"]}();
"use strict";angular.module("app.forms").directive("filestyle",function(){return{link:function(scope,element){var options=element.data();options.classInput=element.data("classinput")||options.classInput,element.filestyle(options)},restrict:"A"}});
"use strict";!function(){function formWizard($parse){return{link:function(scope,wiz,attrs){var validate=$parse(attrs.validateSteps)(scope),wiz=new Wizard(attrs.steps,!!validate,wiz);scope.wizard=wiz.init()},controller:ctrl,restrict:"A",scope:!0};function Wizard(quantity,validate,element){var self=this;self.quantity=parseInt(quantity,10),self.validate=validate,self.element=element,self.init=function(){return self.createsteps(self.quantity),self.go(1),self},self.go=function(step){if(angular.isDefined(self.steps[step])){if(self.validate&&1!==step){var scope=self.element.scope();if("function"==typeof scope.wizardValidate){var form=$(self.element).children().children("div").eq(step-2).children("[ng-form]");if(!scope.wizardValidate(form.attr("ng-form")))return!1}}self.cleanall(),self.steps[step]=!0}},self.active=function(step){return!!self.steps[step]},self.cleanall=function(){for(var i in self.steps)self.steps[i]=!1},self.createsteps=function(q){self.steps=[];for(var i=1;i<=q;i++)self.steps[i]=!1}}}function ctrl($scope){$scope.wizardValidate=function(formName){if(angular.isDefined($scope[formName]))return $scope[formName].$setSubmitted(!0),$scope[formName].$valid}}angular.module("app.forms").directive("formWizard",formWizard),formWizard.$inject=["$parse"],ctrl.$inject=["$scope"]}();
"use strict";angular.module("app.forms").directive("masked",function(){return{link:function(scope,$elem){$elem=$($elem);$.fn.inputmask&&$elem.inputmask()},restrict:"A"}});
"use strict";!function(){function tagsinput($timeout){return{link:function(scope,element,attrs,ngModel){element.on("itemAdded itemRemoved",function(){ngModel.$viewValue&&ngModel.$viewValue.split&&(ngModel.$setViewValue(ngModel.$viewValue.split(",")),ngModel.$render())}),$timeout(function(){element.tagsinput()})},require:"ngModel",restrict:"A"}}angular.module("app.forms").directive("tagsinput",tagsinput),tagsinput.$inject=["$timeout"]}();
"use strict";angular.module("app.forms").filter("propsFilter",function(){return function(items,props){var out=[];angular.isArray(items)?items.forEach(function(item){for(var itemMatches=!1,keys=Object.keys(props),i=0;i<keys.length;i++){var prop=keys[i],text=props[prop].toLowerCase();if(-1!==item[prop].toString().toLowerCase().indexOf(text)){itemMatches=!0;break}}itemMatches&&out.push(item)}):out=items;return out}});
"use strict";
"use strict";angular.module("app.help").config(["$stateProvider","RouteHelpersProvider",function($stateProvider,helper){$stateProvider.state("app.help",{url:"help",templateUrl:"modules/help/client/views/help.client.view.html",resolve:helper.resolveFor("inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle","summernote"),controller:"HelpController as help",authorization:{allowedRoles:["report_user","admin","developer","super_admin"]}})}]);
"use strict";!function(){function HelpController($state,$scope){}angular.module("app.help").controller("HelpController",HelpController),HelpController.$inject=["$state","$scope"]}();
"use strict";angular.module("app.icons").directive("skycon",function(){return{link:function(scope,element,attrs){var skycons=new Skycons({color:attrs.color||"white"});element.html('<canvas width="'+attrs.width+'" height="'+attrs.height+'"></canvas>'),skycons.add(element.children()[0],attrs.skycon),skycons.play()},restrict:"A"}});
"use strict";angular.module("app.landing").config(["$stateProvider",function($stateProvider){$stateProvider.state("landing",{url:"/landing",templateUrl:"modules/landing/client/views/landing.client.view.html",controller:"LandingController"})}]);
"use strict";!function(){function LandingController($state,$scope){$scope.gotoLogin=function(){window.location="page/authentication/signin"}}angular.module("app.landing").controller("LandingController",LandingController),LandingController.$inject=["$state","$scope"]}();
"use strict";!function(){function lazyloadConfig($ocLazyLoadProvider,APP_REQUIRES){$ocLazyLoadProvider.config({debug:!1,events:!0,modules:APP_REQUIRES.modules})}angular.module("app.lazyload").config(lazyloadConfig),lazyloadConfig.$inject=["$ocLazyLoadProvider","APP_REQUIRES"]}();
"use strict";angular.module("app.lazyload").constant("APP_REQUIRES",{scripts:{whirl:["/lib/whirl/dist/whirl.css"],animo:["/lib/animo.js/animo.js"],fastclick:["/lib/fastclick/lib/fastclick.js"],modernizr:["/lib/modernizr/modernizr.custom.js"],animate:["/lib/animate.css/animate.min.css"],skycons:["/lib/skycons/skycons.js"],icons:["/lib/fontawesome/css/font-awesome.min.css","/lib/simple-line-icons/css/simple-line-icons.css"],"weather-icons":["/lib/weather-icons/css/weather-icons.min.css","/lib/weather-icons/css/weather-icons-wind.min.css"],sparklines:["/lib/sparkline/index.js"],wysiwyg:["/lib/bootstrap-wysiwyg/bootstrap-wysiwyg.js","/lib/bootstrap-wysiwyg/external/jquery.hotkeys.js"],slimscroll:["/lib/slimScroll/jquery.slimscroll.min.js"],screenfull:["/lib/screenfull/dist/screenfull.js"],"vector-map":["/lib/ika.jvectormap/jquery-jvectormap-1.2.2.min.js","/lib/ika.jvectormap/jquery-jvectormap-1.2.2.css"],"vector-map-maps":["/lib/ika.jvectormap/jquery-jvectormap-world-mill-en.js","/lib/ika.jvectormap/jquery-jvectormap-us-mill-en.js"],loadGoogleMapsJS:["/lib/load-google-maps/load-google-maps.js"],"flot-chart":["/lib/flot/jquery.flot.js"],"flot-chart-plugins":["/lib/flot.tooltip/js/jquery.flot.tooltip.min.js","/lib/flot/jquery.flot.resize.js","/lib/flot/jquery.flot.pie.js","/lib/flot/jquery.flot.time.js","/lib/flot/jquery.flot.categories.js","/lib/flot-spline/js/jquery.flot.spline.min.js"],moment:["/lib/moment/min/moment-with-locales.min.js"],inputmask:["/lib/jquery.inputmask/dist/jquery.inputmask.bundle.js"],flatdoc:["/lib/flatdoc/flatdoc.js"],codemirror:["/lib/codemirror/lib/codemirror.js","/lib/codemirror/lib/codemirror.css"],"codemirror-modes-web":["/lib/codemirror/mode/javascript/javascript.js","/lib/codemirror/mode/xml/xml.js","/lib/codemirror/mode/htmlmixed/htmlmixed.js","/lib/codemirror/mode/css/css.js"],taginput:["/lib/bootstrap-tagsinput/dist/bootstrap-tagsinput.css","/lib/bootstrap-tagsinput/dist/bootstrap-tagsinput.min.js"],filestyle:["/lib/bootstrap-filestyle/src/bootstrap-filestyle.js"],morris:["/lib/raphael/raphael.js","/lib/morris.js/morris.js","/lib/morris.js/morris.css"],"loaders.css":["/lib/loaders.css/loaders.css"],spinkit:["/lib/spinkit/css/spinkit.css"]},modules:[{name:"toaster",files:["/lib/angularjs-toaster/toaster.js","/lib/angularjs-toaster/toaster.css"]},{name:"localytics.directives",files:["/lib/chosen_v1.2.0/chosen.jquery.min.js","/lib/chosen_v1.2.0/chosen.min.css","/lib/angular-chosen-localytics/dist/angular-chosen.js"],serie:!0},{name:"ngDialog",files:["/lib/ngDialog/js/ngDialog.min.js","/lib/ngDialog/css/ngDialog.min.css","/lib/ngDialog/css/ngDialog-theme-default.min.css"]},{name:"ngWig",files:["/lib/ngWig/dist/ng-wig.min.js"]},{name:"ngTable",files:["/lib/ng-table/dist/ng-table.min.js","/lib/ng-table/dist/ng-table.min.css"]},{name:"ngTableExport",files:["/lib/ng-table-export/ng-table-export.js"]},{name:"angularBootstrapNavTree",files:["/lib/angular-bootstrap-nav-tree/dist/abn_tree_directive.js","/lib/angular-bootstrap-nav-tree/dist/abn_tree.css"]},{name:"xeditable",files:["/lib/angular-xeditable/dist/js/xeditable.js","/lib/angular-xeditable/dist/css/xeditable.css"]},{name:"angularFileUpload",files:["/lib/angular-file-upload/dist/angular-file-upload.js"]},{name:"ngImgCrop",files:["/lib/ng-img-crop/compile/unminified/ng-img-crop.js","/lib/ng-img-crop/compile/unminified/ng-img-crop.css"]},{name:"ui.select",files:["/lib/angular-ui-select/dist/select.js","/lib/angular-ui-select/dist/select.css"]},{name:"ui.codemirror",files:["/lib/angular-ui-codemirror/ui-codemirror.js"]},{name:"angular-carousel",files:["/lib/angular-carousel/dist/angular-carousel.css","/lib/angular-carousel/dist/angular-carousel.js"]},{name:"infinite-scroll",files:["/lib/ngInfiniteScroll/build/ng-infinite-scroll.js"]},{name:"ui.bootstrap-slider",files:["/lib/seiyria-bootstrap-slider/dist/bootstrap-slider.min.js","/lib/seiyria-bootstrap-slider/dist/css/bootstrap-slider.min.css","/lib/angular-bootstrap-slider/slider.js"],serie:!0},{name:"ui.grid",files:["/lib/angular-ui-grid/ui-grid.min.css","/lib/angular-ui-grid/ui-grid.min.js"]},{name:"summernote",files:["/lib/bootstrap/js/modal.js","/lib/bootstrap/js/dropdown.js","/lib/bootstrap/js/tooltip.js","/lib/summernote/dist/summernote.css","/lib/summernote/dist/summernote.js","/lib/angular-summernote/dist/angular-summernote.js"],serie:!0},{name:"angular-rickshaw",files:["/lib/d3/d3.min.js","/lib/rickshaw/rickshaw.js","/lib/rickshaw/rickshaw.min.css","/lib/angular-rickshaw/rickshaw.js"],serie:!0},{name:"angular-chartist",files:["/lib/chartist/dist/chartist.min.css","/lib/chartist/dist/chartist.js","/lib/angular-chartist.js/dist/angular-chartist.js"],serie:!0},{name:"ui.map",files:["/lib/angular-ui-map/ui-map.js"]},{name:"datatables",files:["/lib/datatables/media/css/jquery.dataTables.css","/lib/datatables/media/js/jquery.dataTables.js","/lib/datatables-buttons/js/dataTables.buttons.js","/lib/datatables-buttons/js/buttons.bootstrap.js","/lib/datatables-buttons/js/buttons.colVis.js","/lib/datatables-buttons/js/buttons.flash.js","/lib/datatables-buttons/js/buttons.html5.js","/lib/datatables-buttons/js/buttons.print.js","/lib/angular-datatables/dist/angular-datatables.js","/lib/angular-datatables/dist/plugins/buttons/angular-datatables.buttons.js"],serie:!0},{name:"angular-jqcloud",files:["/lib/jqcloud2/dist/jqcloud.css","/lib/jqcloud2/dist/jqcloud.js","/lib/angular-jqcloud/angular-jqcloud.js"]},{name:"angularGrid",files:["/lib/ag-grid/dist/styles/ag-grid.css","/lib/ag-grid/dist/ag-grid.js","/lib/ag-grid/dist/styles/theme-dark.css","/lib/ag-grid/dist/styles/theme-fresh.css"]},{name:"ng-nestable",files:["/lib/ng-nestable/src/angular-nestable.js","/lib/nestable/jquery.nestable.js"]},{name:"akoenig.deckgrid",files:["/lib/angular-deckgrid/angular-deckgrid.js"]},{name:"oitozero.ngSweetAlert",files:["/lib/sweetalert/dist/sweetalert.css","/lib/sweetalert/dist/sweetalert.min.js","/lib/angular-sweetalert/SweetAlert.js"],serie:!0},{name:"bm.bsTour",files:["/lib/bootstrap-tour/build/css/bootstrap-tour.css","/lib/bootstrap-tour/build/js/bootstrap-tour-standalone.js","/lib/angular-bootstrap-tour/dist/angular-bootstrap-tour.js"],serie:!0},{name:"ui.knob",files:["/lib/angular-knob/src/angular-knob.js","/lib/jquery-knob/dist/jquery.knob.min.js"]},{name:"easypiechart",files:["/lib/jquery.easy-pie-chart/dist/angular.easypiechart.min.js"]},{name:"colorpicker.module",files:["/lib/angular-bootstrap-colorpicker/css/colorpicker.css","/lib/angular-bootstrap-colorpicker/js/bootstrap-colorpicker-module.js"]},{name:"ui.sortable",files:["/lib/jquery-ui/jquery-ui.min.js","/lib/angular-ui-sortable/sortable.js"],serie:!0},{name:"ui.calendar",files:["/lib/jquery-ui/jquery-ui.min.js","/lib/jqueryui-touch-punch/jquery.ui.touch-punch.min.js","/lib/fullcalendar/dist/fullcalendar.min.js","/lib/fullcalendar/dist/gcal.js","/lib/fullcalendar/dist/fullcalendar.css","/lib/angular-ui-calendar/src/calendar.js"],serie:!0},{name:"chart.js",files:["/lib/chart.js/dist/Chart.js","/lib/angular-chart.js/dist/angular-chart.js"],serie:!0}]});
"use strict";!function(){function loadingbarConfig(cfpLoadingBarProvider){cfpLoadingBarProvider.includeBar=!0,cfpLoadingBarProvider.includeSpinner=!1,cfpLoadingBarProvider.latencyThreshold=500,cfpLoadingBarProvider.parentSelector=".wrapper > section"}angular.module("app.loadingbar").config(loadingbarConfig),loadingbarConfig.$inject=["cfpLoadingBarProvider"]}();
"use strict";!function(){function loadingbarRun($rootScope,$timeout,cfpLoadingBar){var thBar;$rootScope.$on("$stateChangeStart",function(){$(".wrapper > section").length&&(thBar=$timeout(function(){cfpLoadingBar.start()},0))}),$rootScope.$on("$stateChangeSuccess",function(event){event.targetScope.$watch("$viewContentLoaded",function(){$timeout.cancel(thBar),cfpLoadingBar.complete()})})}angular.module("app.loadingbar").run(loadingbarRun),loadingbarRun.$inject=["$rootScope","$timeout","cfpLoadingBar"]}();
"use strict";!function(){function localeConfig(tmhDynamicLocaleProvider){tmhDynamicLocaleProvider.localeLocationPattern("lib/angular-i18n/angular-locale_{{locale}}.js")}angular.module("app.locale").config(localeConfig),localeConfig.$inject=["tmhDynamicLocaleProvider"]}();
"use strict";!function(){function LocalizationController($rootScope,tmhDynamicLocale,$locale){$rootScope.availableLocales={en:"English",es:"Spanish",de:"German",fr:"French",ar:"Arabic",ja:"Japanese",ko:"Korean",zh:"Chinese"},$rootScope.model={selectedLocale:"en"},$rootScope.$locale=$locale,$rootScope.changeLocale=tmhDynamicLocale.set}angular.module("app.locale").controller("LocalizationController",LocalizationController),LocalizationController.$inject=["$rootScope","tmhDynamicLocale","$locale"]}();
"use strict";angular.module("app.mailbox").controller("MailboxController",function(){var vm=this;vm.folders=[{name:"Inbox",folder:"inbox",alert:42,icon:"fa-inbox"},{name:"Starred",folder:"starred",alert:10,icon:"fa-star"},{name:"Sent",folder:"sent",alert:0,icon:"fa-paper-plane-o"},{name:"Draft",folder:"draft",alert:5,icon:"fa-edit"},{name:"Trash",folder:"trash",alert:0,icon:"fa-trash"}],vm.labels=[{name:"Red",color:"danger"},{name:"Pink",color:"pink"},{name:"Blue",color:"info"},{name:"Yellow",color:"warning"}],vm.mail={cc:!1,bcc:!1},vm.content="<p>Type something..</p>"});
"use strict";!function(){function MailFolderController(mails,$stateParams){var vm=this;vm.folder={},vm.folder.folder="inbox"===$stateParams.folder?"":$stateParams.folder,mails.all().then(function(mails){vm.mails=mails})}angular.module("app.mailbox").controller("MailFolderController",MailFolderController),MailFolderController.$inject=["mails","$stateParams"]}();
"use strict";!function(){function MailViewController(mails,$stateParams){var vm=this;mails.get($stateParams.mid).then(function(mail){vm.mail=mail})}angular.module("app.mailbox").controller("MailViewController",MailViewController),MailViewController.$inject=["mails","$stateParams"]}();
"use strict";!function(){function mails($http){return{all:readMails,get:function(id){return readMails().then(function(mails){for(var i=0;i<mails.length;i++)if(+mails[i].id==+id)return mails[i];return null})}};function readMails(){return $http.get("server/mails.json").then(function(resp){return resp.data.mails})}}angular.module("app.mailbox").factory("mails",mails),mails.$inject=["$http"]}();
"use strict";
"use strict";!function(){function appRoutes($stateProvider,helper){$stateProvider.state("app.maps-google",{url:"/maps/google",title:"Maps Google",templateUrl:"modules/maps/client/views/maps-google.client.view.html",resolve:helper.resolveFor("loadGoogleMapsJS",function(){return loadGoogleMaps()},"ui.map")}).state("app.maps-vector",{url:"/maps/vector",title:"Maps Vector",templateUrl:"modules/maps/client/views/maps-vector.client.view.html",controller:"VectorMapController",controllerAs:"vmap",resolve:helper.resolveFor("vector-map","vector-map-maps")})}angular.module("app.dashboard").config(appRoutes),appRoutes.$inject=["$stateProvider","RouteHelpersProvider"]}();
"use strict";!function(){function ModalGmapController($uibModal){function ModalInstanceCtrl($scope,$uibModalInstance,$timeout){$uibModalInstance.opened.then(function(){var position=new google.maps.LatLng(33.790807,-117.835734);$scope.mapOptionsModal={zoom:14,center:position,mapTypeId:google.maps.MapTypeId.ROADMAP},$timeout(function(){new google.maps.Marker({map:$scope.myMapModal,position:position}),google.maps.event.trigger($scope.myMapModal,"resize"),$scope.myMapModal.panTo(position)})}),$scope.ok=function(){$uibModalInstance.close("closed")},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}}this.open=function(size){$uibModal.open({templateUrl:"/myModalContent.html",controller:ModalInstanceCtrl,size:size})},ModalInstanceCtrl.$inject=["$scope","$uibModalInstance","$timeout"]}angular.module("app.maps").controller("ModalGmapController",ModalGmapController),ModalGmapController.$inject=["$uibModal"]}();
"use strict";!function(){function GMapController($timeout){var position,vm=this;function addMarker(map,position){return new google.maps.Marker({map:map,position:position})}position=[new google.maps.LatLng(33.790807,-117.835734),new google.maps.LatLng(33.790807,-117.835734),new google.maps.LatLng(33.790807,-117.835734),new google.maps.LatLng(33.790807,-117.835734),new google.maps.LatLng(33.787453,-117.835858)],vm.addMarker=addMarker,$timeout(function(){addMarker(vm.myMap1,position[0]),addMarker(vm.myMap2,position[1]),addMarker(vm.myMap3,position[2]),addMarker(vm.myMap5,position[3])}),vm.mapOptions1={zoom:14,center:position[0],mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1},vm.mapOptions2={zoom:19,center:position[1],mapTypeId:google.maps.MapTypeId.ROADMAP},vm.mapOptions3={zoom:14,center:position[2],mapTypeId:google.maps.MapTypeId.SATELLITE},vm.mapOptions4={zoom:14,center:position[3],mapTypeId:google.maps.MapTypeId.ROADMAP},$timeout(function(){addMarker(vm.myMap4,position[3]),addMarker(vm.myMap4,position[4])}),vm.mapOptions5={zoom:14,center:position[3],styles:[{featureType:"water",stylers:[{visibility:"on"},{color:"#bdd1f9"}]},{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#334165"}]},{featureType:"landscape",stylers:[{color:"#e9ebf1"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#c5c6c6"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#fff"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#fff"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#d8dbe0"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#cfd5e0"}]},{featureType:"administrative",stylers:[{visibility:"on"},{lightness:33}]},{featureType:"poi.park",elementType:"labels",stylers:[{visibility:"on"},{lightness:20}]},{featureType:"road",stylers:[{color:"#d8dbe0",lightness:20}]}],mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1}}angular.module("app.maps").controller("GMapController",GMapController),GMapController.$inject=["$timeout"]}();
"use strict";angular.module("app.maps").controller("VectorMapController",function(){var vm=this;vm.seriesData={CA:11100,DE:2510,FR:3710,AU:5710,GB:8310,RU:9310,BR:6610,IN:7810,CN:4310,US:839,SA:410},vm.markersData=[{latLng:[41.9,12.45],name:"Vatican City"},{latLng:[43.73,7.41],name:"Monaco"},{latLng:[-.52,166.93],name:"Nauru"},{latLng:[-8.51,179.21],name:"Tuvalu"},{latLng:[7.11,171.06],name:"Marshall Islands"},{latLng:[17.3,-62.73],name:"Saint Kitts and Nevis"},{latLng:[3.2,73.22],name:"Maldives"},{latLng:[35.88,14.5],name:"Malta"},{latLng:[41,-71.06],name:"New England"},{latLng:[12.05,-61.75],name:"Grenada"},{latLng:[13.16,-59.55],name:"Barbados"},{latLng:[17.11,-61.85],name:"Antigua and Barbuda"},{latLng:[-4.61,55.45],name:"Seychelles"},{latLng:[7.35,134.46],name:"Palau"},{latLng:[42.5,1.51],name:"Andorra"}]});
"use strict";!function(){function vectorMap(VectorMap){return{link:function(scope,element,options){var defaultColors={markerColor:"#23b7e5",bgColor:"transparent",scaleColors:["#878c9a"],regionFill:"#bbbec6"},mapHeight=options.height||"300",options={markerColor:options.markerColor||defaultColors.markerColor,bgColor:options.bgColor||defaultColors.bgColor,scale:options.scale||1,scaleColors:options.scaleColors||defaultColors.scaleColors,regionFill:options.regionFill||defaultColors.regionFill,mapName:options.mapName||"world_mill_en"};element.css("height",mapHeight),VectorMap.init(element,options,scope.seriesData,scope.markersData)},restrict:"EA",scope:{seriesData:"=",markersData:"="}}}angular.module("app.maps").directive("vectorMap",vectorMap),vectorMap.$inject=["VectorMap"]}();
"use strict";angular.module("app.maps").service("VectorMap",function(){this.init=function($element,opts,series,markers){$element.vectorMap({map:opts.mapName,backgroundColor:opts.bgColor,zoomMin:1,zoomMax:8,zoomOnScroll:!1,regionStyle:{initial:{fill:opts.regionFill,"fill-opacity":1,stroke:"none","stroke-width":1.5,"stroke-opacity":1},hover:{"fill-opacity":.8},selected:{fill:"blue"},selectedHover:{}},focusOn:{x:.4,y:.6,scale:opts.scale},markerStyle:{initial:{fill:opts.markerColor,stroke:opts.markerColor}},onRegionLabelShow:function(e,el,code){series&&series[code]&&el.html(el.html()+": "+series[code]+" visitors")},markers:markers,series:{regions:[{values:series,scale:opts.scaleColors,normalizeFunction:"polynomial"}]}})}});
"use strict";!function(){function coreMenu(Menus){Menus.addMenuItem("sidebar",{title:"Models",state:"app.models",iconClass:"fa fa-cubes",position:3,roles:["*"]})}angular.module("app.models").run(coreMenu),coreMenu.$inject=["Menus"]}();
"use strict";angular.module("app.models").config(["$stateProvider","RouteHelpersProvider",function($stateProvider,helper){$stateProvider.state("app.models",{url:"models",templateUrl:"modules/models/client/views/models.client.view.html",resolve:helper.resolveFor("datatables","angularFileUpload","filestyle","localytics.directives","loaders.css","spinkit","angular-carousel","taginput","inputmask","ui.select","oitozero.ngSweetAlert"),controller:"ModelsController as vm",authorization:{allowedRoles:["report_user","admin","developer","super_admin"]}})}]);
"use strict";!function(){function ModelsController($scope,Project,Colors,Models,ProjectCore,$uibModal,$http,$sce,Socket,toaster,DynamicFormService,FileUploader,Authentication,DynamicFormAdvAlgos,NVD3Config,TooltipData,TrainingService,DataService,DataDriftService,$state,SweetAlert,GeneralSettings,TextAnalysis){var td3=d3,api=NVD3Config.getD3Object();api&&(window.d3=api);var vm=this;vm.showTextError=!1,vm.trainings=[],vm.driftConfigList=[],vm.graphType="featureImpact",vm.showImpactGraph=!1,vm.showBin=!1,vm.bins=0,vm.showRefresh=!1,vm.showDistributionGraph=!1,vm.project=ProjectCore.getProject(),vm.values=[],vm.showTrainingSpinner=!1,vm.showLoading=!0,vm.data=[{key:"Model comparison",values:""}],vm.filter=["overallScore"],vm.formFeilds=[],vm.modelErrorCount=0,vm.modelAlgorithms=TrainingService.getAlgorithmList,vm.predictionStarted=!1,vm.predictionUploadResult=null,vm.classificationResult=null,vm.cm=[],vm.currentModelMeta={},vm.quickPredformData={},vm.quickPredUIMetaData=[],vm.clusteringGraphType=[],vm.clusterVisualization=[],vm.predMode="file_upload",vm.backGround="#ffffff",vm.foreGround="#08509d",vm.filterSortOrder="desc";var uploaderScoring=null;vm.retrainType="refit",vm.sourceType="file",vm.mergeDataset=!1,vm.totalAlgos=0;var taFeatureConfig=[],originalFileDetails=null;vm.getToolTipData=function(tooltip){return TooltipData.getTootipInfo(tooltip)[0]},vm.modelTuningOption="hpt";var daRegressionMetrics=["mean_abs_err","mean_sq_err","r2","root_mean_sq_err"];function getTrainingsList(){Models.getTrainingList.query({projectId:vm.project._id}).$promise.then(function(data){return vm.showLoading=!0,data.length?(vm.traingList=data,vm.previousTraining=data[0],vm.selectedTraining=data[0]._id,vm.showTrainingSpinner=!0,vm.currentModelMeta={name:"Training 1",trainingId:data[0]._id,createdAt:data[0].createdAt,originalFileId:data[0].originalFileId,fileName:data[0].metaInfo.fileName||""},(uploaderScoring=vm.uploaderScoring=new FileUploader({url:"/api/training/"+vm.currentModelMeta.trainingId+"/scoring/data",removeAfterUpload:!0})).filters.push({name:"fileTypeChecker",fn:function(temp){var type=null;return type=temp.type?"|"+temp.type.slice(temp.type.lastIndexOf("/")+1)+"|":(temp=temp.name.split("."))[temp.length-1],-1!=="|csv|vnd.ms-excel|zip|x-zip-compressed|vnd.openxmlformats-officedocument.spreadsheetml.sheet|pkl|pk|pl|pickle|".indexOf(type)}}),uploaderScoring.onWhenAddingFileFailed=function(item,filter,options){toaster.pop("error",$scope.app.name,"Please upload a csv file.",3e3)},uploaderScoring.onAfterAddingFile=function(fileItem){vm.uploaderScoring.queue[0]&&(vm.uploaderScoring.queue[0].upload(),vm.uploaderScoring.onCompleteItem=function(fileItem,fileElement,status,headers){if(200!=status)return toaster.pop("error",$scope.app.name,fileElement.message,4e3),0;toaster.pop("success",$scope.app.name,"Scoring data uploaded successfully",2e3),vm.uploader.queue.length=0;fileElement=angular.element("#scoringMetricsFile");angular.element(fileElement).val(null)})},data[0].hasOwnProperty("modelMetaData")&&(alert(),sortAndRankModels(data[0]),"clustering"==data[0].problemType&&vm.genClusteringFeatures(data[0]),vm.trainings=[data[0]],fetchProjectDetails().$promise.then(function(resp){ProjectCore.setProject(resp[0]),initModels(resp[0].type,vm.trainings.models),vm.modelErrorCount=resp[0].projectStatusDetails.length,vm.modelErrorCount+vm.trainings[0].modelMetaData.length==vm.trainings[0].algorithms.length&&(vm.showTrainingSpinner=!1)},function(err){vm.showLoading=!1,toaster.pop("error",$scope.app.name,"Oops! something went wrong while fetching project details.",2e3)}))):vm.showLoading=!1,data},function(){vm.showLoading=!1,toaster.pop("error",$scope.app.name,"Oops! something went wrong",2e3)}).then(function(data){vm.selectedTraining&&getModels(vm.selectedTraining).$promise.then(function(resp){data[0].models=resp,vm.trainings=[data[0]],getOriginalFileDetails(vm.trainings[0].originalFileId,vm.trainings[0].projectId),vm.totalAlgos=(vm.trainings[0].algorithms.length<=vm.trainings[0].models.length?vm.trainings[0].models:vm.trainings[0].algorithms).length,vm.totalAlgos<vm.trainings[0].algorithms.length?vm.showTrainingSpinner=!0:vm.showTrainingSpinner=!1,sortAndRankModels(vm.trainings[0]),"clustering"==vm.trainings[0].problemType&&vm.genClusteringFeatures(vm.trainings[0]),vm.showLoading=!1},function(err){vm.showLoading=!1,toaster.pop("error",$scope.app.name,"Could not fetch models details.",2e3)})})}function getOriginalFileDetails(originalFileId,projectId){DataService.myFile.query({projectId:projectId,dataId:originalFileId}).$promise.then(function(res){(vm.originalFileDetails=res).notebookInputFileId&&function(projectId,notebookInputFileId){DataService.myFile.query({projectId:projectId,dataId:notebookInputFileId}).$promise.then(function(res){vm.notebookInputFileDetails=res},function(err){})}(res.projectId,res.notebookInputFileId),DataService.getChildDatasets.query({projectId:projectId,dataId:originalFileId}).$promise.then(function(resp){vm.originalFileWithEdaDetails=resp[0]})},function(err){})}function getModels(trainingId){return Models.getModelsList.query({trainingId:trainingId})}function initModels(projectType,models){"timeseries"==projectType&&models&&(vm.startDate=new Array(models.length).fill(new Date),vm.endDate=new Array(models.length).fill(new Date))}function checkThemeColor(){Authentication.user.layout&&"themes/theme-l.css"==Authentication.user.layout.theme?(vm.backGround="#252525",vm.foreGround="#be7024"):(vm.backGround="#ffffff",vm.foreGround="#08509d")}function fetchProjectDetails(){return Project.myProject.query({projectId:vm.project._id})}function sortAndRankModels(training){vm.values.length=0,training.models.sort(function(aa,bb){if("Mean Absolute Error"!=vm.filter[0]&&"Root Mean Square Error"!=vm.filter[0]&&"Median Square Error"!=vm.filter[0])return"desc"==vm.filterSortOrder?parseFloat(+bb.modelMetaData[vm.filter[0]])-parseFloat(+aa.modelMetaData[vm.filter[0]]):parseFloat(+aa.modelMetaData[vm.filter[0]])-parseFloat(+bb.modelMetaData[vm.filter[0]]);aa=aa.modelMetaData.losses.filter(function(pilot){return pilot.name===vm.filter[0]}),bb=bb.modelMetaData.losses.filter(function(pilot){return pilot.name===vm.filter[0]});return"desc"==vm.filterSortOrder?parseFloat(+bb[0].value)-parseFloat(+aa[0].value):parseFloat(+aa[0].value)-parseFloat(+bb[0].value)}),"AtoZ"==vm.filter[0]&&training.models.sort(function(nameA,nameB){nameA=nameA.modelMetaData.algoName,nameB=nameB.modelMetaData.algoName;return nameA<nameB?-1:nameB<nameA?1:0}),"ZtoA"==vm.filter[0]&&training.models.sort(function(nameA,nameB){nameA=nameA.modelMetaData.algoName,nameB=nameB.modelMetaData.algoName;return nameB<nameA?-1:nameA<nameB?1:0}),training.models.forEach(function(data){vm.values.push({label:training.name+" - "+data.modelMetaData.algoName,value:+data.modelMetaData.overallScore})}),vm.data[0].values=vm.values,initModels(vm.project.type,training.models)}function findAlgoType(algoSplit){algoSplit=algoSplit.split("-");return TrainingService.findAlgo(algoSplit[0]).type}function sortArryOFObjects(items,key){return items.sort(function(a,b){return b[key]-a[key]}),items}function initalizeFob(){vm.finalObject={}}vm.setFilterList=function(algoType){vm.filterList="regression"==algoType?[{name:"Model Score",id:"testScore"},{name:"R Squared",id:"rSquared"},{name:"Time Elapsed",id:"timeElapsed"},{name:"Overall Score",id:"overallScore"},{name:"MAE",id:"Mean Absolute Error"},{name:"RMSE",id:"Root Mean Square Error"},{name:"MSE",id:"Mean Square Error"}]:[{name:"Accuracy",id:"testScore"},{name:"F1 Score",id:"f1Score"},{name:"Mathew's Coeff",id:"matCoeff"},{name:"Time Elapsed",id:"timeElapsed"},{name:"Overall Score",id:"overallScore"}]},vm.filterChanged=function(filter){filter=JSON.parse(filter);vm.filter=[filter.id],sortAndRankModels(vm.trainings[0])},vm.filterSortOrderChanged=function(order){vm.filterSortOrder=order,sortAndRankModels(vm.trainings[0])},getTrainingsList(),vm.trainingChanged=function(trainingId){vm.showLoading=!0;var newurl,trainingData=null;vm.forcastHtmlData=[],vm.selectedFeatures=[],vm.sourceType="file",vm.traingList.some(function(item){return item._id===trainingId&&(trainingData=item)}),trainingData&&(getOriginalFileDetails(trainingData.originalFileId,trainingData.projectId),vm.currentModelMeta={name:"Training ",trainingId:trainingData._id,createdAt:trainingData.createdAt,originalFileId:trainingData.originalFileId,fileName:trainingData.metaInfo.fileName||""},newurl="/api/training/"+vm.currentModelMeta.trainingId+"/scoring/data",uploaderScoring.url=newurl,getModels(vm.selectedTraining).$promise.then(function(fileElement){trainingData.models=fileElement,vm.trainings=[trainingData],vm.setFilterList(trainingData.algoType),sortAndRankModels(vm.trainings[0]),initModels(vm.project.type,vm.trainings.models),vm.totalAlgos=(vm.trainings[0].algorithms.length<=vm.trainings[0].models.length?vm.trainings[0].models:vm.trainings[0]).length,vm.predictionResult=!1;fileElement=angular.element("#predictionFile");fileElement&&(angular.element(fileElement).val(null),$scope.$$phase||$scope.$apply()),vm.showLoading=!1},function(err){vm.showLoading=!1,toaster.pop("error",$scope.app.name,"Could not fetch models details.",2e3)}))},Socket.on("predictionCompleted",function(message){vm.graphData=$sce.trustAsHtml("<h3>Loading...</h3>"),vm.predResultGridOptions={},"failed"==message.status&&(toaster.pop("error",$scope.app.name,message.data.message,2e3),vm.predictionStarted=!1,vm.predResultGridOptions.data=[],vm.predResultGridOptions.columnDefs=[],vm.predictionUploadResult=null,vm.predictionResult=null),message.predictionFileMetaData&&(vm.predictionResult=message,vm.predictionStarted=!1,Models.generatePreviewTable.query({predictionId:vm.predictionResult._id}).$promise.then(function(resp){vm.colDef=[];var key,firstRecord=resp[0];for(key in firstRecord)firstRecord.hasOwnProperty(key)&&vm.colDef.push({displayName:key,field:key,minWidth:120,width:"*"});vm.predResultGridOptions={flatEntityAccess:!0,fastWatch:!1,enableFiltering:!0,enableSorting:!0,columnDefs:vm.colDef,enableHorizontalScrollbar:2,enablePaginationControls:!0,useExternalPagination:!0,paginationPageSizes:[25,50,100],paginationPageSize:25},vm.predResultGridOptions.data=resp},function(err){toaster.pop("error",$scope.app.name,"Something went wrong!",2e3)}))}),vm.erroCount=0,vm.successCount=0,Socket.on("TrainingProgress",function(message){vm.trainings[0]&&("success"==message.status?(vm.trainings[0].models.push(message.modelMetaData),"retraining"==message.trainingType?(vm.totalAlgos+=1,sortAndRankModels(vm.trainings[0]),toaster.pop("success",$scope.app.name,"Retraining completed for algorithm "+message.algoName,3e3)):"model_tuning"==message.trainingType?(vm.totalAlgos+=1,sortAndRankModels(vm.trainings[0]),toaster.pop("success",$scope.app.name,"Model tuning completed for algorithm "+message.modelMetaData.modelMetaData.algoName,3e3)):"bagging_boosting"==message.trainingType&&(vm.totalAlgos+=1,sortAndRankModels(vm.trainings[0]),toaster.pop("success",$scope.app.name,"Bagging/Boosting completed for algorithm "+message.algoName,3e3)),vm.showLoading=!1):"train"==message.trainingType?vm.erroCount+=1:"retraining"==message.trainingType?toaster.pop("error",$scope.app.name,"Retraining failed for algorithm "+message.algoName+" "+message.modelMetaData.message,3e3):"model_tuning"==message.trainingType?toaster.pop("error",$scope.app.name,"Model tuning failed for algorithm "+message.algoName+" "+message.modelMetaData.message,3e3):"bagging_boosting"==message.trainingType&&toaster.pop("error",$scope.app.name,"Bagging/Boosting failed for algorithm "+message.algoName+" "+message.modelMetaData.message,3e3),"train"==message.trainingType&&(vm.trainings[0].algorithms.length==vm.erroCount+vm.trainings[0].models.length?(vm.showTrainingSpinner=!1,getTrainingsList()):vm.showTrainingSpinner=!0)),vm.showLoading=!1}),Socket.on("modelTuningProgress",function(message){return vm.trainings[0].modelMetaData=message.modelMetaData,vm.trainings[0].hptPreference=message.hptPreference,message.error?(sortAndRankModels(vm.trainings[0]),toaster.pop("error",$scope.app.name,"Model tuning failed for "+message.algoName,2e3),0):(sortAndRankModels(vm.trainings[0]),void toaster.pop("success",$scope.app.name,"Model tuning completed for "+message.algoName,2e3))}),Socket.on("edaCompleted",function(data){var algoName;"Model Failed"==data.projectStatus&&(initalizeFob(),vm.modelErrorCount++,fetchProjectDetails().$promise.then(function(resp){ProjectCore.setProject(resp[0]),vm.modelErrorCount+vm.trainings[0].modelMetaData.length==vm.trainings[0].algorithms.length&&(vm.showTrainingSpinner=!1)},function(err){}),1<(algoName=data.algoName.split("-")).length?toaster.pop("error",$scope.app.name,algoName[1]+" not supported for "+algoName[0],2e3):toaster.pop("error",$scope.app.name,"Training failed for "+data.algoName,2e3),ga("send","event","Training","Training completed",!0))}),Socket.on("cvCompleted",function(message){var modelData=message.modelData;vm.trainings[0].models=vm.trainings[0].models.map(function(data){return data._id==modelData._id&&(data=modelData),data}),toaster.pop("success",$scope.app.name,"CV Score calculated.",2e3)}),Socket.on("cpuLoad",function(message){vm.cpuLoad=message}),Socket.on("dataDrift",function(message){"datadrift_failed"==message.status?toaster.pop("error",$scope.app.name,message.data,3e3):($state.go("app.datadrift"),toaster.pop("success",$scope.app.name,"Data drift analysis completed.",3e3))}),$scope.$on("$destroy",function(){Socket.removeListener("edaCompleted"),Socket.removeListener("TrainingProgress"),Socket.removeListener("modelTuningProgress"),Socket.removeListener("predictionCompleted"),Socket.removeListener("cvCompleted"),Socket.removeListener("cpuLoad"),Socket.removeListener("dataDrift")}),$scope.options={chart:{type:"multiBarHorizontalChart",height:500,margin:{top:20,right:50,bottom:45,left:200},clipEdge:!0,duration:500,stacked:!1,x:function(d){return d.colName},y:function(d){return d.score},showControls:!1,showValues:!0,valueFormat:function(d){return d3.format(",.4f")(d)},xAxis:{showMaxMin:!1},yAxis:{axisLabel:"Scores",tickFormat:function(d){return d3.format(",.3f")(d)}}}},vm.date=new Date,vm.options={chart:{type:"discreteBarChart",height:450,margin:{top:20,right:20,bottom:50,left:75},yDomain:[0,1],x:function(d){return d.label},y:function(d){return d.value},showValues:!0,valueFormat:function(d){return d3.format(",.6f")(d)},tooltip:{valueFormatter:function(d){return d3.format(",.6f")(d)}},duration:500,xAxis:{axisLabel:"Model Name",axisLabelDistance:13},yAxis:{axisLabel:"Model Score",axisLabelDistance:-10},wrapLabels:!0},title:{enable:!1,text:"Comparison of models"}},vm.deleteModel=function(modelInfo,training){SweetAlert.swal({title:"Are you sure?",text:"You will not be able to revert this action.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete!",closeOnConfirm:!0},function(isConfirm){isConfirm&&(vm.showLoading=!0,Models.model.remove({modelId:modelInfo._id,trainingId:training._id}).$promise.then(function(resp){vm.trainings[0].models=vm.trainings[0].models.filter(function(model){return model._id!=modelInfo._id}),vm.trainings[0].algorithms=vm.trainings[0].algorithms.filter(function(algorithm){return modelInfo.modelMetaData.algoName!=algorithm}),--vm.totalAlgos,vm.showLoading=!1,toaster.pop("success",$scope.app.name,resp.message,3e3)},function(err){vm.showLoading=!1,toaster.pop("error",$scope.app.name,err.message,3e3)}))})},vm.deployModel=function(modelInfo,training,platform){var modalInstance;ga("send","event","Models","Downloading model",!0),modalInstance=$uibModal.open({templateUrl:"deploymentUrls.html",size:"md",scope:$scope}),$scope.cancel=function(){modalInstance.close()},vm.listHost(),vm.passHost=function(selectedHost){var psType=null;1==vm.psType&&(psType="pslite");var fileId=null,fileId=modelInfo.modelMetaData.hasOwnProperty("reTrainFileId")?modelInfo.reTrainFileId:training.originalFileId,algoType=findAlgoType(modelInfo.modelMetaData.algoName),notebooks=vm.originalFileDetails.notebooks||"",notebookInputFileId=vm.originalFileDetails.notebookInputFileId||"";$http.get("/api/training/"+training._id+"/models/"+modelInfo._id+"/deploy/"+selectedHost._id+"?ag="+modelInfo.modelMetaData.algoName+"&algoType="+algoType+"&pf="+platform+"&projectType="+vm.project.type+"&projectName="+vm.project.name+"&reTrainFileId="+fileId+"&operation=model-deployment&notebooks="+notebooks+"&notebookInputFileId="+notebookInputFileId+"&psType="+psType).then(function(resp){$http.post("/api/models/insertDeployment",{Host:selectedHost,projectId:vm.projectId,projectType:vm.project.type,modelId:modelInfo._id}).then(function(resps){toaster.pop("success",$scope.app.name,"Model deployment completed.",3e3),modalInstance.close()},function(err){toaster.pop("error",$scope.app.name,"Model deployment failed.",3e3),modalInstance.close()})},function(err){toaster.pop("error",$scope.app.name,"Model deployment failed.",3e3),modalInstance.close()})}},vm.downloadModel=function(modelInfo,training,platform){var modalInstance;ga("send","event","Models","Downloading model",!0),modalInstance=$uibModal.open({templateUrl:"downloadOption.html",size:"md",scope:$scope}),$scope.cancel=function(){modalInstance.close()},vm.download=function(){var psType;1==vm.psType&&(psType="pslite");var fileId=null,fileId=modelInfo.modelMetaData.hasOwnProperty("reTrainFileId")?modelInfo.reTrainFileId:training.originalFileId,algoType=findAlgoType(modelInfo.modelMetaData.algoName),notebooks=vm.originalFileDetails.notebooks||"",notebookInputFileId=vm.originalFileDetails.notebookInputFileId||"";window.open("/api/training/"+training._id+"/models/"+modelInfo._id+"/download?ag="+modelInfo.modelMetaData.algoName+"&algoType="+algoType+"&pf="+platform+"&projectType="+vm.project.type+"&projectName="+vm.project.name+"&reTrainFileId="+fileId+"&notebookInputFileId="+notebookInputFileId+"&notebooks="+notebooks+"&psType="+psType)}},vm.genClusteringFeatures=function(trainingData){if(vm.clusteringFeatures=[],"none"!=trainingData.clusteringInfo.decomposition)for(var i=0;i<trainingData.clusteringInfo.components;i++)vm.clusteringFeatures.push("component_"+i);else trainingData.clusteringInfo.numericFeatures.length&&trainingData.indepVariable.length&&(vm.clusteringFeatures=trainingData.clusteringInfo.numericFeatures.map(function(data){if(trainingData.indepVariable.find(function(indepVar){return indepVar.colName==data.colName}))return data.colName}))},vm.featureScoreModal=function(training,modelInfo,featureScores){var modalInstance;vm.featureResult=null;var modalScope=$scope.$new();modalScope.showme=!0,training.predictiveModelingInfo.hasOwnProperty("featureScores")?(modalInstance=$uibModal.open({templateUrl:"featureScoreModel.html",size:featureScores,scope:modalScope}),modalScope.cancel=function(){modalInstance.close(modalScope.selected)},featureScores=sortArryOFObjects(training.predictiveModelingInfo.featureScores,"score"),15<(modalScope.featureResult=featureScores).length&&(featureScores=featureScores.slice(0,15)),modalScope.featureSelectionMethod=training.predictiveModelingInfo.featureSelectionMethod,$scope.options.chart.x=function(d){return d.colName},$scope.options.chart.y=function(d){return d.score},$scope.data=[{key:"Feature score",color:"#1f77b4",values:featureScores}]):toaster.pop("error",$scope.app.name,"Feature score is not avaialable, please try again after sometime.",3e3)},vm.openfeatureImportanceModal=function(training,featureImportance,size){var modalInstance,modalScope=$scope.$new();modalScope.cReportMsg="Loading...";featureImportance=sortArryOFObjects(featureImportance.modelMetaData.featureImportance,"importance");15<(modalScope.featureImportance=featureImportance).length&&(featureImportance=featureImportance.slice(0,15)),$scope.options.chart.x=function(d){return d.colName},$scope.options.chart.y=function(d){return d.importance},modalScope.data=[{color:"#1f77b4",values:featureImportance}],modalInstance=$uibModal.open({templateUrl:"featureImportanceModal.html",size:size,scope:modalScope}),modalScope.cancel=function(){modalInstance.close(modalScope.selected)}},vm.showVisualization=!0,vm.openAnalysisReport=function(modelCommonMeta,modelInfo,tab){var modalScope=$scope.$new();modalScope.loadingMsg="Loading analysis report graph.",vm.showVisualization=!0,vm.myData=modelInfo.modelMetaData.analysisReport;var algoType=modelInfo.modelMetaData.algoName.split("-");vm.algoritmName=algoType[0];algoType=TrainingService.findAlgo(algoType[0]).type,vm.originalFileWithEdaDetails.edaId.edaSummary;vm.arFileName=null,vm.colDef=[],"predictive_modeling"==vm.project.type&&(vm.colDef=[{displayName:"Actual ("+modelCommonMeta.depVariable+")",field:"actualValue",minWidth:150,width:"*"},{displayName:"Predicted ("+modelCommonMeta.depVariable+")",field:"predValue",minWidth:150,width:"*"}],"classification"!=modelInfo.modelMetaData.algorithmType&&vm.colDef.push({displayName:"Deviation",field:"diff",minWidth:120,width:"*"})),vm.gridOptions={flatEntityAccess:!0,fastWatch:!1,enableFiltering:!1,enableSorting:!0,columnDefs:vm.colDef,enableHorizontalScrollbar:2,enablePaginationControls:!0,totalItems:0,paginationPageSize:25,paginationPageSizes:[25,50,100],enableColumnResizing:!0},Models.analysisGraph.query({trainingId:modelCommonMeta._id,modelId:modelInfo._id,algoName:modelInfo.modelMetaData.algoName,algoType:algoType,tab:tab,reTrainFileId:modelInfo.modelMetaData.reTrainFileId,projectType:vm.project.type,logTransformationColumns:vm.trainings[0].logTransformationColumns,scalarValue:vm.trainings[0].scalarValue,edaSummary:vm.originalFileWithEdaDetails.edaId.edaSummary}).$promise.then(function(resp){vm.myData=resp.preview,vm.arFileName=resp.arFileName,vm.gridOptions.data=vm.myData;var key,excludeColumnList=["$$hashKey","actualValue","predValue","diff"];for(key in vm.myData[0])-1==excludeColumnList.indexOf(key)&&vm.colDef.push({displayName:key,field:key,minWidth:120,width:"*"}),0;vm.selectedModelName=modelCommonMeta.name+" - "+modelInfo.modelMetaData.algoName,!modelInfo.modelMetaData.isMultilabel&&"predictive_modeling"==vm.project.type||(modalScope.loadingMsg="Analysis report graph is not available."),vm.showLoading=!1},function(err){modalScope.arReportStatus="Could not generate analysis report!",toaster.pop("error",$scope.app.name,err.data.message,3e3)}),modalScope.cancel=function(){modalInstance.close(modalScope.selected)},checkThemeColor(),modalScope.generateAnalysisReportGraph=function(){$http.post("/api/projects/"+vm.project._id+"/models/analysisReport/graph",{arFilePath:vm.arFileName,backGround:vm.backGround,foreGround:vm.foreGround,edaSummary:vm.originalFileWithEdaDetails.edaId.edaSummary}).then(function(resp){modalScope.content=$sce.trustAsHtml(resp.data),vm.showLoading=!1},function(err){modalScope.loadingMsg="Could not generate analysis report graph!",toaster.pop("error",$scope.app.name,"Oops!, something went wrong while generating analysis report graph.",3e3)})},modalScope.downloadAnalysisReport=function(){ga("send","event","Models","Downloading analysis report",!0),window.open("/api/models/"+modelInfo._id+"/analysisReport/download?fileName="+vm.arFileName+"&pId="+vm.project._id)};var modalInstance=$uibModal.open({templateUrl:"analysisReport.html",size:"lg",scope:modalScope})},vm.openHyperParameterModal=function(modelsCommonInfo,modelInfo){vm.isImported=!1,(1==vm.project.isImported&&1==modelInfo.modelMetaData.isMultilabel||1==modelInfo.modelMetaData.isMultilabel)&&(vm.isImported=!0);var algoSplit=modelInfo.modelMetaData.algoName.split("-");vm.modelName=modelInfo.modelMetaData.algoName;var modalInstance,iteration="Tuning-"+genModelName(modelsCommonInfo.models,modelInfo.modelMetaData.algoName);("XGBoost Classification"!=algoSplit&&"LightGBM Classification"!=algoSplit||1!=modelsCommonInfo.isMultilabel)&&"timeseries"!=vm.project.type||(vm.disableBO=!0);var modalScope=$scope.$new();vm.originalHpt=angular.copy(modelsCommonInfo.hptPreference),vm.modelTuningOption="hpt",vm.retrainStatus=modelInfo.modelMetaData.status;algoSplit=modelInfo.modelMetaData.algoName.split("-");vm.algoritmName=algoSplit[0];var dynamicFormFeilds,algoName,algorithm=TrainingService.findAlgo(algoSplit[0]),algoType=algorithm.type;modelInfo.modelMetaData.algoName.includes("Boosting")||modelInfo.modelMetaData.algoName.includes("Bagging")?(dynamicFormFeilds=angular.copy(DynamicFormAdvAlgos.dynamicFormFieldsAdvAlgos),modelInfo.hptPreference?(vm.modelTuningOption=modelInfo.modelMetaData.modelTuning||"hpt",modelInfo.hptPreference.algoName=modelInfo.modelMetaData.algoName,vm.formFeilds=modelInfo.hptPreference):(algoName=algoSplit[1].charAt(0).toUpperCase()+algoSplit[1].slice(1)+"-"+algorithm.type.charAt(0).toUpperCase()+algorithm.type.slice(1),vm.formFeilds=DynamicFormService.getFormFields(dynamicFormFeilds,algoName)[0])):(dynamicFormFeilds=angular.copy(DynamicFormService.dynamicFormFields),algoName=modelInfo.modelMetaData.algoName.split("-")[0],modelInfo.hptPreference?(vm.modelTuningOption=modelInfo.modelMetaData.modelTuning||"hpt",modelInfo.hptPreference.algoName=modelInfo.modelMetaData.algoName,vm.formFeilds=modelInfo.hptPreference):vm.formFeilds=DynamicFormService.getFormFields(dynamicFormFeilds,algoName)[0]),modalScope.bestParams=null,modalScope.bestParams=modelInfo.modelMetaData.bestParams,modalInstance=$uibModal.open({templateUrl:"HPTModel.html",size:"md",scope:modalScope}),modalScope.cancel=function(){modalInstance.close(modalScope.selected)},modalScope.save=function(){toaster.pop("success",$scope.app.name,"Hyperparameters saved.",3e3)},modalScope.resetValues=function(algorithm){var dynamicFormFeildsAdvAlgos,dynamicFormFields;algorithm.includes("Boosting")||algorithm.includes("Bagging")?(dynamicFormFeildsAdvAlgos=angular.copy(DynamicFormAdvAlgos.dynamicFormFieldsAdvAlgos),dynamicFormFields=(algorithm.includes("Boosting")?"Boosting":"Bagging")+"-"+algoType.charAt(0).toUpperCase()+algoType.slice(1),vm.formFeilds=DynamicFormService.getFormFields(dynamicFormFeildsAdvAlgos,dynamicFormFields)[0]):(dynamicFormFields=angular.copy(DynamicFormService.dynamicFormFields),vm.formFeilds=DynamicFormService.getFormFields(dynamicFormFields,algorithm.split("-")[0])[0])},checkThemeColor(),modalScope.initValues=function(){var dynamicFormFeildsAdvAlgos,dynamicFormFeilds,tuningOption=modelInfo.modelMetaData.modelTuning||null,baggingBoosting=null;modelInfo.modelMetaData.algoName.includes("Boosting")?baggingBoosting="Boosting":modelInfo.modelMetaData.algoName.includes("Bagging")&&(baggingBoosting="Bagging"),baggingBoosting?(dynamicFormFeildsAdvAlgos=angular.copy(DynamicFormAdvAlgos.dynamicFormFieldsAdvAlgos),modelInfo.hptPreference&&vm.modelTuningOption==tuningOption?(vm.modelTuningOption=modelInfo.modelMetaData.modelTuning||"hpt",modelInfo.hptPreference.algoName=modelInfo.modelMetaData.algoName,vm.formFeilds=modelInfo.hptPreference):(dynamicFormFeilds=baggingBoosting+"-"+algorithm.type.charAt(0).toUpperCase()+algorithm.type.slice(1),vm.formFeilds=DynamicFormService.getFormFields(dynamicFormFeildsAdvAlgos,dynamicFormFeilds)[0])):(dynamicFormFeilds=angular.copy(DynamicFormService.dynamicFormFields),modelInfo.hptPreference&&vm.modelTuningOption==tuningOption?(modelInfo.hptPreference.algoName=vm.algoritmName,vm.formFeilds=modelInfo.hptPreference):vm.formFeilds=DynamicFormService.getFormFields(dynamicFormFeilds,vm.algoritmName)[0])},modalScope.initValues_back=function(){var temp,dynamicFormFeilds=angular.copy(DynamicFormService.dynamicFormFields);!modelsCommonInfo.hptPreference||!modelsCommonInfo.hptPreference.length||vm.modelTuningOption!=modelsCommonInfo.hptPreference[0].modelTuningOption?vm.formFeilds=DynamicFormService.getFormFields(dynamicFormFeilds,vm.algoritmName)[0]:(temp=DynamicFormService.getFormFields(vm.originalHpt,modelInfo.modelMetaData.algoName)[0],vm.formFeilds=temp||DynamicFormService.getFormFields(dynamicFormFeilds,modelInfo.modelMetaData.algoName.split("-")[0])[0])},modalScope.saveHPTPreference=function(hptPreference){if("bayesianOptimization"==vm.modelTuningOption&&!vm.formFeilds.isBOSupported)return toaster.pop("error",$scope.app.name,"Bayesian Optimization is not supportted for this model!",3e3),!1;hptPreference.algoName=modelInfo.modelMetaData.algoName+"-"+iteration,hptPreference.modelTuningOption=vm.modelTuningOption;var dynamicFormFeilds,formFields,modelTuning=modelInfo.modelMetaData.algoName.split("-");"GridSearchCV"==modelTuning[1]&&(dynamicFormFeilds=angular.copy(DynamicFormService.dynamicFormFields),formFields=DynamicFormService.getFormFields(dynamicFormFeilds,modelTuning[0])[0],hptPreference.fields.forEach(function(data,t){"param_grid"==data.name?hptPreference.fields[t]=formFields:(t={name:"param_grid",label:"param_grid",data:formFields},hptPreference.fields.push(t))}));modelTuning={trainingId:modelsCommonInfo._id,modelId:modelInfo._id,pId:modelsCommonInfo.projectId,hptPreference:hptPreference,algoType:algorithm.type,isMultilabel:modelInfo.modelMetaData.isMultilabel,foreGround:vm.foreGround,backGround:vm.backGround,modelTuning:vm.modelTuningOption,projectType:vm.project.type,indexPath:modelInfo.indexPath,logTransformationColumns:vm.trainings[0].logTransformationColumns,scalarValue:vm.trainings[0].scalarValue},modelTuning=new TrainingService.startModelTuning(modelTuning);modelInfo.modelMetaData.status="tuning_started",modelTuning.$save(function(resp){vm.showLoading=!0,vm.trainings[0].algorithms=resp.algorithms,toaster.pop("success",$scope.app.name,"Model tuning started.",3e3)},function(err){vm.showLoading=!1,toaster.pop("error",$scope.app.name,"Could not start model tuning.",3e3)}),modalInstance.close(modalScope.selected)}},vm.openConfusionMatrix=function(training,modelInfo,tab){var modalInstance;vm.imgUrl="";var modalScope=$scope.$new();checkThemeColor(),modalInstance=$uibModal.open({templateUrl:"confusionMatrixModel.html",size:"md",scope:modalScope});var algoType=modelInfo.modelMetaData.algoName.split("-"),algoType=TrainingService.findAlgo(algoType[0]).type;vm.selectedModelName=training.name+" - "+modelInfo.modelMetaData.algoName,modalScope.cancel=function(){modalInstance.close(modalScope.selected)},new Models.getConfusionMatrix({tab:tab,foreGround:vm.foreGround,backGround:vm.backGround,algoName:modelInfo.modelMetaData.algoName,modelPath:modelInfo.modelMetaData.modelPath,isMultilabel:training.isMultilabel,algoType:algoType,reTrainFileId:modelInfo.modelMetaData.reTrainFileId}).$save({trainingId:training._id,modelId:modelInfo._id}).then(function(res){res.graphContent.layout.template.layout.title.xanchor="center",res.graphContent.layout.template.layout.title.y=.9,res.graphContent.layout.template.layout.title.x=.5,res.graphContent.layout.template.layout.title.yanchor="top",res.graphContent.layout.xaxis.linecolor="black",res.graphContent.layout.yaxis.linecolor="black",Plotly.plot(document.getElementById("cm"),res.graphContent.data,res.graphContent.layout)},function(err){toaster.pop("error",$scope.app.name,err.message,3e3)})},vm.openClassificationReport=function(training,modelInfo,tab){var modalInstance;vm.classificationResult=null;var modalScope=$scope.$new();modalScope.cReportMsg="Loading...",modalInstance=$uibModal.open({templateUrl:"classificationReportModel.html",size:"md",scope:modalScope}),modalScope.cancel=function(){modalInstance.close(modalScope.selected)},new Models.getClassificationReport({algoName:modelInfo.modelMetaData.algoName,tab:tab,reTrainFileId:modelInfo.modelMetaData.reTrainFileId}).$save({trainingId:training._id,modelId:modelInfo._id}).then(function(resp){vm.classificationResult=resp},function(err){toaster.pop("error",$scope.app.name,err.data.message,3e3)})},vm.regressionLinePlot=function(training,modelInfo,tab){checkThemeColor();var modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"rl_plotModal.html",size:"lg",scope:modalScope});vm.selectedModelName=training.name+" - "+modelInfo.modelMetaData.algoName,modalScope.cancel=function(){modalInstance.close(modalScope.selected)},new Models.getRegressionLinePlot({foreGround:vm.foreGround,backGround:vm.backGround,algoName:modelInfo.modelMetaData.algoName,tab:tab,reTrainFileId:modelInfo.modelMetaData.reTrainFileId}).$save({trainingId:training._id,modelId:modelInfo._id}).then(function(res){res.graphContent.layout.template.layout.title.xanchor="center",res.graphContent.layout.template.layout.title.y=.9,res.graphContent.layout.template.layout.title.x=.5,res.graphContent.layout.template.layout.title.yanchor="top",res.graphContent.layout.xaxis.linecolor="black",res.graphContent.layout.yaxis.linecolor="black",Plotly.plot(document.getElementById("regressionLinePlot"),res.graphContent.data,res.graphContent.layout)},function(err){modalScope.cancel(),toaster.pop("error",$scope.app.name,err.message,3e3)})},vm.openLearningCurveGraph=function(training,modelInfo){checkThemeColor();var modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"learningCurveModal.html",size:"lg",scope:modalScope});modalScope.cancel=function(){modalInstance.close(modalScope.selected)};var algoType=modelInfo.modelMetaData.algoName.split("-"),algoType=TrainingService.findAlgo(algoType[0]).type;$http.post("/api/training/"+training._id+"/models/"+modelInfo._id+"/graph/learning_curve?algoName="+modelInfo.modelMetaData.algoName,{fg:vm.foreGround,bg:vm.backGround,algoType:algoType}).then(function(res){res.data.graphContent.layout.template.layout.title.xanchor="center",res.data.graphContent.layout.template.layout.title.y=.9,res.data.graphContent.layout.template.layout.title.x=.5,res.data.graphContent.layout.template.layout.title.yanchor="top",res.data.graphContent.layout.xaxis.linecolor="black",res.data.graphContent.layout.yaxis.linecolor="black",Plotly.plot(document.getElementById("learningCurve"),res.data.graphContent.data,res.data.graphContent.layout)},function(err){modalScope.cancel(),toaster.pop("error",$scope.app.name,err.data.message,3e3)})},vm.openLiftGainGraph=function(training,modelInfo,mObj){window.d3=td3,vm.selectedModelName=training.name+" - "+modelInfo.modelMetaData.algoName,checkThemeColor();var modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"liftgainCurve.html",size:"lg",scope:modalScope});modalScope.cancel=function(){modalInstance.close(modalScope.selected)};mObj={backGround:vm.backGround,foreGround:vm.foreGround,algoName:modelInfo.modelMetaData.algoName,tab:mObj,yHoldout:modelInfo.modelMetaData.yHoldout,yPred:modelInfo.modelMetaData.yPred,xHoldout:modelInfo.modelMetaData.xHoldout,isMultilabel:training.isMultilabel,reTrainFileId:modelInfo.modelMetaData.reTrainFileId,edaSummary:vm.originalFileWithEdaDetails.edaId.edaSummary};$http.post("/api/training/"+training._id+"/models/"+modelInfo._id+"/graph/liftgain?algoName="+modelInfo.modelMetaData.algoName,mObj).then(function(res){res.data.graphContent.layout.template.layout.title.xanchor="center",res.data.graphContent.layout.template.layout.title.y=.9,res.data.graphContent.layout.template.layout.title.x=.5,res.data.graphContent.layout.template.layout.title.yanchor="top",res.data.graphContent.layout.xaxis.linecolor="black",res.data.graphContent.layout.yaxis.linecolor="black",res.data.graphContent.layout.xaxis2.linecolor="black",res.data.graphContent.layout.yaxis2.linecolor="black",Plotly.plot(document.getElementById("liftgain"),res.data.graphContent.data,res.data.graphContent.layout)},function(err){modalScope.cancel(),toaster.pop("error",$scope.app.name,err.data.message,3e3)})},vm.openAdvancedOptions=function(training,modelInfo){var modalScope,modalInstance,algoType,algoname,hyperParam,algo=modelInfo.modelMetaData.algoName.split("-");vm.advAlgoSelected=null,-1===["Passive Aggressive Classification","MLP Classification","NearestCentroid Classification","Artificial Neural Network Classification","Artificial Neural Network Regression"].indexOf(algo[0])?(initalizeFob(),!function(modelInfo){return!modelInfo.modelMetaData.algoName.includes("Bagging")&&!modelInfo.modelMetaData.algoName.includes("Boosting")}(modelInfo)?alert("Advanced option is not avilable for this model!"):(modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"advancedOptions.html",size:"md",scope:modalScope}),modalScope.disableForAlgos=function(){var algo=modelInfo.modelMetaData.algoName.split("-")[0];return-1===["KNN Classification","Nearest Centroid Classification"].indexOf(algo)},modalScope.cancel=function(){modalInstance.close(modalScope.selected)},modalScope.algoName=modelInfo.modelMetaData.algoName,algoType=TrainingService.findAlgo(modelInfo.modelMetaData.algoName.split("-")[0]).type,algoname=null,modalScope.onAdvAlgoSelectionChange=function(formFields){if(function(selection,algoName,training){var found=!1;return training.models.forEach(function(model){model.modelMetaData.algoName.toLowerCase()==(algoName+"-"+selection).toLowerCase()&&(found=!0)}),found}(formFields,modelInfo.modelMetaData.algoName,training))return alert("Already performed "+formFields+" for this model."),vm.advAlgoSelected=null,vm.formAdvAlgoFeilds=[],0;initalizeFob();var dynamicFormFeildsAdvAlgos=angular.copy(DynamicFormAdvAlgos.dynamicFormFieldsAdvAlgos),algo=formFields.charAt(0).toUpperCase()+formFields.slice(1)+"-"+algoType.charAt(0).toUpperCase()+algoType.slice(1);"Ridge Classification"==modalScope.algoName||"Ridge Classification with Cross Validation"==modalScope.algoName?(vm.formAdvAlgoFeilds=DynamicFormService.getFormFields(dynamicFormFeildsAdvAlgos,algo)[0],vm.formAdvAlgoFeilds.fields=vm.formAdvAlgoFeilds.fields.map(function(item){return"select"==item.type&&(item.select_options=[{option_label:"SAMME",value:"SAMME"}],item.data="SAMME"),item})):vm.formAdvAlgoFeilds=DynamicFormService.getFormFields(dynamicFormFeildsAdvAlgos,algo)[0],algoname=modelInfo.modelMetaData.algoName+"-"+formFields.charAt(0).toUpperCase()+formFields.slice(1),"gridSearchCV"==formFields?(formFields=angular.copy(DynamicFormService.dynamicFormFields),formFields=DynamicFormService.getFormFields(formFields,modelInfo.modelMetaData.algoName)[0],vm.finalObject={algoname:algoname,modelFilePath:modelInfo.modelMetaData.modelPath,hyperParams:formFields}):vm.finalObject={algoname:algoname,modelFilePath:modelInfo.modelMetaData.modelPath,hyperParams:null}},hyperParam=[],modalScope.saveHyperParam=function(dynamicFormFeilds){var t,isFound;hyperParam=vm.formAdvAlgoFeilds,"gridSearchCV"==dynamicFormFeilds&&(t={name:"param_grid",label:"param_grid",required:!0,data:vm.formFeilds&&vm.formFeilds.algoName==modelInfo.modelMetaData.algoName?vm.formFeilds:(dynamicFormFeilds=angular.copy(DynamicFormService.dynamicFormFields),DynamicFormService.getFormFields(dynamicFormFeilds,modelInfo.modelMetaData.algoName)[0])},isFound=!1,hyperParam.fields.forEach(function(data,i){"param_grid"==data.name&&(hyperParam.fields[i]=t,isFound=!0)}),isFound||hyperParam.fields.push(t)),vm.finalObject={algoname:algoname,modelFilePath:modelInfo.modelMetaData.modelPath,hyperParams:hyperParam},toaster.pop("success",$scope.app.name,"Hyperparameters saved.",3e3)},modalScope.startAdvTrain=function(){if(!vm.finalObject.algoname)return toaster.pop("error",$scope.app.name,"Please select an algorithm!",2e3),0;hyperParam.length||(vm.finalObject={algoname:algoname,modelFilePath:modelInfo.modelMetaData.modelPath,hyperParams:vm.formAdvAlgoFeilds}),vm.showLoading=!0,new TrainingService.startAdvTraining({advAlgoOptions:vm.finalObject,algoType:algoType,backGround:vm.backGround,foreGround:vm.foreGround,indexPath:modelInfo.indexPath,isMultilabel:training.isMultilabel||!1,degree:modelInfo.modelMetaData.degree||2,logTransformationColumns:vm.trainings[0].logTransformationColumns,scalarValue:vm.trainings[0].scalarValue}).$save({trainingId:training._id,modelId:modelInfo._id}).then(function(resp){vm.modelErrorCount=0,vm.adOptions={},vm.trainings[0].algorithms=resp.algorithms,modalInstance.close(modalScope.selected),vm.loaderText="Started advanced algorithms training.",toaster.pop("success",$scope.app.name,"Started advanced algorithms training.",2e3)},function(err){vm.showLoading=!1,toaster.pop("error",$scope.app.name,"Could not start advanced algorithms training.",2e3)})})):alert("Advanced option is not avilable for this model!")},vm.closeNav=function(){document.getElementById("mySidenav").style.width="0px"};api="/api/projects/"+vm.project._id+"/data?type=prediction";function genModelName(models,algoName){return models.filter(function(model){return model.modelMetaData.algoName.includes(algoName)}).length}function generateTimeAccuracyGraphData(metric){vm.timeAccuracyData=[],vm.trainings[0].models.forEach(function(model,index){var yData=model.modelMetaData.algoName.split("-"),yData=TrainingService.findAlgo(yData[0]);model.modelMetaData.algorithmType=yData.type,"Mean Absolute Error"==metric||"Root Mean Square Error"==metric||"Mean Square Error"==metric?(yData=[model.modelMetaData.losses.find(function(docs){return docs.name==metric}).value],vm.timeAccuracyData.push({key:vm.trainings[0].name+" - "+model.modelMetaData.algoName,values:[{x:+model.modelMetaData.timeElapsed.toFixed(3),y:yData}]})):vm.timeAccuracyData.push({key:vm.trainings[0].name+" - "+model.modelMetaData.algoName,values:[{x:+model.modelMetaData.timeElapsed.toFixed(3),y:+model.modelMetaData[metric].toFixed(3)}]})})}(vm.uploader=new FileUploader({url:api,removeAfterUpload:!1})).onAfterAddingFile=function(fileItem){vm.predictionUploadResult=null},vm.selectPredMode=function(inputParams){if(vm.predictionResult=!1,"input_form"==inputParams){if(vm.showLoading=!0,!vm.modelToPredict)return toaster.pop("error",$scope.app.name,"Please select a model",2e3),vm.showLoading=!1,0;var apiInfo=JSON.parse(vm.modelToPredict);vm.quickPredUIMetaData=[];vm.trainings[0].edaId;inputParams={indepVariable:vm.trainings[0].indepVariable,notebookInputFileName:vm.notebookInputFileDetails?vm.notebookInputFileDetails.filename:""};taFeatureConfig.length&&(inputParams.taFeatureConfig=taFeatureConfig,inputParams.textAnalysisOutFilePath=originalFileDetails.filename);apiInfo={trainingId:vm.trainings[0]._id,modelId:apiInfo._id,projectType:vm.project.type};new Models.getQuickPredictionFormData(inputParams).$save(apiInfo,function(resp){resp.qpFormData.forEach(function(qpData){var arrayData,item;vm.originalFileDetails.notebookInputFileId||taFeatureConfig.length?vm.trainings[0].depVariable!==qpData.colName&&vm.quickPredUIMetaData.push({colName:qpData.colName,dataType:qpData.dataType,value:qpData.value}):(arrayData=vm.trainings[0].indepVariable,item=qpData.colName,arrayData.some(function(data){return data.colName==item})&&vm.quickPredUIMetaData.push({colName:qpData.colName,dataType:qpData.dataType,value:qpData.value}))}),vm.showLoading=!1,vm.predMode="input_form"},function(err){vm.showLoading=!1})}else vm.predMode="file_upload"},vm.clearAll=function(){vm.quickPredformData={}},vm.openPreditionModel=function(){vm.showLoading=!0,vm.modelToPredict=null,vm.quickPredformData=null,vm.predMode="file_upload",vm.predictionStarted=!1,DataService.myFile.query({projectId:vm.project._id,dataId:vm.currentModelMeta.originalFileId}).$promise.then(function(resp){return originalFileDetails=resp}).then(function(originalFileDetails){originalFileDetails.hasOwnProperty("taExperimentId")?TextAnalysis.taExperiment.query({taExperimentId:originalFileDetails.taExperimentId}).$promise.then(function(taExperiment){taFeatureConfig=taExperiment.taFeatureConfig||[],document.getElementById("mySidenav").style.width="60%",vm.showLoading=!1}):(document.getElementById("mySidenav").style.width="60%",vm.showLoading=!1)}).catch(function(error){vm.showLoading=!1,toaster.pop("error",$scope.app.name,"Could not fetch required information for Quick Prediction!",3e3)})},vm.downloadLimeReport=function(){var mData=null,data={};"file_upload"==vm.LimeReportpage?(data.predictionFile=vm.predictionFile.filepath,data.rowId=vm.rowIndex,mData=JSON.parse(vm.LimeReportModel)):"input_form"==vm.LimeReportpage?(data.predictionData=vm.quickPredformData,mData=JSON.parse(vm.LimeReportModel)):(mData=vm.LimeReportModel,data.tab=vm.LimeReportTab),data.fileEncoding="utf_8",data.modelPath=mData.modelMetaData.modelPath,data.algoType=mData.modelMetaData.algorithmType,data.algoName=mData.modelMetaData.algoName,data.type=vm.LimeReportpage,data.reTrainFileId=mData.modelMetaData.reTrainFileId,data.edaSummary=vm.originalFileWithEdaDetails.edaId.edaSummary,data.operation="download",vm.rowData&&(data.rowId=vm.rowData[0].index),$http.post("/api/training/"+vm.selectedTraining+"/models/"+mData._id+"/report/lime_report",data).then(function(resp){window.open("/api/projects/"+vm.project._id+"/LimeReport/download/"+resp.data.htmlContent)},function(err){vm.limeReport=$sce.trustAsHtml("<h5 class='text-center'>"+err.data.message+"</h5>")})},vm.rowid=1,vm.getLimeReportGraph=function(model,page,tab){var mData=null,data={};vm.showRefresh=!1,vm.limeReport=$sce.trustAsHtml("<h4>Loading data...</h4>"),"file_upload"==page?(data.predictionFile=vm.predictionFile.filepath,data.rowId=vm.rowId,mData=JSON.parse(model)):"input_form"==page?(data.predictionData=vm.quickPredformData,mData=JSON.parse(model)):(mData=model,data.tab=tab),vm.LimeReportModel=model,vm.LimeReportTab=tab,vm.LimeReportpage=page,data.fileEncoding="utf_8",data.modelPath=mData.modelMetaData.modelPath,data.algoType=mData.modelMetaData.algorithmType,data.algoName=mData.modelMetaData.algoName,data.type=page,data.reTrainFileId=mData.modelMetaData.reTrainFileId,data.edaSummary=vm.originalFileWithEdaDetails.edaId.edaSummary,$http.post("/api/training/"+vm.selectedTraining+"/models/"+mData._id+"/report/lime_report",data).then(function(resp){vm.limeData=resp,vm.showRefresh=!0,vm.limeReport=$sce.trustAsHtml(resp.data.htmlContent),vm.rowData=resp.data.rowData,vm.rowIndex=vm.rowData[0].index},function(err){vm.limeReport=$sce.trustAsHtml("<h5 class='text-center'>"+err.data.message+"</h5>")})},vm.openLimeReport=function(model,page,tab){vm.isCustomHeaderOpen=!1;var modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"limeReport.html",size:"lg",scope:modalScope});modalScope.cancel=function(){modalInstance.close(modalScope.selected)},vm.getLimeReportGraph(model,page,tab),vm.refresh=function(){vm.showRefresh=!1,vm.rowData="",vm.getLimeReportGraph(model,page,tab)}},vm.doPrediction=function(){var algoName,algoType,modelName,predictionConf,qLen;vm.modelToPredict?(vm.predictionStarted=!0,algoName=(qLen=JSON.parse(vm.modelToPredict)).modelMetaData.algoName.split("-")[0],algoType=TrainingService.findAlgo(algoName).type,modelName=vm.trainings[0].name+" - "+algoName,vm.predictionFile=null,predictionConf=new Models.doPrediction({modelFilePath:qLen.modelMetaData.modelPath,algoName:algoName,algoType:algoType,modelName:modelName,modelId:qLen._id,trainingId:vm.trainings[0]._id,isMultilabel:qLen.modelMetaData.isMultilabel,scalerObj:vm.trainings[0].scalerObj,reTrainFileId:qLen.modelMetaData.reTrainFileId,edaSummary:vm.originalFileWithEdaDetails.edaId.edaSummary}),vm.trainings[0].logTransformationColumns&&(predictionConf.logTransformationColumns=vm.trainings[0].logTransformationColumns,predictionConf.scalarValue=vm.trainings[0].scalarValue),"file_upload"==vm.predMode?(qLen=vm.uploader.queue.length,vm.uploader.queue[qLen-1].upload(),vm.uploader.onCompleteItem=function(fileItem,response,status,headers){(vm.predictionUploadResult=response).projectDetails&&(predictionConf.predictionFile=response.projectDetails,vm.predictionFile=response.projectDetails,predictionConf.$save(function(resp){}))}):vm.quickPredformData?(vm.quickPredUIMetaData.forEach(function(data){vm.quickPredformData[data.colName]=vm.quickPredformData.hasOwnProperty(data.colName)?vm.quickPredformData[data.colName]:null}),vm.quickPredformData[void 0]&&delete vm.quickPredformData[void 0],predictionConf.predictionData=vm.quickPredformData,predictionConf.$save(function(resp){})):(vm.predictionStarted=!1,toaster.pop("error",$scope.app.name,"Please input data for prediction",2e3))):toaster.pop("error",$scope.app.name,"Please select a model for prediction",2e3)},vm.downloadPredictedFile=function(predictionResult){ga("send","event","Models","Downloading prediction result",!0),window.open("/api/prediction/"+predictionResult._id+"/download")},vm.openRocAucCurveGraph=function(training,modelInfo,mObj){window.d3=td3,vm.selectedModelName=training.name+" - "+modelInfo.modelMetaData.algoName,checkThemeColor();var modalScope=$scope.$new();modalScope.cancel=function(){modalInstance.close(modalScope.selected)};mObj={backGround:vm.backGround,foreGround:vm.foreGround,algoName:modelInfo.modelMetaData.algoName,tab:mObj,yHoldout:modelInfo.modelMetaData.yHoldout,yPred:modelInfo.modelMetaData.yPred,xHoldout:modelInfo.modelMetaData.xHoldout,classNames:modelInfo.modelMetaData.classNames,reTrainFileId:modelInfo.modelMetaData.reTrainFileId,edaSummary:vm.originalFileWithEdaDetails.edaId.edaSummary};$http.post("/api/training/"+training._id+"/models/"+modelInfo._id+"/graph/rocauc",mObj).then(function(res){res.data.graphContent.layout.template.layout.title.xanchor="center",res.data.graphContent.layout.template.layout.title.y=.9,res.data.graphContent.layout.template.layout.title.x=.5,res.data.graphContent.layout.template.layout.title.yanchor="top",res.data.graphContent.layout.xaxis.linecolor="black",res.data.graphContent.layout.yaxis.linecolor="black",Plotly.plot(document.getElementById("rocaucCurve"),res.data.graphContent.data,res.data.graphContent.layout)},function(err){modalScope.cancel(),toaster.pop("error",err.data.message,2e3)});var modalInstance=$uibModal.open({templateUrl:"rocAucCurve.html",size:"lg",scope:modalScope})},vm.getAlgoDouUrl=function(url){url=TrainingService.findAlgo(url).url;window.open(url)},vm.runCV=function(training,modelInfo){var algoType=modelInfo.modelMetaData.algoName.split("-"),algoType=TrainingService.findAlgo(algoType[0]).type;modelInfo.modelMetaData.cvData={},modelInfo.modelMetaData.cvData.status="running",Models.runCV.query({trainingId:training._id,modelId:modelInfo._id,algoName:modelInfo.modelMetaData.algoName,algoType:algoType,cvStatus:"running",reTrainFileId:modelInfo.modelMetaData.reTrainFileId}).$promise.then(function(){modelInfo.modelMetaData.cvData=modelInfo.modelMetaData.cvData||{}},function(eMsg){modelInfo.modelMetaData.cvData.status="";eMsg=eMsg.data.cvData.message;toaster.pop("error",eMsg)})},vm.doScoring=function(training,modelInfo){vm.showLoading=!0,checkThemeColor();var data=modelInfo.modelMetaData.algoName.split("-"),data=TrainingService.findAlgo(data[0]).type,data={backGround:vm.backGround,foreGround:vm.foreGround,algoName:modelInfo.modelMetaData.algoName,algoType:data,modelFilePath:modelInfo.modelMetaData.modelPath,reTrainFileId:modelInfo.modelMetaData.reTrainFileId,edaSummary:vm.originalFileWithEdaDetails.edaId.edaSummary};vm.trainings[0].logTransformationColumns&&(data.logTransformationColumns=vm.trainings[0].logTransformationColumns,data.scalarValue=vm.trainings[0].scalarValue),$http.post("/api/training/"+training._id+"/models/"+modelInfo._id+"/scoring/do",data).then(function(res){var modelData=res.data;toaster.pop("success",$scope.app.name,"Scoring completed.",2e3),vm.trainings[0].models=vm.trainings[0].models.map(function(data){return data._id==modelData._id&&(data=modelData),data}),vm.showLoading=!1},function(err){vm.showLoading=!1,toaster.pop("error",$scope.app.name,err.data.message,3e3)})},vm.doHoldOut=function(training,modelInfo){vm.showLoading=!0,checkThemeColor();var data=modelInfo.modelMetaData.algoName.split("-"),data=TrainingService.findAlgo(data[0]).type,data={algoName:modelInfo.modelMetaData.algoName,algoType:data,backGround:vm.backGround,foreGround:vm.foreGround,reTrainFileId:modelInfo.modelMetaData.reTrainFileId,modelFilePath:modelInfo.modelMetaData.modelPath,edaSummary:vm.originalFileWithEdaDetails.edaId.edaSummary};training.logTransformationColumns&&(data.logTransformationColumns=training.logTransformationColumns,data.scalarValue=training.scalarValue),$http.post("/api/training/"+training._id+"/models/"+modelInfo._id+"/holdout",data).then(function(res){var modelData=res.data;vm.trainings[0].models=vm.trainings[0].models.map(function(data){return data._id==modelData._id&&(data=modelData),data}),toaster.pop("success",$scope.app.name,"Hold out operation completed.",2e3),vm.showLoading=!1},function(err){vm.showLoading=!1,toaster.pop("error",$scope.app.name,err.data.message,3e3)})},vm.check=function(){vm.showTextError=!1},vm.forcastHtmlData=[],vm.getForcastingGraph=function(training,modelInfo,index){vm.showLoading=!0,vm.forcastHtmlData[index]='<div class="line-scale-pulse-out"><div></div><div></div><div></div><div></div><div></div></div>',checkThemeColor();var data={preprocessedFilepath:training.preprocessedFilepath,modelPath:modelInfo.modelMetaData.modelPath,backGround:vm.backGround,foreGround:vm.foreGround,depVariable:training.depVariable,algorithm:modelInfo.modelMetaData.algoName,startDate:moment(vm.startDate[index]).format("L"),endDate:moment(vm.endDate[index]).format("L")};$http.post("/api/training/"+training._id+"/models/"+modelInfo._id+"/timeseries/forecast",data).then(function(res){for(var elem="forecast"+index,graphDiv=document.getElementById(elem);graphDiv.data&&0<graphDiv.data.length;)Plotly.deleteTraces(graphDiv,[0]);res.data.graphContent.layout?(vm.showTextError=!1,res.data.graphContent.layout.template.layout.title.xanchor="center",res.data.graphContent.layout.template.layout.title.y=.9,res.data.graphContent.layout.template.layout.title.x=.5,res.data.graphContent.layout.template.layout.title.yanchor="top",res.data.graphContent.layout.template.layout.xaxis.gridcolor="transparent",res.data.graphContent.layout.template.layout.yaxis.gridcolor="transparent",res.data.graphContent.layout.template.layout.yaxis.zerolinecolor="transparent",res.data.graphContent.layout.xaxis.linecolor="black",res.data.graphContent.layout.yaxis.linecolor="black",res.data.graphContent.layout.xaxis.showgrid=!1,Plotly.plot(document.getElementById(elem),res.data.graphContent.data,res.data.graphContent.layout)):(vm.showLoading=!1,vm.text=res.data.graphContent,vm.showTextError=!0),vm.showLoading=!1},function(err){vm.showLoading=!1,toaster.pop("error",$scope.app.name,"Couldn't generate graph!",3e3)})},vm.evaluateForecast=[],vm.evaluateForecast=function(training,modelInfo,index){vm.showLoading=!0;var data={modelPath:modelInfo.modelMetaData.modelPath,backGround:vm.backGround,foreGround:vm.foreGround,depVariable:training.depVariable};$http.post("/api/training/"+training._id+"/models/"+modelInfo._id+"/timeseries/evaluate_forecast",data).then(function(res){for(var elem="evalForecast"+index,graphDiv=document.getElementById(elem);graphDiv.data&&0<graphDiv.data.length;)Plotly.deleteTraces(graphDiv,[0]);res.data.graphContent.layout.xaxis.linecolor="black",res.data.graphContent.layout.yaxis.linecolor="black",Plotly.plot(document.getElementById(elem),res.data.graphContent.data,res.data.graphContent.layout),vm.showLoading=!1},function(err){vm.showLoading=!1})},vm.onChangeDate=function(date,endDate,index){date=moment(date),endDate=moment(endDate);return moment(endDate).isAfter(date,"day")||(alert("End date sould be greater than Start date!"),(date=new Date(date)).setDate(date.getDate()+1),vm.endDate[index]=date),0},vm.visualizeClusters=function(training,model,index){if("scatter"==model.modelMetaData.clusteringGraphType&&vm.selectedFeatures[index].length<2)return alert("Please select at least two features"),0;vm.isLoading=!0;var inputData={algoName:model.modelMetaData.algoName,selectedFeatures:vm.selectedFeatures?vm.selectedFeatures[index]:null,graphType:model.modelMetaData.clusteringGraphType};vm.clusterVisualization[index]=$sce.trustAsHtml("<h4>Loading graph...</h4>"),$http.post("/api/training/"+training._id+"/models/"+model._id+"/clustering/visualize",inputData).then(function(res){for(var elem="cluserVis"+index,graphDiv=document.getElementById(elem);graphDiv.data&&0<graphDiv.data.length;)Plotly.deleteTraces(graphDiv,[0]);res.data.graphContent.layout.title.xanchor="center",res.data.graphContent.layout.title.y=.9,res.data.graphContent.layout.title.x=.5,res.data.graphContent.layout.title.yanchor="top",res.data.graphContent.layout.xaxis.showgrid=!1,res.data.graphContent.layout.yaxis.showgrid=!1,res.data.graphContent.layout.xaxis.showline=!0,res.data.graphContent.layout.yaxis.showline=!0,res.data.graphContent.layout.template.layout.xaxis.linecolor="black",res.data.graphContent.layout.template.layout.yaxis.linecolor="black",Plotly.plot(document.getElementById(elem),res.data.graphContent.data,res.data.graphContent.layout),vm.isLoading=!1},function(err){vm.isLoading=!1})},vm.changeSourceType=function(type){vm.baseTrainingFile.fileSource===type?vm.hideSelectConnection=!0:vm.hideSelectConnection=!1,DataService.listAllDataConnections.query({projectId:vm.project._id,source:type}).$promise.then(function(res){vm.dataConnections=res},function(err){})},vm.changeRetrainType=function(type){"transform"===type?("mssql"===vm.baseTrainingFile.fileSource&&(vm.hideMysqlSourceType=!0,vm.hidePgsqlSourceType=!0),"mysql"===vm.baseTrainingFile.fileSource&&(vm.hideMssqlSourceType=!0,vm.hidePgsqlSourceType=!0),"postgresql"===vm.baseTrainingFile.fileSource&&(vm.hideMysqlSourceType=!0,vm.hideMssqlSourceType=!0)):(vm.hideMysqlSourceType=!1,vm.hideMssqlSourceType=!1,vm.hidePgsqlSourceType=!1)},vm.datasetChanged=function(val){vm.selectedDataSet=val},vm.openRetrainModal=function(training,modelInfo){var iteration="Retraining-"+genModelName(training.models,modelInfo.modelMetaData.algoName);vm.selectedDataset=null;var modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"retrainModal.html",size:"md",scope:modalScope});modalScope.cancel=function(){modalInstance.close(modalScope.selected),vm.driftConfigList=[]},DataService.listAllProjectDatas.query({projectId:vm.project._id}).$promise.then(function(res){vm.dataSetsList=res[0].filesList,vm.baseTrainingFile=vm.dataSetsList.find(function(item){return item._id==training.originalFileId}),vm.retrainSourceType=modelInfo.retrainSourceType,modelInfo.retrainSourceType&&(vm.baseTrainingFile.fileSource=modelInfo.retrainSourceType),vm.selectedModelName=training.name+" - "+modelInfo.modelMetaData.algoName,checkThemeColor();var algoType=TrainingService.findAlgo(modelInfo.modelMetaData.algoName.split("-")[0]).type,reTrainingData={algoType:algoType,algorithms:[modelInfo.modelMetaData.algoName],trainingId:training._id,modelId:modelInfo._id,projectId:training.projectId,modelTuning:modelInfo.modelMetaData.modelTuning,modelFile:modelInfo.modelMetaData.modelPath,sampling:training.sampling,useGPU:vm.project.useGPU,iteration:iteration,logTransformationColumns:vm.trainings[0].logTransformationColumns,scalarValue:vm.trainings[0].scalarValue};DataDriftService.getDriftConfigs.query({projectId:vm.project._id}).$promise.then(function(res){res.filter(function(item){"regression"===algoType?"regression"===item.algoType&&vm.driftConfigList.push(item):"classification"===item.algoType&&vm.driftConfigList.push(item)})},function(err){toaster.pop("error",$scope.app.name,"Could not list the configurations.",3e3)}),modalScope.startRetraining=function(){if(vm.driftConfigList=[],reTrainingData.sourceType=vm.sourceType,reTrainingData.mergeDataset=vm.mergeDataset,void 0!==vm.originalFileWithEdaDetails?reTrainingData.edaSummary=vm.originalFileWithEdaDetails.edaId.edaSummary:reTrainingData.edaSummary=null,vm.project.useGPU||(reTrainingData.retrainType=vm.retrainType),"mssql"===vm.sourceType||"mysql"===vm.sourceType||"postgresql"===vm.sourceType){if("transform"!==vm.retrainType){if(vm.query.includes("delete")||vm.query.includes("insert")||vm.query.includes("update"))return void alert("Only select query is allowed!");reTrainingData.reTrainFileId=training.originalFileId,reTrainingData.connectionSettings={},reTrainingData.connectionSettings.query=vm.query,vm.selectedConnection&&(reTrainingData.connectionSettings.connection={},reTrainingData.connectionSettings.connectionName=JSON.parse(vm.selectedConnection).connectionName,reTrainingData.connectionSettings.dataGroupId=JSON.parse(vm.selectedConnection).dataGroupId,reTrainingData.connectionSettings.database=JSON.parse(vm.selectedConnection).databaseName,reTrainingData.connectionSettings.source=JSON.parse(vm.selectedConnection).source,reTrainingData.connectionSettings.connection=JSON.parse(vm.selectedConnection).databaseConnectionId,reTrainingData.connectionSettings.dataConnId=JSON.parse(vm.selectedConnection)._id)}}else{var selectedDataSet=vm.dataSetsList.find(function(item){return item._id===vm.selectedDataset});reTrainingData.retrainingDataFilename=selectedDataSet.name,reTrainingData.fileSchema=selectedDataSet.fileSchema,reTrainingData.reTrainFileId=selectedDataSet._id||null}modalInstance.close(modalScope.selected),new TrainingService.startReTraining(reTrainingData).$save(function(resp){vm.showLoading=!0,vm.modelErrorCount=0,vm.trainings[0].algorithms=resp.algorithms,toaster.pop("success",$scope.app.name,"Retraining started, please wait.",3e3),vm.selectedDataset=null},function(err){vm.showLoading=!1,vm.selectedDataset=null,toaster.pop("error",$scope.app.name,"Could not start model retraining.",3e3)})},vm.daMetrics="regression"==algoType?daRegressionMetrics:TrainingService.findAlgo(modelInfo.modelMetaData.algoName.split("-")[0]).driftMetrics||[],modalScope.doDataDriftAnalysis=function(){vm.showLoading=!0;var data={algoType:algoType,type:"summary",stdThreshold:vm.project.stdThreshold||3,reportName:vm.reportName,inputFeature:null,incomingFileId:vm.selectedDataset,driftConfig:vm.driftConfig?JSON.parse(vm.driftConfig):null};void 0!==vm.originalFileWithEdaDetails?data.edaSummary=vm.originalFileWithEdaDetails.edaId.edaSummary:data.edaSummary=null;var selectedDataSet=vm.dataSetsList.find(function(item){return item._id==vm.selectedDataset});data.incomingFilepath=selectedDataSet.name,data.incomingSchema=selectedDataSet.fileSchema.map(function(item){return{colName:item.colName,dataType:item.dataType}}),new DataDriftService.startDriftAnalysis(data).$save({modelId:modelInfo._id,trainingId:training._id},function(resp){vm.showLoading=!1,modalScope.cancel(),toaster.pop("success",$scope.app.name,"Data drift analysis started.",3e3)},function(err){vm.showLoading=!1,toaster.pop("error",$scope.app.name,"Could not start drift analysis.",3e3)})}},function(err){})},vm.openPRCurveGraph=function(training,modelInfo,mObj){window.d3=td3;var modalScope=$scope.$new();vm.selectedModelName=training.name+" - "+modelInfo.modelMetaData.algoName,checkThemeColor(),modalScope.cancel=function(){modalInstance.close(modalScope.selected)};mObj={backGround:vm.backGround,foreGround:vm.foreGround,algoName:modelInfo.modelMetaData.algoName,tab:mObj,yHoldout:modelInfo.modelMetaData.yHoldout,yPred:modelInfo.modelMetaData.yPred,xHoldout:modelInfo.modelMetaData.xHoldout,classNames:modelInfo.modelMetaData.classNames,reTrainFileId:modelInfo.modelMetaData.reTrainFileId,edaSummary:vm.originalFileWithEdaDetails.edaId.edaSummary};$http.post("/api/training/"+training._id+"/models/"+modelInfo._id+"/graph/prcurve",mObj).then(function(res){res.data.graphContent.layout.template.layout.title.xanchor="center",res.data.graphContent.layout.template.layout.title.y=.9,res.data.graphContent.layout.template.layout.title.x=.5,res.data.graphContent.layout.template.layout.title.yanchor="top",res.data.graphContent.layout.xaxis.linecolor="black",res.data.graphContent.layout.yaxis.linecolor="black",Plotly.plot(document.getElementById("prcurve"),res.data.graphContent.data,res.data.graphContent.layout)},function(err){modalScope.cancel(),toaster.pop("error",$scope.app.name,err.data.message,3e3)});var modalInstance=$uibModal.open({templateUrl:"PRCurve.html",size:"lg",scope:modalScope})},vm.openFeatureCoefficient=function(training,featureCoefficients,size){var modalInstance;vm.featureCoefficient=null;var modalScope=$scope.$new();modalScope.cReportMsg="Loading...";featureCoefficients=sortArryOFObjects(featureCoefficients.modelMetaData.featureCoefficient[0].value,"coefficient");15<(modalScope.featureCoefficients=featureCoefficients).length&&(featureCoefficients=featureCoefficients.slice(0,15)),$scope.options.chart.x=function(d){return d.colName},$scope.options.chart.y=function(d){return d.coefficient},modalScope.data=[{color:"#1f77b4",values:featureCoefficients}],modalInstance=$uibModal.open({templateUrl:"featureCoefficientModel.html",size:size,scope:modalScope}),modalScope.cancel=function(){modalInstance.close(modalScope.selected)}},vm.listHost=function(){(new GeneralSettings.settings.query).$promise.then(function(list){var result={};angular.forEach(list,function(value,key){value.hasOwnProperty("hostName")&&(result[key]=value)}),vm.hostList=result},function(err){toaster.pop("error",$scope.app.name,err.statusText,3e3)})},vm.openPipelineTimeline=function(){var modalInstance,modalScope=$scope.$new();modalScope.showme=!0,modalScope.pipelineTasks=[],modalScope.getPiplineTasks=function(){Models.getPipelineTasks.query({trainingId:vm.selectedTraining}).$promise.then(function(success){var dataCollection=[],eda=[],training=[];vm.samplingTraining=vm.trainings.filter(function(temp){if(temp._id==vm.selectedTraining)return temp}),"under_sampling"!=vm.samplingTraining[0].sampling&&"over_sampling"!=vm.samplingTraining[0].sampling||success.push({description:"Sampling is a method that allows us to get information about the population based on the statistics from a subset of the population (sample), without having to investigate every individual.",index:6,parent:"training_data_prep",preview:"True",task:"sampling",taskName:"Sampling"}),success.forEach(function(item){var tempAFoperations;"Data Collection"==item.parent&&dataCollection.push(item),"EDA"==item.parent&&eda.push(item),"training_data_prep"==item.parent&&("auto_feature_generate"==item.task&&(tempAFoperations=[],vm.trainings[0].autoFeatureGenTasks.forEach(function(autoFGenOp){tempAFoperations.push(autoFGenOp.operation)}),item.afOperations=tempAFoperations),training.push(item))}),modalScope.pipelineTasks.push({data:dataCollection,parent:"Data Collection"}),modalScope.pipelineTasks.push({data:eda,parent:"EDA"}),modalScope.pipelineTasks.push({data:training,parent:"Training"})},function(err){})},modalScope.getPiplineTasks(),modalInstance=$uibModal.open({templateUrl:"pipelineModal.html",size:"xl",scope:modalScope}),modalScope.cancel=function(){modalInstance.close(modalScope.selected)}},vm.taskData={},vm.columnList={},vm.method={},vm.shape={},vm.getPipelineTaskDetails=function(index,transformer){vm.selectedTask=transformer,vm.showPipelineDetails={};var data={transformer:transformer,trainingId:vm.selectedTraining,projectType:vm.project.type,indepVariable:vm.trainings[0].indepVariable};vm.originalFileDetails.taExperimentId&&(data.taExperimentId=vm.originalFileDetails.taExperimentId),"sampling"==transformer&&(data.samplingType=vm.samplingTraining[0].sampling,data.samplingPercentage=vm.samplingTraining[0].samplingPercentage),"auto_feature_generate"==transformer&&(data.operation=vm.afOperation),"predictive_modeling"==vm.project.type?data.predictiveModelingInfo=vm.samplingTraining[0].predictiveModelingInfo:"clustering"==vm.project.type&&(data.clusteringInfo=vm.samplingTraining[0].clusteringInfo),new Models.getPipelineTaskDetails(data).$save(function(resp){vm.taskData[vm.selectedTask]=resp.data,vm.columnList[vm.selectedTask]=resp.columnList,vm.method[vm.selectedTask]=resp.method,vm.shape[vm.selectedTask]=resp.shape},function(err){})},vm.isArray=function(data){return angular.isArray(data)},vm.removeTraining=function(){SweetAlert.swal({title:"Are you sure?",text:"You will not be able to revert this action.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete!",closeOnConfirm:!0},function(isLastTraining){isLastTraining&&(isLastTraining=1==vm.traingList.length,vm.showLoading=!0,TrainingService.training.remove({projectId:vm.project._id,trainingId:vm.selectedTraining,lastTraining:isLastTraining}).$promise.then(function(resp){vm.traingList=vm.traingList.filter(function(training){return training._id!=vm.selectedTraining}),vm.traingList.length?(vm.selectedTraining=vm.traingList[0]._id,getModels(vm.selectedTraining).$promise.then(function(resp){vm.traingList[0].models=resp,vm.trainings=[vm.traingList[0]],sortAndRankModels(vm.trainings[0]),vm.showLoading=!1},function(err){vm.showLoading=!1,toaster.pop("error",$scope.app.name,"Could not fetch models details.",2e3)})):(vm.showLoading=!1,vm.selectedTraining=null,vm.trainings=[]),toaster.pop("success",$scope.app.name,resp.message,3e3)},function(err){toaster.pop("error",$scope.app.name,"Could not delete the training.",3e3)}))})},vm.isDecisionTreeSupported=function(algoName,x){algoName=algoName.split("-"),x=["Decision Tree Regression","Random Forest Regression","Decision Tree Classification","Random Forest Classification","Extra Tree Classification","Ensemble Extra Trees Classification","XGBoost Classification","XGBoost Regression","LightGBM Classification","LightGBM Regression"].includes(algoName[0])&&0==x;return(algoName.includes("Bagging")||algoName.includes("Boosting"))&&(x=!!["Decision Tree Regression","Decision Tree Classification","Extra Tree Classification"].includes(algoName[0])),x},vm.downloadDecisionTree=function(){var data=vm.decisionTreeTraining,modelInfo=vm.decisionTreeModel;$scope.$new().featureCoefficients=modelInfo.modelMetaData.featureCoefficient;data={modelPath:modelInfo.modelMetaData.modelPath,classNames:data.classNames,isMultilabel:data.isMultilabel,reTrainFileId:modelInfo.modelMetaData.reTrainFileId,operation:"download"};new Models.getDecisionTree(data).$save({modelId:modelInfo._id}).then(function(resp){window.open("/api/projects/"+vm.project._id+"/decisionTree/download/"+resp.graphContent)},function(err){toaster.pop("error",$scope.app.name,err.data.message,3e3)})},vm.featureImpactPlot=function(training,modelInfo){vm.isMultilabel=training.isMultilabel,vm.algo=training.algoType,"classification"==training.algoType&&(vm.targetFeatureList=training.classNames),vm.iterations=5,DataService.myFile.query({projectId:training.projectId,dataId:training.afterEdaFileId}).$promise.then(function(res){vm.featureList=res.fileSchema,vm.featureList=vm.featureList.filter(function(item){return("Decimal"==item.dataType||"Integer"==item.dataType||"Categorical"==item.dataType)&&item.colName!=training.depVariable})});var modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"featureImpact.html",size:"xl",scope:modalScope});modalScope.cancel=function(){modalInstance.close(modalScope.selected)},vm.getImpactGraph=function(){vm.showDistributionGraph=!1,vm.showImpactGraph=!0,Models.featureImpact.query({modelId:modelInfo._id,iterations:vm.iterations}).$promise.then(function(res){for(var graphDiv=document.getElementById("impactGraph");graphDiv.data&&0<graphDiv.data.length;)Plotly.deleteTraces(graphDiv,[0]);res.layout.template.layout.title.xanchor="center",res.layout.template.layout.title.y=.9,res.layout.template.layout.title.x=.5,res.layout.template.layout.title.yanchor="top",Plotly.plot(document.getElementById("impactGraph"),res.data,res.layout)},function(err){vm.showImpactGraph=!1})},vm.getDistributionGraph=function(){vm.showImpactGraph=!1,vm.showDistributionGraph=!0,(null!=vm.bins?Models.distributionGraph.query({modelId:modelInfo._id,bins:vm.bins,targetClass:vm.targetFeature,featureName:vm.selectedFeature}):Models.distributionGraph.query({modelId:modelInfo._id,targetClass:vm.targetFeature,featureName:vm.selectedFeature})).$promise.then(function(res){for(var graphDiv=document.getElementById("distributionGraph");graphDiv.data&&0<graphDiv.data.length;)Plotly.deleteTraces(graphDiv,[0]);res.layout.template.layout.title.xanchor="center",res.layout.template.layout.title.y=.9,res.layout.template.layout.title.x=.5,res.layout.template.layout.title.yanchor="top",Plotly.plot(document.getElementById("distributionGraph"),res.data,res.layout)},function(err){vm.showDistributionGraph=!1})}},vm.onOperationSelection=function(feat){var feature=vm.featureList.filter(function(item){return item.colName==feat});"Decimal"==feature[0].dataType||"Integer"==feature[0].dataType?(vm.bins=20,vm.showBin=!0):(vm.bins=null,vm.showBin=!1)},vm.graphChange=function(graphType){"featureImpact"==graphType?(vm.bins=20,vm.selectedFeature="",vm.targetFeature="",vm.showImpactGraph=!1):(vm.iterations=5,vm.showDistributionGraph=!1)},vm.openDecisionTree=function(training,modelInfo){var modalInstance,modalScope=$scope.$new();modalScope.featureCoefficients=modelInfo.modelMetaData.featureCoefficient,modalInstance=$uibModal.open({templateUrl:"decisionTree.html",size:"lg",scope:modalScope}),modalScope.cancel=function(){modalInstance.close(modalScope.selected)};var data={modelPath:modelInfo.modelMetaData.modelPath,classNames:training.classNames,isMultilabel:training.isMultilabel,reTrainFileId:modelInfo.modelMetaData.reTrainFileId};vm.decisionTreeModel=modelInfo,vm.decisionTreeTraining=training,new Models.getDecisionTree(data).$save({modelId:modelInfo._id}).then(function(resp){document.getElementById("decisionTree").setAttribute("src","data:image/jpeg;base64,"+resp.graphContent)},function(err){toaster.pop("error",$scope.app.name,err.data.message,3e3),modalScope.cancel()})},vm.easyPiePercent1=60,vm.easyPiePercent2=30,vm.easyPiePercent3=50,vm.easyPiePercent4=75,vm.pieOptions1={animate:{duration:800,enabled:!0},barColor:Colors.byName("info"),trackColor:"#edf2f6",scaleColor:!1,lineWidth:5,lineCap:"round",size:130},vm.pieOptions2={animate:{duration:800,enabled:!0},barColor:Colors.byName("pink"),trackColor:"#edf2f6",scaleColor:!1,lineWidth:5,lineCap:"round",size:130},vm.pieOptions3={animate:{duration:800,enabled:!0},barColor:Colors.byName("purple"),trackColor:"#edf2f6",scaleColor:!1,lineWidth:5,lineCap:"round",size:130},vm.pieOptions4={animate:{duration:800,enabled:!0},barColor:Colors.byName("warning"),trackColor:"#edf2f6",scaleColor:!1,lineWidth:5,lineCap:"round",size:130},vm.compareModels=function(size){var modalScope=$scope.$new();modalScope.cancel=function(){modalInstance.close(modalScope.selected)};var modalInstance=$uibModal.open({templateUrl:"compareModels.html",size:size,scope:modalScope});ga("send","event","Models","Comparing models with graph",!0)},vm.metricChanged=function(metric){generateTimeAccuracyGraphData((metric=JSON.parse(metric)).id)},vm.timeAcuuracy=function(size){vm.optionsTAGraph=NVD3Config.getGraphConfig("scatterChart");var metric,modalScope=$scope.$new();modalScope.cancel=function(){modalInstance.close(modalScope.selected)},metric="regression"==vm.trainings[0].algoType?{name:"Model Score",id:"testScore"}:{name:"Accuracy",id:"testScore"},$scope.metric=JSON.stringify(metric),generateTimeAccuracyGraphData(metric.id);var modalInstance=$uibModal.open({templateUrl:"timeAccuracy.html",size:size,scope:modalScope});ga("send","event","Models","Opened time accuracy graph",!0)}}angular.module("app.models").controller("ModelsController",ModelsController),ModelsController.$inject=["$scope","Project","Colors","Models","ProjectCore","$uibModal","$http","$sce","Socket","toaster","DynamicFormService","FileUploader","Authentication","DynamicFormAdvAlgos","NVD3Config","TooltipData","TrainingService","DataService","DataDriftService","$state","SweetAlert","GeneralSettings","TextAnalysis"]}(),angular.module("app.models").filter("bytes",function(){return function(bytes,precision){if(isNaN(parseFloat(bytes))||!isFinite(bytes))return"-";void 0===precision&&(precision=1);var number=Math.floor(Math.log(bytes)/Math.log(1024));return(bytes/Math.pow(1024,Math.floor(number))).toFixed(precision)+" "+["bytes","kB","MB","GB","TB","PB"][number]}}),angular.module("app.models").filter("capitalize",function(){return function(input){return input?input.charAt(0).toUpperCase()+input.substr(1).toLowerCase():""}}),angular.module("app.models").filter("isAllowdForAlgo",function(){return function(input){}});
"use strict";angular.module("app.models").factory("DynamicFormAdvAlgos",[function(){var dynamicFormAdvAlgos={dynamicFormFieldsAdvAlgos:[{algoName:"Boosting-Regression",fields:[{type:"number",name:"n_estimators",label:"n_estimators",required:!1,data:50,gs_data:"50,100,500",bo_data:"50,500"},{type:"number",name:"learning_rate",label:"learning_rate",required:!1,data:1,gs_data:"0.01, 0.1,1.0",bo_data:"0.01,1.0"},{type:"select",name:"loss",label:"loss",required:!0,data:"linear",gs_data:["linear","square","exponential"],select_options:[{option_label:"linear",value:"linear"},{option_label:"square",value:"square"},{option_label:"exponential",value:"exponential"}],placeholder_text:"Select loss"}],isBOSupported:!0},{algoName:"Boosting-Classification",fields:[{type:"number",name:"n_estimators",label:"n_estimators",required:!1,data:50,gs_data:"50,100,500",bo_data:"50,500"},{type:"number",name:"learning_rate",label:"learning_rate",required:!1,data:1,gs_data:"0.01, 0.1,1.0",bo_data:"0.01,1.0"},{type:"select",name:"algorithm",label:"algorithm",required:!0,data:"SAMME.R",gs_data:["SAMME.R"],select_options:[{option_label:"SAMME.R",value:"SAMME.R"},{option_label:"SAMME",value:"SAMME"}],placeholder_text:"Select loss"}],isBOSupported:!0},{algoName:"Bagging-Regression",fields:[{type:"number",name:"n_estimators",label:"n_estimators",required:!1,data:10,gs_data:"10,50,100",bo_data:"10,100"},{type:"number",name:"max_samples",label:"max_samples",required:!1,data:1,gs_data:"0.5,0.7,1.0",bo_data:"0.5,1.0"},{type:"number",name:"max_features",label:"max_features",required:!1,data:1,gs_data:"0.5,0.7,1.0",bo_data:"0.5,1.0"},{type:"radio",name:"bootstrap",label:"bootstrap",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"bootstrap_features",label:"bootstrap_features",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"oob_score",label:"oob_score",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]}],isBOSupported:!0},{algoName:"Bagging-Classification",fields:[{type:"number",name:"n_estimators",label:"n_estimators",required:!1,data:10,gs_data:"10,50,100",bo_data:"10,100"},{type:"number",name:"max_samples",label:"max_samples",required:!1,data:1,gs_data:"0.5,0.7,1.0",bo_data:"0.5,1.0"},{type:"number",name:"max_features",label:"max_features",required:!1,data:1,gs_data:"0.5,0.7,1.0",bo_data:"0.5,1.0"},{type:"radio",name:"bootstrap",label:"bootstrap",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"bootstrap_features",label:"bootstrap_features",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"oob_score",label:"oob_score",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]}],isBOSupported:!0},{algoName:"GridSearchCV-Regression",fields:[{type:"select",name:"scoring",label:"scoring",required:!0,data:"None",gs_data:["explained_variance","neg_mean_absolute_error","neg_mean_squared_error","neg_mean_squared_log_error","neg_median_absolute_error"],select_options:[{option_label:"explained_variance",value:"explained_variance"},{option_label:"None",value:"None"},{option_label:"neg_mean_absolute_error",value:"neg_mean_absolute_error"},{option_label:"neg_mean_squared_error",value:"neg_mean_squared_error"},{option_label:"neg_mean_squared_log_error",value:"neg_mean_squared_log_error"},{option_label:"neg_median_absolute_error",value:"neg_median_absolute_error"},{option_label:"r2",value:"r2"}],placeholder_text:"Select loss"},{type:"text",name:"fit_params",label:"fit_params",required:!1,data:"None"},{type:"radio",name:"iid",label:"iid",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"refit",label:"refit",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"text",name:"error_score",label:"error_score",required:!1,data:"raise-deprecating"},{type:"number",name:"verbose",label:"verbose",required:!1,data:0},{type:"radio",name:"return_train_score",label:"return_train_score",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]}],isBOSupported:!0},{algoName:"GridSearchCV-Classification",fields:[{type:"select",name:"scoring",label:"scoring",required:!0,data:"None",gs_data:["None","accuracy","f1","precision","recall"],select_options:[{option_label:"None",value:"None"},{option_label:"accuracy",value:"accuracy"},{option_label:"f1",value:"f1"},{option_label:"precision",value:"precision"},{option_label:"recall",value:"recall"}],placeholder_text:"Select loss"},{type:"text",name:"fit_params",label:"fit_params",required:!1,data:"None"},{type:"radio",name:"iid",label:"iid",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"refit",label:"refit",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"text",name:"error_score",label:"error_score",required:!1,data:"raise-deprecating"},{type:"number",name:"verbose",label:"verbose",required:!1,data:0},{type:"radio",name:"return_train_score",label:"return_train_score",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]}],isBOSupported:!0}],getFormFields:function(hptDefaultPref,algorithmName){return hptDefaultPref.filter(function(algoFormData){return algoFormData.algoName==algorithmName})}};return dynamicFormAdvAlgos}]);
"use strict";angular.module("app.models").factory("Models",["$resource",function($resource){return this.listModels=$resource("/api/projects/:projectId/models",{projectId:"@_id"},{query:{method:"GET",isArray:!0}}),this.getTrainingList=$resource("/api/projects/:projectId/training/list",{projectId:"@_id"},{query:{method:"GET",isArray:!0}}),this.model=$resource("/api/training/:trainingId/models/:modelId",{modelId:"@modelId",trainingId:"@trainingId"},{query:{method:"GET",isArray:!0}}),this.getModelsList=$resource("/api/training/:trainingId/models/list",{trainingId:"@trainingId"},{query:{method:"GET",isArray:!0}}),this.doPrediction=$resource("/api/training/:trainingId/models/:modelId/doprediction",{modelId:"@modelId",trainingId:"@trainingId"},{query:{method:"GET",isArray:!0}}),this.generatePreviewTable=$resource("/api/prediction/:predictionId/read",{predictionId:"@predictionId"},{query:{method:"GET",isArray:!0}}),this.getConfusionMatrix=$resource("/api/training/:trainingId/models/:modelId/cm/read",{modelId:"@modelId"},{query:{method:"GET",isArray:!0}}),this.getRegressionLinePlot=$resource("/api/training/:trainingId/models/:modelId/rl_plot/read",{modelId:"@modelId"},{query:{method:"GET",isArray:!0}}),this.getRocAucCurve=$resource("/api/training/:trainingId/models/:modelId/graph/rocauc",{modelId:"@modelId",trainingId:"@trainingId"},{query:{method:"GET",isArray:!0}}),this.getClassificationReport=$resource("/api/training/:trainingId/models/:modelId/report/classification",{modelId:"@modelId"},{query:{method:"GET",isArray:!0}}),this.getQuickPredictionFormData=$resource("/api/training/:trainingId/models/:modelId/qp/populate_form_data",{modelId:"@modelId",trainingId:"@trainingId"},{query:{method:"GET",isArray:!0}}),this.getPipelineTasks=$resource("/api/training/:trainingId/get_pipelinetasks",{trainingId:"@trainingId"},{query:{method:"GET",isArray:!0}}),this.getPipelineTaskDetails=$resource("/api/training/:trainingId/get_pipelinetask/details",{trainingId:"@trainingId"},{query:{method:"GET",isArray:!0}}),this.getDecisionTree=$resource("/api/models/:modelId/graph/decision_tree",{modelId:"@modelId"},{query:{method:"GET",isArray:!0}}),this.runCV=$resource("/api/training/:trainingId/models/:modelId/cv",{modelId:"@modelId",trainingId:"@trainingId"},{query:{method:"GET"}}),this.getLimeReport=$resource("/api/training/:trainingId/models/:modelId/report/lime_report",{modelId:"@modelId"},{query:{method:"GET",isArray:!1}}),this.insertDeployment=$resource("/api/models/insertDeployment",{modelId:"@modelId"},{query:{method:"POST"}}),this.featureImpact=$resource("/api/models/:modelId/featureImpact",{modelId:"@modelId"},{query:{method:"GET"}}),this.distributionGraph=$resource("/api/models/:modelId/featureDistribution",{modelId:"@modelId"},{query:{method:"GET"}}),this.analysisGraph=$resource("/api/training/:trainingId/models/:modelId/analysis_report/report",{modelId:"@modelId",trainingId:"@trainingId"},{query:{method:"POST"}}),this}]);
"use strict";angular.module("app.models").factory("NVD3Config",["$http","$q",function($http,$q){var service={},D3=null,mpld3=null,graphConfigs={multiBarChart:{chart:{type:"multiBarChart",height:450,margin:{top:20,right:20,bottom:45,left:45},clipEdge:!0,duration:500,stacked:!1,showControls:!1,xAxis:{axisLabel:"Time (ms)",showMaxMin:!1},yAxis:{axisLabel:"Y Axis",axisLabelDistance:-20}}},discreteBarChart:{chart:{type:"discreteBarChart",height:450,margin:{top:20,right:20,bottom:50,left:55},showValues:!0,duration:500,xAxis:{axisLabel:"X Axis"},yAxis:{axisLabel:"Y Axis",axisLabelDistance:-10}}},scatterChart:{chart:{type:"scatterChart",height:400,color:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],scatter:{onlyCircles:!1,interactive:!0},showDistX:!0,showDistY:!0,duration:350,xAxis:{axisLabel:"Time(ms)",tickFormat:function(d){return d3.format(".03f")(d)}},yAxis:{axisLabel:"Metric",axisLabelDistance:-5,tickFormat:function(d){return d3.format(".03f")(d)}},zoom:{enabled:!0,scaleExtent:[1,10],useFixedDomain:!1,useNiceScale:!1,horizontalOff:!1,verticalOff:!1,unzoomEventType:"dblclick.zoom"}}}};return service.setD3Object=function(d3Object){D3=d3Object},service.getD3Object=function(){return D3},service.setMplD3Object=function(mpld3Object){mpld3=mpld3Object},service.getMplD3Object=function(mpld3Object){return mpld3},service.getGraphConfig=function(graph){return graphConfigs[graph]},service}]);
"use strict";angular.module("app.models").factory("TooltipData",function(){var service={},tooltipData=[{name:"development",info:"Development is subset of the original dataset, which is used to measure the model performance"},{name:"crossValidation",info:"Cross-validation is a technique used to prevent over-fitting in a predictive model That is, to use a limited sample in order to estimate how the model is expected to perform in general"},{name:"holdout",info:"Holdout is unseen subset of the original dataset on which model performance has been measured"},{name:"scoringResult",info:"Scoring is user specific dataset to check how model performs on unseen dataset by measuring performance metrics"},{name:"overallScore",info:"Quantification of the performance on various metrics"},{name:"rSquared",info:"Statistical measure that represents the proportion of the variance for a dependent feature that's explained by an independent feature(s). If we have rSquared greater and less than 1, that has no logical meaning and may result from the small sample size"},{name:"adjustedRsquared",info:"Modified version of R-squared that has been adjusted for the number of predictors in the model. If we have more features (explanatory variables) than observations, the adjusted R squared will be negative"},{name:"targetFeature",info:"Target feature defines the problem statement which we want to predict"},{name:"explainedVarianceScore",info:"Explained Variance Score is used to measure the discrepancy between a model and actual data, in other words it is a measure of how far observed values differ from the average of predicted values"},{name:"regressionLine",info:"Regression line means a connection between data points in a set, is to describe the interrelation of a dependent feature with one or many independent feature(s)"},{name:"analysisReport",info:"The process of exploring data and reports in order to extract meaningful insights, which can be used to better understand and improve business performance"},{name:"learningCurve",info:"Learning curve is deemed effective tools for monitoring the performance, a plot that shows the score/error on training set and validation set, which provides information on over-fitting of the model"},{name:"trainingTime",info:"Time taken in training"},{name:"quickPrediction",info:"Algorithm after it has been trained on a historical dataset and applied to new data when forecasting the likelihood of a particular outcome"},{name:"rocAucScore",info:"Roc Auc score is performance measurement metrices for classification ROC is a probability curve and AUC represents degree or measure of separability It tells how much model is capable of distinguishing between classes"},{name:"liftAndGain",info:"Gain charts shows Predicted positive rates vs True positive rates. Lift is a measure of the effectiveness of a predictive model calculated as ratio between the results obtained with and without the predictive model. The greater the area between the lift curve and the baseline, the better the model"},{name:"mathewCoeff",info:"It takes into account true and false positives and negatives and is generally regarded as a balanced measure of classification. The MCC is in essence a correlation coefficient value between -1 and +1 A coefficient of +1 represents a perfect prediction, 0 an average random prediction and -1 an inverse prediction"},{name:"classificationReport",info:"The classification report visualizer displays the precision, recall, F1 and support scores for the model, it is a representation of the main classification metrics on a per-class basis"},{name:"f1Score",info:"F1 score combines precision and recall relative to a specific positive class, it score can be interpreted as a weighted average of the precision and recall, where an F1 score reaches its best value at 1 and worst at 0"},{name:"confusionMatrix",info:"A confusion matrix is a summary of prediction results on a classification problem, The number of correct and incorrect predictions are summarized with count values and broken down by each class"},{name:"analysisReport",info:"The process of exploring data and reports in order to extract meaningful insights, which can be used to better understand and improve business performance"},{name:"modelScore",info:"Performance of a model after training the dataset"},{name:"Mean Square Error",info:"MSE is a measure of the quality of an estimator, it is the average squared difference between the estimated values and the actual value"},{name:"Mean Aboslute Error",info:"MAE measures the average magnitude of the errors in a set of predictions, an average of the absolute errors that measure of difference between two continuous variables"},{name:"Root Mean Square Error",info:"RMSE is the square root of the variance of the residuals It indicates the absolute fit of the model to the data, how close the observed data points are to the model's predicted values"},{name:"Median Square Error",info:"The measure of the differences between values predicted by a model or an estimator and the values observed"},{name:"Mean Square Log Error",info:"The measure of the ratio between the true and predicted values"},{name:"accuracy",info:"The ratio of correct predictions to the total number of predictions"},{name:"Log Loss",info:"It measures the performance of a classification model where the prediction input is a probability value between 0 and 1"},{name:"Hamming Loss",info:"The fraction of labels that are incorrectly predicted, i.e. the fraction of the wrong labels to the total number of labels"},{name:"randomSearch",info:"Random search is a technique where random combinations of the hyper-parameters are used to find the best solution for the built model"},{name:"parameterTuning",info:"Process of maximizing a model's performance by choosing the optimal parameters for a learning algorithm, so that model can optimally solve the business problem"},{name:"bayesianOptimization",info:"Bayesian Optimization helps to find a best model among many, this optimization technique is based on randomness and probability distributions"},{name:"bagging",info:"Bagging is designed to improve the stability and accuracy of ML models, it also reduces variance and helps to avoid over-fitting"},{name:"boosting",info:"Boosting refers to a family of algorithms which converts weak learner to strong learners, for improving the model predictions of any given learning algorithm. It also helps to reduce bias and variance"},{name:"compareModels",info:"Comparison of multiple models based on the various metrics"},{name:"timeVsAccuracy",info:"Graph represents the accuracy of model based on the training time"},{name:"data",info:"Data can be information and facts collected for further analysis"},{name:"eda",info:"EDA is process of performing initial investigations on data so as to discover patterns, to spot anomalies, to test hypothesis with the help of summary statistics and graphical representations"},{name:"trainmodel",info:"In train mode, model is generated based the target and machine learning algorithms selected by user for further predictions"},{name:"auto",info:"Auto eda handles missing value calculation and imputation strategy, calculates various statistics details, Handles outlier with auto defined strategies"},{name:"manual",info:"Manual eda handles missing value calculation and imputation strategy, calculates various statistics details, Handles outlier where user can select various strategies to handle all these processes"},{name:"multivariateAnalysis",info:"It shows graphical representation of features with statistical details. With more than one feature the comparison of different features in the form of bar plot, box plot, scatter plot, line etc is shown"},{name:"edaReport",info:"Eda report shows advanced eda with unique values, missing values, quantile statistics, mean, mode, median, standard deviation, sum, skewness, frequent values, histograms, correlation between variables, count and heatmap visualization"},{name:"edaSummary",info:"It represents the summary of eda with count of unique, missing values, outliers, mean, median, mode and various strategies toused to handle outlier and missing values"},{name:"imputationPreview",info:"It shows the dataset entries for which missing values are handled after EDA process"},{name:"outlierPreview",info:"It shows the dataset entries for which outliers are handled after EDA process"},{name:"imputedDataset",info:"Dataset with all imputation done during eda process, in which all missing values, datatype change and outliers are reflected"},{name:"imputationFeature",info:"If user knows target variable in advance then selecting that as imputation feature, all the operations of manual eda are handled according to the imputation feature"},{name:"validationStrategy",info:"Validation techniques are used to get the error rate of the ML model, which can be considered as close to the true error rate of the population"},{name:"crossValidation",info:"Cross-validation is used  to estimate the skill of a ML model on unseen data. That is, to use a limited sample in order to estimate how the model is expected to perform in general when used to make predictions on data not used during the training of the model"},{name:"kFold",info:"K-Fold CV is where a given data set is split into a K number of sections/folds where each fold is used as a testing set at some point"},{name:"stratifiedKFold",info:"Stratification is the process of rearranging the data as to ensure each fold is a good representative of the whole. For example in a binary classification problem where each class comprises 50% of the data, it is best to arrange the data such that in every fold, each class comprises around half the instances"},{name:"stratifiedShuffleSplit",info:"In ShuffleSplit, the data is shuffled every time, and then split. This means the test sets may overlap between the splits"},{name:"timeSeriesSplit",info:"In time Series cv, time series data samples that are splitted  at fixed time intervals, in train/test sets. In each split, test indices must be higher than before, and thus shuffling in cross validator is inappropriate"},{name:"hyperParameterTuning",info:"Hyper-parameter tuning refers to the automatic optimization of the hyper-parameters of a ML model. Hyper-parameters are all the parameters of a model which are not updated during the learning and are used to configure either the model or the algorithm used to lower the cost function"},{name:"dimensionalityReduction",info:"Dimensionality reduction is the process of reducing the number of random variables under consideration, by obtaining a set of principal variables. It can be divided into feature selection and feature extraction"},{name:"PCA",info:"Principal Component Analysis(PCA) is one of  linear dimension reduction. PCA is a projection based method which transforms the data by projecting it onto a set of orthogonal axes"},{name:"featureScaling",info:"Feature Scaling is a technique to standardize the independent features present in the data in a fixed range. It is performed during the data pre-processing to handle highly varying magnitudes or values or units"},{name:"standardScaler",info:"Standard Scaler standardizes a feature by subtracting the mean and then scaling to unit variance"},{name:"robustScaler",info:"The Robust Scaler uses the interquartile range for scaling, so that it is robust to outliers"},{name:"normalizationMethod",info:"The goal of normalization is to change the values of numeric columns in the dataset to a common scale, without distorting differences in the ranges of values"},{name:"minmax",info:"It transforms features by scaling each feature to a given range.Min max  scales and translates each feature individually such that it is in the given range on the training set, e.g. between 0 and 1"},{name:"quantile",info:"It transforms the features to follow a uniform or a normal distribution. It  reduces the impact of outliers"},{name:"powerTransform",info:"Power Transformer will apply zero-mean, unit-variance normalization to the transformed output by default"},{name:"imbalanceDatasetHandling",info:"Imbalanced data typically refers to classification tasks where the classes are not represented equally"},{name:"overSampling",info:"Oversampling can be defined as adding more copies of the minority class"},{name:"underSampling",info:"Undersampling can be defined as removing some observations of the majority class"},{name:"trend",info:"A general systematic linear or nonlinear component that changes over time and does not repeat"},{name:"seasonal",info:"A general systematic linear or nonlinear component that changes over time and does repeat      "},{name:"residuals",info:"The “residuals” in a time series model are what is left over after fitting a model. Residuals are useful in checking whether a model has adequately captured the information in the data"},{name:"observed",info:"The Actual values of a feature in a dataset"},{name:"summaryTable",info:"It shows summary of forecasting with selected features with coefficient, std and z score"},{name:"losses",info:"It shows regression loss metrices for model"},{name:"forecasting",info:"Future forecast for specified time"},{name:"clusterVisualization",info:"It shows the population or data points into a number of groups such that data points in the same groups are more similar to other data points in the same group and dissimilar to the data points in other groups"},{name:"featureselection",info:"Feature selection is a technique where we choose those features in our data that contribute most to the target variable"},{name:"selectKbest",info:"Select features according to the k highest scores"},{name:"selectPercentile",info:"Select features according to a percentile of the highest scores"},{name:"scoringFunction",info:"Based on the selected method score for each feature is calculated"},{name:"factorAnalysis",info:"Factor analysis is a technique that is used to reduce a large number of variables into fewer numbers of factors"},{name:"featureScore",info:"Feature score represents the score of different features, as well as in tabular view it shows what features are used for model training"},{name:"createProject",info:"Create a new project"},{name:"importProject",info:"Import an existing project into this instance and use it for experiment"},{name:"projectTemplates",info:"Sample projects"},{name:"users",info:"PredictSense Users"},{name:"help",info:"Help Section"},{name:"settings",info:"Settings"},{name:"fileUpload",info:"Upload a file from a local device"},{name:"pullUrl",info:"Pull data from URL where data is available in JSON or CSV format"},{name:"msSql",info:"Create a data connection from MSSQL database"},{name:"mySql",info:"Create a data connection from MySQL database"},{name:"postgre",info:"Create a data connection from PostgreSQL database"},{name:"Sftp",info:"Create a data connection from SFTP server"},{name:"dataSources",info:"Data Sources from which data connection will be created"},{name:"dataSet",info:"Dataset which will be displayed below as per different sources"},{name:"selectDataSetEda",info:"Dataset of all the data points, on which EDA Summary will be computed"},{name:"selectDataSetTraining",info:"Dataset of all the data points, on which predictions will be computed"},{name:"selectTarget",info:"Target Selection on which prediction can be made"},{name:"selectAlgorithm",info:"Algorithm selection on which model will be trained"},{name:"featureGeneration",info:"Feature generation is the process of creating new features from one or multiple existing features"},{name:"transformation",info:"Transforming features by applying scaling and normalization functions"},{name:"featureReduction",info:"Features reduction are done by selecting best features and applying dimensionality reduction techniques"},{name:"sampling",info:"Sampling is a process in which a predetermined number of observations are taken from a larger population"},{name:"validationStr",info:" Select validation strategy for splitting validation dataset"},{name:"hpt",info:"Hyper parameter tuning for which model will be optimized"},{name:"trainTestSplit",info:"Split dataset by selecting size of test data"},{name:"pairWiseLinear",info:"This generator generates A+B and A-B features, for each pair of numerical features"},{name:"pairWisePolynomial",info:"This generator generates A*B features, for each pair of numerical features"},{name:"univariatePolynomial",info:"This generator generates A^2 or A^3 features, for each numerical features based on the specified exponent"},{name:"splitFeatureGeneration",info:"This generator generates ABC_XYZ to ABC and XYZ as new features based on delimiter with specified number of count"},{name:"explicitPairwiseCombination",info:"This generator generates pairwise combination on the explicit features selected by the user"},{name:"selectIndex",info:"This selection lets you to make dataset with datetime index, as most of algorithm support datetime index for timeseries problem"},{name:"visualiseComponent",info:"Visualise component represents the timeseries components, which involves: Trend, Seasonal, Residuals and Observed"},{name:"seasonalComponent",info:"In the additive model, the behavior is linear where changes over time are consistently made by the same amount, like a linear trend. In the multiplicative model, trend and seasonal components are multiplied and then added to the error component. It is not linear"},{name:"frequency",info:"Frequency defines the periodicity of a datetime indexed dataset"},{name:"stationarityTest",info:"A timeseries data is stationary or not, stationarity means that the statistical properties of a process generating a time series do not change over time"},{name:"resampling",info:"Resampling involves changing the frequency of your time series observations"},{name:"adf",info:"The Dickey Fuller test is one of the most popular statistical tests. It can be used to determine if the series is stationary or not. If the test statistic is less than the critical value, we can reject the null hypothesis (aka the series is stationary)."},{name:"resamplingFrequency",info:"Rule/Frequency on which data will be resampled"},{name:"resamplingMethod",info:"Aggregate function to group the resampling frequency"},{name:"startDate",info:"Date from where the forecast is required"},{name:"endDate",info:"Date till where the forecast is required"},{name:"precisionRecall",info:"Precision-Recall is a useful measure of success of prediction when the classes are very imbalanced. In information retrieval, precision is a measure of result relevancy, while recall is a measure of how many truly relevant results are returned"},{name:"retrain",info:" Retraining  refers to re-running the process that generated the previously selected model on a new training set of data"},{name:"featureImportance",info:"Feature importance in tree based models is more likely to actually identify which features are most influential when differentiating your classes, provided that the model performs well"},{name:"featureCoefficient",info:"The feature coefficient in linear based models contain the coefficients for the prediction of each of the targets. It is also the same as if you trained a model to predict each of the targets separately"},{name:"clusterScatterPlot",info:"A Scatter plot shows the distribution of different clusters with cluster centroids of each cluster."},{name:"clusterPieChart",info:"The pie chart shows the percentage and total count of different clusters with respect to distribution of clusters."},{name:"missingThreshold",info:"Missing threshold sets the threshold value for number of missing values.If threshold values exceed then respective columns get dropped from the dataset."},{name:"pipeline",info:"A machine learning pipeline is used to help automate machine learning workflows. They operate by enabling a sequence of data to be transformed and correlated together in a model that can be tested and evaluated to achieve an outcome"},{name:"metrics",info:"Matrices are a calculation of model performance score based on a mathematical calculation of different parameters."},{name:"silhouetteCoefficient",info:"The Silhouette Coefficient is model performance score based on data points of clusters. The score is bounded between -1 for incorrect clustering and +1 for highly dense clustering. Scores around zero indicate overlapping clusters"},{name:"daviesBouldinIndex",info:"This index signifies the average ‘similarity’ between clusters, where the similarity is a measure that compares the distance between clusters with the size of the clusters themselves.  Values closer to zero indicate a better partition"},{name:"autoCorrelation",info:"Autocorrelation measures the linear relationship between lagged values  of a time series."},{name:"pafcMethod",info:"A partial autocorrelation is a summary of the relationship between an observation in a time series with observations at prior time steps with the relationships of intervening observations removed."},{name:"ywunbiased",info:" yule walker with bias correction in denominator for acovf."},{name:"ywmle",info:"yule walker without bias correction"},{name:"ols",info:" regression of time series on lags of it and on constant"},{name:"nlags",info:"Number of lags on which correlation will be computed"},{name:"refit",info:"It refers to refitting the data using pipeline on a new data, as data can have different distribution so pipeline should record those"},{name:"transform",info:"It refers to transforming the new data using pipeline, because data has similar distribution as existing"},{name:"decisionTree",info:"A decision tree is a flowchart-like structure in which each internal node represents a test on an attribute, each branch represents the outcome of the test, and each leaf node represents a class label (decision taken after computing all attributes)."},{name:"limeReport",info:"LIME ( Local Interpretable Model-agnostic Explanations )is a novel explanation technique that explains the prediction of any regressor/ classifier in an interpretable and faithful manner by learning a interpretable model locally around the prediction."},{name:"imputationFeature",info:"Replacement of missing values by the most frequent category is the equivalent of mean/median imputation. It consists of replacing all occurrences of missing values within a variable by the mean of the categorical/boolean variable."},{name:"evaluateForecast",info:"Evaluation of the quality of a forecast requires comparing the forecast values to actual values of the target value over a forecast period."},{name:"mergeDataset",info:"Data merging is the process of combining two or more data sets into a single data set. Most often, this process is necessary when you have raw data stored in multiple files, worksheets, or data tables, that you want to analyze all in one go."},{name:"chi2",info:"The  chi2(χ2)  test is used in statistics to test the independence of two events. More specifically in feature selection we use it to test whether the occurrence of a specific term and the occurrence of a specific class are independent."},{name:"fClassif",info:"Used only for categorical targets and based on the Analysis of Variance (ANOVA) statistical test."},{name:"fRegression",info:"The F value in regression is the result of a test where the null hypothesis is that all of the regression coefficients are equal to zero.  Basically, the f-test compares your model with zero predictor variables (the intercept only model), and decides whether your added coefficients improved the model."},{name:"mutualInfoRegression",info:"Mutual information between two random variables is a non-negative value, which measures the dependency between the variables. It is equal to zero if and only if two random variables are independent, and higher values mean higher dependency."},{name:"calculateFeatureScore",info:"Calculate the relationship between each input variable and the target variable using statistics and selecting those input variables that have the strongest relationship with the target variable."},{name:"mergeDatasetRowWise",info:"Merge dataset by performing a database-style join operation by rows."},{name:"mergeDatasetColumnWise",info:"Merge dataset by performing a database-style join operation by columns."},{name:"dataConnections",info:"Data connections which will be displayed below as per different sources"},{name:"refit",info:"It refers to refitting the data using pipeline on a new data, as data can have different distribution so pipeline should record those"},{name:"transform",info:"It refers to transforming the new data using pipeline, because data has similar distribution as existing"},{name:"logTransform",info:"Transforming the selected features using log operation."},{name:"scalarValue",info:"A numeric value which is getting added to the values of selected features to aviod infinite value."},{name:"logTransformationColumns",info:"Numeric features which will get log transformed."},{name:"differencing",info:"Differencing is a method which help to stabilise the mean of a time series by removing changes in the level of a time series, and therefore eliminating (or reducing) trend and seasonality."},{name:"log_transformation",info:"Log transformation is a method which help to stabilise the data using mathematical log operation as they are effective at removing exponential variance and normalize the data."},{name:"differencing_with_log_transformation",info:"It is a method of making data stationary with the combination of log transformation followed by differening."},{name:"period",info:"Period represents the number of shifts to be made over the desired axis."},{name:"scalar",info:"Numeric value which is getting added to the feature values to avoid infinite value case."},{name:"incomingStats",info:"New data."},{name:"baselineStats",info:"Existing data."},{name:"inputFeature",info:"Analyze drift report for the particular feature."},{name:"varianceIFactor",info:"Explained variance (also called explained variation) is used to measure the discrepancy between a model and actual data."},{name:"dropOriginal",info:"Drop the existing numeric features from the dataset."},{name:"stringTransformation",info:"String transformation is method to change one string value present in the column to another string value in same column."},{name:"samplingPercentage",info:"Sampling percentage represents the percentage of classes present in the target feature."},{name:"createDataGroup",info:"Create your folder."},{name:"createDataConnections",info:"Choose data sources."},{name:"customFeatureChecked",info:"Decomposition to be performed on set of selected features."},{name:"NLP",info:"Natural Language Processing, or NLP for short, is broadly defined as the automatic manipulation of natural language, like speech and text, by software."},{name:"countvectorizer",info:"CountVectorizer is a great tool provided by the scikit-learn library in Python. It is used to transform a given text into a vector on the basis of the frequency (count) of each word that occurs in the entire text."},{name:"tfidfvectorizer",info:" TF*IDF, or TFIDF, short for term frequency–inverse document frequency, is a numerical statistic that is intended to reflect how important a word is to a document in a collection or corpus."},{name:"nFeatureCount",info:"A vocabulary that only consider the top max_features ordered by term frequency across the corpus."},{name:"nlpLanguage",info:"Language used in dataset."},{name:"stripAccents",info:"The parameter of removing accents and perform other character normalization during the preprocessing step."},{name:"decodeError",info:"Instruction on what to do if a byte sequence is given to analyze that contains characters not of the given encoding."},{name:"nGram",info:"An n-gram is a contiguous sequence of n items from a given sample of text or speech. The items can be phonemes, syllables, letters, words or base pairs according to the application. The n-grams typically are collected from a text or speech corpus."},{name:"ascii",info:"ASCII, abbreviated from American Standard Code for Information Interchange. ASCII is a character encoding that uses numeric codes to represent characters. These include upper and lowercase English letters, numbers, and punctuation symbols."},{name:"unicode",info:"An international encoding standard for use with different languages and scripts, by which each letter, digit, or symbol is assigned a unique numeric value that applies across different platforms and programs."},{name:"strict",info:"The default decode error handler is 'strict' meaning that decoding errors raise ValueError (or a more codec specific subclass, such as UnicodeDecodeError )."},{name:"ignore",info:"Ignore causes the decode error to skip over the invalid bytes."},{name:"replace",info:"Replace ensures that no error is raised, at the expense of possibly losing data that cannot be converted to the requested encoding."},{name:"textCleaning",info:"To bring text into a form that is predictable and analyzable using operations like remove hyperlinks, numbers, words, stemming, lemmatization, etc."},{name:"posTagging",info:"Part-of-Speech (PoS) tagging,is a task of labelling each word in a sentence with its appropriate part of speech which include nouns, verb, adverbs, adjectives, pronouns, conjunction, etc and their sub-categories."},{name:"ner",info:"Named-entity recognition (NER) is a subtask of information extraction that seeks to locate and classify named entities mentioned in unstructured text into pre-defined categories such as person names, organizations, locations, medical codes, time expressions, quantities, monetary values, percentages, etc."},{name:"phraseExtraction",info:"Phrase Extraction is a method which applies syntactic analysis to detect key ideas and trends fast and accurately in any data set. Whether the text is standard, such as news or legislation, or colloquial, such as social media or a blog, analysis is able to extract the main concepts."},{name:"sentimentAnalysis",info:"The process of computationally identifying and categorizing opinions expressed in a piece of text, especially in order to determine whether the writer's attitude towards a particular topic, product, etc. is positive, negative, or neutral."},{name:"textSummarization",info:"Text summarization refers to the technique of shortening long pieces of text. The intention is to create a coherent and fluent summary having only the main points outlined in the document."},{name:"wordFrequency",info:"The word frequency distribution plot helps us to analyze the word and it's occurance in a set of words/feature from dataset."},{name:"nlpFeatureConfig",info:"The configuration of parameters used to convert text into a matrix(or vector) of features like Feature count, N-gram, language, etc."},{name:"nlpFeatureExtractionMethod",info:"Feature extraction method to extract and produce feature representations that are appropriate for the type of NLP techniques to convert text into a matrix(or vector) of features."}];return service.getTootipInfo=function(tooltip){return tooltipData.filter(function(item){return item.name===tooltip})},service});
"use strict";!function(){function searchOpenController($scope,$element,NavSearch){$element.on("click",function(e){e.stopPropagation()}).on("click",NavSearch.toggle)}function searchDismissController($scope,$element,NavSearch){$('.navbar-form input[type="text"]').on("click",function(e){e.stopPropagation()}).on("keyup",function(e){27===e.keyCode&&NavSearch.dismiss()}),$(document).on("click",NavSearch.dismiss),$element.on("click",function(e){e.stopPropagation()}).on("click",NavSearch.dismiss)}angular.module("app.navsearch").directive("searchOpen",function(){return{controller:searchOpenController,restrict:"A"}}).directive("searchDismiss",function(){return{controller:searchDismissController,restrict:"A"}}),searchOpenController.$inject=["$scope","$element","NavSearch"],searchDismissController.$inject=["$scope","$element","NavSearch"]}();
"use strict";angular.module("app.navsearch").service("NavSearch",function(){this.toggle=function(){var navbarForm=$(navbarFormSelector);navbarForm.toggleClass("open");var isOpen=navbarForm.hasClass("open");navbarForm.find("input")[isOpen?"focus":"blur"]()},this.dismiss=function(){$(navbarFormSelector).removeClass("open").find('input[type="text"]').blur()};var navbarFormSelector="form.navbar-form"});
"use strict";!function(){function coreMenu(Menus){Menus.addMenuItem("sidebar",{title:"Notebooks *",state:"app.notebook",iconClass:"fa fa-book",position:2,roles:["admin","developer","super_admin"]})}angular.module("app.notebook").run(coreMenu),coreMenu.$inject=["Menus"]}();
"use strict";!function(){function appRoutes($stateProvider,helper){$stateProvider.state("app.notebook",{url:"notebook",templateUrl:"modules/notebook/client/views/list-notebooks.client.view.html",resolve:helper.resolveFor("flot-chart","flot-chart-plugins","weather-icons","datatables","oitozero.ngSweetAlert")}).state("app.notebook-create",{url:"notebook/create",templateUrl:"modules/notebook/client/views/create-notebook.client.view.html",resolve:helper.resolveFor("flot-chart","flot-chart-plugins","weather-icons")})}angular.module("app.notebook").config(appRoutes),appRoutes.$inject=["$stateProvider","RouteHelpersProvider"]}();
"use strict";!function(){function NotebookController($scope,NotebookStore,$state,Notebook,$sce,ProjectCore,$http,DataService,SweetAlert,toaster,$uibModal,EdaCore,Project){var vm=this;vm.iframeUrl=null,vm.showLoading=!1,vm.notebooks=[],vm.loaderText="Loading...",vm.project=ProjectCore.getProject(),vm.notebooks=Notebook.listAllNotebooks.query({projectId:vm.project._id}),vm.setNotebook=function(notebook,url){vm.noteUrl=url+notebook+"?uid="+vm.project.createdBy+"&pid="+vm.project._id,NotebookStore.setNotebook(vm.noteUrl),$state.go("app.notebook-create")},vm.loadNotebook=function(){vm.iframeUrl=$sce.trustAsResourceUrl(NotebookStore.getNotebook())},DataService.listAllProjectDatas.query({projectId:vm.project._id}).$promise.then(function(res){vm.dataSetsList=res[0].filesList},function(err){}),vm.dataList=DataService.dataGroup.query({projectId:vm.project._id}),vm.dataList.$promise,vm.selectedFileEncoding="utf_8",vm.fileEncodings=[],vm.fileEncodings=Project.getFileEncodings.filter(function(encoding){return encoding}),vm.dataGroupIdstring="null",vm.openNotebookModal=function(){var modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"newNotebookModal.html",size:"md",scope:modalScope});modalScope.cancel=function(){modalInstance.close(modalScope.selected)},modalScope.createNoteBook=function(data){modalScope.cancel(),vm.showOverlay=!0,vm.showLoading=!0,new Notebook.saveNotebook({projectPath:"",fileName:data.fileName+"-"+Date.now()+".ipynb",inputFile:JSON.parse(data.inputFiles).name,notebookInputFileId:JSON.parse(data.inputFiles)._id,outputFileDataGroupId:data.outputFileDataGroupId,addToPipeline:data.addToPipeline,projectId:vm.project._id,createdBy:vm.project.createdBy}).$save({projectId:vm.project._id},function(res){vm.notebooks.push(res),vm.showOverlay=!1,vm.showLoading=!1,toaster.pop("success",$scope.app.name,"Notebook created successfully!",2e3)},function(err){toaster.pop("error",$scope.app.name,err.data.message,3e3)})}},vm.deleteNotebook=function(notebook){SweetAlert.swal({title:"Are you sure?",text:"You will not be able to recover this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete!",closeOnConfirm:!0},function(isConfirm){isConfirm&&Notebook.deleteNotebook.remove({projectId:vm.project._id,notebookId:notebook._id,notebookName:notebook.fileName}).$promise.then(function(res){var index=vm.notebooks.indexOf(notebook);vm.notebooks.splice(index,1),toaster.pop("success",$scope.app.name,"Notebook deleted successfully!",2e3)},function(err){toaster.pop("error",$scope.app.name,"Oops!, something went wrong while deleting the notebook!",3e3)})})}}angular.module("app.notebook").controller("NotebookController",NotebookController),NotebookController.$inject=["$scope","NotebookStore","$state","Notebook","$sce","ProjectCore","$http","DataService","SweetAlert","toaster","$uibModal","EdaCore","Project"]}();
"use strict";angular.module("app.notebook").factory("NotebookStore",function(){var services={setNotebook:function(notebook){services.notebookData=notebook},getNotebook:function(){return services.notebookData}};return services});
"use strict";angular.module("app.notebook").factory("Notebook",["$resource",function($resource){return this.listAllNotebooks=$resource("/api/projects/:projectId/notebooks",{projectId:"@_id"},{query:{method:"GET",isArray:!0}}),this.saveNotebook=$resource("/api/projects/:projectId/notebook/save",{projectId:"@projectId"},{save:{method:"POST",isArray:!1}}),this.deleteNotebook=$resource("/api/projects/:projectId/notebook/:notebookId/delete/:notebookName",{projectId:"@projectId",notebookId:"@notebookId",notebookName:"@notebookName"}),this}]);
"use strict";!function(){function NotifyDemoCtrl(Notify,$timeout){var vm=this;vm.msgHtml='<em class="fa fa-check"></em> Message with icon..',vm.notifyMsg="Some messages here..",vm.notifyOpts={status:"danger",pos:"bottom-center"},$timeout(function(){Notify.alert("This is a custom message from notify..",{status:"success"})},500)}angular.module("app.notify").controller("NotifyDemoCtrl",NotifyDemoCtrl),NotifyDemoCtrl.$inject=["Notify","$timeout"]}();
"use strict";!function(){function notify($window,Notify){return{link:function(scope,element){element.on("click",function(e){e.preventDefault(),Notify.alert(scope.message,scope.options)})},restrict:"A",scope:{options:"=",message:"="}}}angular.module("app.notify").directive("notify",notify),notify.$inject=["$window","Notify"]}();
"use strict";!function(){function Notify($timeout){this.alert=function(msg,opts){msg&&$timeout(function(){$.notify(msg,opts||{})})}}angular.module("app.notify").service("Notify",Notify),Notify.$inject=["$timeout"]}(),function($){var containers={},messages={},notify=function(options,argument_1){return"string"===$.type(options)&&(options={message:options}),argument_1&&(options=$.extend(options,"string"===$.type(argument_1)?{status:argument_1}:argument_1)),new Message(options).show()},Message=function Message(options){this.options=$.extend({},Message.defaults,options),this.uuid="ID"+(new Date).getTime()+"RAND"+Math.ceil(1e5*Math.random()),this.element=$(['<div class="uk-notify-message alert-dismissable">','<a class="close">&times;</a>',"<div>"+this.options.message+"</div>","</div>"].join("")).data("notifyMessage",this),this.options.status&&(this.element.addClass("alert alert-"+this.options.status),this.currentstatus=this.options.status),this.group=this.options.group,messages[this.uuid]=this,containers[this.options.pos]||(containers[this.options.pos]=$('<div class="uk-notify uk-notify-'+this.options.pos+'"></div>').appendTo("body").on("click",".uk-notify-message",function(){$(this).data("notifyMessage").close()}))};$.extend(Message.prototype,{uuid:!1,element:!1,timout:!1,currentstatus:"",group:!1,show:function(){if(!this.element.is(":visible")){var $this=this;containers[this.options.pos].show().prepend(this.element);var marginbottom=parseInt(this.element.css("margin-bottom"),10);return this.element.css({opacity:0,"margin-top":-1*this.element.outerHeight(),"margin-bottom":0}).animate({opacity:1,"margin-top":0,"margin-bottom":marginbottom},function(){var closefn;$this.options.timeout&&(closefn=function(){$this.close()},$this.timeout=setTimeout(closefn,$this.options.timeout),$this.element.hover(function(){clearTimeout($this.timeout)},function(){$this.timeout=setTimeout(closefn,$this.options.timeout)}))}),this}},close:function(instantly){var $this=this,finalize=function(){$this.element.remove(),containers[$this.options.pos].children().length||containers[$this.options.pos].hide(),delete messages[$this.uuid]};this.timeout&&clearTimeout(this.timeout),instantly?finalize():this.element.animate({opacity:0,"margin-top":-1*this.element.outerHeight(),"margin-bottom":0},function(){finalize()})},content:function(html){var container=this.element.find(">div");return html?(container.html(html),this):container.html()},status:function(_status){return _status?(this.element.removeClass("alert alert-"+this.currentstatus).addClass("alert alert-"+_status),this.currentstatus=_status,this):this.currentstatus}}),Message.defaults={message:"",status:"normal",timeout:5e3,group:null,pos:"top-center"},$.notify=notify,$.notify.message=Message,$.notify.closeAll=function(group,instantly){if(group)for(var id in messages)group===messages[id].group&&messages[id].close(instantly);else for(id in messages)messages[id].close(instantly)}}(jQuery);
"use strict";!function(){function coreMenu(Menus){Menus.addMenuItem("sidebar",{title:"Output",state:"app.output",iconClass:"fa fa-paper-plane",position:9,roles:["*"]})}angular.module("app.output").run(coreMenu),coreMenu.$inject=["Menus"]}();
"use strict";angular.module("app.output").config(["$stateProvider","RouteHelpersProvider",function($stateProvider,helper){$stateProvider.state("app.output",{url:"output",templateUrl:"modules/output/client/views/output.client.view.html",resolve:helper.resolveFor("datatables","angularFileUpload","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle","summernote","ui.select","oitozero.ngSweetAlert"),controller:"OutputController as vm",authorization:{allowedRoles:["report_user","admin","developer","super_admin"]}}).state("app.output-model",{url:"output-model",templateUrl:"modules/output/client/views/output-model.client.view.html",resolve:helper.resolveFor("datatables","angularFileUpload","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle","summernote","ui.select","oitozero.ngSweetAlert"),controller:"OutputController as vm",authorization:{allowedRoles:["report_user","admin","developer","super_admin"]}})}]);
"use strict";!function(){function OutputController(Project,$http,DTOptionsBuilder,DTColumnDefBuilder,DTColumnBuilder,$scope,ProjectCore,$uibModal,toaster,$q,$sce,Authentication,NVD3Config,TooltipData,OutputService,SweetAlert){var ext,image,vm=this,td3=d3;function getReportOutput(){OutputService.reportOutputList.query({projectId:vm.project._id}).$promise.then(function(res){vm.list=res},function(){})}function userList(id){OutputService.UserList.query({_id:vm.project._id,outputId:id}).$promise.then(function(res){vm.userList=res},function(){})}function getHeadCols(data){return Object.keys(data)}vm.addnew=!1,vm.buttonshow=!0,vm.uploadFileSize=500,NVD3Config.setD3Object(td3),vm.status=[],vm.showLoading=!1,vm.getToolTipData=function(tooltip){return TooltipData.getTootipInfo(tooltip)[0]},vm.dtColumnsUpldPreview=[],vm.dtInstanceUpldPreview={},vm.backGround="#ffffff",vm.foreGround="#08509d",vm.graphTypes={Numeric:["Barplot","Lineplot","Boxplot","Scatterplot"],Categorical:["Barplot","Pieplot"]},vm.joinTypes=["inner","left","right","outer"],vm.graphType="Barplot",vm.project=ProjectCore.getProject(),getReportOutput(),vm.deletereport=function(reportId){SweetAlert.swal({title:"Are you sure?",text:"You will not be able to recover this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete!",closeOnConfirm:!0},function(isConfirm){isConfirm&&OutputService.reportDelete.remove({projectId:vm.project._id,outputId:reportId}).$promise.then(function(){getReportOutput()},function(err){toaster.pop("error",$scope.app.name,"Oops!, something went wrong while deleting the report!",3e3)})})},vm.openEdaReport=function(item){$scope.contentAdvEda=$sce.trustAsHtml("<div class='text-center'><h3>Generating EDA report...</h3><h6>This may take some time, please wait.</h6></div>");var modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"edaReportModel.html",size:"xl",scope:modalScope});modalScope.cancel=function(){modalInstance.close(modalScope.selected)},$http.get("/api/v2/projects/"+vm.project._id+"/eda/"+item.edaId+"/advedainfo").then(function(resp){$scope.contentAdvEda=$sce.trustAsHtml(resp.data),vm.showLoading=!1},function(err){$scope.contentAdvEda=$sce.trustAsHtml("<h5 class='text-center'>Oops!, something went wrong while generating advanced EDA report.</h5>"),toaster.pop("error",$scope.app.name,"Oops!, something went wrong while generating advanced EDA report",3e3)})},vm.dtOptions=DTOptionsBuilder.newOptions().withPaginationType("full_numbers").withDisplayLength(2).withDOM("pitrfl"),vm.dtColumnDefs=[DTColumnDefBuilder.newColumnDef(0),DTColumnDefBuilder.newColumnDef(1),DTColumnDefBuilder.newColumnDef(2),DTColumnDefBuilder.newColumnDef(3),DTColumnDefBuilder.newColumnDef(4),DTColumnDefBuilder.newColumnDef(5).notSortable(),DTColumnDefBuilder.newColumnDef(6).notSortable()],vm.filediff=function(item){vm.file=item.filename,ext="",ext=vm.file.substring(vm.file.lastIndexOf(".")+1),vm.test=ext,"EDA"==item.outputType?vm.openEdaReport(item):"pdf"==ext||"png"==ext||"jpg"==ext?vm.openPreview(item):"csv"!=ext&&"pkl"!=ext||vm.openFilePreview(item)},vm.openPreview=function(item){!function(item){OutputService.viewShareReport.query({projectId:item.projectId,filename:item.filename,createdBy:item.createdBy}).$promise.then(function(res){image=res.data,res.file,"pdf"==ext&&document.getElementById("arame").setAttribute("src","data:application/pdf;base64,"+image),"png"!=ext&&"jpg"!=ext||document.getElementById("reportImage").setAttribute("src","data:image/png;base64,"+image)},function(){})}(item),vm.data=item;var modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"openPreview.html",size:"lg",scope:modalScope});modalScope.cancel=function(){modalInstance.close(modalScope.selected)}},vm.openFilePreview=function(item){vm.data=item,vm.dtColumnsUpldPreview=[],vm.dtInstanceUpldPreview={},vm.featureList=[],vm.showPreviewTable=!1;var modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"buildDataPreviewTable.html",size:"lg",scope:modalScope});modalScope.cancel=function(){modalInstance.close(modalScope.selected)},modalScope.buildPreviewTable=function(){vm.show=!1,vm.showLoading=!0,OutputService.myFilePreview.query({isDataTypeRequired:!0,projectId:item.projectId,filename:item.filename,createdBy:item.createdBy,outputId:item._id}).$promise.then(function(response){var head=[];if(vm.dtInstanceUpldPreview.hasOwnProperty("DataTable")){vm.dtInstanceUpldPreview.DataTable.destroy(),vm.dtColumnsUpldPreview.length=0,vm.dtOptionsUpldPreview=DTOptionsBuilder.fromFnPromise(function(){var defer=$q.defer();return defer.resolve(response.preview),defer.promise}).withOption("processing",!0).withOption("deferRender",!0).withPaginationType("full_numbers");for(var head=getHeadCols(response.preview[0]),i=0;i<head.length;i++)vm.dtColumnsUpldPreview.push(DTColumnBuilder.newColumn(head[i]).withTitle(head[i]))}else{vm.featureList.length=0,vm.dtOptionsUpldPreview=DTOptionsBuilder.fromFnPromise(function(){var defer=$q.defer();return defer.resolve(response.preview),defer.promise}).withOption("processing",!0).withOption("lengthChange",!1).withOption("paging",!1).withOption("deferRender",!0);for(head=getHeadCols(response.preview[0]),i=0;i<head.length;i++)vm.dtColumnsUpldPreview.push(DTColumnBuilder.newColumn(head[i]).withTitle(head[i]));vm.edaAutoFeatureList=angular.copy(vm.featureList)}vm.showLoading=!1,vm.showPreviewTable=!0,ga("send","event","Projects","Read uploaded file for preview",!0)},function(errorResponse){vm.showLoading=!1,vm.show=!1,toaster.pop("error",$scope.app.name,"Oops!, something went wrong while generating preview table",3e3)},function(){})},modalScope.buildPreviewTable()},vm.outputId,vm.openShareAcess=function(id){vm.outputId=id,vm.groupData=null,userList(id);var modalScope=$scope.$new(),modalInstance=$uibModal.open({size:"md",templateUrl:"openShareAcess.html",scope:modalScope});modalScope.cancel=function($modalInstance){modalInstance.close(modalScope.selected)},modalScope.addUser=function(data){vm.showLoading=!0,data._id=vm.project._id,data.testId=id,new OutputService.emailShared(data).$save(function(resp){userList(id),vm.showLoading=!1},function(err){vm.showLoading=!1,SweetAlert.swal("Warning","Could not find any user with that email!","error"),toaster.pop("error",$scope.app.name,"Could not find any user with that email!.",3e3)})}},vm.addNew=function(){vm.addnew=!0,vm.buttonshow=!1},vm.removeuser=function(id){SweetAlert.swal({title:"Are you sure?",text:"You will not be able to recover this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete!",closeOnConfirm:!0},function(isConfirm){isConfirm&&OutputService.shareOutputDelete.remove({projectId:vm.project._id,shareId:id}).$promise.then(function(){userList(vm.outputId)},function(err){toaster.pop("error",$scope.app.name,"Oops!, something went wrong while removing user!",3e3)})})},vm.fileEncodings=[],vm.fileEncodings=Project.getFileEncodings.filter(function(encoding){return encoding})}angular.module("app.output").controller("OutputController",OutputController),OutputController.$inject=["Project","$http","DTOptionsBuilder","DTColumnDefBuilder","DTColumnBuilder","$scope","ProjectCore","$uibModal","toaster","$q","$sce","Authentication","NVD3Config","TooltipData","OutputService","SweetAlert"]}(),angular.module("app.datas").filter("bytes",function(){return function(bytes,precision){if(isNaN(parseFloat(bytes))||!isFinite(bytes))return"-";void 0===precision&&(precision=1);var number=Math.floor(Math.log(bytes)/Math.log(1024));return(bytes/Math.pow(1024,Math.floor(number))).toFixed(precision)+" "+["bytes","kB","MB","GB","TB","PB"][number]}}),angular.module("app.datas").directive("restrictInput",function(){return{restrict:"A",require:"ngModel",link:function(scope,element,attr,ctrl){ctrl.$parsers.unshift(function(viewValue){var overrideValue=new RegExp("^[a-zA-Z0-9 ]*$");if(overrideValue.test(viewValue))return viewValue;overrideValue=overrideValue.test(ctrl.$modelValue)?ctrl.$modelValue:"";return element.val(overrideValue),overrideValue})}}}),angular.module("app.datas").filter("shortNumber",function(){return function(number){if(number){var abs=Math.abs(number);return abs>=Math.pow(10,12)?number=(number/Math.pow(10,12)).toFixed(1)+"T":abs<Math.pow(10,12)&&abs>=Math.pow(10,9)?number=(number/Math.pow(10,9)).toFixed(1)+"B":abs<Math.pow(10,9)&&abs>=Math.pow(10,6)?number=(number/Math.pow(10,6)).toFixed(1)+"M":abs<Math.pow(10,6)&&abs>=Math.pow(10,3)&&(number=(number/Math.pow(10,3)).toFixed(1)+"K"),number}}}),angular.module("app.projects").filter("displayType",function(){return function(type){return"timeseries"==type?"Timeseries":"predictive_modeling"==type?"Predictive Modeling":"Clustering"}}),angular.module("app.datas").directive("clickAndDisable",function(){return{scope:{clickAndDisable:"&"},link:function(scope,iElement){iElement.bind("click",function(){iElement.prop("disabled",!0),scope.clickAndDisable().finally(function(){iElement.prop("disabled",!1)})})}}}),angular.module("app.projects").directive("myDir",function(){return{controller:["$scope",function(){}],link:function(scope,element){element.on("submit",function(){})}}}),angular.module("app.projects").filter("filterStrategies",function(){return function(strategies,sharedObj){return"Numeric"==sharedObj.dataType?["Min","Median","Max","Mean","Mode","St.Dev"]:["Mode"]}});
"use strict";angular.module("app.output").factory("OutputService",["$resource",function($resource){return this.reportOutputList=$resource("/api/v2/projects/:projectId/output",{projectId:"@_id"},{query:{isArray:!0,method:"GET"}}),this.emailShared=$resource("/api/v2/projects/:projectId/shareOutput",{projectId:"@_id"},{save:{isArray:!0,method:"POST"}}),this.UserList=$resource("/api/v2/projects/:projectId/shareOutput/list",{projectId:"@_id"},{query:{isArray:!0,method:"POST"}}),this.shareOutputByUser=$resource("/api/v2/projects/shareOutput/byUser",{}),this.shareOutputDelete=$resource("/api/v2/projects/:projectId/shareOutput/:shareId",{projectId:"@pid",shareId:"@shareId"}),this.viewShareReport=$resource("/api/v2/projects/:projectId/output/data/reportpreview",{projectId:"@projectId"},{query:{method:"POST"}}),this.myFilePreview=$resource("/api/v2/projects/:projectId/output/:outputId/preview",{projectId:"@projectId",outputId:"@outputId"},{query:{method:"POST"}}),this.reportDelete=$resource("/api/v2/projects/:projectId/output/:outputId",{projectId:"@projectId",outputId:"@outputId"}),this}]);
"use strict";angular.module("page").config(["$stateProvider",function($stateProvider){$stateProvider.state("page",{url:"/page",templateUrl:"modules/page/client/views/page.client.view.html"})}]);
"use strict";!function(){function PanelsCtrl($scope,$timeout){$scope.$watch("panelDemo1",function(newVal){console.log("panelDemo1 collapsed: "+newVal)}),$scope.$on("panel-remove",function(event,id,deferred){console.log("Panel #"+id+" removing"),deferred.resolve()}),$scope.$on("panel-removed",function(event,id){console.log("Panel #"+id+" removed")}),$scope.$on("panel-refresh",function(event,id){console.log("Refreshing during 3s #"+id),$timeout(function(){$scope.$broadcast("removeSpinner",id),console.log("Refreshed #"+id)},3e3)}),$scope.panels=[{id:"panelRepeat1",title:"Panel Title 1",body:"Nulla eget lorem leo, sit amet elementum lorem. "},{id:"panelRepeat2",title:"Panel Title 2",body:"Nulla eget lorem leo, sit amet elementum lorem. "},{id:"panelRepeat3",title:"Panel Title 3",body:"Nulla eget lorem leo, sit amet elementum lorem. "}]}angular.module("app.panels").controller("PanelsCtrl",PanelsCtrl),PanelsCtrl.$inject=["$scope","$timeout"]}();
"use strict";!function(){function DraggablePanelController($timeout,$localStorage){var vm=this,storageKeyName="portletState";vm.panels=[[{id:"panelPortlet1",type:"default",heading:"Panel heading",content:"Aenean pellentesque augue non eros commodo tempus. Etiam odio ante, placerat eu accumsan ut, consectetur vel mi. Praesent ac lorem justo.",footer:"Panale footer"},{id:"panelPortlet2",type:"primary",heading:"Panel heading",content:"Aenean pellentesque augue non eros commodo tempus. Etiam odio ante, placerat eu accumsan ut, consectetur vel mi. Praesent ac lorem justo.",footer:"Panale footer"},{id:"panelPortlet3",type:"success",heading:"Panel heading",content:"Aenean pellentesque augue non eros commodo tempus. Etiam odio ante, placerat eu accumsan ut, consectetur vel mi. Praesent ac lorem justo.",footer:"Panale footer"}],[{id:"panelPortlet4",type:"info",heading:"Panel heading",content:"Aenean pellentesque augue non eros commodo tempus. Etiam odio ante, placerat eu accumsan ut, consectetur vel mi. Praesent ac lorem justo.",footer:"Panale footer"},{id:"panelPortlet5",type:"warning",heading:"Panel heading",content:"Aenean pellentesque augue non eros commodo tempus. Etiam odio ante, placerat eu accumsan ut, consectetur vel mi. Praesent ac lorem justo.",footer:"Panale footer"},{id:"panelPortlet6",type:"danger",heading:"Panel heading",content:"Aenean pellentesque augue non eros commodo tempus. Etiam odio ante, placerat eu accumsan ut, consectetur vel mi. Praesent ac lorem justo.",footer:"Panale footer"}],[{id:"panelPortlet7",type:"inverse",heading:"Panel heading",content:"Aenean pellentesque augue non eros commodo tempus. Etiam odio ante, placerat eu accumsan ut, consectetur vel mi. Praesent ac lorem justo.",footer:"Panale footer"},{id:"panelPortlet8",type:"purple",heading:"Panel heading",content:"Aenean pellentesque augue non eros commodo tempus. Etiam odio ante, placerat eu accumsan ut, consectetur vel mi. Praesent ac lorem justo.",footer:"Panale footer"},{id:"panelPortlet9",type:"green",heading:"Panel heading",content:"Aenean pellentesque augue non eros commodo tempus. Etiam odio ante, placerat eu accumsan ut, consectetur vel mi. Praesent ac lorem justo.",footer:"Panale footer"}]],vm.panelList1=vm.panels[0],vm.panelList2=vm.panels[1],vm.panelList3=vm.panels[2],vm.sortablePortletOptions={connectWith:".portlet-connect",handle:".panel-heading",opacity:.7,placeholder:"portlet box-placeholder",cancel:".portlet-cancel",forcePlaceholderSize:!0,iframeFix:!1,tolerance:"pointer",helper:"original",revert:200,forceHelperSize:!0,updateOne:function(event){$timeout(function(){$localStorage[storageKeyName]=angular.toJson(vm.panels)})},create:function(event){var data=angular.fromJson($localStorage[storageKeyName]);data&&$timeout(function(){vm.panels=data,vm.panelList1=vm.panels[0],vm.panelList2=vm.panels[1],vm.panelList3=vm.panels[2]})}}}angular.module("app.panels").controller("DraggablePanelController",DraggablePanelController),DraggablePanelController.$inject=["$timeout","$localStorage"]}();
"use strict";!function(){function Controller($scope,$element,$timeout,$localStorage){var panelId=$($element).closest(".panel").attr("id"),currentState=function(id){if(!id)return!1;var data=angular.fromJson($localStorage.panelState);if(data)return data[id]}(panelId);void 0!==currentState&&$timeout(function(){$scope[panelId]=currentState},10),$element.bind("click",function(data){var id,state;data.preventDefault(),state=!$scope[id=panelId],id&&((data=(data=angular.fromJson($localStorage.panelState))||{})[id]=state,$localStorage.panelState=angular.toJson(data))})}angular.module("app.panels").directive("panelCollapse",function(){return{controller:Controller,restrict:"A",scope:!1}}),Controller.$inject=["$scope","$element","$timeout","$localStorage"]}();
"use strict";!function(){function Controller($scope,$element,$q,Utils){$element.on("click",function(e){e.preventDefault();var deferred,promise,parent=$(this).closest(".panel");function destroyMiddleware(){Utils.support.animation?parent.animo({animation:"bounceOut"},destroyPanel):destroyPanel()}function destroyPanel(){var col=parent.parent();parent.remove(),col.filter(function(){var el=$(this);return el.is('[class*="col-"]:not(.sortable)')&&0===el.children("*").length}).remove(),$scope.$emit("panel-removed",parent.attr("id"))}deferred=$q.defer(),promise=deferred.promise,$scope.$emit("panel-remove",parent.attr("id"),deferred),promise.then(destroyMiddleware)})}angular.module("app.panels").directive("panelDismiss",function(){return{controller:Controller,restrict:"A"}}),Controller.$inject=["$scope","$element","$q","Utils"]}();
"use strict";!function(){function Controller($scope,$element){$element.on("click",function(panel){panel.preventDefault();var spinner=$(this),panel=spinner.parents(".panel").eq(0),spinner=spinner.data("spinner")||"standard";panel.addClass("whirl "+spinner),$scope.$emit("panel-refresh",panel.attr("id"))}),$scope.$on("removeSpinner",function(ev,newid){if(!newid)return;newid="#"===newid.charAt(0)?newid:"#"+newid;angular.element(newid).removeClass("whirl")})}angular.module("app.panels").directive("panelRefresh",function(){return{controller:Controller,restrict:"A",scope:!1}}),Controller.$inject=["$scope","$element"]}();
"use strict";!function(){function paneltool($compile,$timeout){return{link:function(scope,element,attrs){var templates={collapse:'<a href="#" panel-collapse="" uib-tooltip="Collapse Panel" ng-click="{{panelId}} = !{{panelId}}">                         <em ng-show="{{panelId}}" class="fa fa-plus ng-no-animation"></em>                         <em ng-show="!{{panelId}}" class="fa fa-minus ng-no-animation"></em>                       </a>',dismiss:'<a href="#" panel-dismiss="" uib-tooltip="Close Panel">                       <em class="fa fa-times"></em>                     </a>',refresh:'<a href="#" panel-refresh="" data-spinner="{{spinner}}" uib-tooltip="Refresh Panel">                       <em class="fa fa-refresh"></em>                     </a>'},tools=scope.panelTools||attrs;$timeout(function(){var elem,attrs,temp;element.html((elem=element,temp="",(attrs=(attrs=tools)||{}).toolCollapse&&(temp+=templates.collapse.replace(/{{panelId}}/g,elem.parent().parent().attr("id"))),attrs.toolDismiss&&(temp+=templates.dismiss),attrs.toolRefresh&&(temp+=templates.refresh.replace(/{{spinner}}/g,attrs.toolRefresh)),temp)).show(),$compile(element.contents())(scope),element.addClass("pull-right")})},restrict:"E",scope:!1}}angular.module("app.panels").directive("paneltool",paneltool),paneltool.$inject=["$compile","$timeout"]}();
"use strict";!function(){function preloader($animate,$timeout,$q){return{restrict:"EAC",template:'<div class="preloader-progress"><div class="preloader-progress-bar" ng-style="{width: loadCounter + \'%\'}"></div></div>',link:function(scope,el){var timeout,counter=scope.loadCounter=0;angular.element("body").css("overflow","hidden"),el.addClass("preloader"),function(){var deferred=$q.defer(),viewsLoaded=0,off=scope.$on("$viewContentLoaded",function(){2===++viewsLoaded&&($timeout(function(){deferred.resolve()},3e3),off())});return deferred.promise}().then(function(){$timeout.cancel(timeout),scope.loadCounter=100,$timeout(function(){$animate.addClass(el,"preloader-hidden"),angular.element("body").css("overflow","")},300)}),timeout=$timeout(function startCounter(){var remaining=100-counter;counter+=.015*Math.pow(1-Math.sqrt(remaining),2),scope.loadCounter=parseInt(counter,10),timeout=$timeout(startCounter,20)})}}}angular.module("app.preloader").directive("preloader",preloader),preloader.$inject=["$animate","$timeout","$q"]}();
"use strict";angular.module("app.projects").config(["$stateProvider","RouteHelpersProvider",function($stateProvider,helper){$stateProvider.state("home",{url:"/home",abstract:!0,templateUrl:"modules/projects/client/views/projects.client.layout.view.html",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","toaster"),controller:"ProjectsController as vm",authorization:{allowedRoles:["report_user","admin","developer","super_admin","pslite_user"]}}).state("home.reports",{url:"/reports",templateUrl:"modules/userreports/client/views/reports.client.view.html",resolve:helper.resolveFor("datatables","angularFileUpload","taginput","inputmask","angularBootstrapNavTree","localytics.directives","ui.bootstrap-slider","ngWig","filestyle","summernote","ui.select","oitozero.ngSweetAlert"),controller:"ReportsController as vm",authorization:{allowedRoles:["report_user","admin","super_admin","developer"]}}).state("home.pslite-user",{url:"/pslite",templateUrl:"modules/userreports/client/views/pslite.client.view.html",resolve:helper.resolveFor("datatables","angularFileUpload","taginput","inputmask","angularBootstrapNavTree","localytics.directives","ui.bootstrap-slider","ngWig","filestyle","summernote","ui.select","oitozero.ngSweetAlert"),controller:"ReportsController as vm",authorization:{allowedRoles:["report_user","admin","super_admin","developer","pslite_user"]}}).state("home.projects",{url:"/projects",templateUrl:"modules/projects/client/views/projects.client.view.html",authorization:{allowedRoles:["admin","developer","super_admin"]}}).state("home.user-create",{url:"/users/create",title:"Add User",templateUrl:"modules/usermanagement/client/views/create-user.client.view.html",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),authorization:{allowedRoles:["admin","super_admin"]}}).state("home.user-view",{url:"/users",title:"User List",resolve:helper.resolveFor("angular-jqcloud","datatables","oitozero.ngSweetAlert"),templateUrl:"modules/usermanagement/client/views/list-user.client.view.html",authorization:{allowedRoles:["admin","super_admin"]}}).state("home.user-edit",{url:"/users/:userId/edit",title:"Edit User",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),templateUrl:"modules/usermanagement/client/views/edit-user.client.view.html",authorization:{allowedRoles:["admin","super_admin"]}}).state("home.settings-logger",{url:"/settings/logger",title:"Log Settings",templateUrl:"modules/settings/client/views/settings-logger.client.view.html",authorization:{allowedRoles:["admin","developer","super_admin"]}}).state("home.settings-createpscore",{url:"/settings/createpscore",title:"Create PS Core Id",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),templateUrl:"modules/settings/client/views/pscore/create-pscore.client.view.html",authorization:{allowedRoles:["admin","developer","super_admin"]}}).state("home.settings-listpscore",{url:"/settings/listpscore",title:"List PS Core Ids",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),templateUrl:"modules/settings/client/views/pscore/list-pscore.client.view.html",authorization:{allowedRoles:["admin","developer","super_admin"]}}).state("home.settings-projectinfo",{url:"/settings/projectinfo",title:"Project info",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),templateUrl:"modules/settings/client/views/pscore/projectinfo.client.view.html",authorization:{allowedRoles:["admin","developer","super_admin"]}}).state("home.settings-dbconnection",{url:"/settings/dbconnection",title:"Database connection",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),templateUrl:"modules/settings/client/views/db-connection/settings-list-db-conn.client.view.html",controller:"SettingsDbConnController as vm"}).state("home.settings-createdbconnection",{url:"/settings/dbconnection/create",title:"Create database connection",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),templateUrl:"modules/settings/client/views/db-connection/settings-create-db-conn.client.view.html",controller:"SettingsDbConnController as vm"}).state("home.settings-editdbconnection",{url:"/settings/dbconnection/:connId/edit",title:"Edit database connection",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),templateUrl:"modules/settings/client/views/db-connection/settings-edit-db-conn.client.view.html",controller:"SettingsDbConnController as vm"}).state("home.help",{url:"/help",templateUrl:"modules/help/client/views/help.client.view.html",resolve:helper.resolveFor("inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle","summernote"),controller:"HelpController as help",authorization:{allowedRoles:["report_user","admin","developer","super_admin"]}}).state("home.settings-sftpconnection",{url:"/settings/sftpconnection",title:"SFTP connection",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),templateUrl:"modules/settings/client/views/sftp-connection/settings-list-sftp-conn.client.view.html",controller:"SettingsSftpConnController as vm"}).state("home.settings-createsftpconnection",{url:"/settings/sftpconnection/create",title:"Create connection",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),templateUrl:"modules/settings/client/views/sftp-connection/settings-create-sftp-conn.client.view.html",controller:"SettingsSftpConnController as vm"}).state("home.settings-editsftpconnection",{url:"settings/sftpconnection/:connId/edit",title:"Edit SFTP Connection",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),templateUrl:"modules/settings/client/views/sftp-connection/settings-edit-sftp-conn.client.view.html",controller:"SettingsSftpConnController as vm"}).state("home.settings-scheduler",{url:"/settings/scheduler",title:"Scheduler",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),templateUrl:"modules/settings/client/views/scheduler/settings-list-scheduler.client.view.html",controller:"SettingshedulerConnController as vm"}).state("home.settings-createscheduler",{url:"/settings/scheduler/create",title:"Create Scheduler",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),templateUrl:"modules/settings/client/views/scheduler/settings-create-scheduler.client.view.html",controller:"SettingshedulerConnController as vm"}).state("home.settings-editscheduler",{url:"/settings/scheduler/:connId/edit",title:"Edit Scheduler",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),templateUrl:"modules/settings/client/views/scheduler/settings-edit-scheduler.client.view.html",controller:"SettingshedulerConnController as vm"}).state("home.settings-modeldeployment",{url:"/settings/modeldeployment",title:"Model deployment",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),templateUrl:"modules/settings/client/views/model-deployment/model-deployment-settings.client.html",controller:"SetiingsGeneralController as vm"}).state("home.usecase",{url:"/usecase",controller:"UsecaseController as vm",templateUrl:"modules/usecases/client/views/usecase.client.view.html",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert"),authorization:{allowedRoles:["super_admin"]}}).state("home.usecase.usecase-list",{url:"/usecase/list",templateUrl:"modules/usecases/client/views/usecase-list.client.view.html",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert"),controller:"UsecaseController as vm",authorization:{allowedRoles:["super_admin"]}}).state("home.usecase-create",{url:"/usecase/create",templateUrl:"modules/usecases/client/views/usecase-create.client.view.html",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),controller:"UsecaseController as vm",authorization:{allowedRoles:["super_admin"]}}).state("home.usecase-edit",{url:"usecase/:usecaseId/edit",title:"Edit Usecase",templateUrl:"modules/usecases/client/views/usecase-edit.client.view.html",controller:"UsecaseController as vm",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert"),authorization:{allowedRoles:["super_admin"]}}).state("home.usecase.domain-list",{url:"/domain/list",title:"List Domain",templateUrl:"modules/usecases/client/views/domain-list.client.view.html",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert"),controller:"DomainController as vm",authorization:{allowedRoles:["super_admin"]}}).state("home.domain-create",{url:"/domain/create",title:"Create Domain",templateUrl:"modules/usecases/client/views/domain-create.client.view.html",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert"),controller:"DomainController as vm",authorization:{allowedRoles:["super_admin"]}}).state("home.domain-edit",{url:"domain/:domianId/edit",title:"Edit Domain",templateUrl:"modules/usecases/client/views/domain-edit.client.view.html",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert"),controller:"DomainController as vm",authorization:{allowedRoles:["super_admin"]}}).state("home.settings-uploadmodel",{url:"/settings/uploadmodel",title:"Upload Model",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),templateUrl:"modules/settings/client/views/upload-model/upload-model-settings.client.html",controller:"SetiingsGeneralController as vm"})}]);
"use strict";!function(){function ProjectsController($state,$scope,Project,$rootScope,ProjectCore,SweetAlert,$location,Authentication,$uibModal,Socket,FileUploader,toaster,TooltipData,PsCoreConfig,$http,$sce){var vm=this;vm.viewBy="5",vm.noOfRecords=["3","5","10","15","20"],vm.currentPage=1,vm.maxSize=3,vm.itemsPerPage=vm.viewBy,vm.showOverlay=!0,vm.toggelProjectBox=!1,vm.type="predictive_modeling",vm.loaderText="Loading...",ProjectCore.getProject()&&Socket.emit("leave",ProjectCore.getProject()),(vm.authentication=Authentication).user.layout&&($scope.app.layout.theme=Authentication.user.layout.theme),vm.avatarChar=function(initials){initials=initials.match(/\b\w/g)||[];return((initials.shift()||"")+(initials.pop()||"")).toUpperCase()},vm.findMachineDetails=function(){PsCoreConfig.psCoreConfigs.query().$promise.then(function(list){vm.psScoreMachines=list,vm.psScoreMachines.length&&(ProjectCore.setGPUDetails(vm.psScoreMachines[0].isGpuAvailable),vm.isGpuAvailable=vm.psScoreMachines[0].isGpuAvailable)},function(err){})},vm.onUseGpuOptionChange=function(project){new Project.myProject({useGPU:project.useGPU}).$update({projectId:project._id}).then(function(resp){project.useGPU=resp.useGPU,getProjects(),modalInstance.close(modalScope.selected)},function(err){})},$scope.g_init=function(){var googleCode=$("meta[name='GA']").attr("content"),tempUser=Authentication.user._id.slice(0,-3);ga("create",googleCode,{clientId:tempUser}),ga("set","dimension1",tempUser),ga("set","page",$location.path())},$scope.g_init(),vm.findMachineDetails(),vm.getToolTipData=function(tooltip){return TooltipData.getTootipInfo(tooltip)[0]},vm.deleteProject=function(project){SweetAlert.swal({title:"Are you sure?",text:"You will not be able to recover this project",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete!",closeOnConfirm:!0},function(isConfirm){isConfirm&&project.$remove().then(function(success){ProjectCore.clearProject(),ga("send","event","Projects","Project Deleted",!0),vm.projectsList.splice(vm.projectsList.indexOf(project),1),vm.currentPage=1,getProjects()},function(err){})})},vm.copyProjectId=function(project){ProjectCore.copyProjectId(project._id)?toaster.pop("success",$scope.app.name,"Project Id is copied to clipboard!",3e3):toaster.pop("error",$scope.app.name,"Could not copy project Id!",3e3)},vm.exportProject=function(project){vm.downloadData=null,vm.downloadingProject=project,Socket.socket||Socket.connect(),Socket.emit("joinNoProject");var modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"downloadPopup.html",size:"lg",scope:modalScope,backdrop:"static"});modalScope.cancel=function(){modalInstance.close(modalScope.selected),Socket.emit("leaveNoProject")},modalScope.genDownloadLink=function(){vm.downloadContent='<h4 class="text-center"><i class="fa fa-cog fa-spin"></i> Preparing to export the project.</h4>',$http.get("/api/projects/"+project._id+"/export").then(function(res){vm.downloadContent='<h4 class="text-center"><i class="fa fa-cog fa-spin"></i> Please wait, project download link will appear soon.</h4>'},function(err){vm.downloadContent='<h4 class="text-center">Server error, please try again.</h4>'})},modalScope.genDownloadLink()},vm.downloadFile=function(){var url="/api/projects/"+vm.downloadingProject._id+"/download";window.open(url)};vm.uploader=new FileUploader({url:"/api/project/import?uploadType=importProject",removeAfterUpload:!0});function getProjects(){Project.myProject.query(function(res){vm.showOverlay=!1,vm.allProjectsList=res,vm.allProjectsList.sort(function(a,b){return new Date(b.createdAt)-new Date(a.createdAt)}),vm.projectsList=vm.allProjectsList.slice((vm.currentPage-1)*vm.itemsPerPage,vm.currentPage*vm.itemsPerPage),vm.uptoLength=vm.projectsList.length})}vm.uploadProject=function(){vm.showOverlay=!0,vm.loaderText="Setting up the project, please wait.",vm.uploader.queue[0].upload()},vm.openProject=function(project){vm.showOverlay=!0,vm.loaderText="Initializing the project, please wait.",ProjectCore.setProject(project),$state.go("app.dash")},vm.openEditProject=function(project){vm.updateProjectName=project.name,vm.updateProjectDesciption=project.projectDescription;var modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"editProjectModelContent.html",size:"md",scope:modalScope});modalScope.cancel=function(){modalInstance.close(modalScope.selected)},modalScope.updateProjectDetails=function(newProjectName){newProjectName=newProjectName.trim();newProjectName&&new Project.myProject({name:newProjectName,projectDescription:vm.updateProjectDesciption}).$update({projectId:project._id}).then(function(resp){project.name=resp.name,getProjects(),modalInstance.close(modalScope.selected)},function(err){})}},vm.setItemsPerPage=function(num){vm.uptoLength=vm.projectsList.length,vm.itemsPerPage=num,vm.currentPage=1,getProjects()},vm.pageChanged=function(){vm.projectsList=vm.allProjectsList.slice((vm.currentPage-1)*vm.itemsPerPage,vm.currentPage*vm.itemsPerPage),vm.currentPage*vm.itemsPerPage===vm.allProjectsList.length||vm.currentPage*vm.itemsPerPage<=vm.allProjectsList.length?vm.uptoLength=vm.currentPage*vm.itemsPerPage:vm.uptoLength=vm.allProjectsList.length},vm.search=function(searchString){vm.projectsList=searchString?vm.allProjectsList:vm.allProjectsList.slice((vm.currentPage-1)*vm.itemsPerPage,vm.currentPage*vm.itemsPerPage)},vm.closeNav=function(){document.getElementById("mySidenav").style.width="0px"},vm.openChatBox=function(project){document.getElementById("myForm").style.display="block",vm.selectedProjectName=project.name,vm.messages=[],vm.sendAs=Authentication.user._id,vm.messages=Project.chat.query({projectId:project._id}),vm.sendMessage=function(message){var chat=new Project.chat({message:vm.newMessage,displayName:Authentication.user.displayName});chat.$save({projectId:project._id},function(response){vm.messages.push(chat)},function(errorResponse){vm.showOverlay=!1,vm.error=errorResponse.data.message,toaster.pop("error",$scope.app.name,"Please Enter unique project name",3e3)}),vm.newMessage=null,setTimeout(function(){var chatW=document.getElementById("chatWindow");chatW.scrollTo(0,chatW.scrollHeight)},400)}},vm.closeForm=function(){document.getElementById("myForm").style.display="none"},vm.openProjectManangement=function(size,projectType){var modalInstance,modalScope=$scope.$new();modalScope.selectType=projectType,modalInstance=$uibModal.open({templateUrl:"projectManangementModel.html",size:"md",scope:modalScope}),modalScope.cancel=function(){modalInstance.close(modalScope.selected)},vm.uploader.onCompleteItem=function(fileItem,response,status,headers){getProjects(),vm.showOverlay=!1,toaster.pop("success",$scope.app.name,"Project imported sucessfully",3e3),modalInstance.close(modalScope.selected)},vm.createProject=function(){if(modalScope.cancel(),vm.showOverlay=!0,vm.loaderText="Creating project, please wait.",!vm.projectName)return vm.showOverlay=!1,!(vm.noProjectName=!0);new Project.myProject({name:vm.projectName,type:vm.type,projectDescription:vm.projectDesciption,useGPU:vm.useGPU}).$save(function(response){ga("send","event","Projects","Project Config Created",!0),ProjectCore.setProject(response),$state.go("app.dash")},function(errorResponse){vm.showOverlay=!1,toaster.pop("error",$scope.app.name,errorResponse.data.message,3e3)})}},vm.openSharingModal=function(project){var modalInstance,projectData=project,modalScope=$scope.$new();vm.sharedProjectName=project.name,modalScope.cancel=function(){modalInstance.close(modalScope.selected)},modalInstance=$uibModal.open({templateUrl:"shareProject.html",size:"md",scope:modalScope}),modalScope.shareProject=function(){new Project.shareProject({email:vm.email}).$save({projectId:projectData._id},function(response){toaster.pop("success",$scope.app.name,"Project shared sucessfully",3e3),modalScope.cancel()},function(errorResponse){vm.error=errorResponse.data.message,toaster.pop("error",$scope.app.name,"Could not find any user with that email!.",3e3)})}},vm.daysLeft;var licInfoText=null;vm.licenseDetailsInit=function(){$http.get("/api/project/licenseInfo").success(function(response){var licExpData=moment(response.expDate).format("MMMM Do YYYY"),licActData=moment(response.actDate).format("MMMM Do YYYY"),limits=response.limits;licInfoText=["Expiry Date : "+licExpData,"Activation Date : "+licActData,"Project Limit : "+limits.projectLimit+" Projects","Training Limit : "+limits.trainingLimit+" Trainings"],vm.daysLeft=Math.abs(moment().diff(response.expDate,"days"))}).error(function(response){vm.licData="func not working"})},vm.showLicInfo=function(){SweetAlert.swal({title:"License Information",text:licInfoText.join("\n\n"),type:"info"})},Socket.on("downloadLink",function(data){vm.downloadData=data,vm.downloadContent=$sce.trustAsHtml("<div></div>")}),getProjects()}angular.module("app.projects").controller("ProjectsController",ProjectsController),ProjectsController.$inject=["$state","$scope","Project","$rootScope","ProjectCore","SweetAlert","$location","Authentication","$uibModal","Socket","FileUploader","toaster","TooltipData","PsCoreConfig","$http","$sce"]}(),angular.module("app.projects").filter("displayType",function(){return function(type){return"timeseries"==type?"Timeseries":"predictive_modeling"==type?"Predictive Modeling":"Clustering"}}),angular.module("app.projects").filter("getFileName",function(){return function(filename){return filename.substr(0,filename.lastIndexOf("."))}});
"use strict";angular.module("app.projects").factory("ProjectCore",[function(){var factory={setProject:function(project){window.localStorage.project=JSON.stringify(project)},getProject:function(){return angular.fromJson(window.localStorage.project)},clearProject:function(){delete window.localStorage.project},setGPUDetails:function(isGPUAvailable){window.localStorage.isGPUAvailable=isGPUAvailable},getGPUDetails:function(){return window.localStorage.isGPUAvailable},copyProjectId:function(projectId){try{var textArea=document.createElement("textarea");return textArea.value=projectId,textArea.style.top="0",textArea.style.left="0",textArea.style.position="fixed",document.body.appendChild(textArea),textArea.focus(),textArea.select(),document.execCommand("copy"),!0}catch(err){return!1}}};return factory}]);
"use strict";angular.module("app.projects").factory("Project",["$resource",function($resource){return this.myProject=$resource("api/projects/:projectId",{projectId:"@_id"},{update:{method:"PUT"}}),this.readUploadedData=$resource("/api/projects/:projectId/data/read",{projectId:"@pid"}),this.getFileEncodings=["utf_8","latin_1"],this.shareProject=$resource("/api/projects/:projectId/share",{projectId:"@pid"},{update:{method:"PUT"}}),this.chat=$resource("/api/projects/:projectId/discuss",{projectId:"@pid"},{update:{method:"PUT"}}),this}]);
"use strict";!function(){function RouteHelpersProvider(APP_REQUIRES){return{basepath:basepath,resolveFor:resolveFor,$get:function(){return{basepath:basepath,resolveFor:resolveFor}}};function basepath(uri){return"app/views/"+uri}function resolveFor(){var _args=arguments;return{deps:["$ocLazyLoad","$q",function($ocLL,$q){for(var promise=$q.when(1),i=0,len=_args.length;i<len;i++)promise=function(_arg){return"function"==typeof _arg?promise.then(_arg):promise.then(function(){var whatToLoad=function(name){if(APP_REQUIRES.modules)for(var m in APP_REQUIRES.modules)if(APP_REQUIRES.modules[m].name&&APP_REQUIRES.modules[m].name===name)return APP_REQUIRES.modules[m];return APP_REQUIRES.scripts&&APP_REQUIRES.scripts[name]}(_arg);return whatToLoad?$ocLL.load(whatToLoad):$.error("Route resolve: Bad resource name ["+_arg+"]")})}(_args[i]);return promise}]}}}angular.module("app.routes").provider("RouteHelpers",RouteHelpersProvider),RouteHelpersProvider.$inject=["APP_REQUIRES"]}();
"use strict";
"use strict";!function(){function appRoutes($stateProvider,helper){$stateProvider.state("app.settings-logger",{url:"settings/logger",title:"Log Settings",templateUrl:"modules/settings/client/views/settings-logger.client.view.html",authorization:{allowedRoles:["admin","developer","super_admin"]}}).state("app.settings-createpscore",{url:"settings/createpscore",title:"Create PS Core Id",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),templateUrl:"modules/settings/client/views/pscore/create-pscore.client.view.html",authorization:{allowedRoles:["admin","developer","super_admin"]}}).state("app.settings-listpscore",{url:"settings/listpscore",title:"List PS Core Ids",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),templateUrl:"modules/settings/client/views/pscore/list-pscore.client.view.html",authorization:{allowedRoles:["admin","developer","super_admin"]}}).state("app.settings-projectinfo",{url:"settings/projectinfo",title:"Project info",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),templateUrl:"modules/settings/client/views/pscore/projectinfo.client.view.html",authorization:{allowedRoles:["admin","developer","super_admin"]}}).state("app.settings-dbconnection",{url:"settings/dbconnection",title:"Database connection",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),templateUrl:"modules/settings/client/views/db-connection/settings-list-db-conn.client.view.html",controller:"SettingsDbConnController as vm"}).state("app.settings-createdbconnection",{url:"settings/dbconnection/create",title:"Create database connection",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),templateUrl:"modules/settings/client/views/db-connection/settings-create-db-conn.client.view.html",controller:"SettingsDbConnController as vm"}).state("app.settings-editdbconnection",{url:"settings/dbconnection/:connId/edit",title:"Edit database connection",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),templateUrl:"modules/settings/client/views/db-connection/settings-edit-db-conn.client.view.html",controller:"SettingsDbConnController as vm"}).state("app.settings-modeldeployment",{url:"settings/model-deployment",title:"Model Deployment",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),templateUrl:"modules/settings/client/views/db-connection/settings-list-db-conn.client.view.html",controller:"SetiingsGeneralController as vm"}).state("app.settings-createsftpconnection",{url:"settings/sftpconnection/create",title:"Create Connection",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),templateUrl:"modules/settings/client/views/sftp-connection/settings-create-sftp-conn.client.view.html",controller:"SettingsSftpConnController as vm"}).state("app.settings-editsftpconnection",{url:"settings/sftpconnection/:connId/edit",title:"Edit SFTP Connection",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),templateUrl:"modules/settings/client/views/sftp-connection/settings-edit-sftp-conn.client.view.html",controller:"SettingsSftpConnController as vm"}).state("app.settings-scheduler",{url:"settings/scheduler",title:"Scheduler",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),templateUrl:"modules/settings/client/views/scheduler/settings-list-scheduler.client.view.html",controller:"SettingshedulerConnController as vm"}).state("app.settings-editscheduler",{url:"settings/scheduler/:connId/edit",title:"Edit Scheduler",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),templateUrl:"modules/settings/client/views/scheduler/settings-edit-scheduler.client.view.html",controller:"SettingshedulerConnController as vm"})}angular.module("app.settings").config(appRoutes),appRoutes.$inject=["$stateProvider","RouteHelpersProvider"]}();
"use strict";!function(){function settingsRun($rootScope,$localStorage){$rootScope.user={name:"John",job:"ng-developer",picture:"img/user/02.jpg"},$rootScope.toggleUserBlock=function(){$rootScope.$broadcast("toggleUserBlock")},$rootScope.app={name:"PredictSense",description:"Predict Sense",version:"3.6.0",year:(new Date).getFullYear(),layout:{isFixed:!0,isCollapsed:!1,isBoxed:!1,isRTL:!1,horizontal:!1,isFloat:!1,asideHover:!1,theme:"themes/theme-w.css",asideScrollbar:!1,isCollapsedText:!0},useFullLayout:!1,hiddenFooter:!1,offsidebarOpen:!1,asideToggled:!1,viewAnimation:"ng-fadeInUp"},$rootScope.$watch("app.layout.isCollapsed",function(newValue){!1===newValue&&$rootScope.$broadcast("closeSidebarMenu")})}angular.module("app.settings").run(settingsRun),settingsRun.$inject=["$rootScope","$localStorage"]}();
"use strict";angular.module("app.settings").controller("PsCoreConfigController",["$scope","toaster","PsCoreConfig","SweetAlert","ProjectCore",function($scope,toaster,PsCoreConfig,SweetAlert,ProjectCore){$scope.psScoreData=null,$scope.psScoreMachines=null,$scope.find=function(){PsCoreConfig.psCore.query().$promise.then(function(list){$scope.psScoreMachines=list},function(err){})},$scope.project=ProjectCore.getProject(),$scope.delete=function(config){SweetAlert.swal({title:"Are you sure?",text:"You will not be able to recover this project",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete!",closeOnConfirm:!0},function(isConfirm){isConfirm&&config.$remove({pscoreConfigId:config._id}).then(function(success){$scope.find(),ga("send","event","PSCore Config","PSCore config deleted",!0)},function(err){toaster.pop("error",$scope.app.name,err.statusText,3e3)})})},$scope.createPsScore=function(){PsCoreConfig.psCore.save({machineName:$scope.machineName}).$promise.then(function(resp){$scope.psScoreData=resp},function(err){toaster.pop("error",$scope.app.name,"Couldn't save pscore config, "+err.statusText,3e3)})}}]);
"use strict";angular.module("app.settings").controller("SettingshedulerConnController",["$scope","$state","toaster","SchedulerService","$stateParams","Authentication","SchedulerPlayService",function($scope,$state,toaster,SchedulerService,$stateParams,Authentication,SchedulerPlayService){var vm=this;function generateDynamicArray(start,end){for(var arr=[],i=start;i<=end;i++)arr.push(i);return arr}function createJobRule(dbConn){var minValue="*",hourValue="*",dayValue="*",weekDayValue="*",recurType=dbConn.recurType;return"Minute"==recurType?minValue="*/"+dbConn.recurValue:"Hour"==recurType?(minValue="0",hourValue="*/"+dbConn.recurValue):"Day"==recurType?(minValue=dbConn.recurTimeMinute,hourValue=dbConn.recurTimeHour,dayValue="*/"+dbConn.recurValue):"Week"==recurType&&(minValue=dbConn.recurTimeMinute,hourValue=dbConn.recurTimeHour,weekDayValue=dbConn.recurValue.slice(0,3)),minValue+" "+hourValue+" "+dayValue+" * "+weekDayValue}vm.dbConn={},vm.authentication=Authentication,vm.testConnection=function(dbConn){vm.connectionStatus="Testing the connection details...",SchedulerService.testConnection.save(dbConn).$promise.then(function(res){vm.connStatus=res.status,vm.connectionStatus=res.message},function(err){vm.connStatus="error",vm.connectionStatus="Could not check the connection details, please try again."})},vm.recurTypeChange=function(recurType){switch(vm.recurValue=[],recurType){case"Minute":vm.recurValue=generateDynamicArray(1,59),vm.dbConn.recurValue=vm.recurValue[0].toString();break;case"Hour":vm.recurValue=generateDynamicArray(1,23),vm.dbConn.recurValue=vm.recurValue[0].toString();break;case"Day":vm.recurValue=generateDynamicArray(1,31),vm.dbConn.recurValue=vm.recurValue[0].toString(),vm.recurTimeMinutes=generateDynamicArray(0,59),vm.dbConn.recurTimeMinute=vm.recurTimeMinutes[0].toString(),vm.recurTimeHours=generateDynamicArray(0,23),vm.dbConn.recurTimeHour=vm.recurTimeHours[0].toString();break;case"Week":vm.recurValue=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var d=new Date;vm.dbConn.recurValue=vm.recurValue[d.getDay()],vm.recurTimeMinutes=generateDynamicArray(0,59),vm.dbConn.recurTimeMinute=vm.recurTimeMinutes[0].toString(),vm.recurTimeHours=generateDynamicArray(0,23),vm.dbConn.recurTimeHour=vm.recurTimeHours[0].toString()}},vm.createDbConn=function(dbConn){dbConn.rule=createJobRule(dbConn);var scheduleDate=moment(dbConn.scheduleDate).format("YYYY-MM-DD"),scheduleTime=moment(dbConn.scheduleTime).format("HH:mm");dbConn.scheduleStartTime=moment(scheduleDate+" "+scheduleTime),SchedulerService.settings.save(dbConn).$promise.then(function(res){$state.go("home.settings-scheduler")},function(err){toaster.pop("error",$scope.app.name,"Oops!, could not save the settings!.",3e3)})},vm.find=function(){SchedulerService.setting.query().$promise.then(function(dbconn){vm.dbConns=dbconn})},vm.deleteDbConn=function(dbconn){dbconn.$remove(function(res){vm.find(),toaster.pop("success",$scope.app.name,"Scheduler deleted successfully.",3e3)},function(err){toaster.pop("error",$scope.app.name,"Oops!, could not delete the scheduler!.",3e3)})},vm.findDbConn=function(){SchedulerService.setting.get({connId:$stateParams.connId}).$promise.then(function(dbConn){vm.recurTypeChange(dbConn.recurType),vm.dbConn=dbConn,vm.dbConn.scheduleDate=new Date(moment(dbConn.scheduleDate).format("L")),vm.dbConn.scheduleTime=new Date(moment(dbConn.scheduleTime))})},vm.updateDbConn=function(dbConn){var scheduleDate=moment(dbConn.scheduleDate).format("YYYY-MM-DD"),scheduleTime=moment(dbConn.scheduleTime).format("HH:mm");dbConn.scheduleStartTime=moment(scheduleDate+" "+scheduleTime),dbConn.rule=createJobRule(dbConn),dbConn.$update(function(res){$state.go("home.settings-scheduler")},function(err){toaster.pop("error",$scope.app.name,"Oops!, could not save the scheduler!.",3e3)})},vm.pauseDbConn=function(schedulerConn){SchedulerPlayService.schedulerPause.query({id:schedulerConn._id}).$promise.then(function(res){vm.find(),toaster.pop("success",$scope.app.name,"Scheduler Stopped successfully.",3e3)},function(err){toaster.pop("error",$scope.app.name,"Oops!, could not stop the scheduler!.",3e3)})},vm.playDbConn=function(schedulerConn){SchedulerPlayService.schedulerPlay.query({id:schedulerConn._id}).$promise.then(function(res){vm.find(),toaster.pop("success",$scope.app.name,"Scheduler Started successfully.",3e3)},function(err){toaster.pop("error",$scope.app.name,"Oops!, could not start the scheduler!.",3e3)})}}]);
"use strict";angular.module("app.settings").controller("SettingsDbConnController",["$scope","$state","toaster","DBConnService","$stateParams",function($scope,$state,toaster,DBConnService,$stateParams){var vm=this;vm.dataSources=[{name:"MSSQL",value:"mssql",type:"sql"},{name:"MySQL",value:"mysql",type:"sql"},{name:"PostgreSQL",value:"postgresql",type:"sql"}],vm.testConnection=function(dbConn){vm.connectionStatus="Testing the connection details...",DBConnService.testConnection.save(dbConn).$promise.then(function(res){vm.connStatus=res.status,vm.connectionStatus=res.message},function(err){vm.connStatus="error",vm.connectionStatus="Could not check the connection details, please try again."})},vm.createDbConn=function(dbConn){DBConnService.settings.save(dbConn).$promise.then(function(res){$state.go("home.settings-dbconnection")},function(err){toaster.pop("error",$scope.app.name,"Oops!, could not save the settings!.",3e3)})},vm.find=function(){DBConnService.setting.query().$promise.then(function(dbConns){vm.dbConns=dbConns})},vm.deleteDbConn=function(dbconn){dbconn.$remove(function(res){vm.find(),toaster.pop("success",$scope.app.name," Database connection deleted successfully..",3e3)},function(err){toaster.pop("error",$scope.app.name,"Oops!, could not delete the database connection!.",3e3)})},vm.findDbConn=function(){DBConnService.setting.get({connId:$stateParams.connId}).$promise.then(function(dbConn){vm.dbConn=dbConn,delete vm.dbConn.password})},vm.updateDbConn=function(dbConn){dbConn.$update(function(res){$state.go("home.settings-dbconnection")},function(err){toaster.pop("error",$scope.app.name,"Oops!, could not save the settings!.",3e3)})}}]);
"use strict";angular.module("app.settings").controller("SetiingsGeneralController",["$scope","toaster","GeneralSettings","SweetAlert","ProjectCore","$uibModal","FileUploader","$http",function($scope,toaster,GeneralSettings,SweetAlert,ProjectCore,$uibModal,FileUploader,$http){var vm=this;vm.uploadFileSize=500,vm.showOverlay=!0,vm.taskTypeList=[{taskName:"NER",taskValue:"ner"},{taskName:"POS Tagging",taskValue:"pos"},{taskName:"Rule Based Match",taskValue:"ruleBased"}],vm.find=function(){vm.showOverlay=!0,(new GeneralSettings.settings.query).$promise.then(function(list){vm.modelDeploymentValues=list,vm.showOverlay=!1},function(err){toaster.pop("error",$scope.app.name,err.statusText,3e3),vm.showOverlay=!1})},vm.gettaModelsList=function(){vm.showOverlay=!0,(new GeneralSettings.taModel.query).$promise.then(function(taModelList){vm.taModelList=taModelList,vm.showOverlay=!1},function(err){toaster.pop("error",$scope.app.name,err.statusText,3e3),vm.showOverlay=!1})},vm.addHost=function(size){var modalInstance;vm.heading="New Host",vm.btnTxt="Create Host",modalInstance=$uibModal.open({templateUrl:"hostInfo.html",size:"md",scope:$scope}),$scope.cancel=function(){modalInstance.close()},vm.saveHost=function(settings){vm.showOverlay=!0;settings={hostName:settings.hostName,url:settings.url,type:"model-deployment",settingId:settings._id};new GeneralSettings.settings.save(settings).$promise.then(function(res){toaster.pop("success",$scope.app.name,"Host configuration saved successfully.",3e3),vm.find(),modalInstance.close(),vm.showOverlay=!1,vm.modelDeployment.hostName="",vm.modelDeployment.url=""},function(err){toaster.pop("error",$scope.app.name,"Host name or Url already exists!.",3e3),modalInstance.close(),vm.showOverlay=!1,vm.modelDeployment.hostName="",vm.modelDeployment.url=""})}},$scope.project=ProjectCore.getProject(),vm.userAction=function(mySettings){"Create Host"===vm.btnTxt?vm.saveHost(mySettings):vm.editHost(mySettings)},vm.remove=function(host){vm.showOverlay=!0,new GeneralSettings.updateSettings.remove({settingId:host._id}).$promise.then(function(res){toaster.pop("success",$scope.app.name,"Host configuration deleted completely.",3e3),vm.find(),vm.showOverlay=!1},function(err){toaster.pop("error",$scope.app.name,"Oops!, could not delete the host configuration!.",3e3),vm.showOverlay=!1})},vm.edit=function(host,size){var modalInstance;vm.modelDeployment=host,vm.heading="Edit Host",vm.btnTxt="Save Host",modalInstance=$uibModal.open({templateUrl:"hostInfo.html",size:"md",scope:$scope}),$scope.cancel=function(){modalInstance.close()},vm.editHost=function(settings){vm.showOverlay=!0;settings={hostName:settings.hostName,url:settings.url,settingId:host._id};new GeneralSettings.updateSettings.update(settings).$promise.then(function(res){toaster.pop("success",$scope.app.name,"Host configuration Updated successfully.",3e3),vm.find(),modalInstance.close(),vm.showOverlay=!1,vm.modelDeployment.hostName="",vm.modelDeployment.url=""},function(err){toaster.pop("error",$scope.app.name,"Oops!, could not update the host configuration!.",3e3),modalInstance.close(),vm.showOverlay=!1,vm.modelDeployment.hostName="",vm.modelDeployment.url=""})}},function(){vm.setUrlOption={url:"/api/v2/upload/model"},vm.upload=new FileUploader({removeAfterUpload:!0}),vm.upload.filters.push({name:"fileTypeChecker",fn:function(temp){var type=null;return type=temp.type?"|"+temp.type.slice(temp.type.lastIndexOf("/")+1)+"|":(temp=temp.name.split("."))[temp.length-1],-1!=="|zip|x-zip-compressed|".indexOf(type)}}),vm.upload.filters.push({name:"maxFileSizeChecker",fn:function(item){return item.size<=1024*vm.uploadFileSize*1024}}),vm.upload.onWhenAddingFileFailed=function(item,filter,options){"maxFileSizeChecker"==filter.name?toaster.pop("error",$scope.app.name,"Max file size supported for this instance is "+vm.uploadFileSize+"MB",3e3):"fileTypeChecker"==filter.name?toaster.pop("error",$scope.app.name,"Supported file type is CSV",3e3):toaster.pop("error",$scope.app.name,"Failed to upload",3e3)};var setTaModelDefaults=function(){vm.taModel={uploadUrl:null,selectedFrameWork:null,selectedTaskType:null}};vm.uploadTaModel=function(){var modalInstance,modalScope=$scope.$new();vm.uploadType="fileUpload",setTaModelDefaults(),modalInstance=$uibModal.open({templateUrl:"uploadTaModelPopup.html",size:"lg",scope:modalScope}),modalScope.cancel=function(){modalInstance.close()},modalScope.uploadFromComp=function(){vm.uploadType="fileUpload",setTaModelDefaults(),document.getElementById("uploadFromUrl").classList.remove("active"),document.getElementById("uploadFromComp").classList.add("active")},modalScope.uploadFromUrl=function(){vm.uploadType="urlUpload",setTaModelDefaults(),document.getElementById("uploadFromComp").classList.remove("active"),document.getElementById("uploadFromUrl").classList.add("active")},modalScope.taModelUpload=function(modelInfo){var reqObject;null!=modelInfo.selectedFrameWork?modelInfo.uploadUrl?(vm.loaderText="Please wait, downloading model",vm.showOverlay=!0,modalInstance.close(modalScope.selected),reqObject={method:"POST",url:"/api/v2/upload/model"},modelInfo.selectedTaskType?reqObject.data={uploadUrl:modelInfo.uploadUrl,modelName:modelInfo.modelName,frameWork:modelInfo.selectedFrameWork,taskType:modelInfo.selectedTaskType}:reqObject.data={uploadUrl:modelInfo.uploadUrl,modelName:modelInfo.modelName,frameWork:modelInfo.selectedFrameWork},$http(reqObject).then(function(res){vm.showOverlay=!1,modalInstance.close(modalScope.selected),vm.gettaModelsList(),toaster.pop("success",$scope.app.name,"Model Downloaded Successfully!",3e3)},function(err){vm.showOverlay=!1,modalInstance.close(modalScope.selected),toaster.pop("error",$scope.app.name,"Only Zip(.zip) file is Supported!",3e3)})):(vm.loaderText="Please wait, Uploading model...",vm.showOverlay=!0,modalInstance.close(modalScope.selected),function(upload,modelInfo,callback){upload.queue[0]&&(upload.onBeforeUploadItem=function(fileItem){modelInfo.selectedTaskType?fileItem.url="/api/v2/upload/model?frameWork="+modelInfo.selectedFrameWork+"&taskType="+modelInfo.selectedTaskType:fileItem.url="/api/v2/upload/model?frameWork="+modelInfo.selectedFrameWork},upload.queue[0].upload(),upload.onCompleteItem=function(fileItem,response,status,headers){var fileElement=angular.element("#modelFile");if(angular.element(fileElement).val(null),$scope.$apply(),400==status)return vm.showOverlay=!1,toaster.pop("error",$scope.app.name,response,3e3),callback({error:"Model Upload Failed!"},null),0;upload.queue.length=0,vm.showOverlay=!1,callback(null,{message:"Model Uploaded Successfully!"})})}(vm.upload,modelInfo,function(err,data){err?(vm.showOverlay=!1,vm.upload.queue.length=0,modalInstance.close(modalScope.selected)):(modalInstance.close(modalScope.selected),vm.gettaModelsList(),toaster.pop("success",$scope.app.name,"Model Uploaded Successfully!",3e3))})):toaster.pop("error",$scope.app.name,"please select proper values.",3e3)}}}(),vm.deleteTaModel=function(modelVal){vm.showOverlay=!0,vm.loaderText="Please wait, deleting model",new GeneralSettings.taModel.remove({modelId:modelVal._id}).$promise.then(function(){toaster.pop("success",$scope.app.name,"Model deleted completely.",3e3),vm.gettaModelsList(),vm.showOverlay=!1},function(err){toaster.pop("error",$scope.app.name,err.statusText,3e3),vm.showOverlay=!1})},vm.downloadTaModel=function(modelVal){vm.showOverlay=!0,vm.loaderText="Please wait, downloading model",new GeneralSettings.downloadTaModel.get({taModelId:modelVal._id}).$promise.then(function(res){vm.showOverlay=!1},function(err){console.log(err),vm.showOverlay=!1})}}]);
"use strict";angular.module("app.settings").controller("SettingsLoggerController",["$scope","toaster","Logger","PsCoreConfig",function($scope,toaster,Logger,PsCoreConfig){$scope.psScoreData=null,$scope.PsCoreExportOptions={},$scope.loggerSettings={},$scope.exportOptions={},$scope.OSExportOptions={},$scope.OSExportOptions.order="desc",$scope.prettify=!0;$scope.exportOptions={startDate:moment().subtract(1,"days").startOf("day"),endDate:moment().endOf("day")},$scope.OSExportOptions={startDate:moment().subtract(1,"days").startOf("day"),endDate:moment().endOf("day")},$scope.opts={applyClass:"btn-green",timePicker:!0,locale:{applyLabel:"Apply",fromLabel:"From",format:"MM/DD/YYYY h:mm A",toLabel:"To",cancelLabel:"Cancel",customRangeLabel:"Custom range"},ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days").startOf("day"),moment().subtract(1,"days").endOf("day")],"Last 7 Days":[moment().subtract(6,"days").startOf("day"),moment().endOf("day")],"Last 30 Days":[moment().subtract(29,"days").startOf("day"),moment().endOf("day")]}},$scope.fetchPsCoreMachines=function(){PsCoreConfig.psCore.query().$promise.then(function(list){$scope.machines=list},function(err){})},$scope.exportLogs=function(isValid){if($scope.error=null,!isValid)return $scope.$broadcast("show-errors-check-validity","exportLogForm"),!1;toaster.pop("wait",$scope.app.name,"Exporting system Log...",3e3),Logger.logs.export({exportOptions:$scope.exportOptions}).$promise.then(function(a){a=$scope.prettify?JSON.stringify(a,null,4):JSON.stringify(a);var e,blob=new Blob([a],{type:"text/json"});window.navigator&&window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(blob):(e=document.createEvent("MouseEvents"),(a=document.createElement("a")).download="PredictSense.log",a.href=window.URL.createObjectURL(blob),a.dataset.downloadurl=["text/json",a.download,a.href].join(":"),e.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(e))},function(err){toaster.pop("error",$scope.app.name,"Problem exporting log. "+err.statusText,3e3)})},$scope.exportRouteAccessLogs=function(){Logger.routeAccessLogs.export().$promise.then(function(a){a.logs||toaster.pop("error",$scope.app.name,"Server sent response in unrecognized structure",3e3);var e,blob=new Blob([a.logs],{type:"text/json"});window.navigator&&window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(blob):(e=document.createEvent("MouseEvents"),(a=document.createElement("a")).download="Route Access.log",a.href=window.URL.createObjectURL(blob),a.dataset.downloadurl=["text/plain",a.download,a.href].join(":"),e.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(e))},function(err){toaster.pop("error",$scope.app.name,"Problem exporting route access log. "+err.statusText,3e3)})},$scope.exportOSLogs=function(){Logger.OSLogs.export({exportOptions:$scope.OSExportOptions}).$promise.then(function(a){a.logs||toaster.pop("error",$scope.app.name,"Server sent response in unrecognized structure",3e3);var e,blob=new Blob([a.logs],{type:"text/json"});window.navigator&&window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(blob):(e=document.createEvent("MouseEvents"),(a=document.createElement("a")).download="Operating System Logs.log",a.href=window.URL.createObjectURL(blob),a.dataset.downloadurl=["text/plain",a.download,a.href].join(":"),e.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(e))},function(err){toaster.pop("error",$scope.app.name,"Problem exporting operating system log. "+err.statusText,3e3)})},$scope.repairLogs=function(){Logger.repair.execute().$promise.then(function(response){toaster.pop("wait",$scope.app.name,"Repairing Logs...",3e3)},function(err){toaster.pop("error",$scope.app.name,err.statusText,3e3)})},$scope.saveLoggerSettings=function(isValid){if($scope.error=null,!isValid)return $scope.$broadcast("show-errors-check-validity","logSettingsForm"),!1;toaster.pop("wait",$scope.app.name,"Saving log settings...",3e3),Logger.settings.save({loggerSettings:$scope.loggerSettings}).$promise.then(function(response){toaster.pop("success",$scope.app.name,"Log Settings saved",4e3)},function(err){toaster.pop("error",$scope.app.name,"Couldn't save Log Settings. "+err.statusText,3e3)})},$scope.exportPsCoreLogs=function(isValid){if($scope.error=null,!isValid)return $scope.$broadcast("show-errors-check-validity","psCoreLogForm"),!1;toaster.pop("wait",$scope.app.name,"Exporting PS Core Log...",3e3),Logger.PsCoreLogs.export({pscoreConfigId:$scope.PsCoreExportOptions.machineId}).$promise.then(function(a){a=$scope.prettify?JSON.stringify(a,null,4):JSON.stringify(a);var e,blob=new Blob([a],{type:"text/json"});window.navigator&&window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(blob):(e=document.createEvent("MouseEvents"),(a=document.createElement("a")).download="PSCore.log",a.href=window.URL.createObjectURL(blob),a.dataset.downloadurl=["text/json",a.download,a.href].join(":"),e.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(e))},function(err){toaster.pop("error",$scope.app.name,"Problem exporting log. "+err.data.statusText,3e3)})},$scope.loadLoggerSettings=function(){Logger.settings.get().$promise.then(function(settings){$scope.loggerSettings=settings.loggerSettings})},$scope.createPsScore=function(){Logger.createPsCore.save({machineName:$scope.machineName}).$promise.then(function(resp){$scope.psScoreData=resp},function(err){toaster.pop("error",$scope.app.name,"Couldn't save pscore config, "+err.statusText,3e3)})}}]).directive("byter",function(){return{restrict:"A",require:"ngModel",link:function(scope,element,attrs,ngModel){ngModel.$formatters.push(function(value){return value/1024/1024}),ngModel.$parsers.push(function(value){return 1024*value*1024})}}});
"use strict";angular.module("app.settings").controller("SettingsSftpConnController",["$scope","$state","toaster","SFTPService","$stateParams",function($scope,$state,toaster,SFTPService,$stateParams){var vm=this;vm.testConnection=function(dbConn){vm.connectionStatus="Testing the connection details...",SFTPService.testConnection.save(dbConn).$promise.then(function(res){vm.connStatus=res.status,vm.connectionStatus=res.message},function(err){vm.connStatus="error",vm.connectionStatus="Could not check the connection details, please try again."})},vm.createDbConn=function(dbConn){SFTPService.settings.save(dbConn).$promise.then(function(res){$state.go("home.settings-sftpconnection")},function(err){toaster.pop("error",$scope.app.name,"Oops!, could not save the SFTP connection!.",3e3)})},vm.find=function(){SFTPService.setting.query().$promise.then(function(dbConns){vm.dbConns=dbConns})},vm.deleteDbConn=function(dbconn){dbconn.$remove(function(res){vm.find(),toaster.pop("success",$scope.app.name,"SFTP connection deleted successfully.",3e3)},function(err){toaster.pop("error",$scope.app.name,"Oops!, could not delete the SFTP connection!.",3e3)})},vm.findDbConn=function(){SFTPService.setting.get({connId:$stateParams.connId}).$promise.then(function(dbConn){vm.dbConn=dbConn})},vm.updateDbConn=function(dbConn){dbConn.$update(function(res){$state.go("home.settings-sftpconnection")},function(err){toaster.pop("error",$scope.app.name,"Oops!, could not update the SFTP connection!.",3e3)})}}]);
"use strict";angular.module("app.settings").factory("PsCoreConfig",["$resource",function($resource){return{psCore:$resource("/api/settings/pscoreIdCreation/:pscoreConfigId",null,{save:{method:"post"}}),psCoreConfigs:$resource("/api/settings/pscoreIdCreation",null,{})}}]);
"use strict";angular.module("app.settings").factory("DBConnService",["$resource",function($resource){return{settings:$resource("/api/v2/dbconn",null,{save:{method:"POST"}}),setting:$resource("/api/v2/dbconn/:connId",{connId:"@_id"},{save:{method:"POST"},update:{method:"PUT"}}),testConnection:$resource("/api/v2/dbconn/test/connection",null,{save:{method:"POST"}})}}]);
"use strict";angular.module("app.settings").factory("GeneralSettings",["$resource",function($resource){return{settings:$resource("/api/settings/general",null,{export:{method:"GET",isArray:!0}}),updateSettings:$resource("/api/settings/:settingId/general",{settingId:"@settingId"},{update:{method:"PUT"}}),taModel:$resource("/api/v2/upload/model",{modelId:"@modelId"},{export:{method:"GET",isArray:!0}}),downloadTaModel:$resource("/api/v2/model/:taModelId/download",{taModelId:"@taModelId"},{export:{method:"GET",isArray:!1}})}}]);
"use strict";angular.module("app.settings").factory("LayoutSettings",["$resource",function($resource){return $resource("api/users/:userId/layout",{userId:"@userId"})}]);
"use strict";angular.module("app.settings").factory("Logger",["$resource",function($resource){return{logs:$resource("/api/export-logs",null,{export:{method:"POST"}}),routeAccessLogs:$resource("/api/export-route-logs",null,{export:{method:"GET"}}),OSLogs:$resource("/api/export-os-logs",null,{export:{method:"POST"}}),repair:$resource("/api/export-logs/repair",null,{execute:{method:"GET"}}),PsCoreLogs:$resource("/api/export-pscore-app-logs/:pscoreConfigId",null,{export:{method:"GET"}})}}]);
"use strict";angular.module("app.settings").factory("SchedulerService",["$resource",function($resource){return{settings:$resource("/api/v2/scheduler",null,{save:{method:"POST"}}),setting:$resource("/api/v2/scheduler/:connId",{connId:"@_id"},{save:{method:"POST"},update:{method:"PUT"},delete:{method:"DELETE"}})}}]),angular.module("app.settings").factory("SchedulerPlayService",["$resource",function($resource){return this.schedulerPlay=$resource("/api/v2/scheduler/:schedulerId/play",{schedulerId:"@id"},{query:{method:"POST"}}),this.schedulerPause=$resource("/api/v2/scheduler/:schedulerId/pause",{schedulerId:"@id"},{query:{method:"POST"}}),this}]);
"use strict";angular.module("app.settings").factory("SFTPService",["$resource",function($resource){return{settings:$resource("/api/v2/sftp",null,{save:{method:"POST"}}),setting:$resource("/api/v2/sftp/:connId",{connId:"@_id"},{save:{method:"POST"},update:{method:"PUT"},delete:{method:"DELETE"}}),testConnection:$resource("/api/v2/sftp/test/connection",null,{save:{method:"POST"}})}}]);
"use strict";!function(){function SidebarController($rootScope,$scope,$state,SidebarLoader,Utils,Authentication){!function(){var collapseList=[];$scope.authentication=Authentication;var watchOff1=$rootScope.$watch("app.layout.asideHover",function(oldVal,newVal){!1===newVal&&!0===oldVal&&closeAllBut(-1)});function isActive(item){if(item){if(item.items&&item.items.length){var foundActive=!1;return angular.forEach(item.items,function(value){isActive(value)&&(foundActive=!0)}),foundActive}return $state.is(item.state)||$state.includes(item.state)}}function closeAllBut(index){for(var i in index+="",collapseList)(index<0||index.indexOf(i)<0)&&(collapseList[i]=!0)}SidebarLoader.getMenu(function(items){$scope.menu=items}),$scope.getMenuItemPropClasses=function(item){return(item.heading?"nav-heading":"")+(isActive(item)?" active":"")},$scope.addCollapse=function($index,item){collapseList[$index]=!!$rootScope.app.layout.asideHover||!isActive(item)},$scope.isCollapse=function($index){return collapseList[$index]},$scope.toggleCollapse=function($index,isParentItem,target){target=$(target.target);return Utils.isSidebarCollapsed()||$rootScope.app.layout.asideHover||(angular.isDefined(collapseList[$index])?target.is(".menu-child")||target.parents(".menu-child").length||(collapseList[$index]=!collapseList[$index],closeAllBut($index)):isParentItem&&closeAllBut(-1),$scope.lastEventFromChild=function($index){return"string"==typeof $index&&!($index.indexOf("-")<0)}($index)),!0},$scope.$on("$destroy",function(){watchOff1()})}()}angular.module("app.sidebar").controller("SidebarController",SidebarController),SidebarController.$inject=["$rootScope","$scope","$state","SidebarLoader","Utils","Authentication"]}();
"use strict";!function(){function UserBlockController($scope){!function(){$scope.userBlockVisible=!0;var detach=$scope.$on("toggleUserBlock",function(){$scope.userBlockVisible=!$scope.userBlockVisible});$scope.$on("$destroy",detach)}()}angular.module("app.sidebar").controller("UserBlockController",UserBlockController),UserBlockController.$inject=["$scope"]}();
"use strict";!function(){function sidebar($rootScope,$timeout,$window,Utils){var $win=angular.element($window);return{link:function(scope,element,attrs){$rootScope.$state.current.name;var $sidebar=element,eventName=Utils.isTouch()?"click":"mouseenter",subNav=$();$sidebar.on(eventName,".nav > li",function(){(Utils.isSidebarCollapsed()||$rootScope.app.layout.asideHover)&&(subNav.trigger("mouseleave"),subNav=function($listItem,vwHeight){removeFloatingNav();var ul=$listItem.children("ul");if(!ul.length)return $();if($listItem.hasClass("open"))return toggleTouchItem($listItem),$();var $aside=$(".aside"),itemTop=$(".aside-inner"),itemTop=parseInt(itemTop.css("padding-top"),0)+parseInt($aside.css("padding-top"),0),subNav=ul.clone().appendTo($aside);toggleTouchItem($listItem);itemTop=$listItem.position().top+itemTop-vwHeight.scrollTop(),vwHeight=$win.height();return subNav.addClass("nav-floating").css({position:$rootScope.app.layout.isFixed?"fixed":"absolute",top:itemTop,bottom:subNav.outerHeight(!0)+itemTop>vwHeight?0:"auto"}),subNav.on("mouseleave",function(){toggleTouchItem($listItem),subNav.remove()}),subNav}($(this),$sidebar),$("<div/>",{class:"dropdown-backdrop"}).insertAfter(".aside-inner").on("click mouseenter",function(){removeFloatingNav()}))});var eventOff1=scope.$on("closeSidebarMenu",function(){removeFloatingNav()});$win.on("resize.sidebar",function(){Utils.isMobile()||asideToggleOff()});var eventOff2=$rootScope.$on("$stateChangeStart",function(event,toState){toState.name,asideToggleOff(),$rootScope.$broadcast("closeSidebarMenu")});{var wrapper,sbclickEvent,watchOff1;angular.isDefined(attrs.sidebarAnyclickClose)&&(wrapper=$(".wrapper"),sbclickEvent="click.sidebar",watchOff1=$rootScope.$watch("app.asideToggled",function(newVal){!0===newVal?$timeout(function(){wrapper.on(sbclickEvent,function(e){$(e.target).parents(".aside").length||asideToggleOff()})}):wrapper.off(sbclickEvent)}))}function asideToggleOff(){$rootScope.app.asideToggled=!1,scope.$$phase||scope.$apply()}scope.$on("$destroy",function(){eventOff1(),eventOff2(),watchOff1(),$sidebar.off(eventName),$win.off("resize.sidebar"),wrapper.off(sbclickEvent)})},restrict:"EA",template:'<nav class="sidebar" ng-transclude></nav>',transclude:!0,replace:!0};function toggleTouchItem($element){$element.siblings("li").removeClass("open").end().toggleClass("open")}function removeFloatingNav(){$(".dropdown-backdrop").remove(),$(".sidebar-subnav.nav-floating").remove(),$(".sidebar li.open").removeClass("open")}}angular.module("app.sidebar").directive("sidebar",sidebar),sidebar.$inject=["$rootScope","$timeout","$window","Utils"]}();
"use strict";!function(){function SidebarLoader(Menus){this.getMenu=function(onReady,onError){onError=onError||function(){alert("Failure loading menu")};var menu=Menus.getMenu("sidebar");menu?onReady(menu):onError()}}angular.module("app.sidebar").service("SidebarLoader",SidebarLoader),SidebarLoader.$inject=["Menus"]}();
"use strict";
"use strict";!function(){function appRoutes($stateProvider,helper){$stateProvider.state("app.table-standard",{url:"/table/standard",title:"Table Standard",templateUrl:"modules/tables/client/views/table-standard.client.view.html"}).state("app.table-extended",{url:"/table/extended",title:"Table Extended",templateUrl:"modules/tables/client/views/table-extended.client.view.html"}).state("app.table-datatable",{url:"/table/datatable",title:"Table Datatable",templateUrl:"modules/tables/client/views/table-datatable.client.view.html",resolve:helper.resolveFor("datatables")}).state("app.table-xeditable",{url:"/table/xeditable",templateUrl:"modules/tables/client/views/table-xeditable.client.view.html",resolve:helper.resolveFor("xeditable")}).state("app.table-ngtable",{url:"/table/ngtable",templateUrl:"modules/tables/client/views/table-ngtable.client.view.html",resolve:helper.resolveFor("ngTable","ngTableExport")}).state("app.table-uigrid",{url:"/table/uigrid",templateUrl:"modules/tables/client/views/table-uigrid.client.view.html",resolve:helper.resolveFor("ui.grid")}).state("app.table-angulargrid",{url:"/table/angulargrid",templateUrl:"modules/tables/client/views/table-angulargrid.client.view.html",resolve:helper.resolveFor("angularGrid")})}angular.module("app.tables").config(appRoutes),appRoutes.$inject=["$stateProvider","RouteHelpersProvider"]}();
"use strict";!function(){function AngularGridController($scope,$http,$window,$timeout){var vm=this;!function(){var $win=$($window),columnDefsPinned=[{headerName:"Athlete",field:"athlete",width:150},{headerName:"Age",field:"age",width:90},{headerName:"Country",field:"country",width:120},{headerName:"Year",field:"year",width:90},{headerName:"Date",field:"date",width:110},{headerName:"Sport",field:"sport",width:110},{headerName:"Gold",field:"gold",width:100},{headerName:"Silver",field:"silver",width:100},{headerName:"Bronze",field:"bronze",width:100},{headerName:"Total",field:"total",width:100}];vm.gridOptions={columnDefs:columnDefsPinned,rowData:null,onGridReady:function(params){params.api.sizeColumnsToFit(),$win.on("resize.ag-grid",function(){$timeout(function(){params.api.sizeColumnsToFit()})})}};var columnDefsFilter=[{headerName:"Athlete",field:"athlete",width:150,filter:"set",filterParams:{cellHeight:20,values:["John Joe Nevin","Katie Taylor","Paddy Barnes","Kenny Egan","Darren Sutherland","Margaret Thatcher","Tony Blair","Ronald Regan","Barack Obama"]}},{headerName:"Age",field:"age",width:90,filter:"number"},{headerName:"Country",field:"country",width:120},{headerName:"Year",field:"year",width:90},{headerName:"Date",field:"date",width:110},{headerName:"Sport",field:"sport",width:110},{headerName:"Gold",field:"gold",width:100,filter:"number"},{headerName:"Silver",field:"silver",width:100,filter:"number"},{headerName:"Bronze",field:"bronze",width:100,filter:"number"},{headerName:"Total",field:"total",width:100,filter:"number"}];vm.gridOptions1={columnDefs:columnDefsFilter,rowData:null,enableFilter:!0,onGridReady:function(params){params.api.sizeColumnsToFit(),$win.on("resize.ag-grid",function(){$timeout(function(){params.api.sizeColumnsToFit()})})}},(columnDefsPinned=angular.copy(columnDefsPinned))[0].pinned="left",vm.gridOptions2={columnDefs:columnDefsPinned,rowData:null,pinnedColumnCount:2,onGridReady:function(params){params.api.sizeColumnsToFit(),$win.on("resize.ag-grid",function(){$timeout(function(){params.api.sizeColumnsToFit()})})}},$http.get("server/ag-owinners.json").then(function(res){vm.gridOptions.api.setRowData(res.data),vm.gridOptions.api.sizeColumnsToFit(),vm.gridOptions1.api.setRowData(res.data),vm.gridOptions1.api.sizeColumnsToFit(),vm.gridOptions2.api.setRowData(res.data),vm.gridOptions2.api.sizeColumnsToFit()}),$scope.$on("$destroy",function(){$win.off("resize.ag-grid")})}()}angular.module("app.tables").controller("AngularGridController",AngularGridController),AngularGridController.$inject=["$scope","$http","$window","$timeout"]}();
"use strict";!function(){function DataTableController($resource,DTOptionsBuilder,DTColumnDefBuilder){var vm=this;function _buildPerson2Add(id){return{id:id,firstName:"Foo"+id,lastName:"Bar"+id}}$resource("server/datatable.json").query().$promise.then(function(persons){vm.persons=persons}),vm.heroes=[{id:860,firstName:"Superman",lastName:"Yoda"},{id:870,firstName:"Ace",lastName:"Ventura"},{id:590,firstName:"Flash",lastName:"Gordon"},{id:803,firstName:"Luke",lastName:"Skywalker"}],vm.dtOptions=DTOptionsBuilder.newOptions().withPaginationType("full_numbers").withDOM('<"html5buttons"B>lTfgitp').withButtons([{extend:"copy",className:"btn-sm"},{extend:"csv",className:"btn-sm"},{extend:"excel",className:"btn-sm",title:"XLS-File"},{extend:"pdf",className:"btn-sm",title:$("title").text()},{extend:"print",className:"btn-sm"}]),vm.dtColumnDefs=[DTColumnDefBuilder.newColumnDef(0),DTColumnDefBuilder.newColumnDef(1),DTColumnDefBuilder.newColumnDef(2),DTColumnDefBuilder.newColumnDef(3).notSortable()],vm.person2Add=_buildPerson2Add(1),vm.addPerson=function(){vm.heroes.push(angular.copy(vm.person2Add)),vm.person2Add=_buildPerson2Add(vm.person2Add.id+1)},vm.modifyPerson=function(index){vm.heroes.splice(index,1,angular.copy(vm.person2Add)),vm.person2Add=_buildPerson2Add(vm.person2Add.id+1)},vm.removePerson=function(index){vm.heroes.splice(index,1)}}angular.module("app.tables").controller("DataTableController",DataTableController),DataTableController.$inject=["$resource","DTOptionsBuilder","DTColumnDefBuilder"]}();
"use strict";!function(){function NGTableCtrl($filter,ngTableParams,$resource,$timeout,ngTableDataService){var vm=this;vm.title="Controller",function(){var data=[{name:"Moroni",age:50,money:-10},{name:"Tiancum",age:43,money:120},{name:"Jacob",age:27,money:5.5},{name:"Nephi",age:29,money:-54},{name:"Enos",age:34,money:110},{name:"Tiancum",age:43,money:1e3},{name:"Jacob",age:27,money:-201},{name:"Nephi",age:29,money:100},{name:"Enos",age:34,money:-52.5},{name:"Tiancum",age:43,money:52.1},{name:"Jacob",age:27,money:110},{name:"Nephi",age:29,money:-55},{name:"Enos",age:34,money:551},{name:"Tiancum",age:43,money:-1410},{name:"Jacob",age:27,money:410},{name:"Nephi",age:29,money:100},{name:"Enos",age:34,money:-100}];vm.data=data,vm.tableParams3=new ngTableParams({page:1,count:10},{total:data.length,getData:function($defer,params){var orderedData=params.filter()?$filter("filter")(data,params.filter()):data,orderedData=params.sorting()?$filter("orderBy")(orderedData,params.orderBy()):data;params.total(orderedData.length),$defer.resolve(orderedData.slice((params.page()-1)*params.count(),params.page()*params.count()))}}),vm.changeSelection=function(user){console.info(user)};var data4=[{name:"Moroni",age:50},{name:"Tiancum",age:43},{name:"Jacob",age:27},{name:"Nephi",age:29},{name:"Enos",age:34},{name:"Tiancum",age:43},{name:"Jacob",age:27},{name:"Nephi",age:29},{name:"Enos",age:34},{name:"Tiancum",age:43},{name:"Jacob",age:27},{name:"Nephi",age:29},{name:"Enos",age:34},{name:"Tiancum",age:43},{name:"Jacob",age:27},{name:"Nephi",age:29},{name:"Enos",age:34}];vm.tableParams4=new ngTableParams({page:1,count:10},{total:data4.length,getData:function($defer,params){$defer.resolve(data4.slice((params.page()-1)*params.count(),params.page()*params.count()))}}),vm.tableParams=new ngTableParams({page:1,count:10,sorting:{name:"asc"}},{total:data.length,getData:function($defer,params){var orderedData=params.sorting()?$filter("orderBy")(data,params.orderBy()):data;$defer.resolve(orderedData.slice((params.page()-1)*params.count(),params.page()*params.count()))}}),vm.tableParams2=new ngTableParams({page:1,count:10,filter:{name:"",age:""}},{total:data.length,getData:function($defer,params){var orderedData=params.filter()?$filter("filter")(data,params.filter()):data;vm.users=orderedData.slice((params.page()-1)*params.count(),params.page()*params.count()),params.total(orderedData.length),$defer.resolve(vm.users)}});var Api=$resource("server/table-data.json");vm.tableParams5=new ngTableParams({page:1,count:10},{total:0,counts:[],getData:function($defer,params){ngTableDataService.getData($defer,params,Api)}})}()}angular.module("app.tables").controller("NGTableCtrl",NGTableCtrl),NGTableCtrl.$inject=["$filter","ngTableParams","$resource","$timeout","ngTableDataService"]}();
"use strict";!function(){function TablexEditableController($filter,$http,editableOptions,editableThemes,$q){var vm=this;vm.users=[{id:1,name:"awesome user1",status:2,group:4,groupName:"admin"},{id:2,name:"awesome user2",status:void 0,group:3,groupName:"vip"},{id:3,name:"awesome user3",status:2,group:null}],vm.statuses=[{value:1,text:"status1"},{value:2,text:"status2"},{value:3,text:"status3"},{value:4,text:"status4"}],vm.groups=[],vm.loadGroups=function(){return vm.groups.length?null:$http.get("server/xeditable-groups.json").then(function(data){vm.groups=data.data})},vm.showGroup=function(user){if(user.group&&vm.groups.length){var selected=$filter("filter")(vm.groups,{id:user.group});return selected.length?selected[0].text:"Not set"}return user.groupName||"Not set"},vm.showStatus=function(user){var selected=[];return user.status&&(selected=$filter("filter")(vm.statuses,{value:user.status})),selected.length?selected[0].text:"Not set"},vm.checkName=function(data,id){if(2===id&&"awesome"!==data)return"Username 2 should be `awesome`"},vm.saveUser=function(data,id){angular.extend(data,{id:id}),console.log("Saving user: "+id)},vm.removeUser=function(index){vm.users.splice(index,1)},vm.addUser=function(){vm.inserted={id:vm.users.length+1,name:"",status:null,group:null,isNew:!0},vm.users.push(vm.inserted)},vm.saveColumn=function(column){return angular.forEach(vm.users,function(){console.log("Saving column: "+column)}),$q.all([])},vm.filterUser=function(user){return!0!==user.isDeleted},vm.deleteUser=function(filtered){filtered=$filter("filter")(vm.users,{id:filtered});filtered.length&&(filtered[0].isDeleted=!0)},vm.cancel=function(){for(var i=vm.users.length;i--;){var user=vm.users[i];user.isDeleted&&delete user.isDeleted,user.isNew&&vm.users.splice(i,1)}},vm.saveTable=function(){for(var i=vm.users.length;i--;){var user=vm.users[i];user.isDeleted&&vm.users.splice(i,1),user.isNew&&(user.isNew=!1),console.log("Saving Table...")}return $q.all([])}}angular.module("app.tables").controller("TablexEditableController",TablexEditableController),TablexEditableController.$inject=["$filter","$http","editableOptions","editableThemes","$q"]}();
"use strict";!function(){function UIGridController(uiGridConstants,$http){var vm=this;vm.gridOptions={rowHeight:34,data:[{name:"Wilder Gonzales",gender:"male",company:"Geekko"},{name:"Georgina Schultz",gender:"female",company:"Suretech"},{name:"Carroll Buchanan",gender:"male",company:"Ecosys"},{name:"Valarie Atkinson",gender:"female",company:"Hopeli"},{name:"Schroeder Mathews",gender:"male",company:"Polarium"},{name:"Ethel Price",gender:"female",company:"Enersol"},{name:"Claudine Neal",gender:"female",company:"Sealoud"},{name:"Beryl Rice",gender:"female",company:"Velity"},{name:"Lynda Mendoza",gender:"female",company:"Dogspa"},{name:"Sarah Massey",gender:"female",company:"Bisba"},{name:"Robles Boyle",gender:"male",company:"Comtract"},{name:"Evans Hickman",gender:"male",company:"Parleynet"},{name:"Dawson Barber",gender:"male",company:"Dymi"},{name:"Bruce Strong",gender:"male",company:"Xyqag"},{name:"Nellie Whitfield",gender:"female",company:"Exospace"},{name:"Jackson Macias",gender:"male",company:"Aquamate"},{name:"Pena Pena",gender:"male",company:"Quarx"},{name:"Lelia Gates",gender:"female",company:"Proxsoft"},{name:"Letitia Vasquez",gender:"female",company:"Slumberia"},{name:"Trevino Moreno",gender:"male",company:"Conjurica"}]},vm.gridOptionsComplex={showGridFooter:!0,showColumnFooter:!0,enableFiltering:!0,columnDefs:[{field:"name",width:"13%"},{field:"address.street",aggregationType:uiGridConstants.aggregationTypes.sum,width:"13%"},{field:"age",aggregationType:uiGridConstants.aggregationTypes.avg,aggregationHideLabel:!0,width:"13%"},{name:"ageMin",field:"age",aggregationType:uiGridConstants.aggregationTypes.min,width:"13%",displayName:"Age for min"},{name:"ageMax",field:"age",aggregationType:uiGridConstants.aggregationTypes.max,width:"13%",displayName:"Age for max"},{name:"customCellTemplate",field:"age",width:"14%",footerCellTemplate:'<div class="ui-grid-cell-contents bg-info text-center">Custom HTML</div>'},{name:"registered",field:"registered",width:"20%",cellFilter:"date",footerCellFilter:"date",aggregationType:uiGridConstants.aggregationTypes.max}],data:[],onRegisterApi:function(gridApi){vm.gridApi=gridApi}},$http.get("server/uigrid-complex.json").then(function(data){data.data.forEach(function(row){row.registered=Date.parse(row.registered)}),vm.gridOptionsComplex.data=data.data}),vm.gridOptions1={paginationPageSizes:[25,50,75],paginationPageSize:25,columnDefs:[{name:"name"},{name:"gender"},{name:"company"}]},$http.get("server/uigrid-100.json").then(function(data){vm.gridOptions1.data=data.data}),vm.gridOptions2={columnDefs:[{field:"name"},{field:"gender",visible:!1},{field:"company"}],enableGridMenu:!0,enableSelectAll:!0},$http.get("server/uigrid-100.json").then(function(data){vm.gridOptions2.data=data.data})}angular.module("app.tables").controller("UIGridController",UIGridController),UIGridController.$inject=["uiGridConstants","$http"]}();
"use strict";angular.module("app.tables").service("ngTableDataService",function(){var self=this;this.cache=null,this.getData=function($defer,params,api){function filterdata($defer,params){var from=(params.page()-1)*params.count(),filteredData=params.page()*params.count(),filteredData=self.cache.result.slice(from,filteredData);params.total(self.cache.total),$defer.resolve(filteredData)}self.cache?filterdata($defer,params):api&&api.get(function(data){self.cache=data,filterdata($defer,params)})}});
"use strict";angular.module("app.textanalysis").component("ner",{templateUrl:"modules/textanalysis/client/views/ner.component.client.html",bindings:{operation:"<",onRemove:"&"},controllerAs:"vm",controller:["TADataStore","TextAnalysis","DTOptionsBuilder","DTColumnDefBuilder","$scope","$uibModal","$sce","$rootScope","TooltipData","GeneralSettings","$timeout",function(TADataStore,TextAnalysis,DTOptionsBuilder,DTColumnDefBuilder,$scope,$uibModal,$sce,$rootScope,TooltipData,GeneralSettings,$timeout){var vm=this;function setDefaults(){vm.tags=["PERSON","NORP","ORG","GPE","LOC","PRODUCT","EVENT","WORK OF ART","LANGUAGE","DATE","TIME","PERCENT","MONEY","QUANTITY","ORDINAL","CARDINAL"]}vm.loaderText="Loading...",vm.showLoading=!1,vm.nerUploadModelIssueMsg=!1,vm.inputData=TADataStore.getInputData(vm.operation),$scope.$on("onSubmit",function(event,args){vm.inputData=TADataStore.getInputData(vm.operation)}),vm.getToolTipData=function(tooltip){return TooltipData.getTootipInfo(tooltip)[0]},setDefaults(),vm.model=[],vm.gettaModelsList=function(taskType){var foundNerModel=!(vm.showLoading=!0);new GeneralSettings.taModel.query({taskType:taskType}).$promise.then(function(taModelList){vm.model=taModelList,vm.selectedNerModel&&"spacy-en_core_web_sm"!=vm.selectedNerModel&&(vm.model.forEach(function(model){model.modelName!==vm.selectedNerModel&&model.oldModelFileName!==vm.selectedNerModel||(vm.selectedNerModel=JSON.stringify(model),foundNerModel=!0)}),foundNerModel||(vm.nerUploadModelIssueMsg=!0)),vm.showLoading=!1},function(err){toaster.pop("error",$scope.app.name,err.statusText,3e3),vm.showLoading=!1})},vm.setNerLabels=function(model){vm.showLoading=!0,vm.selectedTags=[],vm.tags.length=0,"spacy-en_core_web_sm"!=model?(model=JSON.parse(model),$timeout(function(){vm.tags=model.nerLabels,vm.showLoading=!1},500)):$timeout(function(){setDefaults(),vm.showLoading=!1},500)},vm.isAccordianOpen=vm.operation.isAccordianOpen,$scope.$on("closeAccordian",function(event,args){vm.isAccordianOpen=vm.operation.isAccordianOpen}),vm.remove=function(){TADataStore.removeOperation(vm.operation),vm.onRemove(vm.operation)},vm.pipelineSetting={removeFeatureCheckBoxVal:!1,setConcatenate:!1,setCountTag:!1},vm.dtOptions=DTOptionsBuilder.newOptions().withOption("processing",!0).withOption("deferRender",!0).withOption("lengthChange",!1).withOption("searchable",!1).withDisplayLength(4).withPaginationType("full_numbers"),vm.dtColumnDefs=[DTColumnDefBuilder.newColumnDef(0),DTColumnDefBuilder.newColumnDef(1)],vm.showPipelineSetting=function(){var modalInstance=$uibModal.open({templateUrl:"nerpipelineSettingModal.html",size:"lg",scope:$scope});$scope.cancel=function(){modalInstance.close()},$scope.prepareData=function(pipelineData){vm.pipelineSetting.removeFeatureCheckBoxVal=pipelineData.removeFeatureCheckBoxVal,pipelineData.setCountTag&&pipelineData.setConcatenate?vm.pipelineSetting.featureOption=["concat","count"]:pipelineData.setCountTag?vm.pipelineSetting.featureOption=["count"]:pipelineData.setConcatenate?vm.pipelineSetting.featureOption=["concat"]:vm.pipelineSetting.featureOption=[]}},TADataStore.getAllOperationData().forEach(function(loadVal){loadVal.uid==vm.operation.uid&&loadVal.taskConfig.operationParameters&&(vm.selectedTags=loadVal.taskConfig.operationParameters.keepTags,loadVal.taskConfig.operationParameters.addFeature.length&&(loadVal.taskConfig.operationParameters.addFeature.includes("count")&&loadVal.taskConfig.operationParameters.addFeature.includes("concat")?(vm.pipelineSetting.setCountTag=!0,vm.pipelineSetting.setConcatenate=!0):loadVal.taskConfig.operationParameters.addFeature.includes("count")?vm.pipelineSetting.setCountTag=!0:loadVal.taskConfig.operationParameters.addFeature.includes("concat")&&(vm.pipelineSetting.setConcatenate=!0)),vm.pipelineSetting.removeFeatureCheckBoxVal=loadVal.taskConfig.operationParameters.removeFeature,vm.selectedNerModel=loadVal.taskConfig.operationParameters.model)}),vm.openGraphView=function(){var modalInstance;vm.loaderText="Please wait, NER is in progress.",vm.showPopupLoading=!0;var modalScope=$scope.$new();vm.onSubmit("html"),modalInstance=$uibModal.open({templateUrl:"ner.html",size:"lg",scope:modalScope}),modalScope.cancel=function($modalInstance){modalInstance.close(modalScope.selected)}},vm.onSubmit=function(modelInfo){var renderType=null,renderType=modelInfo||(vm.loaderText="Please wait, NER is in progress.",vm.showLoading=!0,"table"),inputData=TADataStore.getInputData(vm.operation);if(!inputData)return vm.showTextError=!0,void(vm.showPopupLoading=!1);vm.showTextError=!1,vm.loaderText="Please wait, NER is in progress.",vm.showLoading=!0,inputData=inputData.output;modelInfo=vm.selectedNerModel;"spacy-en_core_web_sm"!=modelInfo&&(modelInfo=JSON.parse(vm.selectedNerModel));var taskConfig=[{operationName:"ner",renderType:"table",operationParameters:{model:modelInfo.modelName||vm.selectedNerModel,keepTags:vm.selectedTags||[],addFeature:vm.pipelineSetting.featureOption||[],modelPath:"./textanalysis/models/".concat(modelInfo.modelName),framework:modelInfo.frameWork}}];TextAnalysis.ner.query({data:inputData,taskConfig:taskConfig,renderType:renderType}).$promise.then(function(res){vm.showOutput=!0,"html"==renderType?(vm.htmlOutput=res.data.data,vm.html=$sce.trustAsHtml(vm.htmlOutput)):vm.output=res.data.data,TADataStore.saveOperationOutput({uid:vm.operation.uid,operation:vm.operation.operation,output:vm.output,taskConfig:taskConfig}),vm.showLoading=!1,vm.showPopupLoading=!1,$rootScope.$broadcast("onSubmit")},function(err){vm.showOutput=!1,vm.showLoading=!1,vm.showPopupLoading=!1})},vm.downloadNerGraph=function(){var a=document.createElement("a");document.body.appendChild(a);var fileURL=new Blob([vm.htmlOutput],{type:"application/html"}),fileURL=window.URL.createObjectURL(fileURL);a.href=fileURL,a.download="ner_graph.html",a.click()}}]});
"use strict";angular.module("app.textanalysis").component("phraseExtraction",{templateUrl:"modules/textanalysis/client/views/phraseExtraction.component.client.html",bindings:{operation:"<",onRemove:"&"},controllerAs:"vm",controller:["TADataStore","$scope","TooltipData",function(TADataStore,$scope,TooltipData){var vm=this;vm.isAccordianOpen=vm.operation.isAccordianOpen,$scope.$on("closeAccordian",function(event,args){vm.isAccordianOpen=vm.operation.isAccordianOpen}),vm.getToolTipData=function(tooltip){return TooltipData.getTootipInfo(tooltip)[0]},vm.remove=function(){TADataStore.removeOperation(vm.operation),vm.onRemove(vm.operation)},vm.onSubmit=function(){TADataStore.saveOperationOutput({uid:vm.operation.uid,operation:"phraseExtraction",output:{dummydata:"dummy phraseExtraction data"}})}}]});
"use strict";angular.module("app.textanalysis").component("posTagging",{templateUrl:"modules/textanalysis/client/views/posTagging.component.client.html",bindings:{operation:"<",onRemove:"&"},controllerAs:"vm",controller:["TADataStore","TextAnalysis","DTOptionsBuilder","DTColumnDefBuilder","$scope","$uibModal","$sce","$rootScope","TooltipData","$http","GeneralSettings",function(TADataStore,TextAnalysis,DTOptionsBuilder,DTColumnDefBuilder,$scope,$uibModal,$sce,$rootScope,TooltipData,$http,GeneralSettings){var vm=this;vm.loaderText="Loading...",vm.showLoading=!1,vm.uploadModelIssueMsg=!1,vm.isAccordianOpen=vm.operation.isAccordianOpen,vm.inputData=TADataStore.getInputData(vm.operation),$scope.$on("closeAccordian",function(event,args){vm.isAccordianOpen=vm.operation.isAccordianOpen}),$scope.$on("onSubmit",function(event,args){vm.inputData=TADataStore.getInputData(vm.operation)}),vm.getToolTipData=function(tooltip){return TooltipData.getTootipInfo(tooltip)[0]},vm.model=[],vm.gettaModelsList=function(taskType){var foundModel=!(vm.showLoading=!0);new GeneralSettings.taModel.query({taskType:taskType}).$promise.then(function(taModelList){vm.model=taModelList,vm.selectedModel&&"spacy-en_core_web_sm"!=vm.selectedModel&&(vm.model.forEach(function(model){model.modelName!==vm.selectedModel&&model.oldModelFileName!==vm.selectedModel||(vm.selectedModel=JSON.stringify(model),foundModel=!0)}),foundModel||(vm.uploadModelIssueMsg=!0)),vm.showLoading=!1},function(err){toaster.pop("error",$scope.app.name,err.statusText,3e3),vm.showLoading=!1})},vm.tagList=[{tagsName:"Adjective",tagsValue:"ADJ"},{tagsName:"Adposition",tagsValue:"ADP"},{tagsName:"Adverb",tagsValue:"ADV"},{tagsName:"Auxiliary verb",tagsValue:"AUX"},{tagsName:"Coordinating conjunction",tagsValue:"CONJ"},{tagsName:"Determiner",tagsValue:"DET"},{tagsName:"Interjection",tagsValue:"INTJ"},{tagsName:"Noun",tagsValue:"NOUN"},{tagsName:"Numeral",tagsValue:"NUM"},{tagsName:"Particle",tagsValue:"PART"},{tagsName:"Pronoun",tagsValue:"PRON"},{tagsName:"Proper noun",tagsValue:"PROPN"},{tagsName:"Punctuation",tagsValue:"PUNCT"},{tagsName:"Subordinating conjunction",tagsValue:"SCONJ"},{tagsName:"Symbol",tagsValue:"SYM"},{tagsName:"Verb",tagsValue:"VERB"},{tagsName:"Other",tagsValue:"X"}],vm.pipelineSetting={removeFeatureCheckBoxVal:!1,setConcatenate:!1,setCountTag:!1},vm.dtOptions=DTOptionsBuilder.newOptions().withOption("processing",!0).withOption("deferRender",!0).withOption("lengthChange",!1).withOption("searchable",!1).withDisplayLength(4).withPaginationType("full_numbers"),vm.dtColumnDefs=[DTColumnDefBuilder.newColumnDef(0),DTColumnDefBuilder.newColumnDef(1)],vm.remove=function(){TADataStore.removeOperation(vm.operation),vm.onRemove(vm.operation)},vm.showPipelineSetting=function(){var modalInstance=$uibModal.open({templateUrl:"pospipelineSettingModal.html",size:"lg",scope:$scope});$scope.cancel=function(){modalInstance.close()},$scope.prepareData=function(pipelineData){vm.pipelineSetting.removeFeatureCheckBoxVal=pipelineData.removeFeatureCheckBoxVal,pipelineData.setCountTag&&pipelineData.setConcatenate?vm.pipelineSetting.featureOption=["concat","count"]:pipelineData.setCountTag?vm.pipelineSetting.featureOption=["count"]:pipelineData.setConcatenate?vm.pipelineSetting.featureOption=["concat"]:vm.pipelineSetting.featureOption=[]}},TADataStore.getAllOperationData().forEach(function(loadVal){loadVal.uid==vm.operation.uid&&loadVal.taskConfig.operationParameters&&(vm.selectedTags=loadVal.taskConfig.operationParameters.keepTags,loadVal.taskConfig.operationParameters.addFeature.length&&(loadVal.taskConfig.operationParameters.addFeature.includes("count")&&loadVal.taskConfig.operationParameters.addFeature.includes("concat")?(vm.pipelineSetting.setCountTag=!0,vm.pipelineSetting.setConcatenate=!0):loadVal.taskConfig.operationParameters.addFeature.includes("count")?vm.pipelineSetting.setCountTag=!0:loadVal.taskConfig.operationParameters.addFeature.includes("concat")&&(vm.pipelineSetting.setConcatenate=!0)),vm.pipelineSetting.removeFeatureCheckBoxVal=loadVal.taskConfig.operationParameters.removeFeature,vm.selectedModel=loadVal.taskConfig.operationParameters.model)}),vm.openGraphView=function(){var modalInstance;vm.loaderText="Please wait, Graph is loading.",vm.showPopupLoading=!0;var modalScope=$scope.$new();vm.onSubmit("html"),modalInstance=$uibModal.open({templateUrl:"graphView.html",size:"lg",scope:modalScope}),modalScope.cancel=function($modalInstance){modalInstance.close(modalScope.selected)}},vm.onSubmit=function(modelInfo){var renderType=null,renderType=modelInfo||(vm.loaderText="Please wait, POS Tagging is in progress.",vm.showLoading=!0,"table"),inputData=TADataStore.getInputData(vm.operation);if(!inputData)return vm.showTextError=!0,vm.showLoading=!1,void(vm.showPopupLoading=!1);vm.showTextError=!1,inputData=inputData.output;modelInfo=vm.selectedModel;"spacy-en_core_web_sm"!=modelInfo&&(modelInfo=JSON.parse(vm.selectedModel));var taskConfig=[{operationName:"pos",operationParameters:{model:modelInfo.modelName||vm.selectedModel,keepTags:vm.selectedTags||[],addFeature:vm.pipelineSetting.featureOption||[],modelPath:"./textanalysis/models/".concat(modelInfo.modelName),framework:modelInfo.frameWork}}];TextAnalysis.pos.query({data:inputData,taskConfig:taskConfig,renderType:renderType}).$promise.then(function(res){vm.showOutput=!0,"html"==renderType?(vm.htmlOutput=res.data.data,vm.html=$sce.trustAsHtml(vm.htmlOutput)):vm.output=res.data.data,TADataStore.saveOperationOutput({uid:vm.operation.uid,operation:vm.operation.operation,output:vm.output,taskConfig:taskConfig}),vm.showLoading=!1,vm.showPopupLoading=!1,$rootScope.$broadcast("onSubmit")},function(err){vm.showOutput=!1,vm.showLoading=!1,vm.showPopupLoading=!1})},vm.downloadPosGraph=function(){var a=document.createElement("a");document.body.appendChild(a);var fileURL=new Blob([vm.htmlOutput],{type:"application/html"}),fileURL=window.URL.createObjectURL(fileURL);a.href=fileURL,a.download="pos_graph.html",a.click()}}]});
"use strict";angular.module("app.textanalysis").component("ruleBasedMatch",{templateUrl:"modules/textanalysis/client/views/ruleBasedMatch.component.client.html",bindings:{operation:"<",onRemove:"&"},controllerAs:"vm",controller:["TADataStore","$scope","GeneralSettings","TextAnalysis","$element","ProjectCore","$rootScope","TooltipData","$sce","$uibModal",function(TADataStore,$scope,GeneralSettings,TextAnalysis,$element,ProjectCore,$rootScope,TooltipData,$sce,$uibModal){var vm=this;vm.inputData=TADataStore.getInputData(vm.operation),vm.isAccordianOpen=vm.operation.isAccordianOpen,$scope.$on("closeAccordian",function(event,args){vm.isAccordianOpen=vm.operation.isAccordianOpen}),vm.patternArray=[{name:"",phrases:[],tokens:[]}],vm.posTagList=[{tagsName:"Adjective",tagsValue:"ADJ"},{tagsName:"Adposition",tagsValue:"ADP"},{tagsName:"Adverb",tagsValue:"ADV"},{tagsName:"Auxiliary verb",tagsValue:"AUX"},{tagsName:"Coordinating conjunction",tagsValue:"CONJ"},{tagsName:"Determiner",tagsValue:"DET"},{tagsName:"Interjection",tagsValue:"INTJ"},{tagsName:"Noun",tagsValue:"NOUN"},{tagsName:"Numeral",tagsValue:"NUM"},{tagsName:"Particle",tagsValue:"PART"},{tagsName:"Pronoun",tagsValue:"PRON"},{tagsName:"Proper noun",tagsValue:"PROPN"},{tagsName:"Punctuation",tagsValue:"PUNCT"},{tagsName:"Subordinating conjunction",tagsValue:"SCONJ"},{tagsName:"Symbol",tagsValue:"SYM"},{tagsName:"Verb",tagsValue:"VERB"},{tagsName:"Other",tagsValue:"X"}],vm.attributesList=[{attributeName:"TEXT",attributeType:"textbox"},{attributeName:"LOWER",attributeType:"textbox"},{attributeName:"IS_ALPHA",attributeType:"checkbox"},{attributeName:"IS_DIGIT",attributeType:"checkbox"},{attributeName:"IS_LOWER",attributeType:"checkbox"},{attributeName:"IS_UPPER",attributeType:"checkbox"},{attributeName:"IS_TITLE",attributeType:"checkbox"},{attributeName:"IS_PUNCT",attributeType:"checkbox"},{attributeName:"IS_SPACE",attributeType:"checkbox"},{attributeName:"IS_STOP",attributeType:"checkbox"},{attributeName:"IS_SENT_START",attributeType:"checkbox"},{attributeName:"LIKE_NUM",attributeType:"checkbox"},{attributeName:"LIKE_URL",attributeType:"checkbox"},{attributeName:"LIKE_EMAIL",attributeType:"checkbox"},{attributeName:"POS",attributeType:"dropdown"},{attributeName:"ENT_TYPE",attributeType:"textbox"}],vm.wildCard=["!","?","+","*"],vm.phraseArray=[],vm.tokenArray=[],$scope.$on("onSubmit",function(event,args){vm.inputData=TADataStore.getInputData(vm.operation)}),vm.loaderText="Loading...",vm.showLoading=!1,vm.showTextError=!1,vm.showPatternError=!1,vm.pipelineSetting={removeFeatureCheckBoxVal:!1,setConcatenate:!1,setCounPattern:!1,setReduce:!1},vm.model=[],TADataStore.getAllOperationData().forEach(function(loadVal){loadVal.uid==vm.operation.uid&&loadVal.taskConfig.operationParameters&&(loadVal.taskConfig.operationParameters.addFeature.length&&(loadVal.taskConfig.operationParameters.addFeature.includes("count")&&loadVal.taskConfig.operationParameters.addFeature.includes("concat")&&loadVal.taskConfig.operationParameters.addFeature.includes("reduce")?(vm.pipelineSetting.setConcatenate=!0,vm.pipelineSetting.setCounPattern=!0,vm.pipelineSetting.setReduce=!0):loadVal.taskConfig.operationParameters.addFeature.includes("count")&&loadVal.taskConfig.operationParameters.addFeature.includes("concat")?(vm.pipelineSetting.setConcatenate=!0,vm.pipelineSetting.setCounPattern=!0):loadVal.taskConfig.operationParameters.addFeature.includes("count")&&loadVal.taskConfig.operationParameters.addFeature.includes("reduce")?(vm.pipelineSetting.setCounPattern=!0,vm.pipelineSetting.setReduce=!0):loadVal.taskConfig.operationParameters.addFeature.includes("concat")&&loadVal.taskConfig.operationParameters.addFeature.includes("reduce")?(vm.pipelineSetting.setConcatenate=!0,vm.pipelineSetting.setReduce=!0):loadVal.taskConfig.operationParameters.addFeature.includes("reduce")?vm.pipelineSetting.setReduce=!0:loadVal.taskConfig.operationParameters.addFeature.includes("count")?vm.pipelineSetting.setCounPattern=!0:loadVal.taskConfig.operationParameters.addFeature.includes("concat")&&(vm.pipelineSetting.setConcatenate=!0)),vm.pipelineSetting.removeFeatureCheckBoxVal=loadVal.taskConfig.operationParameters.removeFeature,vm.selectedModel=loadVal.taskConfig.operationParameters.model,vm.patternArray=loadVal.taskConfig.operationParameters.patterns)}),vm.gettaModelsList=function(taskType){var foundModel=!(vm.showLoading=!0);new GeneralSettings.taModel.query({taskType:taskType}).$promise.then(function(taModelList){vm.model=taModelList,vm.selectedModel&&"spacy-en_core_web_sm"!=vm.selectedModel&&(vm.model.forEach(function(model){model.modelName!==vm.selectedModel&&model.oldModelFileName!==vm.selectedModel||(vm.selectedModel=JSON.stringify(model),foundModel=!0)}),foundModel||(vm.uploadModelIssueMsg=!0)),vm.showLoading=!1},function(err){toaster.pop("error",$scope.app.name,err.statusText,3e3),vm.showLoading=!1})},vm.addOption=function(){vm.patternArray.push({name:"",phrases:[],tokens:[]})},vm.removePattern=function(option){vm.patternArray.splice(vm.patternArray.indexOf(option),1)},vm.addPhrase=function(index){vm.patternArray[index].phrases.push(vm.phrase[index]),vm.phrase=""},vm.addToken=function(index){5==vm.patternArray[index].tokens.length||vm.patternArray[index].tokens.push({attributeLabel:"",attributeValue:"",wildCard:""})},vm.removeToken=function(option,index){index=vm.patternArray.indexOf(index);vm.patternArray[index].tokens.splice(vm.patternArray[index].tokens.indexOf(option),1)},vm.removePhrase=function(option,index){index=vm.patternArray.indexOf(index);vm.patternArray[index].phrases.splice(vm.patternArray[index].phrases.indexOf(option),1)},vm.getToolTipData=function(tooltip){return TooltipData.getTootipInfo(tooltip)[0]},vm.remove=function(){TADataStore.removeOperation(vm.operation),vm.onRemove(vm.operation)},vm.openGraphView=function(){var modalInstance;vm.loaderText="Please wait, Graph is loading.",vm.showPopupLoading=!0;var modalScope=$scope.$new();vm.onSubmit("html"),modalInstance=$uibModal.open({templateUrl:"graphView.html",size:"lg",scope:modalScope}),modalScope.cancel=function($modalInstance){modalInstance.close(modalScope.selected)}},vm.downloadPosGraph=function(){var a=document.createElement("a");document.body.appendChild(a);var fileURL=new Blob([vm.htmlOutput],{type:"application/html"}),fileURL=window.URL.createObjectURL(fileURL);a.href=fileURL,a.download="ruleBased_graph.html",a.click()},vm.showPipelineSetting=function(){var modalInstance=$uibModal.open({templateUrl:"rulebasedpipelineSettingModal.html",size:"lg",scope:$scope});$scope.cancel=function(){modalInstance.close()},$scope.prepareData=function(pipelineData){pipelineData.setCounPattern&&pipelineData.setConcatenate&&pipelineData.setReduce?vm.pipelineSetting.featureOption=["concat","count","reduce"]:pipelineData.setCounPattern&&pipelineData.setConcatenate?vm.pipelineSetting.featureOption=["concat","count"]:pipelineData.setConcatenate&&pipelineData.setReduce?vm.pipelineSetting.featureOption=["concat","reduce"]:pipelineData.setCounPattern&&pipelineData.setReduce?vm.pipelineSetting.featureOption=["count","reduce"]:pipelineData.setReduce?vm.pipelineSetting.featureOption=["reduce"]:pipelineData.setCounPattern?vm.pipelineSetting.featureOption=["count"]:pipelineData.setConcatenate?vm.pipelineSetting.featureOption=["concat"]:vm.pipelineSetting.featureOption=[]}},vm.onSubmit=function(modelInfo){if(vm.selectedModel)if(vm.patternArray[0].name){vm.showPatternError=!1;var patterns=vm.patternArray.filter(function(item){if(""!=item.name)return 0<item.tokens.length&&item.tokens.filter(function(data){if(""!=data.attributeLabel&&""!=data.attributeValue)return data}),item});if(0==patterns)return vm.showPatternError=!0,void(vm.showOutput=!1);var renderType=null,renderType=modelInfo||(vm.loaderText="Please wait, Rule based match is in progress.",vm.showLoading=!0,"table"),inputData=TADataStore.getInputData(vm.operation);if(!inputData)return vm.showTextError=!0,vm.showLoading=!1,void(vm.showPopupLoading=!1);vm.showTextError=!1,inputData=inputData.output;modelInfo=vm.selectedModel;"spacy-en_core_web_sm"!=modelInfo&&(modelInfo=JSON.parse(vm.selectedModel));var taskConfig=[{operationName:"ruleBasedMatching",operationParameters:{model:modelInfo.modelName||vm.selectedModel,addFeature:vm.pipelineSetting.featureOption||[],modelPath:"./textanalysis/models/".concat(modelInfo.modelName),framework:modelInfo.frameWork,patterns:patterns}}];TextAnalysis.ruleBasedMatch.query({data:inputData,taskConfig:taskConfig,renderType:renderType}).$promise.then(function(res){vm.showOutput=!0,"html"==renderType?(vm.htmlOutput=res.data.data,vm.html=$sce.trustAsHtml(vm.htmlOutput)):vm.output=res.data.data,TADataStore.saveOperationOutput({uid:vm.operation.uid,operation:vm.operation.operation,output:vm.output,taskConfig:taskConfig}),vm.showLoading=!1,vm.showPopupLoading=!1,$rootScope.$broadcast("onSubmit")},function(err){vm.showOutput=!1,vm.showLoading=!1,vm.showPopupLoading=!1})}else vm.showPatternError=!0;else vm.showPatternError=!0}}]});
"use strict";angular.module("app.textanalysis").component("sentimentAnalysis",{templateUrl:"modules/textanalysis/client/views/sentimentAnalysis.component.client.html",bindings:{operation:"<",onRemove:"&"},controllerAs:"vm",controller:["TADataStore","TextAnalysis","$scope","$uibModal","toaster","$rootScope","TooltipData",function(TADataStore,TextAnalysis,$scope,$uibModal,toaster,$rootScope,TooltipData){var vm=this;vm.inputData=TADataStore.getInputData(vm.operation),vm.isAccordianOpen=vm.operation.isAccordianOpen,$scope.$on("closeAccordian",function(event,args){vm.isAccordianOpen=vm.operation.isAccordianOpen}),$scope.$on("onSubmit",function(event,args){vm.inputData=TADataStore.getInputData(vm.operation)}),vm.loaderText="Loading...",vm.showLoading=!1,vm.showTextError=!1,vm.selectedModel="",vm.infoRetSliderVal=0,vm.showOutput=!1,vm.popoverTemplate={content1:"The subjectivity score ranges between 0 to 1, 0 is very objective and 1 is very subjective.",content2:"Subjective sentences generally refer to personal opinion, emotion or judgement whereas objective refers to factual information.",templateUrl:"subjectivityInfoTemplate.html",title:"Note"},vm.modelsList=[{modelName:"Polarized Model",modelKey:"polarizedmodel"}],vm.getToolTipData=function(tooltip){return TooltipData.getTootipInfo(tooltip)[0]},vm.pipelineSetting={removeFeatureCheckBoxVal:!1,setSubjectivityAsFeature:!1,setSentimentAsFeature:!1},vm.showPipelineSetting=function(){var modalInstance;vm.inputFeatureName=TADataStore.getFirstInputData().featureName,modalInstance=$uibModal.open({templateUrl:"pipelineSettingModal.html",size:"lg",scope:$scope}),$scope.cancel=function(){modalInstance.close()},$scope.prepareData=function(pipelineData){vm.pipelineSetting.removeFeatureCheckBoxVal=pipelineData.removeFeatureCheckBoxVal,pipelineData.setSentimentAsFeature&&pipelineData.setSubjectivityAsFeature?vm.pipelineSetting.featureOption=["sentiment","subjectivity"]:pipelineData.setSentimentAsFeature?vm.pipelineSetting.featureOption=["sentment"]:pipelineData.setSubjectivityAsFeature?vm.pipelineSetting.featureOption=["subjectivity"]:vm.pipelineSetting.featureOption=[]}},TADataStore.getAllOperationData().forEach(function(loadVal){loadVal.uid==vm.operation.uid&&loadVal.taskConfig.operationParameters&&(vm.selectedModel=loadVal.taskConfig.operationParameters.model,loadVal.taskConfig.operationParameters.addFeature.length&&(loadVal.taskConfig.operationParameters.addFeature.includes("count")&&loadVal.taskConfig.operationParameters.addFeature.includes("concat")?(vm.pipelineSetting.setCountTag=!0,vm.pipelineSetting.setConcatenate=!0):loadVal.taskConfig.operationParameters.addFeature.includes("count")?vm.pipelineSetting.setCountTag=!0:loadVal.taskConfig.operationParameters.addFeature.includes("concat")&&(vm.pipelineSetting.setConcatenate=!0)),vm.pipelineSetting.removeFeatureCheckBoxVal=loadVal.taskConfig.operationParameters.removeFeature)}),vm.remove=function(){TADataStore.removeOperation(vm.operation),vm.onRemove(vm.operation)},vm.onSubmit=function(){vm.loaderText="Please Wait, Sentiment Analysis is in progress",vm.showLoading=!0,vm.showTextError=!1;var inputData=TADataStore.getInputData(vm.operation);if(!inputData)return vm.showTextError=!0,void(vm.showLoading=!1);var sentimentAnalysisParams={data:inputData.output,taskConfig:[{operationName:"sentimentAnalysis",operationParameters:{model:vm.selectedModel,addFeature:vm.pipelineSetting.featureOption||[]}}]};TextAnalysis.sentimentAnalysis.query(sentimentAnalysisParams).$promise.then(function(res){vm.showOutput=!0,vm.output=res.data.data,TADataStore.saveOperationOutput({uid:vm.operation.uid,operation:"sentimentAnalysis",output:vm.output,taskConfig:sentimentAnalysisParams.taskConfig}),vm.showLoading=!1,$rootScope.$broadcast("onSubmit")},function(err){vm.showOutput=!1,toaster.pop("error",$scope.app.name,"Error Analysing text",3e3),vm.showLoading=!1})}}]});
"use strict";angular.module("app.textanalysis").component("textCleaning",{templateUrl:"modules/textanalysis/client/views/textCleaning.component.client.view.html",bindings:{operation:"<",onRemove:"&"},controllerAs:"vm",controller:["TextAnalysis","TADataStore","$scope","$rootScope","TooltipData",function(TextAnalysis,TADataStore,$scope,$rootScope,TooltipData){var vm=this;vm.cleaningOper=[],vm.showThresholdSlider=!1,vm.showTextError=!1,vm.shortwordSliderVal=1,vm.showOutput=!1,vm.loaderText="Loading...",vm.showLoading=!1,vm.showValidationError=!1,vm.popoverContent="Click to Copy",vm.inputData=TADataStore.getInputData(vm.operation),vm.isAccordianOpen=vm.operation.isAccordianOpen,$scope.$on("closeAccordian",function(event,args){vm.isAccordianOpen=vm.operation.isAccordianOpen}),$scope.$on("onSubmit",function(event,args){vm.inputData=TADataStore.getInputData(vm.operation)}),vm.remove=function(){TADataStore.removeOperation(vm.operation),vm.onRemove(vm.operation)},vm.cleaningOperations=[{operationName:"Remove Numbers",operationKey:"removeNum"},{operationName:"Remove hyperlinks",operationKey:"removeHyper"},{operationName:"Remove emoticons/emojis",operationKey:"removeEmoticon"},{operationName:"Remove words",operationKey:"shortWord"},{operationName:"Expand contractions",operationKey:"expandCont"},{operationName:"Remove punctuations",operationKey:"removePunct"},{operationName:"Stemming",operationKey:"stemming"},{operationName:"Lemmatization",operationKey:"lemmatization"},{operationName:"Option To Delete Rows If Empty Ones Are Created After Cleaning",operationKey:"optionToDeleteRow"}],vm.getToolTipData=function(tooltip){return TooltipData.getTootipInfo(tooltip)[0]},TADataStore.getAllOperationData().forEach(function(loadVal){loadVal.uid==vm.operation.uid&&loadVal.taskConfig.operationParameters&&loadVal.taskConfig.operationParameters.forEach(function(param){"shortWord"==param.operationKey&&(vm.showThresholdSlider=!0,vm.shortwordSliderVal=param.threshold),vm.cleaningOper.push(param.operationKey)})}),vm.onOperationSelection=function(data){vm.cleaningOper.includes("shortWord")?vm.showThresholdSlider=!0:vm.showThresholdSlider=!1},vm.setdefaults=function(){$("#shortWordSlider").css({background:"linear-gradient(to right,#08509d "+20*vm.shortwordSliderVal+"%,white "+20*vm.shortwordSliderVal+"%)"})},vm.slidefunc=function(){document.getElementById("shortWordSlider")&&(document.getElementById("shortWordSlider").oninput=function(){$("#shortWordSlider").css({background:"linear-gradient(to right,#08509d "+20*vm.shortwordSliderVal+"%,white "+20*vm.shortwordSliderVal+"%)"})})},vm.copyOutput=function(){var textToCopyElement=document.getElementById("summarizationOutput").innerText,dummyElem=document.createElement("textarea");document.body.appendChild(dummyElem),dummyElem.value=textToCopyElement,dummyElem.select(),document.execCommand("copy"),dummyElem.classList.add("hide"),vm.popoverContent="Copied!"},vm.onSubmit=function(){var cleanOperation,inputData,taskConfig;vm.showOutput=!1,null==vm.shortwordSliderVal||vm.shortwordSliderVal<1?vm.showValidationError=!0:(vm.showValidationError=!1,cleanOperation=vm.cleaningOperations.filter(function(item){return vm.cleaningOper.some(function(doc){return item.operationKey===doc})}).map(function(o){if("Remove words"!=o.operationName)return o;o=Object.assign({},o);return o.threshold=vm.shortwordSliderVal,o}),(inputData=TADataStore.getInputData(vm.operation))?(vm.showTextError=!1,vm.popoverContent="Click to Copy",vm.loaderText="Please wait, Text cleaning is in progress.",vm.showLoading=!0,inputData=inputData.output,taskConfig=[{operationName:"textCleaning",operationParameters:cleanOperation}],TextAnalysis.textCleaning.query({data:inputData,taskConfig:taskConfig}).$promise.then(function(res){vm.showOutput=!0,vm.output=res.data.data,TADataStore.saveOperationOutput({uid:vm.operation.uid,operation:vm.operation.operation,output:vm.output,taskConfig:taskConfig}),vm.showLoading=!1,$rootScope.$broadcast("onSubmit")},function(err){vm.showOutput=!1,vm.showLoading=!1})):vm.showTextError=!0)}}]});
"use strict";angular.module("app.textanalysis").component("textSummarization",{templateUrl:"modules/textanalysis/client/views/textSummarization.component.client.html",bindings:{operation:"<",onRemove:"&"},controllerAs:"vm",controller:["TADataStore","TextAnalysis","$scope","toaster","$rootScope","TooltipData",function(TADataStore,TextAnalysis,$scope,toaster,$rootScope,TooltipData){var vm=this;vm.inputData=TADataStore.getInputData(vm.operation),vm.isAccordianOpen=vm.operation.isAccordianOpen,$scope.$on("closeAccordian",function(event,args){vm.isAccordianOpen=vm.operation.isAccordianOpen}),$scope.$on("onSubmit",function(event,args){vm.inputData=TADataStore.getInputData(vm.operation)}),vm.loaderText="Loading...",vm.showLoading=!1,vm.popoverContent="Click to Copy",vm.showTextError=!1,vm.selectedModel="",vm.infoRetSliderVal=50,vm.showOutput=!1,vm.modelsList=[{modelName:"Scoring Model",modelKey:"scoringmodel"},{modelName:"Similarity Model",modelKey:"similaritymodel"}],vm.setdefaults=function(){$("#infoRetSlider").css({background:"linear-gradient(to right,#08509d "+vm.infoRetSliderVal+"%,white "+vm.infoRetSliderVal+"%)"})},vm.slidefunc=function(){document.getElementById("infoRetSlider")&&(document.getElementById("infoRetSlider").oninput=function(){$("#infoRetSlider").css({background:"linear-gradient(to right,#08509d "+vm.infoRetSliderVal+"%,white "+vm.infoRetSliderVal+"%)"})})},vm.getToolTipData=function(tooltip){return TooltipData.getTootipInfo(tooltip)[0]},vm.remove=function(){TADataStore.removeOperation(vm.operation),vm.onRemove(vm.operation)},TADataStore.getAllOperationData().forEach(function(loadVal){loadVal.uid==vm.operation.uid&&loadVal.taskConfig.operationParameters&&(vm.selectedModel=loadVal.taskConfig.operationParameters.model,vm.infoRetSliderVal=loadVal.taskConfig.operationParameters.informationRetained)}),vm.copyOutput=function(){var textToCopyElement=document.getElementById("summarizationOutput").innerText,dummyElem=document.createElement("textarea");document.body.appendChild(dummyElem),dummyElem.value=textToCopyElement,dummyElem.select(),document.execCommand("copy"),dummyElem.classList.add("hide"),vm.popoverContent="Copied!"},vm.onSubmit=function(){vm.popoverContent="Click to Copy",vm.loaderText="Please Wait, doing summarization",vm.showLoading=!0,vm.showTextError=!1;var inputData=TADataStore.getInputData(vm.operation);if(!inputData)return vm.showTextError=!0,void(vm.showLoading=!1);var summarizeParam={data:inputData.output,taskConfig:[{operationName:"textSummarization",operationParameters:{model:vm.selectedModel,informationRetained:vm.infoRetSliderVal}}]};TextAnalysis.textSummarization.query(summarizeParam).$promise.then(function(res){vm.showOutput=!0,vm.output=res.data.data,TADataStore.saveOperationOutput({uid:vm.operation.uid,operation:"textSummarization",output:vm.output,taskConfig:summarizeParam.taskConfig}),vm.showLoading=!1,$rootScope.$broadcast("onSubmit")},function(err){vm.showOutput=!1,vm.showLoading=!1})}}]});
"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}angular.module("app.textanalysis").component("wordEmbedding",{templateUrl:"modules/textanalysis/client/views/wordEmbedding.component.client.html",bindings:{operation:"<",onRemove:"&"},controllerAs:"vm",controller:["TADataStore","TextAnalysis","$scope","toaster","$rootScope","TooltipData","$uibModal",function(TADataStore,TextAnalysis,$scope,toaster,$rootScope,TooltipData,$uibModal){var vm=this;vm.inputData=TADataStore.getInputData(vm.operation),vm.isAccordianOpen=vm.operation.isAccordianOpen,$scope.$on("closeAccordian",function(event,args){vm.isAccordianOpen=vm.operation.isAccordianOpen}),$scope.$on("onSubmit",function(event,args){vm.inputData=TADataStore.getInputData(vm.operation)}),vm.loaderText="Loading...",vm.showLoading=!1,vm.showTextError=!1,vm.showTableOutput=!1,vm.showTextOutput=!1,vm.wordEmbedding={selectedModel:null,wordVectorSliderVal:100,selectedTrainingAlgorithm:null,selectedFunctionality:null},vm.modelsList=[{modelName:"Word2Vec",modelKey:"word2vec"}],vm.trainingAlgorithmList=[{algorithmName:"CBOW",value:"0"},{algorithmName:"skip-gram",value:"1"}],vm.functionsList=[{functionName:"Similarity Score",value:"similarityscore"},{functionName:"Most Similar Word",value:"mostsimilarword"},{functionName:"Output Word",value:"outputword"}],vm.getToolTipData=function(tooltip){return TooltipData.getTootipInfo(tooltip)[0]},vm.setdefaults=function(){$("#wordEmbeddingSlider").css({background:"linear-gradient(to right,#08509d "+vm.wordEmbedding.wordVectorSliderVal/5+"%,white "+vm.wordEmbedding.wordVectorSliderVal/5+"%)"})},vm.slidefunc=function(){document.getElementById("wordEmbeddingSlider")&&(document.getElementById("wordEmbeddingSlider").oninput=function(){$("#wordEmbeddingSlider").css({background:"linear-gradient(to right,#08509d "+vm.wordEmbedding.wordVectorSliderVal/5+"%,white "+vm.wordEmbedding.wordVectorSliderVal/5+"%)"})})},vm.remove=function(){TADataStore.removeOperation(vm.operation),vm.onRemove(vm.operation)},TADataStore.getAllOperationData().forEach(function(loadVal){loadVal.uid==vm.operation.uid&&loadVal.taskConfig.operationParameters&&(vm.wordEmbedding.selectedModel=loadVal.taskConfig.operationParameters.model,vm.wordEmbedding.wordVectorSliderVal=loadVal.taskConfig.operationParameters.wordVector||100,0<=loadVal.taskConfig.operationParameters.trainingAlgorithm&&vm.trainingAlgorithmList.forEach(function(algorithm){loadVal.taskConfig.operationParameters.trainingAlgorithm==algorithm.value&&(vm.wordEmbedding.selectedTrainingAlgorithm=algorithm.value)}),vm.wordEmbedding.selectedFunctionality=loadVal.taskConfig.operationParameters.method,loadVal.taskConfig.operationParameters.input&&"object"===_typeof(loadVal.taskConfig.operationParameters.input)?(vm.wordEmbedding.input1=loadVal.taskConfig.operationParameters.input[0],vm.wordEmbedding.input2=loadVal.taskConfig.operationParameters.input[1]):vm.wordEmbedding.input1=loadVal.taskConfig.operationParameters.input)}),vm.setInputToDefault=function(){delete vm.wordEmbedding.input1,delete vm.wordEmbedding.input2},vm.showPipelineSetting=function(){var modalInstance=$uibModal.open({templateUrl:"wordEmbeddingPipelineSettingModal.html",size:"lg",scope:$scope});$scope.cancel=function(){modalInstance.close()},$scope.prepareData=function(setVector){vm.featureValue=setVector?["vector"]:[]}},vm.onSubmit=function(wordEmbeddingData){vm.showTableOutput=!1,vm.showTextOutput=!1,vm.loaderText="Please Wait, doing word embedding",vm.showLoading=!0,vm.showTextError=!1;var inputData=TADataStore.getInputData(vm.operation);if(!inputData)return vm.showTextError=!0,void(vm.showLoading=!1);inputData=inputData.output,wordEmbeddingData.input1&&wordEmbeddingData.input2?vm.wordEmbedding.input=[wordEmbeddingData.input1,wordEmbeddingData.input2]:wordEmbeddingData.input1?vm.wordEmbedding.input=wordEmbeddingData.input1:vm.wordEmbedding.input=wordEmbeddingData.input2;var wordEmbeddingParam={data:inputData,taskConfig:[{operationName:"wordEmbedding",operationParameters:{model:wordEmbeddingData.selectedModel,wordVector:parseInt(wordEmbeddingData.wordVectorSliderVal)||100,trainingAlgorithm:parseInt(wordEmbeddingData.selectedTrainingAlgorithm)||0,method:wordEmbeddingData.selectedFunctionality,input:wordEmbeddingData.input||null,addFeature:vm.featureValue||[]}}]};TextAnalysis.wordEmbedding.query(wordEmbeddingParam).$promise.then(function(res){"string"==typeof res.data.data&&"word is not in vocab"===res.data.data?(vm.showTableOutput=!1,vm.showTextOutput=!0,vm.output="word is not in vocab"):"similarityscore"==wordEmbeddingParam.taskConfig[0].operationParameters.method?(vm.showTextOutput=!0,vm.output="The Similarity Score is "+res.data.data+"."):(vm.showTableOutput=!0,vm.output=res.data.data),TADataStore.saveOperationOutput({uid:vm.operation.uid,operation:"wordEmbedding",output:vm.output,taskConfig:wordEmbeddingParam.taskConfig}),vm.showLoading=!1,$rootScope.$broadcast("onSubmit")},function(err){vm.showTableOutput=!1,vm.showTextOutput=!1,vm.showLoading=!1})}}]});
"use strict";angular.module("app.textanalysis").component("wordFrequency",{templateUrl:"modules/textanalysis/client/views/wordFrequency.component.client.html",bindings:{operation:"<",onRemove:"&"},controllerAs:"vm",controller:["TADataStore","$scope","TextAnalysis","$element","ProjectCore","$rootScope","TooltipData",function(TADataStore,$scope,TextAnalysis,$element,ProjectCore,$rootScope,TooltipData){var vm=this;vm.showOutput=!1,vm.loaderText="Loading...",vm.showLoading=!1,vm.showValidationError=!1,vm.inputData=TADataStore.getInputData(vm.operation),vm.textFrequency=20,vm.project=ProjectCore.getProject(),vm.isAccordianOpen=vm.operation.isAccordianOpen,$scope.$on("closeAccordian",function(event,args){vm.isAccordianOpen=vm.operation.isAccordianOpen}),$scope.$on("onSubmit",function(event,args){vm.inputData=TADataStore.getInputData(vm.operation)}),vm.setdefaults=function(){$("#myRangeslider").css({background:"linear-gradient(to right,#08509d "+vm.textFrequency+"%,white "+vm.textFrequency+"%)"})},vm.slidefunc=function(){document.getElementById("myRangeslider")&&(document.getElementById("myRangeslider").oninput=function(){$("#myRangeslider").css({background:"linear-gradient(to right,#08509d "+vm.textFrequency+"%,white "+vm.textFrequency+"%)"})})},TADataStore.getAllOperationData().forEach(function(loadVal){loadVal.uid==vm.operation.uid&&loadVal.taskConfig.operationParameters&&(vm.textFrequency=loadVal.taskConfig.operationParameters.maxWords)}),vm.getToolTipData=function(tooltip){return TooltipData.getTootipInfo(tooltip)[0]},vm.remove=function(){TADataStore.removeOperation(vm.operation),vm.onRemove(vm.operation)},vm.onSubmit=function(){var input,fileName,feature,configData,wordConfig;vm.showOutput=!1,null==vm.textFrequency||vm.textFrequency<10?vm.showValidationError=!0:(vm.showValidationError=!1,(configData=TADataStore.getFirstInputData())?(vm.showTextError=!1,vm.loaderText="Please wait, Word Frequency is in progress.",vm.showLoading=!0,input=TADataStore.getInputData(vm.operation).output,fileName=configData.fileName,feature=configData.featureName,configData={},fileName&&feature?(configData.colName=feature,configData.fileName=fileName,configData.maxWords=vm.textFrequency,configData.projectId=vm.project._id):(configData.data=input,configData.maxWords=vm.textFrequency),wordConfig=[{operationName:"wordFrequency",operationParameters:configData}],vm.showOutput=!0,TextAnalysis.wordFrequency.query({data:configData}).$promise.then(function(res){vm.output=res.data;for(var graphDiv=$element.find("#wordFrequencyPlot").get(0);graphDiv.data&&0<graphDiv.data.length;)Plotly.deleteTraces(graphDiv,[0]);vm.output.layout.template.layout.title.xanchor="center",vm.output.layout.template.layout.title.y=.9,vm.output.layout.template.layout.title.x=.5,vm.output.layout.template.layout.title.yanchor="top",vm.output.layout.autosize=!0,Plotly.plot(graphDiv,vm.output.data,vm.output.layout),TADataStore.saveOperationOutput({uid:vm.operation.uid,operation:vm.operation.operation,output:vm.output,taskConfig:wordConfig}),vm.showLoading=!1,$rootScope.$broadcast("onSubmit")},function(err){vm.showOutput=!1,vm.showLoading=!1})):vm.showTextError=!0)}}]});
"use strict";!function(){function coreMenu(Menus){Menus.addMenuItem("sidebar",{title:"Text Analysis *",state:"app.textanalysis",iconClass:"fa fa-file-text",position:2,roles:["admin","developer","super_admin"]})}angular.module("app.notebook").run(coreMenu),coreMenu.$inject=["Menus"]}();
"use strict";!function(){function appRoutes($stateProvider,helper){$stateProvider.state("app.textanalysis",{url:"text-analysis",templateUrl:"modules/textanalysis/client/views/list-textanalysis.client.view.html",controller:"TextanalysisController as vm",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","ui.bootstrap-slider","ui.select","taginput","inputmask","localytics.directives")}).state("app.textanalysis-create",{url:"text-analysis/create/:experimentId",templateUrl:"modules/textanalysis/client/views/create-textanalysis.client.view.html",controller:"TextanalysisController as vm",resolve:helper.resolveFor("oitozero.ngSweetAlert","datatables","ui.sortable","ui.bootstrap-slider","ui.select","taginput","inputmask","localytics.directives")})}angular.module("app.textanalysis").config(appRoutes),appRoutes.$inject=["$stateProvider","RouteHelpersProvider"]}();
"use strict";function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}!function(){function TextanalysisController($state,$scope,ProjectCore,DataService,SweetAlert,toaster,$uibModal,Project,TextAnalysis,TADataStore,$rootScope,Socket,$stateParams,TooltipData,$window){var vm=this;vm.showData=!1,vm.showLoading=!1,vm.experimentsList=[],vm.showError=!1,vm.isAccordianOpen=!0,vm.loaderText="Loading...",vm.checkExecuteSequence=!1,vm.isMoving=!1,vm.feature,vm.showSAveApplybtn=!0,vm.selectedOperations=[];var operations=[{title:"Cleaning/ Transformation",operation:"cleaningTransformation",class:"fa fa-magic iconfont",isAccordianOpen:!0},{title:"POS Tagging",operation:"posTagging",class:"fa fa-tag iconfont",isAccordianOpen:!0},{title:"NER",operation:"ner",class:"fa fa-ticket iconfont",isAccordianOpen:!0},{title:"Sentiment Analysis",operation:"sentimentAnalysis",class:"fa fa-circle-o-notch iconfont",isAccordianOpen:!0},{title:"Text Summarization",operation:"textSummarization",class:"fa fa-file-text iconfont",isAccordianOpen:!0},{title:"Word Frequency",operation:"wordFrequency",class:"fa fa-object-group iconfont",isAccordianOpen:!0},{title:"Word Embedding",operation:"wordEmbedding",class:"fa fa-language iconfont",isAccordianOpen:!0},{title:"Rule Based Matching",operation:"ruleBasedMatch",class:"fa fa-window-restore iconfont",isAccordianOpen:!0}];function getDatasetsList(){return DataService.listAllProjectDatas.query({projectId:vm.project._id}).$promise}vm.draggableOptions={connectWith:".connected-drop-target-sortable",stop:function(e,ui){var tempObj;ui.item.sortable.source.hasClass("draggable-element-container")&&ui.item.sortable.droptarget&&ui.item.sortable.droptarget!=ui.item.sortable.source&&ui.item.sortable.droptarget.hasClass("connected-drop-target-sortable")&&(ui.item.sortable.model.uid=Date.now(),ui.item.sortable.model.isAccordianOpen=!0,tempObj=_objectSpread({},ui.item.sortable.model),ui.item.sortable.sourceModel.push(tempObj)),vm.isMoving=!1},update:function(){},activate:function(){vm.isMoving=!0,vm.selectedOperations=vm.selectedOperations.map(function(item){return item.isAccordianOpen=!1,item}),$scope.$apply(),$rootScope.$broadcast("closeAccordian")}},$scope.stop=function(e,ui){TADataStore.orderOperationData(vm.selectedOperations,"reoder")},$scope.update=function(e,ui){},vm.draggables=operations.map(function(x){return[x]}),vm.onOperationRemoved=function(index){vm.selectedOperations.splice(index,1)},vm.getToolTipData=function(tooltip){return TooltipData.getTootipInfo(tooltip)[0]},vm.cleartaData=function(mode){TADataStore.cleartaData()},vm.project=ProjectCore.getProject(),getDatasetsList().then(function(res){vm.dataSetsList=res[0].filesList,vm.loadExperimentsData()}),vm.getExperimentsList=function(){TextAnalysis.experimentList.query({projectId:vm.project._id}).$promise.then(function(res){vm.experimentsList=res,vm.cleartaData()})},vm.setValuesAfterRefresh=function(){vm.cleartaData();var experimentState=$window.localStorage.getItem("experimentMode");TextAnalysis.experimentList.query({projectId:vm.project._id}).$promise.then(function(res){vm.experimentsList=res,vm.experimentsList.forEach(function(experiment){experiment._id==$stateParams.experimentId&&getDatasetsList().then(function(res){vm.dataSetsList=res[0].filesList,vm.setExperimentsData(experiment,experimentState),vm.loadExperimentsData()})})})},vm.setExperimentsData=function(operationsData,inputDataForOperations){null!=inputDataForOperations?(vm.experimentMode=inputDataForOperations,$window.localStorage.setItem("experimentMode",vm.experimentMode)):$window.localStorage.removeItem("experimentMode"),vm.onChangeDataset(operationsData.fileId,!0,operationsData.feature);inputDataForOperations={uid:1,featureName:operationsData.feature,fileId:operationsData.fileId,operation:"inputData",output:operationsData.inputText,experimentName:operationsData.experimentName};vm.selectedDataSet&&(inputDataForOperations.fileName=vm.selectedDataSet.name),TADataStore.setExperimentsData(inputDataForOperations),operationsData.taskConfig.forEach(function(dataToSave){dataToSave={uid:dataToSave.uid,operation:dataToSave.operationName,taskConfig:dataToSave.parameters};TADataStore.setExperimentsData(dataToSave)}),$state.go("app.textanalysis-create",{experimentId:operationsData._id})},vm.loadExperimentsData=function(){var taData=TADataStore.getAllOperationData(!0);taData.length&&taData.forEach(function(data){operations.forEach(function(temp){"inputData"==data.operation&&(vm.selectedDataset=data.fileId,vm.onChangeDataset(vm.selectedDataset,!0,data.featureName),vm.featureDescription=data.output,vm.selectedDataSet&&(vm.filename=vm.selectedDataSet.name)),data.operation==temp.operation&&((temp=angular.copy(temp)).uid=data.uid,vm.selectedOperations.push(temp),vm.checkExecuteSequence=!0,vm.showSaveBtn=!1)})})},vm.deleteExperiment=function(experimentId){TextAnalysis.deleteExperiment.query({projectId:vm.project._id,experimentId:experimentId}).$promise.then(function(){vm.getExperimentsList()})},vm.onChangeDataset=function(dataId,callFromLoadFunction,featureData){vm.featureDescription="",vm.showLoading=!0,vm.selectedFeature=null,vm.showData=!1,vm.selectedDataSet=vm.dataSetsList.find(function(data){return data._id==dataId}),vm.selectedDataSet&&DataService.getChildDatasets.query({projectId:vm.selectedDataSet.ProjectId,dataId:dataId}).$promise.then(function(resp){0<resp.length?(vm.childFileData=resp[0],vm.edaData=resp[0].edaId,vm.targetList=vm.edaData.edaSummary.filter(function(data){return"Text"==data.dataType})):(vm.edaData=vm.selectedDataSet.fileSchema,vm.targetList=vm.edaData.filter(function(data){return"Text"==data.dataType})),0==vm.targetList.length?vm.showError=!0:vm.showError=!1,callFromLoadFunction&&(vm.selectedFeature=featureData,vm.feature=featureData),vm.showLoading=!1})},vm.onTextChange=function(data){TADataStore.saveOperationOutput({uid:1,operation:"inputData",output:data})},vm.onChangeFeature=function(feature){vm.filename="",vm.showData=!0,vm.childFileData&&"eda_"==vm.childFileData.fileSource?vm.filename=vm.childFileData.filename:vm.filename=vm.selectedDataSet.name,vm.feature=feature,vm.refresh()},vm.refresh=function(){vm.feature&&0<vm.feature.length&&(vm.showLoading=!0,TextAnalysis.listFeatureDetails.query({projectId:vm.project._id,featureName:vm.feature,fileName:vm.filename}).$promise.then(function(res){vm.featureDescription=res.data,TADataStore.saveOperationOutput({uid:1,operation:"inputData",output:vm.featureDescription,featureName:vm.feature,fileName:vm.filename}),vm.showLoading=!1},function(err){toaster.pop("error",$scope.app.name,"Error fetching text",3e3)}))},vm.openOption=function(){vm.modalTitle="Save Experiment",vm.modalSaveBtnText="Save",vm.modalApplyBtnText="Save & Apply",vm.selectedFeature?vm.showSAveApplybtn=!0:vm.showSAveApplybtn=!1,vm.operationData=TADataStore.getAllOperationData();var operationConfig=vm.operationData.map(function(item){return item.taskConfig[0]}),operation=[];vm.operationData.map(function(data){data={uid:data.uid,operationName:data.operation,parameters:data.taskConfig[0]};operation.push(data)});var modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"option.html",size:"lg",scope:modalScope});modalScope.cancel=function($modalInstance){modalInstance.close(modalScope.selected)},modalScope.saveAs=function(modalInstance){vm.showLoading=!0,modalScope.cancel();var dataConfig={experimentName:vm.experimentName,projectId:vm.project._id,inputText:vm.featureDescription,taskConfig:operation};dataConfig.fileId=vm.selectedDataSet?vm.selectedDataSet._id:null,dataConfig.feature=vm.feature||null,dataConfig.experimentId=$stateParams.experimentId||null,new TextAnalysis.saveTextAnalysis(dataConfig).$save(function(resp){vm.experimentName="",$state.go("app.textanalysis"),toaster.pop("success",$scope.app.name,"Text analysis started",3e3)},function(err){toaster.pop("error",$scope.app.name,"Error saving text analysis",3e3)})},modalScope.saveApply=function($modalInstance){var featureArray;vm.showLoading=!0,modalInstance.close(modalScope.selected),dataConfig=!0===vm.featureSelect?(featureArray=[],vm.targetList.map(function(item){featureArray.push(item.colName)}),featureArray):[vm.feature];var dataConfig={experimentName:vm.experimentName,projectId:vm.project._id,fileSource:"textAnalysis",dataGroupId:vm.selectedDataSet.datagroup_id,filePath:vm.filename,fileId:vm.selectedDataSet._id,feature:vm.feature,inputText:vm.featureDescription,fileSchema:vm.selectedDataSet.fileSchema,featureList:dataConfig,taskConfig:operationConfig,operation:operation};vm.childFileData?dataConfig.parentPipelineFilename=vm.childFileData.tasks[0].currentPipelineFilename:dataConfig.parentPipelineFilename=null,dataConfig.experimentId=$stateParams.experimentId||null,new TextAnalysis.saveApplyTextAnalysis(dataConfig).$save(function(resp){vm.experimentName="",vm.featureSelect=!1,toaster.pop("success",$scope.app.name,"Text analysis started",3e3)},function(err){toaster.pop("error",$scope.app.name,"Error saving text analysis",3e3)})}},Socket.on("textAnalysisDone",function(message){"completed"==message.status?(vm.showLoading=!1,vm.getExperimentsList(),$state.go("app.textanalysis"),toaster.pop("success",$scope.app.name,"Experiment saved successfully.",3e3)):toaster.pop("error",$scope.app.name,message.status.message||message.status||"Error occurred!!",3e3)}),$scope.$on("$destroy",function(){Socket.removeListener("textAnalysisDone")})}angular.module("app.textanalysis").controller("TextanalysisController",TextanalysisController),TextanalysisController.$inject=["$state","$scope","ProjectCore","DataService","SweetAlert","toaster","$uibModal","Project","TextAnalysis","TADataStore","$rootScope","Socket","$stateParams","TooltipData","$window"]}();
"use strict";function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}angular.module("app.textanalysis").factory("TADataStore",[function(){var taData=[],op={saveOperationOutput:function(opData){var foundIndex=taData.findIndex(function(item){return item.uid==opData.uid});-1==foundIndex?taData.push(opData):taData[foundIndex]=opData;taData[0]},getFirstInputData:getFirstInputData,getInputData:function(operation){var inputItem=null;{var operationIndex;"wordEmbedding"===operation.operation?inputItem=taData[0]:_toConsumableArray(-1!==(operationIndex=taData.findIndex(function(item){return item.uid==operation.uid}))?taData.slice(0,operationIndex):taData).reverse().some(function(item){if(validOperations.includes(item.operation)&&item.uid!=operation.uid)return inputItem=item,!0})}return inputItem},removeOperation:function(operation){taData=taData.filter(function(item){return item.uid!==operation.uid})},getAllOperationData:function(removeFilter){var operationData=taData;removeFilter||(operationData=operationData.filter(function(item){return"inputData"!==item.operation}));return operationData},cleartaData:function(){taData=[]},setExperimentsData:function(data){taData.push(data)},orderOperationData:function(operationData,input){{var result;"reoder"==input&&1<taData.length&&(input=taData[0],(result=[]).push(input),operationData.forEach(function(element){var data=taData.find(function(item){return item.operation==element.operation});data&&result.push(data)}),taData=result)}}};function getFirstInputData(){return taData[0]}var validOperations=["inputData","cleaningTransformation","textSummarization"];return op}]);
"use strict";angular.module("app.textanalysis").factory("TextAnalysis",["$resource",function($resource){return this.listFeatureDetails=$resource("/api/v2/projects/:projectId/textAnalysis/feature",{projectId:"@projectId"},{query:{isArray:!1,method:"GET"}}),this.textCleaning=$resource("/api/v2/textAnalysis/textCleaning",{},{query:{isArray:!1,method:"POST"}}),this.textSummarization=$resource("/api/v2/textAnalysis/textSummarization",{},{query:{isArray:!1,method:"POST"}}),this.pos=$resource("/api/v2/textAnalysis/pos",{},{query:{isArray:!1,method:"POST"}}),this.ner=$resource("/api/v2/textAnalysis/ner",{},{query:{isArray:!1,method:"POST"}}),this.wordFrequency=$resource("/api/v2/textAnalysis/wordFrequency",{},{query:{method:"POST"}}),this.experimentList=$resource("/api/v2/projects/:projectId/textAnalysis/experiments",{projectId:"@projectId"},{query:{isArray:!0,method:"GET"}}),this.sentimentAnalysis=$resource("/api/v2/textAnalysis/sentimentAnalysis",{},{query:{isArray:!1,method:"POST"}}),this.saveTextAnalysis=$resource("/api/v2/textAnalysis/saveAnalysis",{},{query:{isArray:!1,method:"POST"},update:{method:"PUT"}}),this.saveApplyTextAnalysis=$resource("/api/v2/textAnalysis/apply/saveAnalysis",{},{query:{isArray:!1,method:"POST"},update:{method:"PUT"}}),this.deleteExperiment=$resource("/api/v2/projects/:projectId/textAnalysis/experiments",{projectId:"@projectId"},{query:{isArray:!1,method:"DELETE"}}),this.taExperiment=$resource("/api/v2/textAnalysis/:taExperimentId",{taExperimentId:"@taExperimentId"},{query:{isArray:!1,method:"GET"}}),this.wordEmbedding=$resource("/api/v2/textAnalysis/wordEmbedding",{},{query:{isArray:!1,method:"POST"}}),this.ruleBasedMatch=$resource("/api/v2/textAnalysis/ruleBasedMatch",{},{query:{isArray:!1,method:"POST"}}),this}]);
"use strict";!function(){function coreMenu(Menus){Menus.addMenuItem("sidebar",{title:"Toolkit",state:"app.toolkit",iconClass:"fa fa-plug",position:8,roles:["*"]})}angular.module("app.toolkit").run(coreMenu),coreMenu.$inject=["Menus"]}();
"use strict";angular.module("app.toolkit").config(["$stateProvider","RouteHelpersProvider",function($stateProvider,helper){$stateProvider.state("app.toolkit",{url:"toolkit",templateUrl:"modules/toolkit/client/views/toolkit.client.view.html",resolve:helper.resolveFor("datatables","angularFileUpload","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle","summernote","ui.select","oitozero.ngSweetAlert"),controller:"ToolkitController as vm",authorization:{allowedRoles:["report_user","admin","developer","super_admin"]}})}]);
"use strict";!function(){function ToolkitController(Project,DTOptionsBuilder,DTColumnBuilder,$compile,$scope,ProjectCore,$state,Socket,toaster,$sce,Authentication,NVD3Config,TooltipData,SweetAlert,ToolkitService,$stateParams){}angular.module("app.toolkit").controller("ToolkitController",ToolkitController),ToolkitController.$inject=["Project","DTOptionsBuilder","DTColumnBuilder","$compile","$scope","ProjectCore","$state","Socket","toaster","$sce","Authentication","NVD3Config","TooltipData","SweetAlert","ToolkitService","$stateParams"]}();
"use strict";angular.module("app.toolkit").factory("ToolkitService",["$resource",function($resource){return this.listAllDDReports=$resource("/api/v2/projects/:projectId/toolkit",{projectId:"@_id"},{update:{method:"PUT"}}),this.startDriftAnalysis=$resource("/api/v2/projects/:projectId/model/:modelId/toolkit/start",{projectId:"@projectId",modelId:"@modelId"}),this.getDDReport=$resource("/api/v2/projects/:projectId/toolkit/:ddReportId",{projectId:"@_id"},{query:{method:"GET",isArray:!1}}),this}]);
"use strict";!function(){function coreMenu(Menus){Menus.addMenuItem("sidebar",{title:"Train Model",state:"app.training",iconClass:"fa fa-bolt",position:2,roles:["*"]})}angular.module("app.training").run(coreMenu),coreMenu.$inject=["Menus"]}();
"use strict";angular.module("app.training").config(["$stateProvider","RouteHelpersProvider",function($stateProvider,helper){$stateProvider.state("app.training",{url:"train-model",templateUrl:"modules/training/client/views/training.client.view.html",resolve:helper.resolveFor("datatables","angularFileUpload","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle","summernote","ui.select","oitozero.ngSweetAlert"),controller:"TrainingController as vm",authorization:{allowedRoles:["report_user","admin","developer","super_admin"]}})}]);
"use strict";!function(){function TrainingController(Project,$http,DTOptionsBuilder,DTColumnBuilder,$compile,$scope,ProjectCore,$state,Socket,toaster,$q,$sce,Authentication,NVD3Config,TooltipData,DataService,DBConnService,SweetAlert,TrainingService,TimeseriesService,NlpService,DynamicFormService,$uibModal,$timeout,TextAnalysis){var samplingdat,vm=this,td3=d3;vm.uploadFileSize=500,NVD3Config.setD3Object(td3),vm.showLoading=!1,vm.isNlp=!1;vm.testSize=20;function checkThemeColor(){Authentication.user.layout&&"themes/theme-l.css"==Authentication.user.layout.theme?(vm.backGround="#252525",vm.foreGround="#be7024"):(vm.backGround="#ffffff",vm.foreGround="#08509d")}function setNlpFeatureDefaults(){var featureVal;vm.nlpDefaultConfigData={nlpFeatureExtractionMethod:"CountVectorizer",nlpLanguage:"English",nFeatureCount:100,stripAccents:"none",decodeError:"strict",nGram:[vm.nGramOptions[0]]},vm.featureList.forEach(function(feature){var featureExists=!1;featureVal={colName:feature,nlpFeatureConfig:vm.nlpDefaultConfigData},vm.nlpConfigs.length?(vm.nlpConfigs.forEach(function(nlpFeature){nlpFeature.colName==featureVal.colName&&(featureExists=!0)}),featureExists||vm.nlpConfigs.push(featureVal)):vm.nlpConfigs.push(featureVal)}),vm.showNgramSlider=!1}function setModelData(){if(vm.modelAlgorithm=vm.prevTrainingInfo[0].algorithms,vm.nlpConfigs=vm.prevTrainingInfo[0].nlpConfigs,"timeseries"==vm.project.type)vm.dateColumnSelected=vm.prevTrainingInfo[0].dateColumnSelected,vm.preprocessedFilepath=vm.prevTrainingInfo[0].preprocessedFilepath,vm.testSize=vm.prevTrainingInfo[0].testSize||20,vm.prevTrainingInfo[0].timeseriesInfo&&(vm.methodSelected=vm.prevTrainingInfo[0].timeseriesInfo.method,vm.resamplingMethod=vm.prevTrainingInfo[0].timeseriesInfo.resamplingMethod,vm.aggregationFunction=vm.prevTrainingInfo[0].timeseriesInfo.aggregationFunction||null,vm.stationaryMethod=vm.prevTrainingInfo[0].timeseriesInfo.stationaryMethod,vm.featureScalingOption=vm.prevTrainingInfo[0].timeseriesInfo.featureScaling,vm.normalizationMethod=vm.prevTrainingInfo[0].timeseriesInfo.normalizationMethod),"Sarimax"==vm.modelAlgorithm[0]&&(vm.exogVariable=vm.prevTrainingInfo[0].timeseriesInfo.exogVariables);else if("predictive_modeling"==vm.project.type){vm.tempSelected=[];var output,algo=vm.prevTrainingInfo[0].algoType;if("regression"==algo?vm.estimatorAlgo=vm.estimatorRegAlgo:"classification"==algo&&(vm.estimatorAlgo=vm.estimatorClassAlgo),vm.indepVariables=vm.prevTrainingInfo[0].indepVariable,vm.kfold=vm.prevTrainingInfo[0].kFold,vm.testSize=vm.prevTrainingInfo[0].testSize,vm.featureScalingOption=vm.prevTrainingInfo[0].predictiveModelingInfo.featureScaling,vm.normalizationMethod=vm.prevTrainingInfo[0].predictiveModelingInfo.normalizationMethod,vm.validationStrategy.validationStrategyName=vm.prevTrainingInfo[0].validationStrategy.validationStrategyName,vm.validationStrategy.strategyValues.technique=vm.prevTrainingInfo[0].validationStrategy.strategyValues.technique,vm.validationStrategy.strategyValues.nSplit=vm.prevTrainingInfo[0].validationStrategy.strategyValues.nSplit,vm.validationStrategy.strategyValues.testSize=vm.prevTrainingInfo[0].validationStrategy.strategyValues.testSize,vm.sampling=vm.prevTrainingInfo[0].sampling,vm.decomposition=vm.prevTrainingInfo[0].predictiveModelingInfo.decomposition,vm.components=vm.prevTrainingInfo[0].predictiveModelingInfo.components,vm.fsMethod=vm.prevTrainingInfo[0].predictiveModelingInfo.featureSelectionMethod,vm.cv=vm.prevTrainingInfo[0].predictiveModelingInfo.featureSelectionCV,vm.featureStep=vm.prevTrainingInfo[0].predictiveModelingInfo.featureSelectionStep,vm.scoringFunction=vm.prevTrainingInfo[0].predictiveModelingInfo.scoringFunction,vm.featurePercentage=vm.prevTrainingInfo[0].predictiveModelingInfo.featurePercentage,vm.customFeatureChecked=vm.prevTrainingInfo[0].predictiveModelingInfo.customFeatureChecked,vm.customFeatures=vm.customFeatureChecked?vm.prevTrainingInfo[0].predictiveModelingInfo.customFeatures:[],vm.estimator=vm.prevTrainingInfo[0].predictiveModelingInfo.featureSelectionEstimator,"none"==vm.fsMethod&&(vm.cv=1,vm.featureStep=10),"logTransform"==vm.normalizationMethod){vm.tempfeat={};for(var colname=vm.prevTrainingInfo[0].edaId.edaSummary.filter(function(feature){if(!(feature.constantFeature||feature.highCardinalityFeature||feature.mostlyMissing||"Decimal"!=feature.dataType&&"Integer"!=feature.dataType&&"Numeric"!=feature.dataType))return feature}),test=[],i=0;i<colname.length;i++){var obj={colName:colname[i].colName};test.push(obj)}vm.tempfeat=test.map(function(feature){return feature.colName}),vm.scale=vm.prevTrainingInfo[0].scalarValue,vm.logTransformfeature=vm.prevTrainingInfo[0].logTransformationColumns,vm.showlog=!0,vm.showscalar=!0}"under_sampling"==vm.sampling||"over_sampling"==vm.sampling?(vm.showButton=!0,output=[],vm.samplingData=vm.prevTrainingInfo[0].samplingPercentage,Object.keys(vm.samplingData).forEach(function(record){output.push({colName:record,value:vm.samplingData[record],initValue:vm.samplingData[record]})}),vm.samplingData=output):vm.showButton=!1,vm.prevTrainingInfo[0]&&(vm.tempSelected=vm.indepVariables),vm.edaData.edaSummary.length-1==vm.indepVariables.length&&(vm.selectAll=!0),vm.prevTrainingInfo[0].autoFeatureGenTasks&&(1==vm.prevTrainingInfo[0].dropOriginal?vm.fdropMethod="true":0==vm.prevTrainingInfo[0].dropOriginal&&(vm.fdropMethod="false"),vm.explicitPairWiseOption=[],vm.prevTrainingInfo[0].autoFeatureGenTasks.forEach(function(data){"pairwiseLinear"==data.typeOfAutoFeatureGen?(vm.pairwiseLinear=!0,vm.pairwiseLinearOption=data.operation):"pairwisePolynomial"==data.typeOfAutoFeatureGen?(vm.pairwisePolynomial=!0,vm.pairwisePolynomialOption=data.operation):"univariatePolynomial"==data.typeOfAutoFeatureGen?(vm.univariatePolynomial=!0,vm.exponent=data.exponent):"split"==data.typeOfAutoFeatureGen?(vm.split=!0,vm.delimiter=data.delimiter,vm.featureSplitCount=data.featureSplitCount):"explicitPairwiseCombination"==data.typeOfAutoFeatureGen&&(vm.tempFeatures=vm.indepVariables.filter(function(item){var dataType=vm.tableData.find(function(data){return data.colName==item.colName}).dataType;return"Integer"==dataType||"Decimal"==dataType}),vm.tempSelected=generateIndepVariableList(vm.target,"lOb"),vm.textOrCategoricalFeatures=vm.tempSelected.filter(function(item){var dataType=vm.tableData.find(function(data){return data.colName==item.colName}).dataType;return"Text"==dataType||"Categorical"==dataType}),vm.explicitPairwise=!0,vm.explicitPairWiseOption.push(data))})),vm.ordinalEncMap=vm.prevTrainingInfo[0].ordinalEncoderMap}else vm.edaData.edaSummary.length==vm.indepVariables.length&&(vm.selectAll=!0),vm.onClusteringAlgoChange(),vm.prevTrainingInfo[0].clusteringInfo&&(vm.clusters=vm.prevTrainingInfo[0].clusteringInfo.clusters,vm.decomposition=vm.prevTrainingInfo[0].clusteringInfo.decomposition,vm.components=vm.prevTrainingInfo[0].clusteringInfo.components,vm.numericFeatures=vm.prevTrainingInfo[0].clusteringInfo.numericFeatures,vm.normalizationMethod=vm.prevTrainingInfo[0].normalizationMethod),"logTransform"==vm.normalizationMethod&&(colname=vm.prevTrainingInfo[0].edaId.edaSummary.filter(function(feature){if(!(feature.constantFeature||feature.highCardinalityFeature||feature.mostlyMissing||"Decimal"!=feature.dataType&&"Integer"!=feature.dataType&&"Numeric"!=feature.dataType))return feature}),vm.tempfeat=colname.map(function(feature){return feature.colName}),vm.scale=vm.prevTrainingInfo[0].scalarValue,vm.logTransformfeature=vm.prevTrainingInfo[0].logTransformationColumns,vm.showlog=!0,vm.showscalar=!0)}function getModelAlgorithms(algoType,isMultilabel){vm.modelAlgorithms=TrainingService.getAlgorithmList.filter(function(algorithm){return isMultilabel?algorithm.type==algoType.toLowerCase()&&algorithm.multilabel==(isMultilabel||!1):algorithm.type===algoType.toLowerCase()&&algorithm.useGPU===(vm.project.useGPU||!1)})}function generateIndepVariableList(target,type){var tSelected=[];if("lOb"==type)for(var k in vm.selected)vm.selected[k]&&k!=target.colName&&tSelected.push({colName:k});else for(var k in vm.selected)vm.selected[k]&&tSelected.push({colName:k});return tSelected}function filterOridinalEncoderMap(){var finalOrdinalEncoderMap=[];return vm.ordinalEncMap.length&&vm.tempSelected.length&&vm.ordinalEncMap.forEach(function(item){vm.tempSelected.find(function(featureSelected){return featureSelected.colName===item.col})&&finalOrdinalEncoderMap.push(item)}),finalOrdinalEncoderMap}function getFeatures(allFeatures,dataTypes,target){var extFeatures=[];return allFeatures.forEach(function(feature){target?-1!==dataTypes.indexOf(feature.dataType)&&feature.colName!=target&&extFeatures.push(feature.colName):-1!==dataTypes.indexOf(feature.dataType)&&extFeatures.push(feature.colName)}),extFeatures}function isExist(column){return vm.indepVariables.some(function(indepVar){return indepVar.colName==column.colName})}function constructTrainingData(){var defer=$q.defer();return defer.resolve(vm.tableData),defer.promise}function buildTrainingTable(titleHtml,problemType,featureCol){var temp;vm.showLoading=!0,vm.tableData=null,"clustering"==problemType?(temp=titleHtml.filter(function(feature){if(!feature.constantFeature&&!feature.highCardinalityFeature&&!feature.mostlyMissing)return vm.prevTrainingInfo[0]&&vm.prevTrainingInfo[0].categoricalEncoders&&vm.prevTrainingInfo[0].categoricalEncoders[feature.colName]?feature.encoder=vm.prevTrainingInfo[0].categoricalEncoders[feature.colName]:feature.highCardinalityFeature?feature.encoder="Binary encoder":feature.encoder="OneHot encoder",feature}),vm.tableData=temp):vm.tableData=titleHtml.filter(function(feature){if(!feature.constantFeature&&!feature.highCardinalityFeature&&feature.colName!=vm.target.colName&&!feature.mostlyMissing)return vm.prevTrainingInfo[0]&&vm.prevTrainingInfo[0].categoricalEncoders&&vm.prevTrainingInfo[0].categoricalEncoders[feature.colName]?feature.encoder=vm.prevTrainingInfo[0].categoricalEncoders[feature.colName]:feature.highCardinalityFeature?feature.encoder="Binary encoder":feature.encoder="OneHot encoder",feature}),"Model Generated"==vm.project.projectStatus&&vm.tableData.length==vm.indepVariables.length&&(vm.selectAll=!0);titleHtml='<input type="checkbox" ng-model="vm.selectAll" ng-click="vm.toggleAll(vm.selectAll, vm.selected)">';vm.dtInstanceTraining.hasOwnProperty("DataTable")&&(vm.dtInstanceTraining.changeData(constructTrainingData()),vm.dtInstanceTraining.DataTable.clear(),vm.dtColumnsTraining.length=0),vm.dtOptionsTraining=DTOptionsBuilder.fromFnPromise(constructTrainingData).withOption("processing",!0).withPaginationType("full_numbers").withOption("createdRow",function(row,data,dataIndex){$compile(angular.element(row).contents())($scope)}).withOption("headerCallback",function(header){$compile(angular.element(header).contents())($scope),vm.headerCompiled}),"clustering"==problemType?(vm.categoricalEncoders.includes("Leave one out encoder")&&vm.categoricalEncoders.splice(vm.categoricalEncoders.indexOf("Leave one out encoder"),1),vm.categoricalEncoders.includes("Target encoder")&&vm.categoricalEncoders.splice(vm.categoricalEncoders.indexOf("Target encoder"),1),vm.dtColumnsTraining=[DTColumnBuilder.newColumn(null).withTitle(titleHtml).notSortable().renderWith(function(data,type,full,meta){return vm.selected[full.colName]=isExist({colName:full.colName}),'<input type="checkbox" ng-model="vm.selected[\''+data.colName+'\']" ng-click="vm.toggleOne(vm.selected)" ng-disabled="'+data.isTargetVariable+'">'}),DTColumnBuilder.newColumn("colName").withTitle("Feature name"),DTColumnBuilder.newColumn(null).withTitle("Categorical/Date Operations").notSortable().renderWith(function(data,type,full,meta){if("Categorical"!=data.dataType)return"Datetime"!=data.dataType?"":data.dateComponent&&0<data.dateComponent.length?(vm.dateComponent[data.colName]=data.dateComponent,'<div ><select chosen="" multiple ng-model="vm.dateComponent[\''+data.colName+'\']"  class="chosen-select input-md"><option value="" disabled>Select strategy</option><option value="{{textOperation}}" ng-repeat="textOperation in vm.dateOperations">{{textOperation}}</option></select></div>'):void 0;var initEncoder=data.encoder;return data.highCardinalityFeature&&(initEncoder=data.encoder,vm.categoricalEncoders.splice(vm.categoricalEncoders.indexOf("OneHot encoder"),1)),"<div ><select ng-change=\"vm.onChangeCatEncoding(vm.catEnc['"+data.colName+"'],'"+data.colName+"')\" ng-model=\"vm.catEnc['"+data.colName+"']\" ng-init=\"vm.catEnc['"+data.colName+"']='"+initEncoder+'\'" class="form-control"><option value="" disabled>Select strategy</option><option value="{{categoricalEncoder}}" ng-repeat="categoricalEncoder in vm.categoricalEncoders">{{categoricalEncoder}}</option></select></div>'})]):"timeseries"==problemType?(vm.categoricalEncoders.includes("Leave one out encoder")&&vm.categoricalEncoders.splice(vm.categoricalEncoders.indexOf("Leave one out encoder"),1),vm.categoricalEncoders.includes("Target encoder")&&vm.categoricalEncoders.splice(vm.categoricalEncoders.indexOf("Target encoder"),1),vm.dtColumnsTraining=[DTColumnBuilder.newColumn(null).withTitle(titleHtml).notSortable().renderWith(function(data,type,full,meta){return vm.selected[full.colName]=isExist({colName:full.colName}),'<input type="checkbox" ng-model="vm.selected[\''+data.colName+'\']" ng-click="vm.toggleOne(vm.selected)" ng-disabled="'+data.isTargetVariable+'">'}),DTColumnBuilder.newColumn("colName").withTitle("Exogenous Feature"),DTColumnBuilder.newColumn(null).withTitle("Categorical/Date Operations").notSortable().renderWith(function(data,type,full,meta){if("Categorical"!=data.dataType)return"Datetime"!=data.dataType?"":data.dateComponent&&0<data.dateComponent.length?(vm.dateComponent[data.colName]=data.dateComponent,'<div ><select chosen="" multiple ng-model="vm.dateComponent[\''+data.colName+'\']"  class="chosen-select input-md"><option value="" disabled>Select strategy</option><option value="{{textOperation}}" ng-repeat="textOperation in vm.dateOperations">{{textOperation}}</option></select></div>'):void 0;var initEncoder=data.encoder;return data.highCardinalityFeature&&(initEncoder=data.encoder,vm.categoricalEncoders.splice(vm.categoricalEncoders.indexOf("OneHot encoder"),1)),"<div ><select ng-change=\"vm.onChangeCatEncoding(vm.catEnc['"+data.colName+"'],'"+data.colName+"')\" ng-model=\"vm.catEnc['"+data.colName+"']\" ng-init=\"vm.catEnc['"+data.colName+"']='"+initEncoder+'\'" class="form-control"><option value="" disabled>Select strategy</option><option value="{{categoricalEncoder}}" ng-repeat="categoricalEncoder in vm.categoricalEncoders">{{categoricalEncoder}}</option></select></div>'})]):(vm.dtColumnsTraining=[DTColumnBuilder.newColumn(null).withTitle(titleHtml).notSortable().renderWith(function(data,type,full,meta){return vm.selected[full.colName]=isExist({colName:full.colName}),'<input type="checkbox" ng-model="vm.selected[\''+data.colName+'\']" ng-change="vm.checkChange()" ng-click="vm.toggleOne(vm.selected)" ng-disabled="'+data.isTargetVariable+'">'}),DTColumnBuilder.newColumn("colName").withTitle("Independent feature"),DTColumnBuilder.newColumn(null).withTitle("Categorical/Date Operations").notSortable().renderWith(function(data,type,full,meta){if("Categorical"!=data.dataType)return"Datetime"==data.dataType?data.dateComponent&&0<data.dateComponent.length?(vm.dateComponent[data.colName]=data.dateComponent,'<div ><select chosen="" multiple ng-model="vm.dateComponent[\''+data.colName+'\']"  class="chosen-select input-md"><option value="" disabled>Select strategy</option><option value="{{textOperation}}" ng-repeat="textOperation in vm.dateOperations">{{textOperation}}</option></select></div>'):"<div></div>":"";var initEncoder=data.encoder;return data.highCardinalityFeature&&(initEncoder=data.encoder,vm.categoricalEncoders.splice(vm.categoricalEncoders.indexOf("OneHot encoder"),1)),"<div ><select ng-change=\"vm.onChangeCatEncoding(vm.catEnc['"+data.colName+"'],'"+data.colName+"')\" ng-model=\"vm.catEnc['"+data.colName+"']\" ng-init=\"vm.catEnc['"+data.colName+"']='"+initEncoder+'\'" class="form-control"><option value="" disabled>Select strategy</option><option value="{{categoricalEncoder}}" ng-repeat="categoricalEncoder in vm.categoricalEncoders">{{categoricalEncoder}}</option></select></div>'})],"with_feature_score"==featureCol&&(featureCol=DTColumnBuilder.newColumn("isSelected").withTitle("Is important").renderWith(function(data,type,full,meta){return full.hasOwnProperty("isSelected")?full.isSelected?'<i uib-tooltip="This feature is ideal for model building." tooltip-placement="bottom" class="fa fa-check-circle text-success" aria-hidden="true"></i>':'<i uib-tooltip="This feature is not ideal for model building." tooltip-placement="bottom" class="fa fa-times-circle text-danger" aria-hidden="true"></i>':"<p></p>"}).withOption("width","15%"),vm.dtColumnsTraining.push(featureCol),featureCol=DTColumnBuilder.newColumn("score").withTitle("Feature Score").renderWith(function(data,type,full,meta){return full.hasOwnProperty("score")?full.score:"<p></p>"}).withOption("width","15%"),vm.dtColumnsTraining.push(featureCol))),$timeout(function(){vm.showTrainingTable=!0,vm.showLoading=!1},1e3)}function plotTargetGraph(){checkThemeColor();var obj={afterEdaDataFilePath:vm.edaData.afterEdaDataFilePath,backGround:vm.backGround,foreGround:vm.foreGround,selectedVariables:[vm.target.colName],edaSummary:vm.edaData.edaSummary,chartType:"barplot"};$http.post("/api/v2/projects/"+vm.project._id+"/report/trainmodel/multiunivariate?target=true",obj).then(function(res){res=res.data;vm.showLoading=!1;for(var graphDiv=document.getElementById("targetPlot");graphDiv.data&&0<graphDiv.data.length;)Plotly.deleteTraces(graphDiv,[0]);res.graphContent.layout.template.layout.plot_bgcolor="white",res.graphContent.layout.template.layout.title.xanchor="center",res.graphContent.layout.template.layout.title.y=.9,res.graphContent.layout.template.layout.title.x=.5,res.graphContent.layout.template.layout.title.yanchor="top",res.graphContent.layout.xaxis.linecolor="black","timeseries"!=vm.project.type&&(res.graphContent.layout.yaxis.linecolor="black"),Plotly.plot(graphDiv,res.graphContent.data,res.graphContent.layout)},function(err){toaster.pop("error",$scope.app.name,err.data.message,3e3)})}function getAFGoptions(){vm.autoFeatureGenTasks=[];var textCols=getFeatures(vm.edaData.edaSummary,["Integer","Decimal"],vm.target.colName).filter(function(feature){if(vm.selected[feature])return!0});vm.pairwiseLinear&&1<textCols.length&&vm.autoFeatureGenTasks.push({operation:vm.pairwiseLinearOption,colName:textCols,typeOfAutoFeatureGen:"pairwiseLinear"}),vm.pairwisePolynomial&&1<textCols.length&&vm.autoFeatureGenTasks.push({operation:vm.pairwisePolynomialOption,colName:textCols,typeOfAutoFeatureGen:"pairwisePolynomial"}),vm.univariatePolynomial&&0<vm.exponent&&vm.autoFeatureGenTasks.push({operation:vm.univariatePolynomialOption,colName:textCols,exponent:vm.exponent,typeOfAutoFeatureGen:"univariatePolynomial"}),vm.split&&(textCols=getFeatures(vm.edaData.edaSummary,["Text"],vm.target.colName).filter(function(feature){if(vm.selected[feature])return!0}),vm.featureSplitCount&&vm.delimiter&&vm.autoFeatureGenTasks.push({operation:"split",colName:textCols,featureSplitCount:vm.featureSplitCount,delimiter:vm.delimiter,typeOfAutoFeatureGen:"split"})),vm.explicitPairwise&&(vm.autoFeatureGenTasks=vm.explicitPairWiseOption)}function getEPCFeatures(){vm.tempSelected=generateIndepVariableList(vm.target,"lOb"),vm.tempFeatures=vm.tempSelected.filter(function(item){var dataType=vm.tableData.find(function(data){return data.colName==item.colName}).dataType;return"Integer"==dataType||"Decimal"==dataType}),vm.textOrCategoricalFeatures=vm.tempSelected.filter(function(item){var dataType=vm.tableData.find(function(data){return data.colName==item.colName}).dataType;return"Text"==dataType||"Categorical"==dataType})}vm.kfold=10,vm.nlpLanguages=NlpService.nlpLanguages,vm.nFeatureCounts=NlpService.nFeatureCounts,vm.resamplingConstants=TimeseriesService.resamplingConstants,vm.methodConstants=TimeseriesService.methodConstants,vm.tsFrequencies=TimeseriesService.frequencies,vm.indepVariables=[],vm.modelAlgorithm=[],vm.featureList=[],vm.nlpConfigs=[],vm.prevTrainingInfo=[],vm.components=2,vm.pcaFeatures=[],vm.decomposition="none",vm.normalizationMethod="none",vm.sampling="none",vm.featurePercentage=70,vm.nFeaturesToSelect=70,vm.setp=1,vm.scoringFunction=null,vm.autoFeatureGenTasks=[],$scope.hptPreference=[],$scope.formFeilds={},vm.showhptStatus=!1,vm.timesteps=60,vm.featureStep=10,vm.cv=1,vm.getToolTipData=function(tooltip){return TooltipData.getTootipInfo(tooltip)[0]},vm.targetList=[],vm.dtColumnsEdaSummary=[],vm.dtInstanceEdaSummary={},vm.dtInstanceTraining={},vm.dtColumnsTraining=[],vm.dtInstanceStationarity={},vm.dtColumnsStationarity=[],vm.pairwiseLinearOption="addition",vm.pairwisePolynomialOption="multiply",vm.univariatePolynomialOption="power",vm.explicitPairWiseOption=[{operation:"addition",colName:[],typeOfAutoFeatureGen:"explicitPairwiseCombination"}],vm.epwMethods=[{name:"Addition",value:"addition"},{name:"Multiply",value:"multiply"},{name:"Subtraction",value:"subtraction"},{name:"Power",value:"power"}],vm.fsMethod="none",vm.stationarityMethod="none",vm.backGround="#ffffff",vm.foreGround="#08509d",vm.estimatorRegAlgo=["Random Forest Regression","Linear Regression"],vm.estimatorClassAlgo=["Random Forest Classification","Logistic Regression"],vm.nlags=40,vm.pacfMethod="ywunbiased",vm.categoricalEncoders=["OneHot encoder","Ordinal encoder","Binary encoder","Hashing encoder","Target encoder","Leave one out encoder"],vm.ordinalEncMap=[],vm.catEnc={},vm.dateOperations=["year","quarter","month_name","day","day_name","hour","minute","second"],vm.nGramOptions=[{name:"Unigram",value:1},{name:"Bigram",value:2},{name:"Trigram",value:3},{name:"Ngram",value:1}],setNlpFeatureDefaults(),vm.configureFeature=function(featureConfigData,selectedFeatureName){var featureName,foundFeatureData=!1;vm.nlpConfigs.length?(vm.nlpConfigs.forEach(function(featureConfig){featureConfig.colName==selectedFeatureName&&(featureConfig.nlpFeatureConfig=featureConfigData,foundFeatureData=!0)}),foundFeatureData||vm.nlpConfigs.push({colName:selectedFeatureName,nlpFeatureConfig:featureConfigData})):vm.nlpConfigs.push({colName:selectedFeatureName,nlpFeatureConfig:featureConfigData}),featureName=selectedFeatureName,vm.showNgramSlider&&(vm.nlpConfigs&&0<vm.nlpConfigs.length?vm.nlpConfigs.forEach(function(featureConfig){featureConfig.colName==featureName&&featureConfig.nlpFeatureConfig.nGram.map(function(item){"Ngram"===item.name&&(item.value=vm.nlpDefaultConfigData.ngramSliderVal)})}):vm.nlpDefaultConfigData.nGram.map(function(val){"Ngram"===val.name&&(val.value=vm.nlpDefaultConfigData.ngramSliderVal)})),vm.nlpDefaultConfigData.nGram.length||(vm.nlpDefaultConfigData.nGram=[vm.nGramOptions[0]]),0<vm.nlpConfigs.length&&vm.nlpConfigs.forEach(function(config){config.nlpFeatureConfig.ngramSliderVal&&delete config.nlpFeatureConfig.ngramSliderVal})},vm.onChangeFeature=function(featureName){vm.nlpConfigs.forEach(function(item){item.colName==featureName&&item.nlpFeatureConfig.nGram.forEach(function(ngramVal){vm.showNgramSlider="Ngram"==ngramVal})});var foundFeatureData=!1;featureName!=vm.selectedFeature?(vm.nlpConfigs.forEach(function(featureConfig){featureConfig.colName==featureName&&(vm.nlpDefaultConfigData=featureConfig.nlpFeatureConfig,foundFeatureData=!0)}),foundFeatureData||setNlpFeatureDefaults()):vm.nlpConfigs.forEach(function(featureConfig){featureConfig.colName==featureName&&(vm.nlpDefaultConfigData=featureConfig.nlpFeatureConfig)})},vm.openFeatureConfigModal=function(selectedFeature){var modalInstance=$uibModal.open({templateUrl:"featureConfigurationModal.html",size:"lg",scope:$scope});$scope.cancel=function(){modalInstance.close()},vm.selectedFeature=selectedFeature,vm.nlpConfigs.forEach(function(feature){feature.colName==selectedFeature&&feature.nlpFeatureConfig.nGram.forEach(function(item){"Ngram"==item.name?(vm.nlpDefaultConfigData.ngramSliderVal=item.value,vm.showNgramSlider=!0):vm.showNgramSlider=!1})})},vm.onNgramSelection=function(){vm.nlpDefaultConfigData.nGram.forEach(function(item){"Ngram"==item.name&&(vm.showNgramSlider=!0)})},vm.project=ProjectCore.getProject(),DataService.listAllProjectDatas.query({projectId:vm.project._id,filter:"dataset_with_eda"}).$promise.then(function(resp){return vm.dataSetsList=resp}).then(function(){TrainingService.listTraining.query({projectId:vm.project._id,isEdaRequired:!0}).$promise.then(function(resp){vm.prevTrainingInfo=resp,vm.prevTrainingInfo[0]&&(vm.catEnc=vm.prevTrainingInfo[0].categoricalEncoders),resp.length&&("timeseries"==vm.project.type?vm.indepVariables=vm.prevTrainingInfo[0].timeseriesInfo.exogVariables:vm.indepVariables=vm.prevTrainingInfo[0].indepVariable,vm.edaData=resp[0].edaId,vm.selectedDataset=vm.prevTrainingInfo[0].originalFileId,vm.targetVarDetails=vm.edaData.edaSummary.find(function(feature){if(vm.prevTrainingInfo[0].depVariable==feature.colName)return!0}),vm.onChangeDataset(vm.selectedDataset,"fc"))},function(err){toaster.pop("error",$scope.app.name,"Error fetching trained models details",3e3)})}),"clustering"==vm.project.type?vm.featureScalingOption="standard_scalar":vm.featureScalingOption="none",vm.setCVStrategies=function(){vm.validationStrategy={validationStrategyName:"cv",strategyValues:{technique:"kFold",nSplit:5}}},vm.setCVStrategies(),vm.setTVHStrategies=function(){vm.validationStrategy={validationStrategyName:"tvh"}},vm.setTestSize=function(){"stratifiedShuffleSplit"==vm.validationStrategy.strategyValues.technique&&(vm.validationStrategy.strategyValues.testSize=20)},vm.getArray=function(len){return new Array(len)},vm.calculatePercentage=function(){if(vm.samplingData={},0==vm.tempSelected.length)return toaster.pop("error",$scope.app.name,"Please select features.",3e3),vm.trainingStarted=!1,vm.showLoading=!1;TrainingService.calculateSamplingPercentage.query({projectId:vm.project._id,depVariable:vm.target.colName,afterEdaDataFilePath:vm.edaData.afterEdaDataFilePath,isMultilabel:vm.isMultilabel,testSize:vm.testSize,indepVariable:vm.tempSelected}).$promise.then(function(resp){samplingdat=(samplingdat=resp.data).map(function(v){var s=Object.assign({},v);return s.initValue=v.value,s}),vm.samplingData=resp.data,vm.samplingData=vm.samplingData.map(function(v){var s=Object.assign({},v);return s.initValue=v.value,s})},function(err){toaster.pop("error",$scope.app.name,"Error fetching trained models details",3e3)})},vm.ischeckSampling=function(showSampling){"over_sampling"==showSampling||"under_sampling"==showSampling?(vm.showButton=!0,samplingdat&&0<samplingdat.length&&vm.calculatePercentage()):(samplingdat=[],vm.samplingData=[],vm.showButton=!1)},vm.onClusteringAlgoChange=function(){"fc"!=event&&(vm.selectAll=!1),buildTrainingTable(vm.edaData.edaSummary,vm.project.type,"without_feature_score")},vm.sample=function(item,value,percenatge,colName){"add"==percenatge?item+=1:"sub"==percenatge&&--item;percenatge=vm.samplingData.findIndex(function(doc){return doc.colName==colName});"over_sampling"==vm.sampling?vm.samplingData[percenatge].value=item<value?value:item:"under_sampling"==vm.sampling&&(vm.samplingData[percenatge].value=item<value?item:value)},vm.testsizeChange=function(size){if(20!=size&&"none"!=vm.sampling)return toaster.pop("error",$scope.app.name,"Train Test split changed , calucalute sampling percentage again",3e3),vm.trainingStarted=!1,vm.showLoading=!1},vm.onChangeDataset=function(dataSetId,type){0<vm.prevTrainingInfo.length&&vm.prevTrainingInfo[0].nlpConfigs?vm.nlpConfigs=vm.prevTrainingInfo[0].nlpConfigs:vm.nlpConfigs=[],vm.configuration={},vm.feature="",vm.featureList=[],vm.showLoading=!0,vm.tempfeat={},vm.fsMethod="none",vm.stationarityMethod="none",vm.fdropMethod="",vm.normalizationMethod="none",vm.logTransformfeature=[],vm.dateComponent={},vm.targetList=[],vm.autoFeatureGenTasks=[],vm.univariatePolynomial=!1,vm.pairwisePolynomial=!1,vm.pairwiseLinear=!1,vm.split=!1,vm.components=2,vm.pcaFeatures=[],vm.decomposition="none",vm.explicitPairWiseOption=!1,vm.showAdvancedOptions=!1,vm.selectedDataSet=vm.dataSetsList.find(function(data){return data._id==dataSetId}),vm.prevTrainingInfo[0]&&vm.selectedDataSet&&vm.prevTrainingInfo[0].metaInfo.fileName!=vm.selectedDataSet.filename&&(vm.catEnc={}),vm.selectedDataSet?DataService.getChildDatasets.query({projectId:vm.selectedDataSet.projectId,dataId:dataSetId}).$promise.then(function(resp){return vm.childFileData=resp[0],vm.edaData=resp[0].edaId,vm.edaData}).then(function(){return vm.selectedDataSet.hasOwnProperty("taExperimentId")?TextAnalysis.taExperiment.query({taExperimentId:vm.selectedDataSet.taExperimentId}).$promise:[]}).then(function(taFeatureConfig){var taFeatureConfig=taFeatureConfig.taFeatureConfig||[],taFeaturesToExclude=[];taFeatureConfig&&taFeatureConfig.length&&(taFeaturesToExclude=taFeatureConfig.map(function(item){return item.newFeature}).flat()),vm.edaData.isHighDimensional&&(vm.decomposition="pca"),"timeseries"==vm.project.type?vm.targetList=vm.edaData.edaSummary.filter(function(data){return"Boolean"!=data.dataType&&"Categorical"!=data.dataType&&"Text"!=data.dataType&&"Datetime"!=data.dataType&&0!=data.canBeTarget&&1!=data.constantFeature&&1!=data.highCardinalityFeature&&1!=data.mostlyMissing&&1!=taFeaturesToExclude.includes(data.colName)}):"predictive_modeling"==vm.project.type&&(vm.targetList=vm.edaData.edaSummary.filter(function(data){return"Text"!=data.dataType&&"Datetime"!=data.dataType&&0!=data.canBeTarget&&1!=data.constantFeature&&1!=data.highCardinalityFeature&&1!=data.mostlyMissing&&1!=taFeaturesToExclude.includes(data.colName)})),vm.edaData.edaSummary.filter(function(data){"Text"==data.dataType&&vm.featureList.push(data.colName)}),"fc"==type?"clustering"==vm.project.type?(getModelAlgorithms("clustering",vm.isMultilabel),setModelData()):"timeseries"==vm.project.type?(vm.target=vm.targetList.find(function(data){return data.colName==vm.targetVarDetails.colName}),vm.onTsTargetChange("fc",vm.target),vm.onTsAlgoChange()):(vm.target=vm.targetList.find(function(data){return data.colName==vm.targetVarDetails.colName}),vm.onTargetChange("fc",vm.target)):(vm.modelAlgorithm.length=0,vm.target=null,vm.showTrainingTable=!1,vm.selected=[],vm.indepVariables.length=0,"clustering"==vm.project.type&&(vm.showLoading=!0,getModelAlgorithms("clustering",vm.isMultilabel),buildTrainingTable(vm.edaData.edaSummary,vm.project.type,"with_feature_score"))),setNlpFeatureDefaults(),vm.showLoading=!1}).catch(function(err){vm.showLoading=!1}):vm.showLoading=!1},vm.onTsAlgoChange=function(){var dateExcludedFeatures=vm.edaData.edaSummary.filter(function(feature){return"Datetime"!=feature.dataType&&feature.colName!=vm.target.colName});vm.modelAlgorithm.length&&"Prophet"!=vm.modelAlgorithm[0]?buildTrainingTable(dateExcludedFeatures,vm.project.type,"without_feature_score"):vm.showTrainingTable=!1},vm.onTsTargetChange=function(event,target){vm.dateComponent={},vm.showLoading=!0,"fc"!=event&&(vm.selectAll=!1),vm.onTsAlgoChange(),vm.showTrainingTable=!1,getModelAlgorithms("timeseries",!1),plotTargetGraph(),"fc"==event&&setModelData()},vm.onTargetChange=function(event,target){vm.modelAlgorithm=[],vm.showLoading=!0,vm.selectAll=!1,vm.dateComponent={},vm.showTrainingTable=!1,vm.fsMethod="none",vm.sampling="none",vm.tempfeat={},vm.samplingData={},vm.tempSelected=[],"fc"!=event&&(vm.selectAll=!1),vm.pcaFeatures=vm.edaData.edaSummary.filter(function(feature){return feature.colName!=vm.target.colName}),vm.explicitPairWiseOption=[{operation:"addition",colName:[],typeOfAutoFeatureGen:"explicitPairwiseCombination"}],plotTargetGraph(),new TrainingService.getTargetDetails({afterEdaDataFilePath:vm.edaData.afterEdaDataFilePath,depVariable:target.colName,dependentFeaturetype:target.dataType}).$save({projectId:vm.project._id},function(targetResponse){targetResponse=targetResponse.targetResponse;vm.testSize=targetResponse.testPercentage,vm.isImbalanced=targetResponse.isImbalanced,vm.isMultilabel=targetResponse.isMultilabel,vm.classNames=targetResponse.classNames,vm.algoType=targetResponse.algoType.toLowerCase(),getModelAlgorithms(vm.algoType,vm.isMultilabel),buildTrainingTable(vm.edaData.edaSummary,vm.project.type,"without_feature_score"),"fc"==event&&setModelData()},function(err){vm.showLoading=!1,toaster.pop("error",$scope.app.name,"Something went wrong while fetching target details!.",3e3)})},vm.onDecompositionChange=function(){"clustering"==vm.project.type?vm.featureScalingOption="pca"==vm.decomposition?"standard_scalar":vm.featureScalingOption:vm.featureScalingOption="pca"==vm.decomposition?"standard_scalar":"none"},vm.trainCount=0,vm.startTraining=function(){vm.tempSelected=[];var finalOrdinalEncoderMap=null,categoricalColNames=[];if(window.d3&&"3.5.12"==window.d3.version&&NVD3Config.setMplD3Object(window.d3),0<vm.logTransformfeature.length&&(vm.scaleValue=vm.scale),"clustering"==vm.project.type){if(categoricalColNames=getFeatures(vm.edaData.edaSummary,"Categorical",null),vm.showLoading=!0,1==vm.modelAlgorithm.length&&(vm.algorithm=1),vm.modelAlgorithm.length<1)return toaster.pop("error",$scope.app.name,"Please select algorithms.",3e3),!1;if("pca"==vm.decomposition&&(vm.components<2||50<vm.components))return toaster.pop("error",$scope.app.name,"PCA Value should be between 2-50.",3e3),vm.showLoading=!1;if(vm.clusters<2||50<vm.clusters)return toaster.pop("error",$scope.app.name,"Cluster value should be between 2-50.",3e3),vm.showLoading=!1;vm.trainingStarted=!0;var trainingData=vm.edaData.edaSummary.filter(function(feature){return"Integer"==feature.dataType||"Decimal"==feature.dataType});if(vm.tempSelected=generateIndepVariableList(vm.target,"clustering"),vm.tempSelected.length<1)return toaster.pop("error",$scope.app.name,"Please select features.",3e3),vm.trainingStarted=!1,vm.showLoading=!1;finalOrdinalEncoderMap=filterOridinalEncoderMap(),trainingData={originalFileId:vm.selectedDataSet._id,parentFileId:vm.childFileData._id,parentPipelineFilename:vm.childFileData.tasks[0].currentPipelineFilename,fileSchema:vm.childFileData.fileSchema,algorithms:vm.modelAlgorithm,algoType:"clustering",edaId:vm.edaData._id,edaSummary:vm.edaData.edaSummary,pId:vm.project._id,hptPreference:$scope.hptPreference,categoricalColNames:categoricalColNames||[],afterEdaDataFilePath:vm.edaData.afterEdaDataFilePath,paragraphColNames:vm.edaData.paragraphColNames,indepVariable:vm.tempSelected,backGround:vm.backGround,foreGround:vm.foreGround,normalizationMethod:vm.normalizationMethod,featureScaling:vm.featureScalingOption,rootFileName:vm.selectedDataSet.filename,problemType:vm.project.type,datetimeColumnName:vm.edaData.datetimeColumnName,usingGPU:vm.project.useGPU||!1,categoricalEncoders:vm.catEnc||{},ordinalEncoderMap:finalOrdinalEncoderMap,classNames:vm.classNames,dateComponent:vm.dateComponent,scalarValue:vm.scaleValue,logTransformationColumns:vm.logTransformfeature,clusteringInfo:{decomposition:vm.decomposition,components:vm.components,clusters:Number(vm.clusters),numericFeatures:trainingData,customFeatureChecked:vm.customFeatureChecked,customFeatures:vm.customFeatures},nlpConfigs:vm.nlpConfigs},new TrainingService.startCulsterTraining(trainingData).$save(function(res){ga("send","event","Training","Model training started",!0)},function(err){vm.trainingStarted=!1,vm.showLoading=!1,toaster.pop("error",$scope.app.name,err.data.message,4e3)})}else{if(!vm.target)return toaster.pop("error",$scope.app.name,"Please select target variable.",3e3),!1;if(categoricalColNames=getFeatures(vm.edaData.edaSummary,"Categorical",vm.target.colName),1==vm.modelAlgorithm.length&&(vm.algorithm=1),vm.modelAlgorithm.length<1)return toaster.pop("error",$scope.app.name,"Please select algorithms.",3e3),!1;vm.showLoading=!0,vm.trainingStarted=!0,checkThemeColor();var stationaryColumns,trainingData=null;if("timeseries"==vm.project.type)vm.stationaryTestData.length&&(stationaryColumns=vm.stationaryTestData.filter(function(sData){return 1==sData.stationarity})),vm.project.useGPU||(vm.tempSelected=generateIndepVariableList(vm.target,"lOb"),finalOrdinalEncoderMap=vm.tempSelected.length?filterOridinalEncoderMap():vm.ordinalEncMap),trainingData={originalFileId:vm.selectedDataSet._id,depVariable:vm.target.colName,testSize:vm.testSize,algorithms:vm.modelAlgorithm,hptPreference:$scope.hptPreference,pId:vm.project._id,parentFileId:vm.childFileData._id,parentPipelineFilename:vm.childFileData.tasks[0].currentPipelineFilename,fileSchema:vm.childFileData.fileSchema,categoricalColNames:categoricalColNames||[],afterEdaDataFilePath:vm.edaData.afterEdaDataFilePath,noOfCol:vm.edaData.edaSummary.length,paragraphColNames:vm.edaData.paragraphColNames,algoType:vm.algoType,backGround:vm.backGround,foreGround:vm.foreGround,edaId:vm.edaData._id,edaSummary:vm.edaData.edaSummary,dateColumnSelected:vm.dateColumnSelected,problemType:vm.project.type,preprocessedFilepath:vm.preprocessedFilepath,rootFileName:vm.selectedDataSet.filename,usingGPU:vm.project.useGPU||!1,categoricalEncoders:vm.catEnc||{},ordinalEncoderMap:finalOrdinalEncoderMap,dateComponent:vm.dateComponent,classNames:vm.classNames,timeseriesInfo:{resamplingMethod:vm.resamplingMethod||null,aggregationFunction:vm.aggregationFunction||null,exogVariables:vm.tempSelected||[],timesteps:vm.timesteps||null,stationaryColumns:stationaryColumns||[],stationaryMethod:vm.stationarityMethod||"none",featureScaling:vm.featureScalingOption||"none",normalizationMethod:vm.normalizationMethod},nlpConfigs:vm.nlpConfigs},vm.stationarityMethod&&(trainingData.timeseriesInfo.period=vm.period,trainingData.timeseriesInfo.scalar=vm.scalar),trainingData.timeseriesInfo.resamplingMethod||(trainingData.timeseriesInfo.aggregationFunction=null),trainingData.timeseriesInfo.resamplingMethod&&null==trainingData.timeseriesInfo.aggregationFunction&&(trainingData.timeseriesInfo.resamplingMethod=null),new TrainingService.startTimeseriesTraining(trainingData).$save(function(res){ga("send","event","Training","Model training started",!0)},function(err){vm.trainingStarted=!1,vm.showLoading=!1,toaster.pop("error",$scope.app.name,err.data.message,4e3)});else{if(getAFGoptions(),vm.tempSelected=generateIndepVariableList(vm.target,"lOb"),1==vm.modelAlgorithm.length&&(vm.algorithm=1),vm.tempSelected.length<1)return toaster.pop("error",$scope.app.name,"Please select features.",3e3),vm.trainingStarted=!1,vm.showLoading=!1;if(null==vm.featureStep)return vm.trainingStarted=!1,toaster.pop("error",$scope.app.name,"Feature steps should be between 0-1.",3e3),vm.showLoading=!1;if(null==vm.cv)return vm.trainingStarted=!1,toaster.pop("error",$scope.app.name,"CV should be between 0-5.",3e3),vm.showLoading=!1;if(finalOrdinalEncoderMap=filterOridinalEncoderMap(),vm.customFeatureChecked){if(!vm.customFeatures)return vm.trainingStarted=!1,toaster.pop("error",$scope.app.name,"Custom features cannot be empty.",3e3),vm.showLoading=!1;if(vm.customFeatures.length<=vm.components)return vm.trainingStarted=!1,toaster.pop("error",$scope.app.name,"No. of custom features should be greater than components!.",3e3),vm.showLoading=!1}if(samplingdat&&0<samplingdat.length){vm.samplingPer=[];for(var i=0;i<vm.samplingData.length;i++){var obj={colName:vm.samplingData[i].colName,value:vm.samplingData[i].value};vm.samplingPer.push(obj)}vm.samplingdict={},vm.samplingPer.forEach(function(item){vm.samplingdict[item.colName]=item.value})}if("none"!==vm.sampling&&!vm.samplingData.length)return vm.trainingStarted=!1,toaster.pop("error",$scope.app.name,"Please complete sampling percentage calculation .",3e3),vm.showLoading=!1;trainingData={originalFileId:vm.selectedDataSet._id,parentFileId:vm.childFileData._id,parentPipelineFilename:vm.childFileData.tasks[0].currentPipelineFilename,fileSchema:vm.childFileData.fileSchema,depVariable:vm.target.colName,indepVariable:vm.tempSelected,algorithms:vm.modelAlgorithm,validationStrategy:vm.validationStrategy,testSize:vm.testSize,pId:vm.project._id,hptPreference:$scope.hptPreference,categoricalColNames:categoricalColNames||[],afterEdaDataFilePath:vm.edaData.afterEdaDataFilePath,noOfCol:vm.edaData.edaSummary.length,paragraphColNames:vm.edaData.paragraphColNames,algoType:vm.algoType,isMultilabel:vm.isMultilabel,backGround:vm.backGround,foreGround:vm.foreGround,edaId:vm.edaData._id,edaSummary:vm.edaData.edaSummary,datetimeColumnName:vm.edaData.datetimeColumnName,problemType:vm.project.type,isImbalanced:vm.isImbalanced,sampling:vm.sampling,autoFeatureGenTasks:vm.autoFeatureGenTasks.length?vm.autoFeatureGenTasks:null,rootFileName:vm.selectedDataSet.filename,dimReductionFitSize:vm.edaData.dimReductionFitSize||1,usingGPU:vm.project.useGPU||!1,categoricalEncoders:vm.catEnc||{},ordinalEncoderMap:finalOrdinalEncoderMap,dateComponent:vm.dateComponent,classNames:vm.classNames,dropOriginal:vm.fdropMethod||!1,scalarValue:vm.scaleValue,logTransformationColumns:vm.logTransformfeature,predictiveModelingInfo:{decomposition:vm.decomposition,components:vm.components,featureSelectionMethod:vm.fsMethod||"none",scoringFunction:vm.scoringFunction||"none",featurePercentage:vm.featurePercentage,nFeaturesToSelect:vm.nFeaturesToSelect,step:vm.step,customFeatureChecked:vm.customFeatureChecked,customFeatures:vm.customFeatures,featureScaling:vm.featureScalingOption||"none",normalizationMethod:vm.normalizationMethod,featureSelectionEstimator:vm.estimator||"none",featureSelectionStep:vm.featureStep||"none",featureSelectionCV:vm.cv||"none"},samplingPercentage:vm.samplingdict||{},nlpConfigs:vm.nlpConfigs};"RFE"!=vm.fsMethod&&(trainingData.predictiveModelingInfo.featureSelectionEstimator="none",trainingData.predictiveModelingInfo.featureSelectionStep="none",trainingData.predictiveModelingInfo.featureSelectionCV="none"),new TrainingService.startTraining(trainingData).$save(function(res){ga("send","event","Training","Model training started",!0)},function(err){vm.trainingStarted=!1,vm.showLoading=!1,toaster.pop("error",$scope.app.name,err.data.message,4e3)})}}},vm.checkChange=function(){"predictive_modeling"==vm.project.type&&(vm.tempFeatures=[],vm.showLoading=!0,$timeout(function(){getEPCFeatures(),vm.showLoading=!1},500))},vm.toggleOne=function(selectedItems){for(var id in selectedItems)if(selectedItems.hasOwnProperty(id)&&!selectedItems[id])return vm.selectAll=!1,vm.normalizationMethod="none",void(vm.showlog=!1);vm.selectAll=!0},vm.selected=[],vm.onChangeCatEncoding=function(encoder,colName){var mapperDatas,itemFound;"Ordinal encoder"===encoder&&(vm.showLoading=!0,mapperDatas=[],(itemFound=vm.ordinalEncMap.find(function(item){return item.col==colName}))?(mapperDatas=Object.keys(itemFound.mapping),vm.openOrdinalEncoderModal(colName,mapperDatas,itemFound)):new TrainingService.uniqueCategories({afterEdaDataFilePath:vm.edaData.afterEdaDataFilePath,colName:colName,projectId:vm.project._id}).$save(function(res){mapperDatas=res.data,vm.openOrdinalEncoderModal(colName,mapperDatas,itemFound),vm.showLoading=!1},function(err){vm.showLoading=!1,mapperDatas=[]}))},vm.openOrdinalEncoderModal=function(colName,mapperDatas,itemFound){var modalInstance,modalScope=$scope.$new();modalScope.colName=colName,modalScope.mapperDatas=mapperDatas,modalScope.selectionArray=Array.from({length:mapperDatas.length},function(_,idx){return{selected:!1,value:++idx}}),modalScope.oeMapData=itemFound?itemFound.mapping:{},modalInstance=$uibModal.open({templateUrl:"ordinalEncoderMapperModel.html",size:"md",scope:modalScope}),modalScope.cancel=function(){modalInstance.close(modalScope.selected),vm.catEnc[colName]="OneHot encoder"},modalScope.save=function(oeMapData){vm.ordinalEncMap=vm.ordinalEncMap.filter(function(item){return item.col!=colName}),vm.ordinalEncMap.push({col:colName,mapping:oeMapData}),modalInstance.close(modalScope.selected)},modalScope.verifyDuplicateOridinalWeight=function(value){vm.duplicateSelection=!1;var key,dupArr=[];for(key in modalScope.oeMapData)dupArr.push(modalScope.oeMapData[key]);new Set(dupArr).size!==dupArr.length&&(vm.duplicateSelection=!0)}},vm.toggleAll=function(selectAll,selectedItems){for(var id in selectedItems)selectedItems.hasOwnProperty(id)&&id!=vm.target&&(selectedItems[id]=selectAll,vm.normalizationMethod="none",vm.showlog=!1);vm.checkChange()},vm.openHPTModal=function(size){vm.showhptStatus=!1;var modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"HPTModel.html",size:"md",scope:modalScope});modalScope.cancel=function(){modalInstance.close(modalScope.selected)},modalScope.saveHPTPreference=function(hptPreference){var index=-1;hptPreference&&($scope.hptPreference.some(function(obj,i){return obj.algoName===hptPreference.algoName&&(index=i)}),!1===index||-1===index?$scope.hptPreference.push(hptPreference):$scope.hptPreference[index]=hptPreference,vm.showhptStatus=!0)}},vm.onHyperParamAlgoChange=function(t){vm.showhptStatus=!1;var temp,dynamicFormFields=angular.copy(DynamicFormService.dynamicFormFields);"Model Generated"==vm.project.projectStatus?(temp=vm.prevTrainingInfo[0].hptPreference?DynamicFormService.getFormFields(vm.prevTrainingInfo[0].hptPreference,t)[0]:null,$scope.formFeilds=temp||DynamicFormService.getFormFields(dynamicFormFields,t)[0]):$scope.formFeilds=DynamicFormService.getFormFields(dynamicFormFields,t)[0];var algoName,t=(algoName=t,$scope.hptPreference?$scope.hptPreference.filter(function(algoFormData){return algoFormData.algoName==algoName}):[]);t.length&&($scope.formFeilds=t[0])},vm.resetHPTfields=function(algorithm){var dynamicFormFields=angular.copy(DynamicFormService.dynamicFormFields);$scope.formFeilds=DynamicFormService.getFormFields(dynamicFormFields,algorithm)[0]},vm.onFSMethodChange=function(algoType,fsMethod){"RFE"!=fsMethod&&"regression"==algoType?(vm.featureStep="",vm.cv="",vm.scoringFunction="f_regression"):"RFE"==fsMethod&&"regression"==algoType?(vm.cv=1,vm.featureStep=10,vm.scoringFunction="Rmse",vm.estimatorAlgo=vm.estimatorRegAlgo):"RFE"==fsMethod&&"classification"==algoType?(vm.cv=1,vm.featureStep=10,vm.scoringFunction="accuracy",vm.estimatorAlgo=vm.estimatorClassAlgo):(vm.featureStep="",vm.cv="",vm.scoringFunction="f_classif")},vm.removeEPWOption=function(epwOption){vm.explicitPairWiseOption.splice(vm.explicitPairWiseOption.indexOf(epwOption),1)},vm.addEPWOption=function(){if(10<vm.explicitPairWiseOption.length)return alert("Max number of supported custom option is 10!"),0;vm.explicitPairWiseOption.push({operation:"addition",colName:[],typeOfAutoFeatureGen:"explicitPairwiseCombination"})},vm.dropChange=function(method){vm.normalizationMethod="none",vm.showlog=!1},vm.onAFGOptionSelection=function(option,model){if("pairwiseLinear"!=option&&"pairwisePolynomial"!=option&&"univariatePolynomial"!=option&&"explicitPairwise"!=option||1!=model?(vm.fdropMethod="",vm.normalizationMethod="none",vm.showlog=!1):vm.fdropMethod="true","explicitPairwise"==option){if(vm.tempSelected=generateIndepVariableList(vm.target,"lOb"),0==vm.tempSelected.length)return alert("Please select features first."),vm.explicitPairwise=!1,0;vm.showLoading=!0,getEPCFeatures(),vm.univariatePolynomial=!1,vm.pairwisePolynomial=!1,vm.pairwiseLinear=!1,vm.split=!1,vm.explicitPairWiseOption=[{operation:"addition",colName:[],typeOfAutoFeatureGen:"explicitPairwiseCombination"}],vm.showLoading=!1}else vm.explicitPairwise=!1},vm.calculateFeatureScore=function(){var featureScoreData=null,categoricalColNames=getFeatures(vm.edaData.edaSummary,"Categorical",vm.target.colName);if(vm.tempSelected=generateIndepVariableList(vm.target,"lOb"),vm.indepVariables=vm.tempSelected,vm.showLoading=!0,checkThemeColor(),vm.tempSelected.length<1)return toaster.pop("error",$scope.app.name,"Please select features.",3e3),vm.trainingStarted=!1,vm.showLoading=!1;if("RFE"==vm.fsMethod&&("none"==vm.estimator||""==vm.estimator))return vm.trainingStarted=!1,toaster.pop("error",$scope.app.name,"Please select estimator",3e3),vm.showLoading=!1;if(null==vm.featureStep||""==vm.featureStep)return vm.trainingStarted=!1,toaster.pop("error",$scope.app.name,"Feature steps should be between 0-100.",3e3),vm.showLoading=!1;if(null==vm.cv||""==vm.cv)return vm.trainingStarted=!1,toaster.pop("error",$scope.app.name,"CV should be between 0-5.",3e3),vm.showLoading=!1;if(vm.customFeatureChecked){if(!vm.customFeatures)return vm.trainingStarted=!1,toaster.pop("error",$scope.app.name,"Custom features cannot be empty.",3e3),vm.showLoading=!1;if(vm.customFeatures.length<=vm.components)return vm.trainingStarted=!1,toaster.pop("error",$scope.app.name,"No. of custom features should be greater than components!.",3e3),vm.showLoading=!1}0<vm.logTransformfeature.length&&(vm.scaleValue=vm.scale),featureScoreData={parentFileId:vm.childFileData._id,parentPipelineFilename:vm.childFileData.tasks[0].currentPipelineFilename,fileSchema:vm.childFileData.fileSchema,depVariable:vm.target.colName,indepVariable:vm.tempSelected,algorithms:vm.modelAlgorithm,validationStrategy:vm.validationStrategy,testSize:vm.testSize,pId:vm.project._id,hptPreference:$scope.hptPreference,categoricalColNames:categoricalColNames||[],afterEdaDataFilePath:vm.edaData.afterEdaDataFilePath,noOfCol:vm.edaData.edaSummary.length,paragraphColNames:vm.edaData.paragraphColNames,algoType:vm.algoType,isMultilabel:vm.isMultilabel,backGround:vm.backGround,foreGround:vm.foreGround,edaId:vm.edaData._id,datetimeColumnName:vm.edaData.datetimeColumnName,problemType:vm.edaData.problemType,isImbalanced:vm.isImbalanced,sampling:vm.sampling,autoFeatureGenTasks:vm.autoFeatureGenTasks.length?vm.autoFeatureGenTasks:null,rootFileName:vm.selectedDataSet.filename,categoricalEncoders:vm.catEnc||[],dateComponent:vm.dateComponent,scalarValue:vm.scaleValue||{},logTransformationColumns:vm.logTransformfeature||{},predictiveModelingInfo:{decomposition:vm.decomposition,components:vm.components,featureSelectionMethod:vm.fsMethod||"none",scoringFunction:vm.scoringFunction||"none",featurePercentage:vm.featurePercentage,nFeaturesToSelect:vm.nFeaturesToSelect,step:vm.step,customFeatureChecked:vm.customFeatureChecked,customFeatures:vm.customFeatures,featureScaling:vm.featureScalingOption||"none",normalizationMethod:vm.normalizationMethod,featureSelectionEstimator:vm.estimator||"none",featureSelectionStep:vm.featureStep||"none",featureSelectionCV:vm.cv||"none"},nlpConfigs:vm.nlpConfigs},"RFE"!=vm.fsMethod&&(featureScoreData.predictiveModelingInfo.featureSelectionEstimator="none",featureScoreData.predictiveModelingInfo.featureSelectionStep="none",featureScoreData.predictiveModelingInfo.featureSelectionCV="none"),new TrainingService.calculateFeatureScore(featureScoreData).$save(function(res){vm.showTrainingTable=!1;var featureScores=res.featureScores;vm.calculatedScore=res.featureScores,buildTrainingTable(angular.copy(vm.edaData.edaSummary).map(function(data){var item,itemToFind,item=(item=featureScores,itemToFind=data.colName,item.find(function(data){return data.colName==itemToFind}));return item&&(data.isSelected=item.isSelected,data.score=item.score),data}),vm.project.type,"with_feature_score"),ga("send","event","Training","Model training started",!0)},function(err){vm.trainingStarted=!1,vm.showLoading=!1,toaster.pop("error",$scope.app.name,err.data.message,4e3)})},vm.onNormalizationChange=function(method){if("none"!=vm.normalizationMethod&&(vm.featureScalingOption="none"),"logTransform"==method&&"predictive_modeling"==vm.project.type)if(vm.showlog=!0,getAFGoptions(),0<vm.autoFeatureGenTasks.length&&"true"==vm.fdropMethod){vm.tempfeat={};for(var colname=vm.edaData.edaSummary.filter(function(feature){if(!(feature.constantFeature||feature.highCardinalityFeature||feature.mostlyMissing||"Decimal"!=feature.dataType&&"Integer"!=feature.dataType&&"Numeric"!=feature.dataType))return feature}),test=[],i=0;i<colname.length;i++){var obj={colName:colname[i].colName};test.push(obj)}var result=test.filter(function(o1){return!vm.tempSelected.some(function(o2){return o1.colName===o2.colName})});if(vm.tempfeat=result.map(function(feature){return feature.colName}),vm.tempfeat.length<1)return toaster.pop("Info",$scope.app.name,"No Independent feature to select for transformer",3e3),vm.showlog=!1}else{if(temp=(temp=vm.edaData.edaSummary).filter(function(feature){if(!(feature.constantFeature||feature.highCardinalityFeature||feature.mostlyMissing||"Decimal"!=feature.dataType&&"Integer"!=feature.dataType&&"Numeric"!=feature.dataType))return feature}),vm.tempfeat=temp.map(function(feature){return feature.colName}),vm.tempfeat.length<1)return toaster.pop("Info",$scope.app.name,"No Independent feature to select for transformer",3e3),vm.showlog=!1;vm.showlog=!0}else if("logTransform"==method&&"clustering"==vm.project.type){var temp;if(vm.showlog=!0,temp=(temp=vm.edaData.edaSummary).filter(function(feature){if(!(feature.constantFeature||feature.highCardinalityFeature||feature.mostlyMissing||"Decimal"!=feature.dataType&&"Integer"!=feature.dataType&&"Numeric"!=feature.dataType))return feature}),vm.tempfeat=temp.map(function(feature){return feature.colName}),vm.tempfeat.length<1)return toaster.pop("Info",$scope.app.name,"No Independent feature to select for transformer",3e3),vm.showlog=!1;vm.showlog=!0}else vm.showlog=!1},vm.showScalar=function(){0<vm.logTransformfeature.length?vm.showscalar=!0:vm.showscalar=!1},vm.onFeatureScalingOptionChange=function(){"none"!=vm.featureScalingOption&&(vm.normalizationMethod="none")},vm.tab="trend",vm.tabElements={},vm.setTabValue=function(tab){vm.tab=tab},vm.visualizeComponents=function(){vm.showTSTabs=!0,vm.showLoading=!0,checkThemeColor(),vm.tempSelected=generateIndepVariableList(vm.target,"lOb");var data={projectId:vm.project._id,afterEdaDataFilePath:vm.edaData.afterEdaDataFilePath,foreGround:vm.foreGround,target:vm.target.colName,timeseriesInfo:{frequency:vm.selectedFrequency||null,tab:vm.tab||"trend",model:vm.visualizationModel,exogVariables:vm.tempSelected||[]},fileSchema:vm.childFileData.fileSchema};$http.post("/api/v2/projects/"+vm.project._id+"/timeseries/visualize/component",data).then(function(res){res=res.data;vm.tabElements[vm.tab]=!0;for(var element=document.getElementById(vm.tab);element.data&&0<element.data.length;)Plotly.deleteTraces(element,[0]);Plotly.plot(element,res.graphContent.data,res.graphContent.layout),vm.showLoading=!1},function(err){vm.showLoading=!1,toaster.pop("error",$scope.app.name,err.data.message,3e3)})},vm.stationaryTestData=[],vm.doSationarityTest=function(){vm.showLoading=!0,vm.showStationarityTable=!1;var data={afterEdaDataFilePath:vm.edaData.afterEdaDataFilePath,target:vm.target.colName,fileSchema:vm.childFileData.fileSchema,stationarityTest:vm.stationarityTestMethod,projectId:vm.project._id,timeseriesInfo:{exogVariables:generateIndepVariableList(vm.target,"lOb")}};new TrainingService.startStationarityTest(data).$save(function(callback){var data;vm.stationaryTestData=callback.data,data=callback.data,callback=function(err,data){data&&(vm.showLoading=!1),vm.showStationarityTable=!0},vm.dtInstanceStationarity.hasOwnProperty("DataTable")&&(vm.dtInstanceStationarity.DataTable.clear(),vm.dtColumnsStationarity.length=0),vm.dtOptionsStationarity=DTOptionsBuilder.fromFnPromise(function(){var defer=$q.defer();return defer.resolve(data),defer.promise}).withOption("processing",!0).withPaginationType("full_numbers").withOption("createdRow",function(row,data,dataIndex){$compile(angular.element(row).contents())($scope)}).withOption("headerCallback",function(header){$compile(angular.element(header).contents())($scope),vm.headerCompiled}),vm.dtColumnsStationarity=[DTColumnBuilder.newColumn("colName").withTitle("Feature name"),DTColumnBuilder.newColumn("stationarity").withTitle("Stationarity")],callback(null,!0)},function(err){vm.showLoading=!1})},vm.generateNumericArray=function(max){for(var arr=[],i=1;i<=max;i++)arr.push(i);return arr},vm.getAutoCorrelation=function(){vm.showLoading=!0,checkThemeColor();var data={projectId:vm.project._id,nlags:vm.nlags,foreGround:vm.foreGround,depVariable:vm.target.colName,pacfMethod:vm.pacfMethod,afterEdaDataFilePath:vm.edaData.afterEdaDataFilePath};$http.post("/api/v2/projects/"+vm.project._id+"/timeseries/visualize/autocorrelation",data).then(function(res){for(var res=res.data,autoCorrelationGraph=document.getElementById("autoCorrelationGraph");autoCorrelationGraph.data&&0<autoCorrelationGraph.data.length;)Plotly.deleteTraces(autoCorrelationGraph,[0]);Plotly.plot(autoCorrelationGraph,res.graphContent.data,res.graphContent.layout),vm.showLoading=!1},function(err){toaster.pop("error",$scope.app.name,err.data.message,3e3),vm.showLoading=!1})},vm.openOptimseClusterModal=function(){vm.maxNoClusters=null;var modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"clusterOptimiseModal.html",size:"lg",scope:modalScope});modalScope.cancel=function(){modalInstance.close(modalScope.selected)};var categoricalColNames=getFeatures(vm.edaData.edaSummary,"Categorical",null);if(vm.modelAlgorithm.length<1)return toaster.pop("error",$scope.app.name,"Please select algorithms.",3e3),!1;if("pca"==vm.decomposition&&(vm.components<2||50<vm.components))return toaster.pop("error",$scope.app.name,"PCA Value should be between 2-50.",3e3),!1;if(vm.clusters<2||50<vm.clusters)return toaster.pop("error",$scope.app.name,"Cluster value should be between 2-50.",3e3),!1;var numericFeatures=vm.edaData.edaSummary.filter(function(feature){return"Integer"==feature.dataType||"Decimal"==feature.dataType});if(vm.tempSelected=generateIndepVariableList(vm.target,"clustering"),vm.tempSelected.length<1)return toaster.pop("error",$scope.app.name,"Please select features.",3e3),!1;modalScope.findOptimalClusters=function(){var data={originalFileId:vm.selectedDataSet._id,parentFileId:vm.childFileData._id,parentPipelineFilename:vm.childFileData.tasks[0].currentPipelineFilename,fileSchema:vm.childFileData.fileSchema,algorithms:vm.modelAlgorithm,algoType:"clustering",edaId:vm.edaData._id,pId:vm.project._id,hptPreference:$scope.hptPreference,categoricalColNames:categoricalColNames||[],afterEdaDataFilePath:vm.edaData.afterEdaDataFilePath,paragraphColNames:vm.edaData.paragraphColNames,indepVariable:vm.tempSelected,backGround:vm.backGround,foreGround:vm.foreGround,normalizationMethod:vm.normalizationMethod,featureScaling:vm.featureScalingOption,rootFileName:vm.selectedDataSet.filename,problemType:vm.project.type,datetimeColumnName:vm.edaData.datetimeColumnName,usingGPU:vm.project.useGPU||!1,maxNoClusters:vm.maxNoClusters,categoricalEncoders:vm.catEnc||{},dateComponent:vm.dateComponent||{},scalarValue:vm.scaleValue||{},logTransformationColumns:vm.logTransformfeature||{},clusteringInfo:{decomposition:vm.decomposition,components:vm.components,clusters:Number(vm.clusters),numericFeatures:numericFeatures},nlpConfigs:vm.nlpConfigs};$http.post("/api/v2/projects/"+vm.project._id+"/clustering/visualize/optimise_clusters",data).then(function(res){for(var res=res.data,optimiseClusterGraph=document.getElementById("optimiseClusterGraph");optimiseClusterGraph.data&&0<optimiseClusterGraph.data.length;)Plotly.deleteTraces(optimiseClusterGraph,[0]);res.graphContent.layout.template.layout.title.xanchor="center",res.graphContent.layout.template.layout.title.y=.9,res.graphContent.layout.template.layout.title.x=.5,res.graphContent.layout.template.layout.title.yanchor="top",res.graphContent.layout.xaxis.linecolor="black",res.graphContent.layout.yaxis.linecolor="black",Plotly.plot(optimiseClusterGraph,res.graphContent.data,res.graphContent.layout),vm.showLoading=!1},function(err){toaster.pop("error",$scope.app.name,err.data.message,3e3),vm.showLoading=!1})}},vm.periodFreq=vm.generateNumericArray(10),Socket.on("TrainingProgress",function(data){"training_failed"==data.status?(vm.trainingStarted=!1,vm.showLoading=!1,toaster.pop("error",$scope.app.name,"Could not start the training process, "+data.message,5e3)):1==vm.algorithm&&"model_failed"==data.status?(vm.trainingStarted=!1,vm.showLoading=!1,toaster.pop("error",$scope.app.name,"Model training failed for , "+data.message,5e3)):(vm.trainingStarted=!1,ga("send","event","Training","Training started",!0),$state.go("app.models"))}),$scope.$on("$destroy",function(){Socket.removeListener("TrainingProgress")})}angular.module("app.training").controller("TrainingController",TrainingController),TrainingController.$inject=["Project","$http","DTOptionsBuilder","DTColumnBuilder","$compile","$scope","ProjectCore","$state","Socket","toaster","$q","$sce","Authentication","NVD3Config","TooltipData","DataService","DBConnService","SweetAlert","TrainingService","TimeseriesService","NlpService","DynamicFormService","$uibModal","$timeout","TextAnalysis"]}(),angular.module("app.training").directive("onlyNumbers",function(){return{restrict:"A",link:function(scope,elm){elm.on("keydown",function(event){return event.shiftKey?(event.preventDefault(),!1):-1<[8,13,27,37,38,39,40].indexOf(event.which)||(49<=event.which&&event.which<=57||(96<=event.which&&event.which<=105||(event.preventDefault(),!1)))})}}}),angular.module("app.training").directive("clickAndDisable",function(){return{scope:{clickAndDisable:"&"},link:function(scope,iElement){iElement.bind("click",function(){iElement.prop("disabled",!0),scope.clickAndDisable().finally(function(){iElement.prop("disabled",!1)})})}}});
"use strict";angular.module("app.training").factory("DynamicFormService",[function(){var dynamicForm={dynamicFormFields:[{algoName:"Rapids_XGBoost Classification",fields:[{type:"number",name:"eta",label:"eta",required:!1,bo_data:"0,1",data:.3,gs_data:"0.3,0.5,0.7"},{type:"number",name:"gamma",label:"gamma",required:!1,bo_data:"0.0,9.0",data:0,gs_data:"0.5,1,1.5"},{type:"number",name:"max_depth",label:"max_depth",required:!1,bo_data:"3,20",data:6,gs_data:"3,4,5,6,7"},{type:"number",name:"min_child_weight",label:"min_child_weight",required:!1,bo_data:"1,8",data:1,gs_data:"1,4,8"},{type:"number",name:"max_delta_step",label:"max_delta_step",required:!1,bo_data:"0,8",data:0,gs_data:"0,4,8"},{type:"number",name:"subsample",label:"subsample",required:!1,data:1,gs_data:"0.6,0.8,1.0"},{type:"radio",name:"sampling_method",label:"sampling_method",required:!0,data:!0,radio_btns:[{radio_label:"uniform",value:!0},{radio_label:"gradient_based",value:!1}]},{type:"number",name:"colsample_bytree",label:"colsample_bytree",required:!1,data:1,gs_data:"0.6,0.8,1.0"},{type:"number",name:"colsample_bylevel",label:"colsample_bylevel",required:!1,bo_data:"0.0, 1.0",data:1,gs_data:"0.6,0.8,1.0"},{type:"number",name:"colsample_bynode",label:"colsample_bynode",required:!1,bo_data:"0.0, 1.0",data:1,gs_data:"0.6,0.8,1.0"},{type:"number",name:"lambda",label:"lambda",required:!1,data:1,gs_data:"1,2"},{type:"number",name:"alpha",label:"alpha",required:!1,bo_data:"0.1,9.0",data:0,gs_data:"0,1,2"},{type:"number",name:"scale_pos_weight",label:"scale_pos_weight",required:!1,bo_data:"0.1,9.0",data:1,gs_data:"0,1,2"},{type:"radio",name:"tree_method",label:"tree_method",required:!1,data:!0,radio_btns:[{radio_label:"gpu_hist",value:!0}]},{type:"radio",name:"silent",label:"silent",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"grow_policy",label:"grow_policy",required:!0,data:!0,radio_btns:[{radio_label:"lossguide",value:!0},{radio_label:"depthwise",value:!1}]},{type:"number",name:"max_leaves",label:"max_leaves",required:!1,bo_data:"0,256",data:0,gs_data:"0,16,64,256"},{type:"number",name:"n_gpus",label:"n_gpus",required:!1,bo_data:"1",data:1,gs_data:"1"}],isBOSupported:!0},{algoName:"Rapids_XGBoost Regression",fields:[{type:"number",name:"eta",label:"eta",required:!1,bo_data:"0,1",data:.3,gs_data:"0.3,0.5,0.7"},{type:"number",name:"gamma",label:"gamma",required:!1,bo_data:"0.0,9.0",data:0,gs_data:"0.5,1,1.5"},{type:"number",name:"max_depth",label:"max_depth",required:!1,bo_data:"3,20",data:6,gs_data:"3,4,5,6,7"},{type:"number",name:"min_child_weight",label:"min_child_weight",required:!1,bo_data:"1,8",data:1,gs_data:"1,4,8"},{type:"number",name:"max_delta_step",label:"max_delta_step",required:!1,bo_data:"0,8",data:0,gs_data:"0,4,8"},{type:"number",name:"subsample",label:"subsample",required:!1,data:1,gs_data:"0.6,0.8,1.0"},{type:"radio",name:"sampling_method",label:"sampling_method",required:!0,data:!0,radio_btns:[{radio_label:"uniform",value:!0},{radio_label:"gradient_based",value:!1}]},{type:"number",name:"colsample_bytree",label:"colsample_bytree",required:!1,bo_data:"0.0, 1.0",data:1,gs_data:"0.6,0.8,1.0"},{type:"number",name:"colsample_bylevel",label:"colsample_bylevel",required:!1,bo_data:"0.0, 1.0",data:1,gs_data:"0.6,0.8,1.0"},{type:"number",name:"colsample_bynode",label:"colsample_bynode",required:!1,bo_data:"0.0, 1.0",data:1,gs_data:"0.6,0.8,1.0"},{type:"number",name:"lambda",label:"lambda",required:!1,data:1,gs_data:"1,2"},{type:"number",name:"alpha",label:"alpha",required:!1,bo_data:"0.1,9.0",data:0,gs_data:"0,1,2"},{type:"number",name:"scale_pos_weight",label:"scale_pos_weight",required:!1,bo_data:"0.1,9.0",data:1,gs_data:"0,1,2"},{type:"radio",name:"tree_method",label:"tree_method",required:!1,data:!0,radio_btns:[{radio_label:"gpu_hist",value:!0}]},{type:"radio",name:"silent",label:"silent",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"grow_policy",label:"grow_policy",required:!0,data:!0,radio_btns:[{radio_label:"lossguide",value:!0},{radio_label:"depthwise",value:!1}]},{type:"number",name:"max_leaves",label:"max_leaves",required:!1,bo_data:"0,256",data:0,gs_data:"0,16,64,256"},{type:"number",name:"n_gpus",label:"n_gpus",required:!1,bo_data:"1",data:1,gs_data:"1"}],isBOSupported:!0},{algoName:"CUML_ARIMA",fields:[{type:"text",name:"order",label:"order(p,d,q)",placeholder_text:"",required:!1,data:"1,1,1",gs_data:""},{type:"text",name:"seasonal_order",label:"seasonal order(P,D,Q,s)",placeholder_text:"",required:!1,data:"0,0,0,0",gs_data:""},{type:"radio",name:"fit_intercept",label:"fit_intercept",required:!1,data:null,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1,None:null}]}],isBOSupported:!1},{algoName:"CUML_Random Forest Regression",fields:[{type:"number",name:"n_estimators",label:"n_estimators",required:!1,bo_data:"100,200",data:100,gs_data:"50,100,200"},{type:"radio",name:"accuracy_metric",label:"accuracy_metric",required:!1,data:"mean_ae",radio_btns:[{radio_label:"mse",value:"mse"},{radio_label:"median_ae",value:"median_ae"},{radio_label:"mean_ae",value:"mean_ae"}]},{type:"text",name:"max_features",label:"max_features",required:!1,data:"auto",gs_data:"auto,sqrt,log2"},{type:"number",name:"max_depth",label:"max_depth",required:!1,bo_data:"3,16",data:16,gs_data:"3,6,9,12,16"},{type:"number",name:"n_bins",label:"n_bins",required:!1,bo_data:"2,16",data:16,gs_data:"2,8,16"},{type:"number",name:"min_rows_per_node",label:"min_rows_per_node",required:!1,bo_data:"2,8",data:2,gs_data:"2,4,8"},{type:"number",name:"min_impurity_decrease",label:"min_impurity_decrease",required:!1,bo_data:"0.02,0.2",data:0,gs_data:"0,0.1,0.2"},{type:"number",name:"max_leaves",label:"max_leaves",required:!1,bo_data:"-1, 8",data:-1,gs_data:"-1,2,4,8"},{type:"radio",name:"split_algo",label:"split_algo",required:!1,data:1,radio_btns:[{radio_label:"HIST",value:0},{radio_label:"GLOBAL_QUANTILE",value:1}]},{type:"radio",name:"split_criterion",label:"split_criterion",required:!1,data:2,radio_btns:[{radio_label:"MSE",value:2},{radio_label:"MAE",value:3}]},{type:"radio",name:"bootstrap",label:"bootstrap",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"bootstrap_features",label:"bootstrap_features",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"quantile_per_tree",label:"quantile_per_tree",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]}],isBOSupported:!1},{algoName:"CUML_Random Forest Classification",fields:[{type:"number",name:"n_estimators",label:"n_estimators",required:!1,bo_data:"100,200",data:100,gs_data:"50,100,200"},{type:"text",name:"max_features",label:"max_features",required:!1,data:"auto",gs_data:"auto,sqrt,log2"},{type:"number",name:"max_depth",label:"max_depth",required:!1,bo_data:"3,16",data:16,gs_data:"3,6,9,12,16"},{type:"number",name:"n_bins",label:"n_bins",required:!1,bo_data:"2,16",data:16,gs_data:"2,8,16"},{type:"number",name:"min_rows_per_node",label:"min_rows_per_node",required:!1,bo_data:"2,8",data:2,gs_data:"2,4,8"},{type:"number",name:"min_impurity_decrease",label:"min_impurity_decrease",required:!1,bo_data:"0.02,0.2",data:0,gs_data:"0,0.1,0.2"},{type:"number",name:"max_leaves",label:"max_leaves",required:!1,bo_data:"-1, 8",data:-1,gs_data:"-1,2,4,8"},{type:"radio",name:"split_algo",label:"split_algo",required:!1,data:1,radio_btns:[{radio_label:"HIST",value:0},{radio_label:"GLOBAL_QUANTILE",value:1}]},{type:"radio",name:"split_criterion",label:"split_criterion",required:!1,data:0,radio_btns:[{radio_label:"GINI",value:0},{radio_label:"ENTROPY",value:1}]},{type:"radio",name:"bootstrap",label:"bootstrap",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"bootstrap_features",label:"bootstrap_features",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"quantile_per_tree",label:"quantile_per_tree",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]}],isBOSupported:!1},{algoName:"CUML_Linear Regression",fields:[{type:"text",name:"algorithm",label:"algorithm",required:!1,data:"eig",gs_data:"eig,svd"},{type:"radio",name:"fit_intercept",label:"fit_intercept",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"normalize",label:"normalize",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]}],isBOSupported:!1},{algoName:"CUML_Logistic Regression",fields:[{type:"text",name:"penalty",label:"penalty",required:!1,data:"l2",gs_data:"none,l1,l2,elasticnet"},{type:"number",name:"tol",label:"tol",required:!1,bo_data:"0.01,1",data:1e-4,gs_data:"0.01,0.001,0.0001"},{type:"number",name:"C",label:"C",required:!1,bo_data:"1,20",data:1,gs_data:"1.0,10.0,100.0"},{type:"number",name:"max_iter",label:"max_iter",required:!1,bo_data:"500,1000",data:1e3,gs_data:"500, 750, 1000"},{type:"number",name:"linesearch_max_iter",label:"linesearch_max_iter",required:!1,bo_data:"1,50",data:50,gs_data:"10,20,50"},{type:"number",name:"l1_ratio",label:"l1_ratio",required:!1,bo_data:"0,1",data:null,gs_data:"null,0.1,0.5,1.0"},{type:"text",name:"solver",label:"solver",required:!1,data:"qn",gs_data:"qn,lbfgs,owl"},{type:"radio",name:"fit_intercept",label:"fit_intercept",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]}],isBOSupported:!1},{algoName:"Linear Regression",fields:[{type:"radio",name:"fit_intercept",label:"fit_intercept",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"normalize",label:"normalize",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"copy_X",label:"copy_X",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]}],isBOSupported:!1},{algoName:"Polynomial Regression",fields:[{type:"number",name:"degree",label:"degree",required:!1,bo_data:"2,5",data:2,gs_data:"2,3,4"},{type:"radio",name:"interaction_only",label:"interaction_only",required:!0,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"include_bias",label:"include_bias",required:!0,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]}],isBOSupported:!0},{algoName:"SV Regression",fields:[{type:"number",name:"C",label:"C",required:!1,data:1},{type:"number",name:"epsilon",label:"epsilon",required:!1,data:.1},{type:"select",name:"kernel",label:"kernel",required:!0,data:"rbf",select_options:[{option_label:"rbf",value:"rbf"},{option_label:"linear",value:"linear"},{option_label:"poly",value:"poly"},{option_label:"sigmoid",value:"sigmoid"}],placeholder_text:"Select kernal",sub_ui_elemets:[{type:"text",name:"gamma",label:"gamma",required:!1,display_if:"rbf",data:5,display_for:["rbf","poly","sigmoid"]}]},{type:"number",name:"degree",label:"degree",required:!1,data:3},{type:"number",name:"coef0",label:"coef0",required:!1,data:0},{type:"radio",name:"shrinking",label:"shrinking",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"number",name:"tol",label:"tol",required:!1,data:0},{type:"number",name:"cache_size",label:"cache_size",required:!1,data:0},{type:"number",name:"max_iter",label:"max_iter",required:!1,data:-1}],isBOSupported:!0},{algoName:"Decision Tree Regression",fields:[{type:"select",name:"criterion",label:"criterion",required:!1,data:"mse",gs_data:["mse","friedman_mse","mae"],select_options:[{option_label:"mse",value:"mse"},{option_label:"friedman_mse",value:"friedman_mse"},{option_label:"mae",value:"mae"}]},{type:"radio",name:"splitter",label:"splitter",required:!1,data:"best",radio_btns:[{radio_label:"best",value:"best"},{radio_label:"random",value:"random"}]},{type:"text",name:"max_depth",label:"max_depth",required:!1,data:"None",placeholder_text:"Some value",gs_data:"1.0,2.0,3.0,4.0,5.0"},{type:"number",name:"min_samples_split",label:"min_samples_split",required:!1,bo_data:"0.1,0.5",data:2,gs_data:"0.1,0.2,0.3,0.4,0.5"},{type:"number",name:"min_samples_leaf",label:"min_samples_leaf",required:!1,bo_data:"0.1,0.5",data:1,gs_data:"0.1,0.2,0.3,0.4,0.5"},{type:"number",name:"min_weight_fraction_leaf",label:"min_weight_fraction_leaf",required:!1,bo_data:"0.1,0.4",data:0,gs_data:"0,0.5"},{type:"text",name:"max_features",label:"max_features",required:!1,data:"None",gs_data:"None,auto,sqrt,log2"},{type:"text",name:"max_leaf_nodes",label:"max_leaf_nodes",required:!1,bo_data:"2,10",data:"None",gs_data:"None, 5, 10, 15"},{type:"number",name:"min_impurity_decrease",label:"min_impurity_decrease",required:!1,data:0,gs_data:"0,0.1,0.2"},{type:"radio",name:"presort",label:"presort",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]}],isBOSupported:!0},{algoName:"Random Forest Regression",fields:[{type:"number",name:"n_estimators",label:"n_estimators",required:!1,bo_data:"100,900",data:10,gs_data:"50,100,200"},{type:"radio",name:"criterion",label:"criterion",required:!1,data:"mse",radio_btns:[{radio_label:"mse",value:"mse"},{radio_label:"mae",value:"mae"}]},{type:"text",name:"max_features",label:"max_features",required:!1,data:"auto",gs_data:"None,auto,sqrt,log2"},{type:"text",name:"max_depth",label:"max_depth",required:!1,bo_data:"3,10",data:"None",gs_data:"1.0,2.0,3.0,4.0,5.0"},{type:"number",name:"min_samples_split",label:"min_samples_split",required:!1,bo_data:"0.1,0.5",data:2,gs_data:"0.1,0.2,0.3,0.4,0.5"},{type:"number",name:"min_samples_leaf",label:"min_samples_leaf",required:!1,bo_data:"0.1,0.5",data:1,gs_data:"0.1,0.2,0.3,0.4,0.5"},{type:"number",name:"min_weight_fraction_leaf",label:"min_weight_fraction_leaf",required:!1,bo_data:"0.1,0.4",data:0,gs_data:"0,0.5"},{type:"text",name:"max_leaf_nodes",label:"max_leaf_nodes",required:!1,bo_data:"5,15",data:"None",gs_data:"None,5,10,15"},{type:"number",name:"min_impurity_decrease",label:"min_impurity_decrease",required:!1,bo_data:"0.02,0.2",data:0,gs_data:"0,0.1,0.2"},{type:"radio",name:"oob_score",label:"oob_score",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"warm_start",label:"warm_start",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]}],isBOSupported:!0},{algoName:"KNN Classification",fields:[{type:"number",name:"n_neighbors",label:"n_neighbors",required:!1,bo_data:"3,10",data:5,gs_data:"3,5,7"},{type:"select",name:"weights",label:"weights",required:!0,data:"uniform",gs_data:["uniform","distance"],select_options:[{option_label:"uniform",value:"uniform"},{option_label:"distance",value:"distance"}]},{type:"select",name:"algorithm",label:"algorithm",required:!0,data:"auto",gs_data:["auto","ball_tree","kd_tree","brute"],select_options:[{option_label:"auto",value:"auto"},{option_label:"ball_tree",value:"ball_tree"},{option_label:"kd_tree",value:"kd_tree"},{option_label:"brute",value:"brute"}]},{type:"number",name:"leaf_size",label:"leaf_size",required:!1,bo_data:"5,20",data:30,gs_data:"25,30,35"},{type:"number",name:"p",label:"p",required:!1,bo_data:"1,5",data:2,gs_data:"2,3,4"},{type:"text",name:"metric",label:"metric",required:!1,data:"minkowski",gs_data:"minkowski,euclidean,manhattan"}],isBOSupported:!0},{algoName:"SVM Classification",fields:[{type:"number",name:"C",label:"C",required:!1,bo_data:"0.01,1",data:1},{type:"select",name:"kernel",label:"kernel",required:!0,data:"rbf",select_options:[{option_label:"rbf",value:"rbf"},{option_label:"linear",value:"linear"},{option_label:"poly",value:"poly"},{option_label:"sigmoid",value:"sigmoid"}],placeholder_text:"Select kernal",sub_ui_elemets:[{type:"text",name:"gamma",label:"gamma",required:!1,display_if:"rbf",data:5,display_for:["rbf","poly","sigmoid"]}]},{type:"number",name:"degree",label:"degree",required:!1,bo_data:"1,5",data:3},{type:"number",name:"coef0",label:"coef0",required:!1,data:0},{type:"radio",name:"probability",label:"probability",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"shrinking",label:"shrinking",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"number",name:"tol",label:"tol",required:!1,bo_data:"0.01,1",data:0},{type:"number",name:"cache_size",label:"cache_size",required:!1,bo_data:"0.01,1",data:0},{type:"text",name:"class_weight",label:"class_weight",required:!1,data:"None"},{type:"number",name:"max_iter",label:"max_iter",required:!1,bo_data:"1,10",data:-1},{type:"radio",name:"decision_function_shape",label:"decision_function_shape",required:!1,data:"ovr",radio_btns:[{radio_label:"ovr",value:"ovr"},{radio_label:"ovo",value:"ovo"}]}],isBOSupported:!0},{algoName:"Logistic Regression",fields:[{type:"text",name:"penalty",label:"penalty",required:!1,data:"l2",gs_data:"l1,l2"},{type:"number",name:"tol",label:"tol",required:!1,bo_data:"0.01,1",data:1e-4,gs_data:"0.01,0.001,0.0001"},{type:"number",name:"C",label:"C",required:!1,bo_data:"1,20",data:1,gs_data:"1.0,10.0,100.0"},{type:"radio",name:"fit_intercept",label:"fit_intercept",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]}],isBOSupported:!0},{algoName:"Gaussian NB Classification",fields:[{type:"text",name:"priors",label:"priors",required:!1,data:"None"}],isBOSupported:!1},{algoName:"Random Forest Classification",fields:[{type:"number",name:"n_estimators",label:"n_estimators",required:!1,bo_data:"50,200",data:10,gs_data:"50,100,200"},{type:"select",name:"criterion",label:"criterion",required:!0,data:"gini",gs_data:["gini","entropy"],select_options:[{option_label:"gini",value:"gini"},{option_label:"entropy",value:"entropy"}],placeholder_text:"Select criterion"},{type:"text",name:"max_features",label:"max_features",required:!1,data:"auto",gs_data:"None,auto,sqrt,log2"},{type:"text",name:"max_depth",label:"max_depth",required:!1,bo_data:"1,5",data:"None",gs_data:"1.0, 2.0, 3.0, 4.0, 5.0"},{type:"number",name:"min_samples_split",label:"min_samples_split",required:!1,bo_data:"0.1,0.5",data:2,gs_data:"0.1,0.2,0.3,0.4,0.5"},{type:"number",name:"min_samples_leaf",label:"min_samples_leaf",required:!1,bo_data:"0.1,0.5",data:1,gs_data:"0.1,0.2,0.3,0.4,0.5"},{type:"number",name:"min_weight_fraction_leaf",label:"min_weight_fraction_leaf",required:!1,bo_data:"0,0.5",data:0,gs_data:"0,0.5"},{type:"text",name:"max_leaf_nodes",label:"max_leaf_nodes",required:!1,data:"None",gs_data:"None,5,10,15"},{type:"number",name:"min_impurity_decrease",label:"min_impurity_decrease",required:!1,data:0,gs_data:"0,0.1,0.2"},{type:"radio",name:"bootstrap",label:"bootstrap",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"oob_score",label:"oob_score",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"warm_start",label:"warm_start",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]}],isBOSupported:!0},{algoName:"Decision Tree Classification",fields:[{type:"select",name:"criterion",label:"criterion",required:!0,data:"gini",gs_data:["gini","entropy"],select_options:[{option_label:"gini",value:"gini"},{option_label:"entropy",value:"entropy"}],placeholder_text:"Select criterion"},{type:"select",name:"splitter",label:"splitter",required:!0,data:"best",gs_data:["best","random"],select_options:[{option_label:"best",value:"best"},{option_label:"random",value:"random"}],placeholder_text:"Select splitter"},{type:"text",name:"max_depth",label:"max_depth",required:!1,data:"None",gs_data:"1.0,2.0,3.0,4.0,5.0"},{type:"number",name:"min_samples_split",label:"min_samples_split",required:!1,bo_data:"0.1,0.5",data:2,gs_data:"0.1,0.2,0.3,0.4,0.5"},{type:"number",name:"min_samples_leaf",label:"min_samples_leaf",required:!1,bo_data:"0.1,0.5",data:1,gs_data:"0.1,0.2,0.3,0.4,0.5"},{type:"number",name:"min_weight_fraction_leaf",label:"min_weight_fraction_leaf",required:!1,bo_data:"0.1,0.4",data:0,gs_data:"0,0.5"},{type:"text",name:"max_features",label:"max_features",required:!1,data:"None",gs_data:"None,auto,sqrt,log2"},{type:"text",name:"max_leaf_nodes",label:"max_leaf_nodes",required:!1,bo_data:"2,10",data:"None",gs_data:"None,5,10,15"},{type:"number",name:"min_impurity_decrease",label:"min_impurity_decrease",required:!1,data:0,gs_data:"0,0.1,0.2"},{type:"radio",name:"presort",label:"presort",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]}],isBOSupported:!0},{algoName:"SGD Regression",fields:[{type:"select",name:"loss",label:"loss",required:!0,data:"squared_loss",gs_data:["squared_loss","huber","epsilon_insensitive","squared_epsilon_insensitive"],select_options:[{option_label:"huber",value:"huber"},{option_label:"squared_loss",value:"squared_loss"},{option_label:"epsilon_insensitive",value:"epsilon_insensitive"},{option_label:"squared_epsilon_insensitive",value:"squared_epsilon_insensitive"}],placeholder_text:"Select loss"},{type:"select",name:"penalty",label:"penalty",required:!0,data:"None",gs_data:["None","l2","l1","elasticnet"],select_options:[{option_label:"None",value:"None"},{option_label:"l2",value:"l2"},{option_label:"l1",value:"l1"},{option_label:"elasticnet",value:"elasticnet"}],placeholder_text:"Select penalty"},{type:"text",name:"alpha",label:"alpha",required:!1,bo_data:"0.0001, 1.0",data:1e-4,gs_data:"1.0E-4, 1.0E-5"},{type:"number",name:"l1_ratio",label:"l1_ratio",required:!1,bo_data:"0.0, 1.0",data:.15,gs_data:"0.15,0.20"},{type:"radio",name:"fit_intercept",label:"fit_intercept",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"early_stopping",label:"early_stopping",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"number",name:"validation_fraction",label:"validation_fraction",required:!1,bo_data:"0.1, 0.9",data:.1,gs_data:"0.1,0.001"},{type:"number",name:"n_iter_no_change",label:"n_iter_no_change",required:!1,bo_data:"2, 20",data:5,gs_data:"5,10"},{type:"number",name:"max_iter",label:"max_iter",required:!1,bo_data:"3, 20",data:1e3,gs_data:"None,5"},{type:"number",name:"tol",label:"tol",required:!1,data:.0183,gs_data:"None,0.01"},{type:"radio",name:"shuffle",label:"shuffle",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"number",name:"epsilon",label:"epsilon",required:!1,data:0,gs_data:"0.1,0.01"},{type:"select",name:"learning_rate",label:"learning_rate",required:!0,data:"optimal",gs_data:["constant","optimal","invscaling","adaptive"],select_options:[{option_label:"constant",value:"constant"},{option_label:"optimal",value:"optimal"},{option_label:"invscaling",value:"invscaling"}],placeholder_text:"Select solver"},{type:"number",name:"eta0",label:"eta0",required:!1,data:.01,gs_data:"0.01,0.001"},{type:"number",name:"power_t",label:"power_t",required:!1,data:.25,gs_data:"0.25,0.50"},{type:"radio",name:"warm_start",label:"warm_start",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"average",label:"average",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"text",name:"n_iter",label:"n_iter",required:!1,data:"None",gs_data:"None,10"}],isBOSupported:!0},{algoName:"Ridge Regression",fields:[{type:"number",name:"alpha",label:"alpha",required:!1,bo_data:"0.0,1.0",data:1,gs_data:"1,3,5"},{type:"radio",name:"fit_intercept",label:"fit_intercept",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"normalize",label:"normalize",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"copy_X",label:"copy_X",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"number",name:"max_iter",label:"max_iter",required:!1,bo_data:"3,20",data:1e3,gs_data:"None,5,10"},{type:"number",name:"tol",label:"tol",required:!1,bo_data:"0.0,1.0",data:.001,gs_data:"0.1,0.01,0.001"},{type:"select",name:"solver",label:"solver",required:!0,data:"auto",gs_data:["auto","svd","cholesky","lsqr","sparse_cg","sag","saga"],select_options:[{option_label:"auto",value:"auto"},{option_label:"svd",value:"svd"},{option_label:"cholesky",value:"cholesky"},{option_label:"lsqr",value:"lsqr"},{option_label:"sparse_cg",value:"sparse_cg"},{option_label:"sag",value:"sag"},{option_label:"saga",value:"saga"}],placeholder_text:"Select solver"}],isBOSupported:!0},{algoName:"Lasso Regression",fields:[{type:"number",name:"alpha",label:"alpha",required:!1,bo_data:"0.0,2.0",data:1,gs_data:"1,3,5"},{type:"radio",name:"fit_intercept",label:"fit_intercept",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"normalize",label:"normalize",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"precompute",label:"precompute",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"copy_X",label:"copy_X",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"number",name:"max_iter",label:"max_iter",required:!1,bo_data:"3,20",data:100,gs_data:"100,500,1000"},{type:"number",name:"tol",label:"tol",required:!1,bo_data:"0.0,2.0",data:1e-4,gs_data:"0.1,0.01,0.001"},{type:"radio",name:"warm_start",label:"warm_start",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"positive",label:"positive",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"select",name:"selection",label:"selection",required:!0,data:"cyclic",gs_data:["cyclic","random"],select_options:[{option_label:"cyclic",value:"cyclic"},{option_label:"random",value:"random"}],placeholder_text:"Select selection"}],isBOSupported:!0},{algoName:"ElasticNet Regression",fields:[{type:"number",name:"alpha",label:"alpha",required:!1,bo_data:"0.0,2.0",data:1,gs_data:"1,3,5"},{type:"number",name:"l1_ratio",label:"l1_ratio",required:!1,bo_data:"0.0,5.0",data:.5,gs_data:"0.1,0.2,0.3"},{type:"radio",name:"fit_intercept",label:"fit_intercept",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"normalize",label:"normalize",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"precompute",label:"precompute",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"copy_X",label:"copy_X",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"number",name:"max_iter",label:"max_iter",required:!1,bo_data:"3,20",data:100,gs_data:"100,500,1000"},{type:"number",name:"tol",label:"tol",required:!1,bo_data:"0.0,2.0",data:1e-4,gs_data:"0.001,0.0001,0.00001"},{type:"radio",name:"warm_start",label:"warm_start",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"positive",label:"positive",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"text",name:"selection",label:"selection",required:!1,data:"cyclic",gs_data:"cyclic,random"}],isBOSupported:!0},{algoName:"Passive Aggressive Regression",fields:[{type:"number",name:"C",label:"C",required:!1,data:1,gs_data:"0.01,0.1,1"},{type:"radio",name:"fit_intercept",label:"fit_intercept",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"number",name:"max_iter",label:"max_iter",required:!1,bo_data:"100,500",data:5,gs_data:"100,500,1000"},{type:"number",name:"tol",label:"tol",required:!1,bo_data:"0.0,5.0",data:.001,gs_data:"1e-3,1e-4,1e-5"},{type:"radio",name:"shuffle",label:"shuffle",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"select",name:"loss",label:"loss",required:!0,data:"epsilon_insensitive",gs_data:["epsilon_insensitive","squared_epsilon_insensitive"],select_options:[{option_label:"epsilon_insensitive",value:"epsilon_insensitive"},{option_label:"squared_epsilon_insensitive",value:"squared_epsilon_insensitive"}],placeholder_text:"Select loss"},{type:"number",name:"epsilon",label:"epsilon",required:!1,data:.1,gs_data:"0.1,0.01,0.001"},{type:"radio",name:"warm_start",label:"warm_start",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"average",label:"average",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"number",name:"n_iter",label:"n_iter",required:!1,bo_data:"2,20",data:.21,gs_data:"None,10,20"}],isBOSupported:!0},{algoName:"Huber Regression",fields:[{type:"number",name:"epsilon",label:"epsilon",required:!1,data:1.35},{type:"number",name:"max_iter",label:"max_iter",required:!1,data:100},{type:"number",name:"alpha",label:"alpha",required:!1,data:1e-4},{type:"radio",name:"warm_start",label:"warm_start",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"fit_intercept",label:"fit_intercept",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"number",name:"tol",label:"tol",required:!1,data:.006}],isBOSupported:!0},{algoName:"ARD Regression",fields:[{type:"number",name:"n_iter",label:"n_iter",required:!1,bo_data:"100,500",data:300,gs_data:"100,300,500"},{type:"number",name:"tol",label:"tol",required:!1,bo_data:"0.0001,0.1",data:.049,gs_data:"0.01,0.001,0.0001"},{type:"number",name:"alpha_1",label:"alpha_1",required:!1,bo_data:"0.0,0.1",data:.002,gs_data:"1e-05,1e-06,1e-07"},{type:"number",name:"alpha_2",label:"alpha_2",required:!1,bo_data:"0.0,0.1",data:.002,gs_data:"1e-05,1e-06,1e-07"},{type:"number",name:"lambda_1",label:"lambda_1",required:!1,bo_data:"0.0,0.1",data:.002,gs_data:"1e-05,1e-06,1e-07"},{type:"number",name:"lambda_2",label:"lambda_2",required:!1,bo_data:"0.0,0.1",data:.002,gs_data:"1e-05,1e-06,1e-07"},{type:"number",name:"threshold_lambda",label:"threshold_lambda",required:!1,bo_data:"1000.0,100000.0",data:54.598,gs_data:"1000.0,10000.0,100000.0"},{type:"radio",name:"fit_intercept",label:"fit_intercept",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"compute_score",label:"compute_score",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"normalize",label:"normalize",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"copy_X",label:"copy_X",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]}],isBOSupported:!0},{algoName:"MLP Regression",fields:[{type:"text",name:"hidden_layer_sizes",label:"hidden_layer_sizes",required:!1,bo_data:"50,200",data:100,gs_data:"50,100,200"},{type:"select",name:"activation",label:"activation",required:!0,data:"relu",gs_data:["identity","logistic","tanh","relu"],select_options:[{option_label:"identity",value:"identity"},{option_label:"logistic",value:"logistic"},{option_label:"tanh",value:"tanh"},{option_label:"relu",value:"relu"}],placeholder_text:"Select activation"},{type:"select",name:"learning_rate",label:"learning_rate",required:!0,data:"constant",gs_data:["constant","invscaling","adaptive"],select_options:[{option_label:"constant",value:"constant"},{option_label:"invscaling",value:"invscaling"},{option_label:"adaptive",value:"adaptive"}],placeholder_text:"Select learning_rate"},{type:"select",name:"solver",label:"solver",required:!0,data:"adam",gs_data:["lbfgs","adam"],select_options:[{option_label:"lbfgs",value:"lbfgs"},{option_label:"sgd",value:"sgd"},{option_label:"adam",value:"adam"}],placeholder_text:"Select solver"},{type:"number",name:"beta_1",label:"beta_1",required:!1,bo_data:"0.1,0.9",data:.9,gs_data:"0.9,0.99,0.999"},{type:"number",name:"beta_2",label:"beta_2",required:!1,bo_data:"0.1,0.9",data:.999,gs_data:"0.9,0.99,0.999"},{type:"number",name:"epsilon",label:"epsilon",required:!1,bo_data:"0.1,0.9",data:3e-4,gs_data:"1e-07,1e-08,1e-09"},{type:"number",name:"alpha",label:"alpha",required:!1,bo_data:"0.1,0.9",data:1e-4,gs_data:"0.001,0.0001,0.00001"},{type:"number",name:"learning_rate_init",label:"learning_rate_init",required:!1,bo_data:"0.0,1.0",data:.001,gs_data:"0.01,0.001,0.0001"},{type:"number",name:"power_t",label:"power_t",required:!1,bo_data:"0.0,1.0",data:.5,gs_data:"0.3,0.5,0.7"},{type:"number",name:"max_iter",label:"max_iter",required:!1,bo_data:"200,300",data:200,gs_data:"100,200,500"},{type:"radio",name:"shuffle",label:"shuffle",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"number",name:"tol",label:"tol",required:!1,bo_data:"0.0,0.9",data:.018,gs_data:"0.001,0.0001,0.00001"},{type:"radio",name:"warm_start",label:"warm_start",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"number",name:"momentum",label:"momentum",required:!1,bo_data:"0.1,0.9",data:.9,gs_data:"0.5,0.7,0.9"},{type:"radio",name:"nesterovs_momentum",label:"nesterovs_momentum",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"early_stopping",label:"early_stopping",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"number",name:"validation_fraction",label:"validation_fraction",required:!1,bo_data:"0.0,0.9",data:.1,gs_data:"0.1,0.2,0.3"}],isBOSupported:!0},{algoName:"Kernel Ridge Regression",fields:[{type:"number",name:"alpha",label:"alpha",required:!1,bo_data:"1.0,5.0",data:1,gs_data:"1,3,5"},{type:"select",name:"kernel",label:"kernel",required:!0,data:"linear",gs_data:["linear","poly","rbf","sigmoid"],select_options:[{option_label:"linear",value:"linear"},{option_label:"poly",value:"poly"},{option_label:"rbf",value:"rbf"},{option_label:"sigmoid",value:"sigmoid"}],placeholder_text:"Select kernel"},{type:"text",name:"gamma",label:"gamma",required:!1,bo_data:"0.01,0.1",data:"None",gs_data:"None,0.1,0.01"},{type:"number",name:"degree",label:"degree",required:!1,bo_data:"3,7",data:3,gs_data:"3,5,7"},{type:"number",name:"coef0",label:"coef0",required:!1,bo_data:"0.1,2.0",data:1,gs_data:"0.1,0,1"}],isBOSupported:!0},{algoName:"LassoLARS Regression",fields:[{type:"number",name:"alpha",label:"alpha",required:!1,bo_data:"1.0,5.0",data:1,gs_data:"1.0,3.0,5.0"},{type:"radio",name:"fit_intercept",label:"fit_intercept",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"normalize",label:"normalize",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"select",name:"precompute",label:"precompute",required:!0,data:"auto",gs_data:["auto",!0,!1],select_options:[{option_label:"auto",value:"auto"},{option_label:"True",value:!0},{option_label:"False",value:!1}],placeholder_text:"Select precompute"},{type:"text",name:"max_iter",label:"max_iter",required:!1,bo_data:"100,1000",data:100,gs_data:"100,500,1000"},{type:"text",name:"eps",label:"eps",required:!1,bo_data:"0.0,3.0",data:"2.220446049250313e-16",gs_data:"2.220446049250313e-15,2.220446049250313e-16,2.220446049250313e-17"},{type:"radio",name:"copy_X",label:"copy_X",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"fit_path",label:"fit_path",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"positive",label:"positive",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]}],isBOSupported:!0},{algoName:"Ridge CV Regression",fields:[{type:"text",name:"alphas",label:"alphas",required:!1,bo_data:"0.0001,10.0",data:"0.1, 1.0, 10.0",gs_data:"0.0001,0.001,0.01,0.1,1.0,10.0"},{type:"radio",name:"fit_intercept",label:"fit_intercept",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"normalize",label:"normalize",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"select",name:"gcv_mode",label:"gcv_mode",required:!0,data:"auto",gs_data:["auto","svd","eigen"],select_options:[{option_label:"auto",value:"auto"},{option_label:"svd",value:"svd"},{option_label:"eigen",value:"eigen"}],placeholder_text:"Select gcv_mode",sub_ui_elemets:[]},{type:"text",name:"cv",label:"cv",required:!1,bo_data:"5,10",data:"None",gs_data:"5,7,9"}],isBOSupported:!0},{algoName:"Bayesian Ridge Regression",fields:[{type:"number",name:"n_iter",label:"n_iter",required:!1,bo_data:"100,1000",data:300,gs_data:"100,300,500"},{type:"number",name:"tol",label:"tol",required:!1,bo_data:"0.000001, 0.9",data:.049,gs_data:"0.01,0.001,0.0001"},{type:"number",name:"alpha_1",label:"alpha_1",required:!1,bo_data:"0.000001, 0.9",data:.0024,gs_data:"1e-05,1e-06,1e-07"},{type:"number",name:"alpha_2",label:"alpha_2",required:!1,bo_data:"0.000001, 0.9",data:.0024,gs_data:"1e-05,1e-06,1e-07"},{type:"number",name:"lambda_1",label:"lambda_1",required:!1,bo_data:"0.000001, 0.9",data:.0024,gs_data:"1e-05,1e-06,1e-07"},{type:"number",name:"lambda_2",label:"lambda_2",required:!1,bo_data:"0.000001, 0.9",data:.0024,gs_data:"1e-05,1e-06,1e-07"},{type:"radio",name:"compute_score",label:"compute_score",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"fit_intercept",label:"fit_intercept",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"normalize",label:"normalize",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"copy_X",label:"copy_X",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]}],isBOSupported:!0},{algoName:"TheilSen Regression",fields:[{type:"radio",name:"fit_intercept",label:"fit_intercept",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"copy_X",label:"copy_X",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"number",name:"max_subpopulation",label:"max_subpopulation",required:!1,bo_data:"100.0,10000.0",data:54.598,gs_data:"1000.0,10000.0,100000.0"},{type:"number",name:"max_iter",label:"max_iter",required:!1,bo_data:"100,500",data:300,gs_data:"100,300,500"},{type:"number",name:"tol",label:"tol",required:!1,bo_data:"0.000001, 0.1",data:1e-4,gs_data:"0.01,0.001,0.0001"}],isBOSupported:!0},{algoName:"nuSV Regression",fields:[{type:"number",name:"C",label:"C",required:!1,bo_data:"1,10",data:1,gs_data:"0.001,0.01,0.1"},{type:"number",name:"nu",label:"nu",required:!1,bo_data:"0.3,0.9",data:.5,gs_data:"0.3,0.5,0.7"},{type:"select",name:"kernel",label:"kernel",required:!0,data:"rbf",gs_data:["rbf"],select_options:[{option_label:"linear",value:"linear"},{option_label:"poly",value:"poly"},{option_label:"rbf",value:"rbf"},{option_label:"sigmoid",value:"sigmoid"},{option_label:"precomputed",value:"precomputed"}],placeholder_text:"Select kernel"},{type:"text",name:"gamma",label:"gamma",required:!1,bo_data:"0.1,0.5",data:"auto",gs_data:"scale,0.1,0.3"},{type:"number",name:"degree",label:"degree",required:!1,bo_data:"3,7",data:3,gs_data:"3,5,7"},{type:"number",name:"coef0",label:"coef0",required:!1,bo_data:"0.1,1.0",data:0,gs_data:"0.1,0,1"},{type:"radio",name:"shrinking",label:"shrinking",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"number",name:"tol",label:"tol",required:!1,bo_data:"0.001,0.1",data:.049,gs_data:"1e-1,1e-3,1e-5"}],isBOSupported:!0},{algoName:"Extra Tree Classification",fields:[{type:"select",name:"criterion",label:"criterion",required:!0,data:"gini",gs_data:["gini","entropy"],select_options:[{option_label:"gini",value:"gini"},{option_label:"entropy",value:"entropy"}],placeholder_text:"Select criterion"},{type:"select",name:"splitter",label:"splitter",required:!0,data:"best",gs_data:["best","random"],select_options:[{option_label:"best",value:"best"},{option_label:"random",value:"random"}],placeholder_text:"Select splitter"},{type:"text",name:"max_depth",label:"max_depth",required:!1,bo_data:"3,20",data:"None",gs_data:"1.0,2.0,3.0,4.0,5.0"},{type:"number",name:"min_samples_split",label:"min_samples_split",required:!1,bo_data:"2,9",data:2,gs_data:"0.1,0.2,0.3,0.4,0.5"},{type:"number",name:"min_samples_leaf",label:"min_samples_leaf",required:!1,bo_data:"2,9",data:1,gs_data:"0.1,0.2,0.3,0.4,0.5"},{type:"number",name:"min_weight_fraction_leaf",label:"min_weight_fraction_leaf",required:!1,bo_data:"0,0.5",data:0,gs_data:"0,0.5"},{type:"text",name:"max_features",label:"max_features",required:!1,bo_data:"2,20",data:"None",gs_data:"None,auto,sqrt,log2"},{type:"text",name:"max_leaf_nodes",label:"max_leaf_nodes",required:!1,bo_data:"3,20",data:"None",gs_data:"None,5,10,15"},{type:"number",name:"min_impurity_decrease",label:"min_impurity_decrease",required:!1,bo_data:"0,1",data:0,gs_data:"0,0.1,0.2"}],isBOSupported:!0},{algoName:"Ensemble Extra Trees Classification",fields:[{type:"number",name:"n_estimators",label:"n_estimators",required:!1,bo_data:"10,100",data:10,gs_data:"50,100,200"},{type:"select",name:"criterion",label:"criterion",required:!0,data:"gini",gs_data:["gini","entropy"],select_options:[{option_label:"gini",value:"gini"},{option_label:"entropy",value:"entropy"}],placeholder_text:"Select criterion"},{type:"text",name:"max_features",label:"max_features",required:!1,bo_data:"2,20",data:"auto",gs_data:"None,auto,sqrt,log2"},{type:"text",name:"max_depth",label:"max_depth",required:!1,bo_data:"2,20",data:"None",gs_data:"1.0,2.0,3.0,4.0,5.0"},{type:"number",name:"min_samples_split",label:"min_samples_split",required:!1,bo_data:"2,9",data:2,gs_data:"0.1,0.2,0.3,0.4,0.5"},{type:"number",name:"min_samples_leaf",label:"min_samples_leaf",required:!1,bo_data:"2,9",data:1,gs_data:"0.1,0.2,0.3,0.4,0.5"},{type:"number",name:"min_weight_fraction_leaf",label:"min_weight_fraction_leaf",required:!1,bo_data:"0,0.5",data:0,gs_data:"0,0.5"},{type:"text",name:"max_leaf_nodes",label:"max_leaf_nodes",required:!1,bo_data:"3,20",data:"None",gs_data:"None,5,10,15"},{type:"number",name:"min_impurity_decrease",label:"min_impurity_decrease",required:!1,bo_data:"0,5",data:0,gs_data:"0,0.1,0.2"},{type:"radio",name:"bootstrap",label:"bootstrap",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"oob_score",label:"oob_score",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"warm_start",label:"warm_start",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]}],isBOSupported:!0},{algoName:"Ensemble Extra Trees Classification",fields:[{type:"number",name:"n_estimators",label:"n_estimators",required:!1,bo_data:"10,100",data:10},{type:"text",name:"criterion",label:"criterion",required:!1,data:"gini"},{type:"text",name:"max_features",label:"max_features",required:!1,bo_data:"2,20",data:"auto"},{type:"text",name:"max_depth",label:"max_depth",required:!1,bo_data:"3,20",data:"None"},{type:"number",name:"min_samples_split",label:"min_samples_split",required:!1,bo_data:"2,9",data:2},{type:"number",name:"min_samples_leaf",label:"min_samples_leaf",required:!1,bo_data:"2,9",data:1},{type:"number",name:"min_weight_fraction_leaf",label:"min_weight_fraction_leaf",required:!1,bo_data:"0,0.5",data:0},{type:"text",name:"max_leaf_nodes",label:"max_leaf_nodes",required:!1,bo_data:"3,20",data:"None"},{type:"number",name:"min_impurity_decrease",label:"min_impurity_decrease",required:!1,bo_data:"0,5",data:0},{type:"radio",name:"bootstrap",label:"bootstrap",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"oob_score",label:"oob_score",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"warm_start",label:"warm_start",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"text",name:"class_weight",label:"class_weight",required:!1,data:"None"}],isBOSupported:!0},{algoName:"MLP Classification",fields:[{type:"text",name:"hidden_layer_sizes",label:"hidden_layer_sizes",required:!1,bo_data:"50,200",data:100,gs_data:"50,100,200"},{type:"select",name:"activation",label:"activation",required:!0,data:"relu",gs_data:["relu","tanh","logistic","identity"],select_options:[{option_label:"identity",value:"identity"},{option_label:"logistic",value:"logistic"},{option_label:"tanh",value:"tanh"},{option_label:"relu",value:"relu"}],placeholder_text:"Select activation",sub_ui_elemets:[]},{type:"select",name:"solver",label:"solver",required:!0,data:"adam",gs_data:["lbfgs","sgd","adam"],select_options:[{option_label:"lbfgs",value:"lbfgs"},{option_label:"sgd",value:"sgd"},{option_label:"adam",value:"adam"}],placeholder_text:"Select solver"},{type:"number",name:"beta_1",label:"beta_1",required:!1,bo_data:"0.1,0.9",data:.9,gs_data:"0.9,0.99,0.999"},{type:"number",name:"beta_2",label:"beta_2",required:!1,bo_data:"0.1,0.9",data:.999,gs_data:"0.9,0.99,0.999"},{type:"number",name:"epsilon",label:"epsilon",required:!1,bo_data:"0.1,0.9",data:3e-4,gs_data:"1e-07,1e-08,1e-09"},{type:"number",name:"alpha",label:"alpha",required:!1,bo_data:"0.1,0.9",data:1e-4,gs_data:"0.001,0.0001,0.00001"},{type:"select",name:"learning_rate",label:"learning_rate",required:!0,data:"constant",gs_data:["constant","invscaling","adaptive"],select_options:[{option_label:"constant",value:"constant"},{option_label:"invscaling",value:"invscaling"},{option_label:"adaptive",value:"adaptive"}],placeholder_text:"Select learning_rate",sub_ui_elemets:[]},{type:"number",name:"learning_rate_init",label:"learning_rate_init",required:!1,bo_data:"0.01,1.0",data:.001,gs_data:"0.01,0.001,0.0001"},{type:"number",name:"power_t",label:"power_t",required:!1,bo_data:"0.0,1.0",data:.5,gs_data:"0.3,0.5,0.7"},{type:"number",name:"max_iter",label:"max_iter",required:!1,bo_data:"200,300",data:200,gs_data:"100,200,500"},{type:"radio",name:"shuffle",label:"shuffle",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"number",name:"tol",label:"tol",required:!1,bo_data:"0.1,0.9",data:.018,gs_data:"0.001,0.0001,0.00001"},{type:"radio",name:"warm_start",label:"warm_start",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"number",name:"momentum",label:"momentum",required:!1,bo_data:"0.1,0.9",data:.9,gs_data:"0.5,0.7,0.9"},{type:"radio",name:"nesterovs_momentum",label:"nesterovs_momentum",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"early_stopping",label:"early_stopping",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"number",name:"validation_fraction",label:"validation_fraction",required:!1,bo_data:"0.0,0.9",data:.1,gs_data:" 0.1,0.2,0.3"}],isBOSupported:!0},{algoName:"Nearest Centroid Classification",fields:[{type:"select",name:"metric",label:"metric",required:!0,data:"euclidean",gs_data:["euclidean","manhattan"],select_options:[{option_label:"euclidean",value:"euclidean"},{option_label:"manhattan",value:"manhattan"},{option_label:"minkowski",value:"minkowski"},{option_label:"mahalanobis",value:"mahalanobis"}],placeholder_text:"Select metric",sub_ui_elemets:[]},{type:"text",name:"shrink_threshold",label:"shrink_threshold",required:!1,bo_data:"0.0,0.9",data:"None",gs_data:"0.1,0.3,0.5"}],isBOSupported:!0},{algoName:"Ridge Classification",fields:[{type:"number",name:"alpha",label:"alpha",required:!1,bo_data:"0.0,1.0",data:1,gs_data:"1,3,5"},{type:"radio",name:"fit_intercept",label:"fit_intercept",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"normalize",label:"normalize",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"copy_X",label:"copy_X",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"text",name:"max_iter",label:"max_iter",required:!1,bo_data:"3,20",data:"None",gs_data:"None,5,10"},{type:"number",name:"tol",label:"tol",required:!1,bo_data:"0.0,1.0",data:.001,gs_data:"0.1,0.01,0.001"},{type:"select",name:"solver",label:"solver",required:!0,data:"auto",gs_data:["auto","sparse_cg","cholesky","svd","lsqr","sag","saga"],select_options:[{option_label:"auto",value:"auto"},{option_label:"svd",value:"svd"},{option_label:"cholesky",value:"cholesky"},{option_label:"lsqr",value:"lsqr"},{option_label:"sparse_cg",value:"sparse_cg"},{option_label:"sag",value:"sag"},{option_label:"saga",value:"saga"}],placeholder_text:"Select solver",sub_ui_elemets:[]}],isBOSupported:!0},{algoName:"Ridge Classification with Cross Validation",fields:[{type:"text",name:"alphas",label:"alphas",required:!1,bo_data:"0.0001,10.0",data:"0.1,1.0,10.0",gs_data:"0.0001,0.001,0.01,0.1,1.0,10.0"},{type:"radio",name:"fit_intercept",label:"fit_intercept",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"normalize",label:"normalize",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"text",name:"cv",label:"cv",required:!1,bo_data:"3,9",data:"None",gs_data:"5,7,9"}],isBOSupported:!0},{algoName:"Logistic Regression with Cross Validation",fields:[{type:"number",name:"Cs",label:"Cs",required:!1,bo_data:"1,20",data:10,gs_data:"1,10,100"},{type:"radio",name:"fit_intercept",label:"fit_intercept",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"number",name:"cv",label:"cv",required:!1,bo_data:"3,7",data:3,gs_data:"3,5,7"},{type:"text",name:"penalty",label:"penalty",required:!1,data:"l2",gs_data:"l2"},{type:"number",name:"tol",label:"tol",required:!1,bo_data:"0.0,1.0",data:.001,gs_data:"0.01,0.001,0.0001"},{type:"radio",name:"refit",label:"refit",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]}],isBOSupported:!0},{algoName:"Passive Aggressive Classification",fields:[{type:"number",name:"C",label:"C",required:!1,bo_data:"0.1,1.0",data:1,gs_data:"0.01,0.1,1"},{type:"radio",name:"fit_intercept",label:"fit_intercept",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"number",name:"max_iter",label:"max_iter",required:!1,bo_data:"1000,1500",data:100,gs_data:"100,500,1000"},{type:"number",name:"tol",label:"tol",required:!1,bo_data:"0.1,1.0",data:.001,gs_data:"1e-3,1e-4,1e-5"},{type:"radio",name:"shuffle",label:"shuffle",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"select",name:"loss",label:"loss",required:!0,data:"hinge",gs_data:["hinge","squared_hinge"],select_options:[{option_label:"squared_hinge",value:"squared_hinge"},{option_label:"hinge",value:"hinge"}],placeholder_text:"Select solver",sub_ui_elemets:[]},{type:"radio",name:"warm_start",label:"warm_start",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"text",name:"average",label:"average",required:!1,data:10,gs_data:"True,False,10"},{type:"text",name:"n_iter",label:"n_iter",required:!1,data:"None",gs_data:"None,10,20"}],isBOSupported:!0},{algoName:"Artificial Neural Network Classification",fields:[{type:"select",name:"activation",label:"activation",required:!0,data:"relu",gs_data:["relu"],select_options:[{option_label:"relu",value:"relu"},{option_label:"tanh",value:"tanh"}],placeholder_text:"Select activattion",disable:!0,sub_ui_elemets:[]},{type:"select",name:"kernel_initializer",label:"kernel_initializer",required:!0,data:"uniform",gs_data:["uniform"],select_options:[{option_label:"uniform",value:"uniform"},{option_label:"zeros",value:"zeros"},{option_label:"ones",value:"ones"},{option_label:"constant",value:"constant"},{option_label:"normal",value:"normal"}],placeholder_text:"Select kernel_initializer",disable:!0,sub_ui_elemets:[]},{type:"select",name:"optimizer",label:"optimizer",required:!0,data:"adam",gs_data:["adam"],select_options:[{option_label:"adam",value:"adam"},{option_label:"sgd",value:"sgd"},{option_label:"rmsprop",value:"rmsprop"},{option_label:"adagrad",value:"adagrad"},{option_label:"adadelta",value:"adadelta"},{option_label:"adamax",value:"adamax"},{option_label:"nadam",value:"nadam"}],placeholder_text:"Select optimizer",disable:!0,sub_ui_elemets:[]},{type:"number",name:"learning_rate",label:"learning_rate",required:!1,disable:!0,data:.01},{type:"number",name:"dropout",label:"dropout",required:!1,disable:!0,data:.1},{type:"number",name:"hidden_layers",label:"hidden_layers",required:!1,disable:!0,data:3},{type:"number",name:"epochs",label:"epochs",required:!1,data:100,gs_data:"50,100"},{type:"number",name:"batch_size",label:"batch_size",required:!1,data:32,gs_data:"32,50"}],isBOSupported:!1},{algoName:"Artificial Neural Network Regression",fields:[{type:"select",name:"activation",label:"activation",required:!0,data:"relu",gs_data:["relu"],select_options:[{option_label:"relu",value:"relu"},{option_label:"tanh",value:"tanh"}],placeholder_text:"Select activattion",disable:!0,sub_ui_elemets:[]},{type:"select",name:"kernel_initializer",label:"kernel_initializer",required:!0,data:"uniform",gs_data:["uniform"],select_options:[{option_label:"uniform",value:"uniform"},{option_label:"zeros",value:"zeros"},{option_label:"ones",value:"ones"},{option_label:"constant",value:"constant"},{option_label:"normal",value:"normal"}],placeholder_text:"Select kernel_initializer",disable:!0,sub_ui_elemets:[]},{type:"select",name:"optimizer",label:"optimizer",required:!0,data:"adam",gs_data:["adam"],select_options:[{option_label:"adam",value:"adam"},{option_label:"sgd",value:"sgd"},{option_label:"rmsprop",value:"rmsprop"},{option_label:"adagrad",value:"adagrad"},{option_label:"adadelta",value:"adadelta"},{option_label:"adamax",value:"adamax"},{option_label:"nadam",value:"nadam"}],placeholder_text:"Select optimizer",disable:!0,sub_ui_elemets:[]},{type:"number",name:"learning_rate",label:"learning_rate",required:!1,disable:!0,data:.01},{type:"number",name:"epochs",label:"epochs",required:!1,data:100,gs_data:"50,100"},{type:"number",name:"batch_size",label:"batch_size",required:!1,data:32,gs_data:"32,50"}],isBOSupported:!1},{algoName:"XGBoost Classification",fields:[{type:"number",name:"max_depth",label:"max_depth",required:!1,bo_data:"3,20",data:3,gs_data:"3,4,5"},{type:"number",name:"learning_rate",label:"learning_rate",required:!1,bo_data:"0.1,1.0",data:.1,gs_data:"0.1,0.01,0.001"},{type:"number",name:"n_estimators",label:"n_estimators",required:!1,bo_data:"100,900",data:100,gs_data:"50,100,200"},{type:"radio",name:"silent",label:"silent",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"number",name:"colsample_bytree",label:"colsample_bytree",required:!1,data:1,gs_data:"0.6,0.8,1.0"},{type:"number",name:"gamma",label:"gamma",required:!1,bo_data:"0.0,9.0",data:0,gs_data:"0.5,1,1.5"},{type:"number",name:"subsample",label:"subsample",required:!1,data:1,gs_data:"0.6,0.8,1.0"},{type:"number",name:"reg_alpha",label:"reg_alpha",required:!1,bo_data:"0.1,9.0",data:0,gs_data:"0,1,2"},{type:"number",name:"scale_pos_weight",label:"scale_pos_weight",required:!1,bo_data:"0.1,9.0",data:1,gs_data:"0,1,2"}],isBOSupported:!0},{algoName:"XGBoost Regression",fields:[{type:"number",name:"max_depth",label:"max_depth",required:!1,bo_data:"3,10",data:3,gs_data:"3,4,5"},{type:"number",name:"learning_rate",label:"learning_rate",required:!1,bo_data:"0.000001, 0.9",data:.1,gs_data:"0.1,0.01,0.001"},{type:"number",name:"n_estimators",label:"n_estimators",required:!1,bo_data:"50,500",data:100,gs_data:" 50,100,200"},{type:"radio",name:"silent",label:"silent",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"number",name:"colsample_bytree",label:"colsample_bytree",required:!1,bo_data:"0.0, 1.0",data:1,gs_data:"0.6,0.8,1.0"},{type:"number",name:"gamma",label:"gamma",required:!1,bo_data:"0.1, 2.0",data:0,gs_data:"0.5,1,1.5"},{type:"number",name:"subsample",label:"subsample",required:!1,bo_data:"0.1, 1.0",data:1,gs_data:"0.6,0.8,1.0"},{type:"number",name:"reg_alpha",label:"reg_alpha",required:!1,data:0,gs_data:"0,1,2"},{type:"number",name:"scale_pos_weight",label:"scale_pos_weight",required:!1,bo_data:"0,3",data:1,gs_data:"0,1,2"}],isBOSupported:!0},{algoName:"LightGBM Classification",fields:[{type:"number",name:"learning_rate",label:"learning_rate",required:!1,bo_data:"0.1, 1.0",data:.1,gs_data:"0.01,0.1"},{type:"select",name:"boosting_type",label:"boosting_type",required:!0,data:"gbdt",gs_data:["gbdt"],select_options:[{option_label:"gbdt",value:"gbdt"},{option_label:"dart",value:"dart"},{option_label:"goss",value:"goss"}],placeholder_text:"Select boosting_type",sub_ui_elemets:[]},{type:"number",name:"n_estimators",label:"n_estimators",required:!1,bo_data:"20,900",data:100,gs_data:"50,100,200"},{type:"number",name:"num_leaves",label:"num_leaves",required:!1,bo_data:"3,30",data:31,gs_data:"30,31,32"},{type:"number",name:"max_depth",label:"max_depth",required:!1,bo_data:"3,20",data:1,gs_data:"1,7"},{type:"number",name:"min_data",label:"min_data",required:!1,data:50,gs_data:"50,100"},{type:"number",name:"sub_feature",label:"sub_feature",required:!1,data:.5,gs_data:"0.3,0.5,0.7"}],isBOSupported:!0},{algoName:"LightGBM Regression",fields:[{type:"number",name:"learning_rate",label:"learning_rate",required:!1,bo_data:"0.000001, 0.9",data:.1,gs_data:"0.01,0.1"},{type:"select",name:"boosting_type",label:"boosting_type",required:!0,data:"gbdt",gs_data:["gbdt"],select_options:[{option_label:"gbdt",value:"gbdt"},{option_label:"dart",value:"dart"},{option_label:"goss",value:"goss"}],placeholder_text:"Select boosting_type",sub_ui_elemets:[]},{type:"number",name:"n_estimators",label:"n_estimators",required:!1,bo_data:"50,500",data:100,gs_data:"50,100,200"},{type:"number",name:"num_leaves",label:"num_leaves",required:!1,bo_data:"30,50",data:31,gs_data:"30,31,32"},{type:"number",name:"max_depth",label:"max_depth",required:!1,bo_data:"1,10",data:1,gs_data:"1,7"},{type:"number",name:"min_data",label:"min_data",required:!1,data:50,gs_data:"50,100"},{type:"number",name:"sub_feature",label:"sub_feature",required:!1,data:.5,gs_data:"0.3,0.5,0.7"}],isBOSupported:!0},{algoName:"Arima",fields:[{type:"number",name:"p",label:"p",placeholder_text:"Auto-regressive terms",required:!1,data:1,gs_data:""},{type:"number",name:"d",label:"d",placeholder_text:"Non-seasonal differences",required:!1,data:1,gs_data:""},{type:"number",name:"q",label:"q",placeholder_text:"Moving-Average terms",required:!1,data:1,gs_data:""}],isBOSupported:!1},{algoName:"Arimax",fields:[{type:"number",name:"ar",label:"ar",placeholder_text:"Auto-regressive terms",required:!1,data:1,gs_data:""},{type:"number",name:"ma",label:"ma",placeholder_text:"Non-seasonal differences",required:!1,data:1,gs_data:""},{type:"number",name:"integ",label:"integ",placeholder_text:"Moving-Average terms",required:!1,data:0,gs_data:""}],isBOSupported:!1},{algoName:"Sarimax",fields:[{type:"text",name:"order",label:"order(p,d,q)",placeholder_text:"",required:!1,data:"1,0,0",gs_data:"2,1,1"},{type:"text",name:"seasonal_order",label:"seasonal order(p,d,q,s)",placeholder_text:"",required:!1,data:"0,0,0,0",gs_data:"1,1,1,1"},{type:"radio",name:"enforce_stationarity",label:"enforce_stationarity",required:!1,data:!0,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]},{type:"radio",name:"enforce_invertibility",label:"enforce_invertibility",required:!1,data:!1,radio_btns:[{radio_label:"true",value:!0},{radio_label:"false",value:!1}]}],isBOSupported:!1},{algoName:"DBSCAN",fields:[{type:"number",name:"eps",label:"eps",required:!0,bo_data:"",data:.5,gs_data:""},{type:"number",name:"min_samples",label:"min_samples",required:!0,bo_data:"",data:5,gs_data:""},{type:"number",name:"leaf_size",label:"leaf_size",required:!0,bo_data:"",data:30,gs_data:""},{type:"text",name:"metric",label:"metric",required:!0,bo_data:"",data:"euclidean",gs_data:""},{type:"text",name:"metric_params",label:"metric_params",required:!0,bo_data:"",data:"None",gs_data:""},{type:"text",name:"p",label:"p",required:!0,bo_data:"",data:"None",gs_data:""},{type:"select",name:"algorithm",label:"algorithm",required:!0,data:"auto",select_options:[{option_label:"auto",value:"auto"},{option_label:"ball_tree",value:"ball_tree"},{option_label:"kd_tree",value:"kd_tree"},{option_label:"brute",value:"brute"}]}],isBOSupported:!1},{algoName:"LSTM",fields:[{type:"select",name:"optimizer",label:"optimizer",required:!0,data:"adam",select_options:[{option_label:"adam",value:"adam"},{option_label:"sgd",value:"sgd"},{option_label:"rmsprop",value:"rmsprop"},{option_label:"adagrad",value:"adagrad"},{option_label:"adadelta",value:"adadelta"},{option_label:"adamax",value:"adamax"},{option_label:"nadam",value:"nadam"}],placeholder_text:"Select optimizer",disable:!0,sub_ui_elemets:[]},{type:"number",name:"learning_rate",label:"learning_rate",required:!1,disable:!0,data:.001},{type:"number",name:"dropout",label:"dropout",required:!1,disable:!0,data:.2},{type:"number",name:"hidden_layers",label:"hidden_layers",required:!1,disable:!0,data:3},{type:"number",name:"epochs",label:"epochs",required:!1,data:50,gs_data:"50,100"},{type:"number",name:"batch_size",label:"batch_size",required:!1,data:32,gs_data:"32,50"}],isBOSupported:!1}],getFormFields:function(hptDefaultPref,algorithmName){return hptDefaultPref.filter(function(algoFormData){return algoFormData.algoName==algorithmName})},test:function(){alert("Test")}};return dynamicForm}]);
"use strict";angular.module("app.training").factory("NlpService",[function(){var nlpService={nlpLanguages:["English","Portuguese"],nFeatureCounts:[50,100,150,200]};return nlpService}]);
"use strict";angular.module("app.training").factory("TimeseriesService",function(){var timeseries={};return timeseries.resamplingConstants=[{desc:"Business day frequency",value:"B"},{desc:"Custom business day frequency (experimental)",value:"C"},{desc:"Calendar day frequency",value:"D"},{desc:"Weekly frequency",value:"W"},{desc:"Month end frequency",value:"M"},{desc:"Semi-month end frequency (15th and end of month)",value:"SM"},{desc:"Business month end frequency",value:"BM"},{desc:"Custom business month end frequency",value:"CBM"},{desc:"Month start frequency",value:"MS"},{desc:"Semi-month start frequency (1st and 15th)",value:"SMS"},{desc:"Business month start frequency",value:"BMS"},{desc:"Custom business month start frequency",value:"CBMS"},{desc:"Quarter end frequency",value:"Q"},{desc:"Business quarter end frequency",value:"BQ"},{desc:"Quarter start frequency",value:"QS"},{desc:"Business quarter start frequency",value:"BQS"},{desc:"Hourly frequency",value:"H"},{desc:"Minutely frequency",value:"T"}],timeseries.methodConstants=[{desc:"Backward fill",value:"bfill"},{desc:"Count of values",value:"count"},{desc:"Forward fill",value:"ffill"},{desc:"First valid data value",value:"first"},{desc:"Last valid data value",value:"last"},{desc:"Maximum data value",value:"max"},{desc:"Mean of values in time range",value:"mean"},{desc:"Median of values in time range",value:"median"},{desc:"Minimum data value",value:"min"},{desc:"Number of unique values",value:"nunique"},{desc:"Same as forward fill",value:"pad"},{desc:"Standard deviation of values",value:"std"},{desc:"Sum of values",value:"sum"},{desc:"Variance of values",value:"var"}],timeseries.frequencies=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],timeseries});
"use strict";angular.module("app.training").factory("TrainingService",["$resource",function($resource){function startTraining($resource){return $resource("api/v2/projects/:projectId/trainmodel",{projectId:"@pId"},{update:{method:"PUT"}})}function getAlgorithmList(){return[{name:"Linear Regression",useGPU:!1,type:"regression",multilabel:!1,id:"1simple_linear_regression",url:"https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LinearRegression.html"},{name:"Polynomial Regression",useGPU:!1,type:"regression",multilabel:!1,id:"2polynomial_regression",url:"https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.PolynomialFeatures.html"},{name:"Decision Tree Regression",useGPU:!1,type:"regression",multilabel:!1,id:"4decision_tree_regression",url:"https://scikit-learn.org/stable/auto_examples/tree/plot_tree_regression.html"},{name:"Random Forest Regression",useGPU:!1,type:"regression",multilabel:!1,id:"5random_forest_regression",url:"https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestRegressor.html"},{name:"SGD Regression",useGPU:!1,type:"regression",multilabel:!1,id:"6sgd_egression",url:"https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.SGDRegressor.html"},{name:"Ridge Regression",useGPU:!1,type:"regression",multilabel:!1,id:"7ridge_regression",url:"https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.Ridge.html"},{name:"Lasso Regression",useGPU:!1,type:"regression",multilabel:!1,id:"8lasso_regression",url:"https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.Lasso.html"},{name:"ElasticNet Regression",useGPU:!1,type:"regression",multilabel:!1,id:"9elastic_net_regression",url:"https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.ElasticNet.html"},{name:"Passive Aggressive Regression",useGPU:!1,type:"regression",multilabel:!1,id:"10passive_aggressive_regression",url:"https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.PassiveAggressiveRegressor.html"},{name:"ARD Regression",useGPU:!1,type:"regression",multilabel:!1,id:"12ard_regression",url:"https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.ARDRegression.html"},{name:"MLP Regression",useGPU:!1,type:"regression",multilabel:!1,id:"13mlp_regression",url:"https://scikit-learn.org/stable/modules/generated/sklearn.neural_network.MLPRegressor.html"},{name:"Kernel Ridge Regression",useGPU:!1,type:"regression",multilabel:!1,id:"14kernel_ridge_regression",url:"https://scikit-learn.org/stable/modules/generated/sklearn.kernel_ridge.KernelRidge.html"},{name:"nuSV Regression",useGPU:!1,type:"regression",multilabel:!1,id:"15nusv_regression",url:"https://scikit-learn.org/stable/modules/generated/sklearn.svm.NuSVC.html"},{name:"LassoLARS Regression",useGPU:!1,type:"regression",multilabel:!1,id:"16lasso_lars_regression",url:"https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LassoLars.html"},{name:"Ridge CV Regression",useGPU:!1,type:"regression",multilabel:!1,id:"17ridge_cv_regression",url:"https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.RidgeCV.html"},{name:"Bayesian Ridge Regression",useGPU:!1,type:"regression",multilabel:!1,id:"18bayesian_ridge_regression",url:"https://scikit-learn.org/stable/auto_examples/linear_model/plot_bayesian_ridge.html"},{name:"TheilSen Regression",useGPU:!1,type:"regression",multilabel:!1,id:"19theil_sen_regression",url:"https://scikit-learn.org/stable/auto_examples/linear_model/plot_theilsen.html"},{name:"KNN Classification",driftMetrics:["accuracy","roc","f1_score","log_loss_error"],useGPU:!1,type:"classification",multilabel:!0,id:"20knn_classification",url:"https://scikit-learn.org/stable/modules/generated/sklearn.neighbors.KNeighborsClassifier.html"},{name:"Logistic Regression",driftMetrics:["accuracy","roc","f1_score","log_loss_error"],useGPU:!1,type:"classification",multilabel:!1,id:"22logistic_regression",url:"https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LogisticRegression.html"},{name:"Gaussian NB Classification",driftMetrics:["accuracy","roc","f1_score","log_loss_error"],useGPU:!1,type:"classification",multilabel:!1,id:"23gaussian_nb_classification",url:"https://scikit-learn.org/stable/modules/generated/sklearn.naive_bayes.GaussianNB.html"},{name:"Decision Tree Classification",driftMetrics:["accuracy","roc","f1_score","log_loss_error"],useGPU:!1,type:"classification",multilabel:!0,id:"24decision_tree_classification",url:"https://scikit-learn.org/stable/modules/generated/sklearn.tree.DecisionTreeClassifier.html"},{name:"Random Forest Classification",driftMetrics:["accuracy","roc","f1_score","log_loss_error"],useGPU:!1,type:"classification",multilabel:!0,id:"25random_forest_classification",url:"https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestClassifier.html"},{name:"Extra Tree Classification",driftMetrics:["accuracy","roc","f1_score","log_loss_error"],useGPU:!1,type:"classification",multilabel:!0,id:"26extra_tree_classification",url:"https://scikit-learn.org/stable/modules/generated/sklearn.tree.ExtraTreeClassifier.html"},{name:"Ensemble Extra Trees Classification",driftMetrics:["accuracy","roc","f1_score","log_loss_error"],useGPU:!1,type:"classification",multilabel:!0,id:"27ensemble_extra_trees_classification",url:"https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.ExtraTreesClassifier.html"},{name:"MLP Classification",driftMetrics:["accuracy","roc","f1_score","log_loss_error"],useGPU:!1,type:"classification",multilabel:!0,id:"28mlp_classification",url:"https://scikit-learn.org/stable/modules/generated/sklearn.neural_network.MLPClassifier.html"},{name:"Nearest Centroid Classification",driftMetrics:["accuracy","f1_score","log_loss_error"],useGPU:!1,type:"classification",multilabel:!1,id:"29nearest_centroid_classification",url:"https://scikit-learn.org/stable/modules/generated/sklearn.neighbors.NearestCentroid.html"},{name:"Ridge Classification",driftMetrics:["accuracy","f1_score","log_loss_error"],useGPU:!1,type:"classification",multilabel:!1,id:"30ridge_classification",url:"https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.RidgeClassifier.html"},{name:"Ridge Classification with Cross Validation",driftMetrics:["accuracy","f1_score","log_loss_error"],useGPU:!1,type:"classification",multilabel:!0,id:"31ridge_classification_with_cross_validation",url:"https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.RidgeClassifierCV.html"},{name:"Logistic Regression with Cross Validation",driftMetrics:["accuracy","roc","f1_score","log_loss_error"],useGPU:!1,type:"classification",multilabel:!1,id:"32logistic_regression_with_cross_validation",url:"https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LogisticRegressionCV.html"},{name:"Passive Aggressive Classification",driftMetrics:["accuracy","f1_score","log_loss_error"],useGPU:!1,type:"classification",multilabel:!1,id:"33passive_aggressive_classification",url:"https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.PassiveAggressiveClassifier.html"},{name:"Artificial Neural Network Classification",driftMetrics:["accuracy","roc","f1_score","log_loss_error"],useGPU:!1,type:"classification",multilabel:!1,id:"34artificial_neural_network_classification",url:"https://www.tensorflow.org/api_docs/python/tf/keras/wrappers/scikit_learn/KerasClassifier"},{name:"Artificial Neural Network Regression",useGPU:!1,type:"regression",multilabel:!1,id:"35artificial_neural_network_regression",url:"https://www.tensorflow.org/api_docs/python/tf/keras/wrappers/scikit_learn/KerasRegressor"},{name:"XGBoost Classification",driftMetrics:["accuracy","roc","f1_score","log_loss_error"],useGPU:!1,type:"classification",multilabel:!0,id:"36xgboost_classification",url:"https://xgboost.readthedocs.io/en/latest/python/python_api.html"},{name:"XGBoost Regression",useGPU:!1,type:"regression",multilabel:!1,id:"37xgboost_regression",url:"https://xgboost.readthedocs.io/en/latest/python/python_api.html"},{name:"LightGBM Classification",driftMetrics:["accuracy","roc","f1_score","log_loss_error"],useGPU:!1,type:"classification",multilabel:!0,id:"38lightgbm_classification",url:"https://lightgbm.readthedocs.io/en/latest/Python-Intro.html"},{name:"LightGBM Regression",useGPU:!1,type:"regression",multilabel:!1,id:"39lightgbm_regression",url:"https://lightgbm.readthedocs.io/en/latest/Python-Intro.html"},{name:"Sarimax",useGPU:!1,type:"timeseries",multilabel:!1,id:"40sarimax_timeseries",url:"https://www.statsmodels.org/dev/generated/statsmodels.tsa.statespace.sarimax.SARIMAX.html"},{name:"Prophet",useGPU:!1,type:"timeseries",multilabel:!1,id:"43prophet_timeseries",url:"https://facebook.github.io/prophet/docs/quick_start.html"},{name:"KMeans",useGPU:!1,type:"clustering",multilabel:!1,id:"43kmeans_clustering",url:"https://scikit-learn.org/stable/modules/generated/sklearn.cluster.KMeans.html"},{name:"DBSCAN",useGPU:!1,type:"clustering",multilabel:!1,id:"45dbscan_clustering",url:"https://scikit-learn.org/stable/modules/generated/sklearn.cluster.DBSCAN.html"},{name:"CUML_Logistic Regression",useGPU:!0,type:"classification",multilabel:!1,id:"46cuml_logistic_regression",url:"https://rapidsai.github.io/projects/cuml/en/0.12.0/api.html#logistic-regression"},{name:"CUML_Linear Regression",useGPU:!0,type:"regression",multilabel:!1,id:"47cuml_linear_regression",url:"https://rapidsai.github.io/projects/cuml/en/0.12.0/api.html#linear-regression"},{name:"CUML_Random Forest Regression",useGPU:!0,type:"regression",multilabel:!1,id:"48random_forest_regression",url:"https://rapidsai.github.io/projects/cuml/en/0.12.0/api.html#random-forest"},{name:"CUML_Random Forest Classification",useGPU:!0,type:"classification",multilabel:!1,id:"49random_forest_regression",url:"https://rapidsai.github.io/projects/cuml/en/0.12.0/api.html#random-forest"},{name:"CUML_ARIMA",useGPU:!0,type:"timeseries",multilabel:!1,id:"50arima_timeseries",url:"https://docs.rapids.ai/api/cuml/stable/api.html#arima"},{name:"CUML_KMeans",useGPU:!0,type:"clustering",multilabel:!1,id:"51kmeans_clustering",url:"https://docs.rapids.ai/api/cuml/stable/api.html#k-means-clustering"},{name:"Rapids_XGBoost Classification",useGPU:!0,type:"classification",multilabel:!1,id:"52xgboost_classification",url:"https://xgboost.readthedocs.io/en/latest/python/python_api.html"},{name:"Rapids_XGBoost Regression",useGPU:!0,type:"regression",multilabel:!1,id:"53xgboost_regression",url:"https://xgboost.readthedocs.io/en/latest/python/python_api.html"}]}return this.startTraining=startTraining($resource),this.listTraining=startTraining($resource),this.training=$resource("api/v2/training/:trainingId",{projectId:"@projectId"},{update:{method:"PUT"}}),this.startTimeseriesTraining=$resource("api/v2/projects/:projectId/timeseries/trainmodel",{projectId:"@pId"},{update:{method:"PUT"}}),this.startCulsterTraining=$resource("api/v2/projects/:projectId/clustering/trainmodel",{projectId:"@pId"},{update:{method:"PUT"}}),this.getCorrelation=$resource("api/v2/projects/:projectId/trainmodel/correlation",{projectId:"@pId"},{update:{method:"PUT"}}),this.getScatterGraphData=$resource("api/v2/projects/:projectId/graph/trainmodel/correlation?fname=:featureName&tname=:target",{projectId:"@pId"},{update:{method:"PUT"}}),this.getAlgorithmList=getAlgorithmList(),this.startReTraining=$resource("api/v2/training/:trainingId/models/:modelId/retrain",{trainingId:"@trainingId",modelId:"@modelId"},{update:{method:"PUT"}}),this.startModelTuning=$resource("api/v2/training/:trainingId/model/:modelId/tune",{trainingId:"@trainingId",modelId:"@modelId"},{update:{method:"PUT"}}),this.startNlpPreProcessing=$resource("api/v2/projects/:projectId/nlp/preprocess",{projectId:"@pId"},{update:{method:"PUT"}}),this.findAlgo=function(algorithmName){return getAlgorithmList().filter(function(algorithm){return algorithm.name==algorithmName})[0]},this.startAdvTraining=$resource("api/v2/advtrainmodel/:trainingId/models/:modelId",{trainingId:"@trainingId",modelId:"@modelId"},{update:{method:"PUT"}}),this.doPreprocessing=$resource("api/v2/projects/:projectId/timeseries/preprocessing",{projectId:"@pId"},{update:{method:"PUT"}}),this.doGraphAnalysis=$resource("api/v2/projects/:projectId/timeseries/graphanalysis",{projectId:"@pId"},{update:{method:"PUT"}}),this.getTargetDetails=$resource("api/v2/projects/:projectId/predictive/target_details",{projectId:"@pId"},{update:{method:"PUT"}}),this.calculateFeatureScore=$resource("api/v2/projects/:projectId/predictive/calculate_feature_score",{projectId:"@pId"},{update:{method:"PUT"}}),this.startStationarityTest=$resource("api/v2/projects/:projectId/timeseries/stationarity_test",{projectId:"@projectId"},{update:{method:"PUT"}}),this.calculateSamplingPercentage=$resource("/api/v2/projects/:projectId/training/sampling_percentage",{projectId:"@projectId"},{query:{method:"POST"}}),this.uniqueCategories=$resource("api/v2/training/feature/unique_categories"),this}]);
"use strict";!function(){function translateConfig($translateProvider){$translateProvider.useStaticFilesLoader({prefix:"/i18n/",suffix:".json"}),$translateProvider.preferredLanguage("en"),$translateProvider.useLocalStorage(),$translateProvider.usePostCompiling(!0),$translateProvider.useSanitizeValueStrategy("sanitizeParameters")}angular.module("app.translate").config(translateConfig),translateConfig.$inject=["$translateProvider"]}();
"use strict";!function(){function translateRun($rootScope,$translate){$rootScope.language={listIsOpen:!1,available:{en:"English",es_AR:"Español"},init:function(){var proposedLanguage=$translate.proposedLanguage()||$translate.use(),preferredLanguage=$translate.preferredLanguage();$rootScope.language.selected=$rootScope.language.available[proposedLanguage||preferredLanguage]},set:function(localeId){$translate.use(localeId),$rootScope.language.selected=$rootScope.language.available[localeId],$rootScope.language.listIsOpen=!$rootScope.language.listIsOpen}},$rootScope.language.init()}angular.module("app.translate").run(translateRun),translateRun.$inject=["$rootScope","$translate"]}();
"use strict";
"use strict";!function(){function appRoutes($stateProvider,helper){$stateProvider.state("app.udd-create",{url:"udd/create",title:"Create Flow",templateUrl:"modules/udd/client/views/create-udd.client.view.html",resolve:helper.resolveFor("taginput","oitozero.ngSweetAlert","inputmask","datatables","codemirror","ui.codemirror","codemirror-modes-web","ngWig"),authorization:{allowedRoles:["admin","report_user","developer","super_admin"]}}).state("app.udd-creates",{url:"udd/create/:connectionID",title:"Create Flow",templateUrl:"modules/udd/client/views/create-udd.client.view.html",resolve:helper.resolveFor("taginput","oitozero.ngSweetAlert","inputmask","datatables","codemirror","ui.codemirror","codemirror-modes-web","ngWig"),authorization:{allowedRoles:["admin","report_user","developer","super_admin"]}}).state("app.udd-view",{url:"udd",title:"UDD List",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert"),templateUrl:"modules/udd/client/views/list-udd.client.view.html",authorization:{allowedRoles:["admin","report_user","developer","super_admin"]}}).state("app.udd-edit",{url:"udd/:uddId/edit",title:"Edit UDD",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask"),templateUrl:"modules/udd/client/views/edit-udd.client.view.html",authorization:{allowedRoles:["admin","report_user","developer","super_admin"]}}).state("app.udd-selectDevice",{url:"udd/select",title:"Select Device",templateUrl:"modules/udd/client/views/select-device.client.view.html",resolve:helper.resolveFor("oitozero.ngSweetAlert","datatables"),controller:"UDDController",authorization:{allowedRoles:["admin","report_user","developer","super_admin"]}})}angular.module("app.udd").config(appRoutes),appRoutes.$inject=["$stateProvider","RouteHelpersProvider"]}();
"use strict";angular.module("app.udd").controller("UDDController",["$scope","$state","$stateParams","toaster","UddFlow","SweetAlert","UddExecution","Project","ProjectCore","Socket","DataService","$uibModal","$http",function($scope,$state,$stateParams,toaster,UddFlow,SweetAlert,UddExecution,Project,ProjectCore,Socket,DataService,$uibModal,$http){var vm=this;vm.showLoading=!1,$scope.flowType="interceptor",$scope.logDateRange={date:{startDate:moment().subtract(3,"days").format("L"),endDate:moment().format("L")}},$scope.dataFlowFailed=!1;var elem=document.getElementById("tcontroller");function getNodeRedErrorLog(node_red_errorUrl,startDate,endDate){node_red_errorUrl=startDate&&endDate?"/api/node-red/errorLog/"+node_red_errorUrl+"?startDate="+startDate+"&endDate="+endDate:"/api/node-red/errorLog/"+node_red_errorUrl;$http.get(node_red_errorUrl).success(function(logs){$scope.logList=logs}).error(function(error){console.log(error)})}$scope.isFullscreen=!1,$scope.fullscreenMode=function(){$scope.isFullscreen?(document.exitFullscreen&&document.exitFullscreen(),$scope.isFullscreen=!1):(elem.requestFullscreen&&elem.requestFullscreen(),$scope.isFullscreen=!0)},$scope.flowURL=null,vm.project=ProjectCore.getProject(),$scope.selectedFlow=vm.project.flowId||"No active flow",$scope.iconPath="./modules/udd/client/img/node-red.png",$scope.refresh=function(){var iframe=document.getElementById("myiframe");iframe.src=iframe.src},$scope.schedulerLists=DataService.schedulerList.query(),$scope.schedulerLists.$promise,vm.project._id,$scope.dataList=DataService.dataGroup.query({projectId:vm.project._id}),$scope.dataList.$promise,$scope.validateFlow=function(){return!!window.frames.myiframe.contentDocument.getElementsByClassName("red-ui-header-toolbar")[0].innerHTML.includes("red-ui-deploy-button disabled")},$scope.ngAttrScaleColor=function(){return $stateParams.connectionID||$stateParams.uddId?"display: none!important":"display: block"},$scope.ngAttrScaleColor1=function(){if($stateParams.connectionID||$stateParams.uddId)return"display: block!important";vm.test="display: none!important"},$scope.createFlow=function(){$scope.error=null;var btn_deploy=$("iframe").contents().find("#red-ui-header-button-deploy")[0],flowId=($(this).attr("title"),document.getElementById("myiframe").contentWindow.location.href),position=flowId.lastIndexOf("/"),flowId=flowId.substring(position+1,flowId.length);btn_deploy.click(),($stateParams.connectionID?new UddFlow({flowId:flowId,flowType:"interceptor",projectId:vm.project._id,connectionID:$stateParams.connectionID}):new UddFlow({flowName:this.flowName,flowId:flowId,flowType:"direct",projectId:vm.project._id,scheduleId:this.scheduleId,dataGroupId:this.dataGroupId})).$save(function(response){ga("send","event","UDD Management","UDD Flow Created",!0),$state.go("app.udd-view")},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.getFlowsList=function(){$scope.uddFlows=UddFlow.query({projectId:vm.project._id})},$scope.findOneFlow=function(){$scope.uddFlows=UddFlow.get({uddId:$stateParams.uddId}).$promise.then(function(option){try{$scope.uddFlow=option,$scope.flowURL="/!/#flow/"+option.flowId}catch(e){}})},$scope.createNewFlowUrl=function(){$scope.newflowURL="/!/"},$scope.updateFlow=function(position){if($scope.error=null,!position)return $scope.$broadcast("show-errors-check-validity","uddFlowForm"),!1;var uddFlow=$("iframe").contents().find("#red-ui-header-button-deploy")[0],flowId=($(this).attr("title"),document.getElementById("myiframe").contentWindow.location.href),position=flowId.lastIndexOf("/"),flowId=flowId.substring(position+1,flowId.length);uddFlow.click();uddFlow=$scope.uddFlow;uddFlow.flowId=flowId,uddFlow.$update(function(response){$state.go("app.udd-view")},function(errorResponse){$scope.error=errorResponse.data.code,11e3===errorResponse.data.code&&($scope.error="Flow Name already exists!")})},$scope.deleteFlow=function(uddFlow){SweetAlert.swal({title:"Are you sure?",text:"You will not be able to recover this udd Flow!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete!",closeOnConfirm:!0},function(isConfirm){isConfirm&&(uddFlow?uddFlow.$remove().then(function(success){for(var i in $scope.uddFlows)$scope.uddFlows[i]===uddFlow&&($scope.uddFlows.splice(i,1),ga("send","event","UDD Management","UDD Flow Deleted",!0))},function(err){toaster.pop("error",$scope.app.name,err.statusText,3e3)}):$scope.uddFlow.$remove().then(function(success){$state.go("app.udd-list"),ga("send","event","UDD Management","UDD Flow Deleted",!0)},function(err){toaster.pop("error",$scope.app.name,err.statusText,3e3)}))})},$scope.startFlow=function(uddFlow){$scope.directFlowNameCheck=uddFlow.flowId,UddExecution.startFlow.get({uddId:uddFlow._id,projectId:vm.project._id,dataGroupId:uddFlow.dataGroupId}).$promise.then(function(){toaster.pop("success",$scope.app.name,"Started flow execution.",3e3),vm.showLoading=!1},function(err){vm.showLoading=!1,toaster.pop("error",$scope.app.name,err.statusText,3e3)})},Socket.on("pullData",function(message){"pull_success"==message.status?(toaster.pop("success",$scope.app.name,"Flow execution completed",3e3),$state.go("app.dataset")):(toaster.pop("error",$scope.app.name,message.err_msg,3e3),vm.showLoading=!1)}),Socket.on("nodeRedFlowExecution",function(message){"flow_execution_failed"==message.status&&($scope.dataFlowFailed=!0)}),$scope.$on("$destroy",function(){Socket.removeListener("pullData"),Socket.removeListener("nodeRedFlowExecution")}),$scope.logOpts={startDate:moment().subtract(3,"days").format("L"),endDate:moment().format("L"),applyClass:"btn-success",cancelClass:"btn-danger",locale:{applyLabel:"Apply Filter",fromLabel:"From",format:"MM/DD/YYYY",toLabel:"To",cancelLabel:"Cancel",customRangeLabel:"Custom range"},eventHandlers:{"apply.daterangepicker":function(){var startdate=new Date($scope.logDateRange.date.startDate._d).toISOString(),enddate=new Date($scope.logDateRange.date.endDate._d).toISOString();getNodeRedErrorLog($scope.filterId,startdate,enddate)},"cancel.daterangepicker":function(){var startdate=moment().subtract(3,"days").format("L"),enddate=moment().format("L");getNodeRedErrorLog($scope.filterId,startdate,enddate)}}},$scope.deleteNodeRedLog=function(flowId){$http.delete("/api/node-red/errorLog/"+flowId).success(function(res){$scope.logList=""}).error(function(error){console.log(error)})},$scope.viewNodeRedLogs=function(flowDetails){var modalInstance=$uibModal.open({templateUrl:"viewNodeRedLogs.html",size:"lg",scope:$scope});$scope.cancel=function(){modalInstance.close()},$scope.logDateRange={date:{startDate:moment().subtract(3,"days").format("L"),endDate:moment().format("L")}},$scope.flowName=flowDetails.flowName,$scope.filterId=flowDetails._id,getNodeRedErrorLog(flowDetails._id)}}]).directive("focus",function(){return{link:function(scope,element){element[0].focus()}}});
"use strict";angular.module("app.udd").factory("UddFlow",["$resource",function($resource){return $resource("api/udd/:uddId",{uddId:"@_id"},{update:{method:"PUT"}})}]),angular.module("app.udd").factory("UddExecution",["$resource",function($resource){return this.startFlow=$resource("api/project/:projectId/udd/:uddId/execute",{uddId:"@_id",projectId:"@pId"}),this}]);
"use strict";angular.module("app.usecase").config(["$stateProvider","RouteHelpersProvider",function($stateProvider,helper){$stateProvider.state("app.usecase",{url:"usecase",title:"Usecase",templateUrl:"modules/usecases/client/views/usecase-list.client.view.html",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert"),controller:"UsecaseController as vm",authorization:{allowedRoles:["super_admin"]}}).state("app.usecase-create",{url:"usecase/create",title:"Create Usecase",templateUrl:"modules/usecases/client/views/usecase-create.client.view.html",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert"),controller:"UsecaseController as vm",authorization:{allowedRoles:["super_admin"]}}).state("app.usecase-edit",{url:"usecase/:usecaseId/edit",title:"Edit Usecase",templateUrl:"modules/usecases/client/views/usecase-edit.client.view.html",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert"),controller:"UsecaseController as vm",authorization:{allowedRoles:["super_admin"]}}).state("app.usecase.domain",{url:"usecase/domain",title:"Usecase",templateUrl:"modules/usecases/client/views/domain-list.client.view.html",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert"),controller:"DomainController as vm",authorization:{allowedRoles:["super_admin"]}}).state("app.domain-create",{url:"domain/create",title:"Create Domain",templateUrl:"modules/usecases/client/views/domain-create.client.view.html",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert"),controller:"DomainController as vm",authorization:{allowedRoles:["super_admin"]}}).state("app.domain-edit",{url:"domain/:domainId/edit",title:"Edit Domain",templateUrl:"modules/usecases/client/views/domain-edit.client.view.html",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert"),controller:"DomainController as vm",authorization:{allowedRoles:["super_admin"]}})}]);
"use strict";!function(){function DomainController($scope,$state,toaster,SweetAlert,$stateParams,DomainService){var vm=this;vm.findDomainList=function(){DomainService.createDomain.query().$promise.then(function(domainList){vm.allDomain=domainList})},vm.findDomainList(),vm.createdomain=function(domainInput){domainInput.imgPath="img/"+domainInput.name+".png",new DomainService.createDomain(domainInput).$save(function(resp){toaster.pop("success",$scope.app.name,"Domian created successfully.",3e3),$state.go("home.usecase"),vm.showLoading=!1},function(err){vm.showLoading=!1,toaster.pop("error",$scope.app.name,"Domain already exists!.",3e3)})},vm.findDomain=function(){DomainService.domainDetails.get({domainId:$stateParams.domianId}).$promise.then(function(domainInput){vm.domainInput=domainInput})},vm.updatedomain=function(domain){domain.imgPath="img/"+domain.name+".png",DomainService.domainDetails.update({domainId:$stateParams.domianId,domain:domain}).$promise.then(function(domainInput){toaster.pop("success",$scope.app.name,"Domain updated successfully.",3e3),$state.go("home.usecase")})},vm.deleteDomain=function(domain){SweetAlert.swal({title:"Are you sure?",text:"You will not be able to recover this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete!",closeOnConfirm:!0},function(isConfirm){isConfirm&&DomainService.domainDetails.delete({domainId:domain._id},function(res){vm.allDomain=vm.allDomain.filter(function(item){return item._id!=domain._id}),toaster.pop("success",$scope.app.name,"Domain deleted successfully.",3e3)},function(err){vm.showLoading=!1,toaster.pop("error",$scope.app.name,"Oops!, could not delete domain!.",3e3)})})}}angular.module("app.usecase").controller("DomainController",DomainController),DomainController.$inject=["$scope","$state","toaster","SweetAlert","$stateParams","DomainService"]}();
"use strict";!function(){function UsecaseController($scope,$state,toaster,SweetAlert,UsecaseService,$stateParams,Project,Models,DomainService){var vm=this;vm.showPersona=!1,vm.appStates=[{name:"state1",heading:"Domain",route:"home.usecase.domain-list",active:!1,isVisible:!0,href:$state.href("home.usecase.domain-list")},{name:"state2",heading:"Usecases",route:"home.usecase.usecase-list",active:!1,isVisible:!0,href:$state.href("home.usecase.usecase-list")}],vm.isAccordianOpen=!0,vm.tabSelected=function(route){$state.go(route)},vm.formData={},vm.outcomeList=[{outcome:""}],vm.findDomainList=function(){DomainService.createDomain.query().$promise.then(function(domainList){vm.allDomain=domainList})},vm.findDomainList(),Project.myProject.query(function(res){vm.projectList=res}),vm.onChangeProject=function(projectId){vm.showPersona=!1,Models.getTrainingList.query({projectId:projectId}).$promise.then(function(training){return vm.trainingsList=training,vm.trainingsList})},vm.onChangeTraining=function(trainingId){vm.showPersona=!1,Models.getModelsList.query({trainingId:trainingId}).$promise.then(function(training){return vm.modelsList=training,vm.independentFeature=vm.trainingsList.filter(function(item){return item._id==trainingId}),"timeseries"==vm.independentFeature[0].problemType?vm.independentFeature=[{colName:vm.independentFeature[0].depVariable}]:"clustering"==vm.independentFeature[0].problemType?vm.independentFeature=vm.independentFeature[0].indepVariable:vm.independentFeature=vm.independentFeature[0].indepVariable.concat({colName:vm.independentFeature[0].depVariable}),vm.modelsList})},vm.onChangeModel=function(modelId){vm.modelsList.filter(function(item){return item._id==modelId})[0].hasOwnProperty("idealPersona")?vm.showPersona=!0:vm.showPersona=!1},vm.addOption=function(){vm.outcomeList.push({outcome:""})},vm.removeOption=function(option){vm.outcomeList.splice(vm.outcomeList.indexOf(option),1)},vm.findUsecaseList=function(){UsecaseService.createUsecase.query().$promise.then(function(usecaseList){vm.allUsecase=usecaseList})},vm.createusecase=function(usecaseInput){var form=[];Object.entries(vm.formData).map(function(item){form.push({colName:item[0],description:item[1]})});var outcome=vm.outcomeList.map(function(item){return item.outcome});usecaseInput.outcome=outcome,usecaseInput.dataInfo=form,usecaseInput.usecaseType="default",new UsecaseService.createUsecase(usecaseInput).$save(function(resp){toaster.pop("success",$scope.app.name,"Usecase created successfully.",3e3),$state.go("home.usecase"),vm.showLoading=!1},function(err){vm.showLoading=!1,toaster.pop("error",$scope.app.name,"Could not create usecase!.",3e3)})},vm.deleteUsecase=function(usecase){SweetAlert.swal({title:"Are you sure?",text:"You will not be able to recover this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete!",closeOnConfirm:!0},function(isConfirm){isConfirm&&UsecaseService.usecaseDetails.delete({usecaseId:usecase._id},function(res){vm.allUsecase=vm.allUsecase.filter(function(item){return item._id!=usecase._id}),toaster.pop("success",$scope.app.name,"Usecase deleted successfully.",3e3)},function(err){vm.showLoading=!1,toaster.pop("error",$scope.app.name,"Oops!, could not delete usecase!.",3e3)})})},vm.findUsecase=function(){UsecaseService.usecaseDetails.get({usecaseId:$stateParams.usecaseId}).$promise.then(function(usecaseInput){vm.usecaseInput=usecaseInput;var key,outcome=[];for(key in vm.usecaseInput.outcome)outcome.push({outcome:vm.usecaseInput.outcome[key]});vm.outcomeList=outcome,vm.usecaseInput.projectId=usecaseInput.projectId._id,vm.usecaseInput.trainingId=usecaseInput.trainingId._id,vm.usecaseInput.modelId=usecaseInput.modelId._id,vm.onChangeProject(vm.usecaseInput.projectId),vm.onChangeTraining(vm.usecaseInput.trainingId),setTimeout(function(){vm.onChangeModel(vm.usecaseInput.modelId)},200),vm.formData={},usecaseInput.dataInfo&&usecaseInput.dataInfo.forEach(function(item){vm.formData[item.colName]=item.description})})},vm.updateusecase=function(usecase){var form=[];Object.entries(vm.formData).map(function(item){form.push({colName:item[0],description:item[1]})});var outcome=vm.outcomeList.map(function(item){return item.outcome});usecase.outcome=outcome,usecase.dataInfo=form,UsecaseService.usecaseDetails.update({usecaseId:$stateParams.usecaseId,usecase:usecase}).$promise.then(function(usecaseInput){toaster.pop("success",$scope.app.name,"Usecase updated successfully.",3e3),vm.findUsecaseList(),$state.go("home.usecase")})}}angular.module("app.usecase").controller("UsecaseController",UsecaseController),UsecaseController.$inject=["$scope","$state","toaster","SweetAlert","UsecaseService","$stateParams","Project","Models","DomainService"]}();
"use strict";angular.module("app.usecase").factory("DomainService",["$resource",function($resource){return this.createDomain=$resource("/api/v2/usecase/domain",{},{save:{method:"POST"},query:{isArray:!0,method:"GET"}}),this.domainDetails=$resource("/api/v2/usecase/domain/:domainId",{domainId:"@domainId"},{query:{isArray:!0,method:"GET"},update:{method:"PUT"},delete:{method:"DELETE"}}),this}]);
"use strict";angular.module("app.usecase").factory("UsecaseService",["$resource",function($resource){return this.createUsecase=$resource("/api/v2/usecase",{},{save:{method:"POST"},query:{isArray:!0,method:"GET"}}),this.usecaseDetails=$resource("/api/v2/usecase/:usecaseId",{usecaseId:"@usecaseId"},{query:{isArray:!0,method:"GET"},update:{method:"PUT"},delete:{method:"DELETE"}}),this}]);
"use strict";
"use strict";!function(){function appRoutes($stateProvider,helper){$stateProvider.state("app.user-create",{url:"users/create",title:"Add User",templateUrl:"modules/usermanagement/client/views/create-user.client.view.html",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),authorization:{allowedRoles:["admin","super_admin"]}}).state("app.user-view",{url:"users",title:"User List",resolve:helper.resolveFor("angular-jqcloud","datatables","oitozero.ngSweetAlert"),templateUrl:"modules/usermanagement/client/views/list-user.client.view.html",authorization:{allowedRoles:["admin","super_admin"]}}).state("app.user-edit",{url:"users/:userId/edit",title:"Edit User",resolve:helper.resolveFor("datatables","oitozero.ngSweetAlert","taginput","inputmask","localytics.directives","ui.bootstrap-slider","ngWig","filestyle"),templateUrl:"modules/usermanagement/client/views/edit-user.client.view.html",authorization:{allowedRoles:["admin","super_admin"]}})}angular.module("app.usermanagement").config(appRoutes),appRoutes.$inject=["$stateProvider","RouteHelpersProvider"]}();
"use strict";angular.module("app.usermanagement").controller("UsersController",["$scope","$http","$stateParams","$window","$location","Authentication","toaster","Users","Admin","PasswordValidator","SweetAlert",function($scope,$http,$stateParams,$window,$location,Authentication,toaster,Users,Admin,PasswordValidator,SweetAlert){$scope.authentication=Authentication,$scope.credentials={},$scope.credentials.roles=[],$scope.popoverMsg=PasswordValidator.getPopoverMsg(),$scope.passwordDetails={},$scope.apiTest={data:[{apiName:"get output",count:0,consumed:0},{apiName:"get prediction",count:0,consumed:0}]},$scope.addNewUser=function(){1==$scope.credentials.api?Object.assign($scope.credentials,$scope.apiTest):0==$scope.credentials.api&&delete $scope.credentials.data,$http.post("/api/auth/signup",$scope.credentials).success(function(response){var lUser=$scope.credentials.roles;ga("send","event","User Management","User Created",lUser,!0),$location.path("/home/users")}).error(function(response){$scope.error=response.message})},$scope.find=function(){$scope.users=Admin.query()},$scope.findUser=function(){Admin.get({userId:$stateParams.userId}).$promise.then(function(user){$scope.user=user._doc,user.data[0]?($scope.expression=!0,$scope.apiTest=user.data[0].apis):($scope.expression=!1,$scope.apiTest=$scope.apiTest.data)})},$scope.remove=function(user){$scope.credentials.roles;SweetAlert.swal({title:"Are you sure?",text:"You will not be able to recover this User!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete!",closeOnConfirm:!0},function(isConfirm){if(isConfirm)if(user)for(var i in user.$remove(),$scope.users)$scope.users[i]===user&&$scope.users.splice(i,1);else $scope.user.$remove(function(){$location.path("users")})})},$scope.reset=function(testUser){var user=testUser;SweetAlert.swal({title:"Are you sure?",text:"Reset API Count",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Ok",closeOnConfirm:!0},function(isConfirm){isConfirm&&$http.post("/api/users/resetData",user).success(function(response){$location.path("home/users")})})},$scope.update=function(user){if($scope.error=null,!user)return $scope.$broadcast("show-errors-check-validity","userForm"),!1;user=$scope.user;1==$scope.expression?Object.assign(user,{data:$scope.apiTest}):0==$scope.expression&&delete $scope.apiTest.data,$http.put("/api/users/"+user._id,user).success(function(response){$location.path("home/users")})},$scope.resetUserPassword=function(isValid){if($scope.success=$scope.error=null,!isValid)return $scope.$broadcast("show-errors-check-validity","resetPasswordForm"),!1;$scope.passwordDetails.aid=$scope.authentication.user._id,$scope.passwordDetails.uid=$scope.user._id,$http.post("/api/auth/rba",$scope.passwordDetails).success(function(response){$scope.passwordDetails=null,$scope.successpc=response.message}).error(function(response){$scope.errorpc=response.message})}}]).directive("focus",function(){return{link:function(scope,element){element[0].focus()}}});
"use strict";angular.module("app.usermanagement").factory("Authorization",["$state","Authentication",function($state,Authentication){var loggedIn=!1;function isAllowed(state){if(Authentication.user.roles){loggedIn=!0;for(var i=0;i<state.authorization.allowedRoles.length;i++)for(var j=0;j<Authentication.user.roles.length;j++)if(state.authorization.allowedRoles[i]==Authentication.user.roles[j])return!0;return!1}loggedIn=!1}return{authorized:this.authorized,isAuthorized:function(state){return isAllowed(state?$state.get(state):$state.current)},go:function(fallback){loggedIn?fallback.name?$state.go(fallback.name):$state.go("app.home"):$state.go("page.authentication.signin")}}}]);
"use strict";angular.module("app.reports").config(["$stateProvider","RouteHelpersProvider",function($stateProvider,helper){$stateProvider.state("app.reports",{url:"reports",templateUrl:"modules/userreports/client/views/reports.client.view.html",resolve:helper.resolveFor("datatables","angularFileUpload","taginput","inputmask","angularBootstrapNavTree","localytics.directives","ui.bootstrap-slider","ngWig","filestyle","summernote","ui.select","oitozero.ngSweetAlert"),controller:"ReportsController as vm",authorization:{allowedRoles:["report_user","admin","super_admin","developer"]}})}]);
"use strict";angular.module("app.reports").controller("ReportsController",["$scope","$state","toaster","$uibModal","OutputService","$sce","DTOptionsBuilder","DTColumnBuilder","$stateParams","$q","$http",function($scope,$state,toaster,$uibModal,OutputService,$sce,DTOptionsBuilder,DTColumnBuilder,$stateParams,$q,$http){var ext,image,vm=this;function imageBase(item){OutputService.viewShareReport.query({projectId:item.outputId.projectId,filename:item.outputId.filename,createdBy:item.outputId.createdBy}).$promise.then(function(res){image=res.data,res.file,"pdf"==ext&&document.getElementById("rame").setAttribute("src","data:application/pdf;base64,"+image),"png"==ext&&document.getElementById("reportImage").setAttribute("src","data:image/png;base64,"+image),"jpg"==ext&&document.getElementById("reportImage").setAttribute("src","data:image/jpg;base64,"+image),"tiff"==ext&&document.getElementById("reportImage").setAttribute("src","data:image/tiff;base64,"+image)},function(){})}function getHeadCols(data){return Object.keys(data)}vm.dtColumnsUpldPreview=[],vm.dtInstanceUpldPreview={},OutputService.shareOutputByUser.query().$promise.then(function(res){vm.list=res},function(){}),vm.filediff=function(item){vm.file=item.outputId.filename,ext="",ext=vm.file.substring(vm.file.lastIndexOf(".")+1),vm.test=ext,"EDA"==item.outputType?vm.openEdaReport(item):"pdf"==ext||"png"==ext||"jpg"==ext||"tiff"==ext?vm.openPreview(item):"csv"!=ext&&"xls"!=ext&&"xlsx"!=ext||vm.openFilePreview(item)},vm.openEdaReport=function(item){$scope.contentAdvEda=$sce.trustAsHtml("<div class='text-center'><h3>Generating advanced EDA report...</h3><h6>This may take some time, please wait.</h6></div>");var modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"modules/eda/client/views/pp.html",size:"xl",scope:modalScope});modalScope.cancel=function(){modalInstance.close(modalScope.selected)},$http.get("/api/v2/projects/"+item.outputId.projectId+"/eda/"+item.outputId.edaId+"/advedainfo").then(function(resp){$scope.contentAdvEda=$sce.trustAsHtml(resp.data),vm.showLoading=!1},function(err){$scope.contentAdvEda=$sce.trustAsHtml("<h5 class='text-center'>Oops!, something went wrong while generating advanced EDA report.</h5>"),toaster.pop("error",$scope.app.name,"Oops!, something went wrong while generating advanced EDA report",3e3)})},vm.download=function(){var a;"pdf"==ext&&((a=document.createElement("a")).href="data:application/pdf;base64,"+image,a.download="Report.pdf",a.click()),"png"==ext&&((a=document.createElement("a")).href="data:image/png;base64,"+image,a.download="Report.png",a.click()),"jpg"==ext&&((a=document.createElement("a")).href="data:image/jpg;base64,"+image,a.download="Report.jpg",a.click()),"tiff"==ext&&((a=document.createElement("a")).href="data:image/tiff;base64,"+image,a.download="Report.tiff",a.click()),"csv"==ext&&((a=document.createElement("a")).href="data:application/octet-stream;base64,"+image,a.download="Report.csv",a.click()),"xls"!=ext&&"xlsx"!=ext||((a=document.createElement("a")).href="data:application/vnd.ms-excel;base64,"+image,a.download="Report.xls",a.click())},vm.openPreview=function(item){imageBase(item),vm.data=item;var modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"openPreview.html",size:"lg",scope:modalScope});modalScope.cancel=function(){modalInstance.close(modalScope.selected)}},vm.openFilePreview=function(item){imageBase(vm.data=item),vm.dtColumnsUpldPreview=[],vm.dtInstanceUpldPreview={},vm.featureList=[],vm.showPreviewTable=!1;var modalScope=$scope.$new(),modalInstance=$uibModal.open({templateUrl:"buildDataPreviewTable.html",size:"lg",scope:modalScope});modalScope.cancel=function(){modalInstance.close(modalScope.selected)},modalScope.buildPreviewTable=function(){vm.show=!1,vm.showLoading=!0,OutputService.myFilePreview.query({isDataTypeRequired:!0,projectId:item.outputId.projectId,filename:item.outputId.filename,createdBy:item.outputId.createdBy,outputId:item.outputId._id}).$promise.then(function(response){var head=[];if(vm.dtInstanceUpldPreview.hasOwnProperty("DataTable")){vm.dtInstanceUpldPreview.DataTable.destroy(),vm.dtColumnsUpldPreview.length=0,vm.dtOptionsUpldPreview=DTOptionsBuilder.fromFnPromise(function(){var defer=$q.defer();return defer.resolve(response.preview),defer.promise}).withOption("processing",!0).withOption("deferRender",!0).withPaginationType("full_numbers");for(var head=getHeadCols(response.preview[0]),i=0;i<head.length;i++)vm.dtColumnsUpldPreview.push(DTColumnBuilder.newColumn(head[i]).withTitle(head[i]))}else{vm.featureList.length=0,vm.dtOptionsUpldPreview=DTOptionsBuilder.fromFnPromise(function(){var defer=$q.defer();return defer.resolve(response.preview),defer.promise}).withOption("processing",!0).withOption("lengthChange",!1).withOption("paging",!1).withOption("deferRender",!0);for(head=getHeadCols(response.preview[0]),i=0;i<head.length;i++)vm.dtColumnsUpldPreview.push(DTColumnBuilder.newColumn(head[i]).withTitle(head[i]));vm.edaAutoFeatureList=angular.copy(vm.featureList)}vm.showLoading=!1,vm.showPreviewTable=!0,ga("send","event","Projects","Read uploaded file for preview",!0)},function(errorResponse){vm.showLoading=!1,vm.show=!1,toaster.pop("error",$scope.app.name,"Oops!, something went wrong while generating preview table",3e3)},function(){})},modalScope.buildPreviewTable()}}]);
"use strict";angular.module("app.reports").factory("ReportsService",["$resource",function($resource){return this}]);
"use strict";angular.module("users.admin").run(["Menus",function(Menus){Menus.addSubMenuItem("topbar","admin",{title:"Manage Users",state:"admin.users"})}]);
"use strict";angular.module("users.admin.routes").config(["$stateProvider",function($stateProvider){$stateProvider.state("admin.users",{url:"users",templateUrl:"modules/users/client/views/admin/list-users.client.view.html",controller:"UserListController"}).state("admin.user",{url:"users/:userId",templateUrl:"modules/users/client/views/admin/view-user.client.view.html",controller:"UserController",resolve:{userResolve:["$stateParams","Admin",function($stateParams,Admin){return Admin.get({userId:$stateParams.userId})}]}}).state("admin.user-edit",{url:"users/:userId/edit",templateUrl:"modules/users/client/views/admin/edit-user.client.view.html",controller:"UserController",resolve:{userResolve:["$stateParams","Admin",function($stateParams,Admin){return Admin.get({userId:$stateParams.userId})}]}})}]);
"use strict";angular.module("users").config(["$httpProvider",function($httpProvider){$httpProvider.interceptors.push(["$q","$location","Authentication",function($q,$location,Authentication){return{responseError:function(rejection){return 401===rejection.status&&(Authentication.user=null,$location.path("/page/authentication/signin")),$q.reject(rejection)}}}])}]);
"use strict";angular.module("users").config(["$stateProvider",function($stateProvider){$stateProvider.state("app.settings",{abstract:!0,url:"/settings",templateUrl:"modules/users/client/views/settings/settings.client.view.html"}).state("app.settings.profile",{url:"/profile",templateUrl:"modules/users/client/views/settings/edit-profile.client.view.html"}).state("app.settings.password",{url:"/password",templateUrl:"modules/users/client/views/settings/change-password.client.view.html"}).state("app.settings.accounts",{url:"/accounts",templateUrl:"modules/users/client/views/settings/manage-social-accounts.client.view.html"}).state("app.settings.picture",{url:"/picture",templateUrl:"modules/users/client/views/settings/change-profile-picture.client.view.html"}).state("page.authentication",{abstract:!0,url:"/authentication",templateUrl:"modules/users/client/views/authentication/authentication.client.view.html"}).state("page.authentication.signup",{url:"/signup",templateUrl:"modules/users/client/views/authentication/signup.client.view.html"}).state("page.authentication.signin",{url:"/signin?err",templateUrl:"modules/users/client/views/authentication/signin.client.view.html"}).state("page.password",{abstract:!0,url:"/password",template:"<ui-view/>"}).state("page.password.forgot",{url:"/forgot",templateUrl:"modules/users/client/views/password/forgot-password.client.view.html"}).state("page.password.reset",{abstract:!0,url:"/reset",template:"<ui-view/>"}).state("page.password.reset.invalid",{url:"/invalid",templateUrl:"modules/users/client/views/password/reset-password-invalid.client.view.html"}).state("page.password.reset.success",{url:"/success",templateUrl:"modules/users/client/views/password/reset-password-success.client.view.html"}).state("page.password.reset.form",{url:"/:token",templateUrl:"modules/users/client/views/password/reset-password.client.view.html"})}]);
"use strict";angular.module("users").controller("AuthenticationController",["$scope","$state","$http","$location","$window","Authentication","PasswordValidator","ProjectCore",function($scope,$state,$http,$location,$window,Authentication,PasswordValidator,ProjectCore){$scope.authentication=Authentication,$scope.popoverMsg=PasswordValidator.getPopoverMsg(),$scope.error=$location.search().err,ProjectCore.clearProject(),$scope.authentication.user&&$state.go($state.previous.state.name||"projects",$state.previous.params),$scope.signup=function(isValid){if($scope.error=null,!isValid)return $scope.$broadcast("show-errors-check-validity","userForm"),!1;$http.post("/api/auth/signup",$scope.credentials).success(function(response){$scope.authentication.user=response,$state.go("projects",$state.previous.params)}).error(function(response){$scope.error=response.message})},$scope.signin=function(isValid){if($scope.error=null,!isValid)return $scope.$broadcast("show-errors-check-validity","userForm"),!1;$http.post("/api/auth/signin",$scope.credentials).success(function(response){$scope.authentication.user=response,"report_user"==$scope.authentication.user.roles?$state.go("home.reports",$state.previous.params):"pslite_user"==$scope.authentication.user.roles?$state.go("home.pslite-user",$state.previous.params):$state.go("home.projects",$state.previous.params)}).error(function(response){$scope.error=response.message})},$scope.callOauthProvider=function(url){$state.previous&&$state.previous.href&&(url+="?redirect_to="+encodeURIComponent($state.previous.href)),$window.location.href=url}}]);
"use strict";angular.module("users").controller("PasswordController",["$scope","$stateParams","$http","$location","Authentication","PasswordValidator",function($scope,$stateParams,$http,$location,Authentication,PasswordValidator){$scope.authentication=Authentication,$scope.popoverMsg=PasswordValidator.getPopoverMsg(),$scope.authentication.user&&$location.path("/"),$scope.askForPasswordReset=function(isValid){if($scope.success=$scope.error=null,!isValid)return $scope.$broadcast("show-errors-check-validity","forgotPasswordForm"),!1;$http.post("/api/auth/forgot",$scope.credentials).success(function(response){$scope.credentials=null,$scope.success=response.message}).error(function(response){$scope.credentials=null,$scope.error=response.message})},$scope.resetUserPassword=function(isValid){if($scope.success=$scope.error=null,!isValid)return $scope.$broadcast("show-errors-check-validity","resetPasswordForm"),!1;$http.post("/api/auth/reset/"+$stateParams.token,$scope.passwordDetails).success(function(response){$scope.passwordDetails=null,Authentication.user=response,$location.path("/password/reset/success")}).error(function(response){$scope.error=response.message})}}]);
"use strict";angular.module("users").directive("passwordValidator",["PasswordValidator",function(PasswordValidator){return{require:"ngModel",link:function(scope,element,attrs,ngModel){ngModel.$validators.requirements=function(result){var requirementsIdx,requirementsMeter,status=!0;return result&&(requirementsIdx=0,requirementsMeter=[{color:"danger",progress:"20"},{color:"warning",progress:"40"},{color:"info",progress:"60"},{color:"primary",progress:"80"},{color:"success",progress:"100"}],(result=PasswordValidator.getResult(result)).errors.length<requirementsMeter.length&&(requirementsIdx=requirementsMeter.length-result.errors.length-1),scope.requirementsColor=requirementsMeter[requirementsIdx].color,scope.requirementsProgress=requirementsMeter[requirementsIdx].progress,status=result.errors.length?(scope.popoverMsg=PasswordValidator.getPopoverMsg(),scope.passwordErrors=result.errors,!1):(scope.popoverMsg="",scope.passwordErrors=[],!0)),status}}}}]);
"use strict";angular.module("users").directive("passwordVerify",[function(){return{require:"ngModel",scope:{passwordVerify:"="},link:function(scope,element,attrs,ngModel){scope.$watch(function(){var combined;return(scope.passwordVerify||ngModel)&&(combined=scope.passwordVerify+"_"+ngModel),combined},function(value){value&&(ngModel.$validators.passwordVerify=function(password){return scope.passwordVerify===password})})}}}]);
"use strict";angular.module("users").directive("lowercase",function(){return{require:"ngModel",link:function(scope,element,attrs,modelCtrl){modelCtrl.$parsers.push(function(input){return input?input.toLowerCase():""}),element.css("text-transform","lowercase")}}});
"use strict";angular.module("users").factory("Authentication",["$window",function($window){return{user:$window.user}}]);
"use strict";angular.module("users").factory("PasswordValidator",["$window",function($window){var owaspPasswordStrengthTest=$window.owaspPasswordStrengthTest;return{getResult:function(password){return owaspPasswordStrengthTest.test(password)},getPopoverMsg:function(){return"Please enter a passphrase or password with greater than 10 characters, numbers, lowercase, upppercase, and special characters."}}}]);
"use strict";angular.module("users").factory("Users",["$resource",function($resource){return $resource("api/users",{},{update:{method:"PUT"}})}]),angular.module("users.admin").factory("Admin",["$resource",function($resource){return $resource("api/users/:userId",{userId:"@_id"},{update:{method:"PUT"}})}]);
"use strict";!function(){function animateEnabled($animate){return{link:function(scope,element,attrs){scope.$watch(function(){return scope.$eval(attrs.animateEnabled,scope)},function(newValue){$animate.enabled(!!newValue,element)})},restrict:"A"}}angular.module("app.utils").directive("animateEnabled",animateEnabled),animateEnabled.$inject=["$animate"]}();
"use strict";!function(){function resetKey($state,$localStorage){return{link:function(scope,element){element.on("click",function(e){e.preventDefault(),scope.resetKey?(delete $localStorage[scope.resetKey],$state.go($state.current,{},{reload:!0})):$.error("No storage key specified for reset.")})},restrict:"A",scope:{resetKey:"@"}}}angular.module("app.utils").directive("resetKey",resetKey),resetKey.$inject=["$state","$localStorage"]}();
"use strict";!function(){function toggleFullscreen(Browser){return{link:function(scope,element){Browser.msie?element.addClass("hide"):element.on("click",function(e){e.preventDefault(),screenfull.enabled?(screenfull.toggle(),screenfull.isFullscreen?$(this).children("em").removeClass("fa-expand").addClass("fa-compress"):$(this).children("em").removeClass("fa-compress").addClass("fa-expand")):$.error("Fullscreen not enabled")})},restrict:"A"}}angular.module("app.utils").directive("toggleFullscreen",toggleFullscreen),toggleFullscreen.$inject=["Browser"]}();
"use strict";angular.module("app.utils").directive("loadCss",function(){return{link:function(scope,element,attrs){element.on("click",function(uri){element.is("a")&&uri.preventDefault();uri=attrs.loadCss;uri?function(uri){var linkId="autoloaded-stylesheet",oldLink=$("#"+linkId).attr("id",linkId+"-old");$("head").append($("<link/>").attr({id:linkId,rel:"stylesheet",href:uri})),oldLink.length&&oldLink.remove();return $("#"+linkId)}(uri)||$.error("Error creating stylesheet link element."):$.error("No stylesheet location defined.")})},restrict:"A"}});
"use strict";!function(){function now(dateFilter,$interval){return{link:function(scope,element,attrs){var format=attrs.format;function updateTime(){var dt=dateFilter(new Date,format);element.text(dt)}updateTime();var intervalPromise=$interval(updateTime,1e3);scope.$on("$destroy",function(){$interval.cancel(intervalPromise)})},restrict:"EA"}}angular.module("app.utils").directive("now",now),now.$inject=["dateFilter","$interval"]}();
"use strict";angular.module("app.utils").directive("checkAll",function(){return{link:function(scope,element){element.on("change",function(){var $this=$(this),index=$this.index()+1,checkbox=$this.find('input[type="checkbox"]');$this.parents("table").find("tbody > tr > td:nth-child("+index+') input[type="checkbox"]').prop("checked",checkbox[0].checked)})},restrict:"A"}});
"use strict";!function(){function triggerResize($window,$timeout){return{link:function(scope,element,attributes){element.on("click",function(){$timeout(function(){var evt=document.createEvent("UIEvents");evt.initUIEvent("resize",!0,!1,$window,0),$window.dispatchEvent(evt)},attributes.triggerResize||300)})},restrict:"A"}}angular.module("app.utils").directive("triggerResize",triggerResize),triggerResize.$inject=["$window","$timeout"]}();
"use strict";!function(){function Browser($window){return $window.jQBrowser}angular.module("app.utils").service("Browser",Browser),Browser.$inject=["$window"]}();
"use strict";!function(){function Utils(animationEnd,APP_MEDIAQUERY){var $html=angular.element("html"),$win=angular.element(animationEnd),$body=angular.element("body");return{support:{transition:(animationEnd=function(){var name,element=document.body||document.documentElement,transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(name in transEndEventNames)if(void 0!==element.style[name])return transEndEventNames[name]}())&&{end:animationEnd},animation:(animationEnd=function(){var name,element=document.body||document.documentElement,animEndEventNames={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(name in animEndEventNames)if(void 0!==element.style[name])return animEndEventNames[name]}())&&{end:animationEnd},requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(callback){window.setTimeout(callback,1e3/60)},touch:"ontouchstart"in window&&navigator.userAgent.toLowerCase().match(/mobile|tablet/)||window.DocumentTouch&&document instanceof window.DocumentTouch||window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints||window.navigator.pointerEnabled&&0<window.navigator.maxTouchPoints||!1,mutationobserver:window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver||null},isInView:function(left,options){var $element=$(left);if(!$element.is(":visible"))return!1;var window_left=$win.scrollLeft(),window_top=$win.scrollTop(),top=$element.offset(),left=top.left,top=top.top;return options=$.extend({topoffset:0,leftoffset:0},options),top+$element.height()>=window_top&&top-options.topoffset<=window_top+$win.height()&&left+$element.width()>=window_left&&left-options.leftoffset<=window_left+$win.width()},langdirection:"rtl"===$html.attr("dir")?"right":"left",isTouch:function(){return $html.hasClass("touch")},isSidebarCollapsed:function(){return $body.hasClass("aside-collapsed")||$body.hasClass("aside-collapsed-text")},isSidebarToggled:function(){return $body.hasClass("aside-toggled")},isMobile:function(){return $win.width()<APP_MEDIAQUERY.tablet}}}angular.module("app.utils").service("Utils",Utils),Utils.$inject=["$window","APP_MEDIAQUERY"]}();
"use strict";
"use strict";!function(){function appRoutes($stateProvider,helper){$stateProvider.state("app.widgets",{url:"/widgets",templateUrl:"modules/widgets/client/views/widgets.client.view.html",resolve:helper.resolveFor("loadGoogleMapsJS",function(){return loadGoogleMaps()},"ui.map")})}angular.module("app.widgets").config(appRoutes),appRoutes.$inject=["$stateProvider","RouteHelpersProvider"]}();
"use strict";angular.module("core").factory("authInterceptor",["$q","$injector","ProjectCore",function($q,$injector,ProjectCore){return{responseError:function(rejection){if(!rejection.config.ignoreAuthModule)switch(rejection.status){case 401:$injector.get("$state").transitionTo("authentication.signin");break;case 403:$injector.get("$window").location.href="/"}return $q.reject(rejection)}}}]);
"use strict";angular.module("users.admin").controller("UserListController",["$scope","$filter","Admin",function($scope,$filter,Admin){Admin.query(function(data){$scope.users=data,$scope.buildPager()}),$scope.buildPager=function(){$scope.pagedItems=[],$scope.itemsPerPage=15,$scope.currentPage=1,$scope.figureOutItemsToDisplay()},$scope.figureOutItemsToDisplay=function(){$scope.filteredItems=$filter("filter")($scope.users,{$:$scope.search}),$scope.filterLength=$scope.filteredItems.length;var begin=($scope.currentPage-1)*$scope.itemsPerPage,end=begin+$scope.itemsPerPage;$scope.pagedItems=$scope.filteredItems.slice(begin,end)},$scope.pageChanged=function(){$scope.figureOutItemsToDisplay()}}]);
"use strict";angular.module("users.admin").controller("UserController",["$scope","$state","Authentication","userResolve",function($scope,$state,Authentication,userResolve){$scope.authentication=Authentication,$scope.user=userResolve,$scope.remove=function(user){confirm("Are you sure you want to delete this user?")&&(user?(user.$remove(),$scope.users.splice($scope.users.indexOf(user),1)):$scope.user.$remove(function(){$state.go("admin.users")}))},$scope.update=function(isValid){if(!isValid)return $scope.$broadcast("show-errors-check-validity","userForm"),!1;var user=$scope.user;user.$update(function(){$state.go("admin.user",{userId:user._id})},function(errorResponse){$scope.error=errorResponse.data.message})}}]);
"use strict";angular.module("users").controller("ChangePasswordController",["$scope","$http","Authentication","PasswordValidator",function($scope,$http,Authentication,PasswordValidator){$scope.user=Authentication.user,$scope.popoverMsg=PasswordValidator.getPopoverMsg(),$scope.changeUserPassword=function(isValid){if($scope.success=$scope.error=null,!isValid)return $scope.$broadcast("show-errors-check-validity","passwordForm"),!1;$http.post("/api/users/password",$scope.passwordDetails).success(function(response){$scope.$broadcast("show-errors-reset","passwordForm"),$scope.success=!0,$scope.passwordDetails=null}).error(function(response){$scope.error=response.message})}}]);
"use strict";angular.module("users").controller("ChangeProfilePictureController",["$scope","$timeout","$window","Authentication","FileUploader",function($scope,$timeout,$window,Authentication,FileUploader){$scope.user=Authentication.user,$scope.imageURL=$scope.user.profileImageURL,$scope.uploader=new FileUploader({url:"api/users/picture",alias:"newProfilePicture"}),$scope.uploader.filters.push({name:"imageFilter",fn:function(type){type="|"+type.type.slice(type.type.lastIndexOf("/")+1)+"|";return-1!=="|jpg|png|jpeg|bmp|gif|".indexOf(type)}}),$scope.uploader.onAfterAddingFile=function(fileItem){var fileReader;$window.FileReader&&((fileReader=new FileReader).readAsDataURL(fileItem._file),fileReader.onload=function(fileReaderEvent){$timeout(function(){$scope.imageURL=fileReaderEvent.target.result},0)})},$scope.uploader.onSuccessItem=function(fileItem,response,status,headers){$scope.success=!0,$scope.user=Authentication.user=response,$scope.cancelUpload()},$scope.uploader.onErrorItem=function(fileItem,response,status,headers){$scope.cancelUpload(),$scope.error=response.message},$scope.uploadProfilePicture=function(){$scope.success=$scope.error=null,$scope.uploader.uploadAll()},$scope.cancelUpload=function(){$scope.uploader.clearQueue(),$scope.imageURL=$scope.user.profileImageURL}}]);
"use strict";angular.module("users").controller("EditProfileController",["$scope","$http","$location","Users","Authentication",function($scope,$http,$location,Users,Authentication){$scope.user=Authentication.user,$scope.updateUserProfile=function(isValid){if($scope.success=$scope.error=null,!isValid)return $scope.$broadcast("show-errors-check-validity","userForm"),!1;new Users($scope.user).$update(function(response){$scope.$broadcast("show-errors-reset","userForm"),$scope.success=!0,Authentication.user=response},function(response){$scope.error=response.data.message})}}]);
"use strict";angular.module("users").controller("SocialAccountsController",["$scope","$http","Authentication",function($scope,$http,Authentication){$scope.user=Authentication.user,$scope.hasConnectedAdditionalSocialAccounts=function(provider){for(var i in $scope.user.additionalProvidersData)return!0;return!1},$scope.isConnectedSocialAccount=function(provider){return $scope.user.provider===provider||$scope.user.additionalProvidersData&&$scope.user.additionalProvidersData[provider]},$scope.removeUserSocialAccount=function(provider){$scope.success=$scope.error=null,$http.delete("/api/users/accounts",{params:{provider:provider}}).success(function(response){$scope.success=!0,$scope.user=Authentication.user=response}).error(function(response){$scope.error=response.message})}}]);
"use strict";angular.module("users").controller("SettingsController",["$scope","Authentication",function($scope,Authentication){$scope.user=Authentication.user}]);